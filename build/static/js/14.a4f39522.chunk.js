(window.webpackJsonp=window.webpackJsonp||[]).push([[14],[function(e,t,n){"use strict";e.exports=n(796)},function(e,t,n){"use strict";n.r(t),n.d(t,"__extends",function(){return i}),n.d(t,"__assign",function(){return o}),n.d(t,"__rest",function(){return a}),n.d(t,"__decorate",function(){return s}),n.d(t,"__param",function(){return u}),n.d(t,"__metadata",function(){return c}),n.d(t,"__awaiter",function(){return l}),n.d(t,"__generator",function(){return h}),n.d(t,"__createBinding",function(){return f}),n.d(t,"__exportStar",function(){return d}),n.d(t,"__values",function(){return p}),n.d(t,"__read",function(){return g}),n.d(t,"__spread",function(){return y}),n.d(t,"__spreadArrays",function(){return v}),n.d(t,"__spreadArray",function(){return m}),n.d(t,"__await",function(){return b}),n.d(t,"__asyncGenerator",function(){return _}),n.d(t,"__asyncDelegator",function(){return w}),n.d(t,"__asyncValues",function(){return E}),n.d(t,"__makeTemplateObject",function(){return S}),n.d(t,"__importStar",function(){return O}),n.d(t,"__importDefault",function(){return T}),n.d(t,"__classPrivateFieldGet",function(){return k}),n.d(t,"__classPrivateFieldSet",function(){return I}),n.d(t,"__classPrivateFieldIn",function(){return A});var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function s(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}function u(e,t){return function(n,r){t(n,r,e)}}function c(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,s)}u((r=r.apply(e,t||[])).next())})}function h(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var f=Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&("get"in i?t.__esModule:!i.writable&&!i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]};function d(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||f(t,e,n)}function p(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function g(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function y(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(g(arguments[t]));return e}function v(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}function m(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}function b(e){return this instanceof b?(this.v=e,this):new b(e)}function _(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){i[e]&&(r[e]=function(t){return new Promise(function(n,r){o.push([e,t,n,r])>1||s(e,t)})})}function s(e,t){try{(n=i[e](t)).value instanceof b?Promise.resolve(n.value.v).then(u,c):l(o[0][2],n)}catch(r){l(o[0][3],r)}var n}function u(e){s("next",e)}function c(e){s("throw",e)}function l(e,t){e(t),o.shift(),o.length&&s(o[0][0],o[0][1])}}function w(e){var t,n;return t={},r("next"),r("throw",function(e){throw e}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:b(e[r](t)),done:"return"===r}:i?i(t):t}:i}}function E(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=p(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise(function(r,i){(function(e,t,n,r){Promise.resolve(r).then(function(t){e({value:t,done:n})},t)})(r,i,(t=e[n](t)).done,t.value)})}}}function S(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var C=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t};function O(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&f(t,e,n);return C(t,e),t}function T(e){return e&&e.__esModule?e:{default:e}}function k(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)}function I(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n}function A(e,t){if(null===t||"object"!==typeof t&&"function"!==typeof t)throw new TypeError("Cannot use 'in' operator on non-object");return"function"===typeof e?t===e:e.has(t)}},function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"CONSTANTS",function(){return i}),n.d(t,"Deferred",function(){return p}),n.d(t,"ErrorFactory",function(){return x}),n.d(t,"FirebaseError",function(){return P}),n.d(t,"MAX_VALUE_MILLIS",function(){return he}),n.d(t,"RANDOM_FACTOR",function(){return fe}),n.d(t,"Sha1",function(){return X}),n.d(t,"areCookiesEnabled",function(){return A}),n.d(t,"assert",function(){return o}),n.d(t,"assertionError",function(){return a}),n.d(t,"async",function(){return ee}),n.d(t,"base64",function(){return u}),n.d(t,"base64Decode",function(){return h}),n.d(t,"base64Encode",function(){return c}),n.d(t,"base64urlEncodeWithoutPadding",function(){return l}),n.d(t,"calculateBackoffMillis",function(){return de}),n.d(t,"contains",function(){return V}),n.d(t,"createMockUserToken",function(){return g}),n.d(t,"createSubscribe",function(){return J}),n.d(t,"decode",function(){return j}),n.d(t,"deepCopy",function(){return f}),n.d(t,"deepEqual",function(){return W}),n.d(t,"deepExtend",function(){return d}),n.d(t,"errorPrefix",function(){return re}),n.d(t,"extractQuerystring",function(){return $}),n.d(t,"getGlobal",function(){return N}),n.d(t,"getModularInstance",function(){return ge}),n.d(t,"getUA",function(){return y}),n.d(t,"isAdmin",function(){return B}),n.d(t,"isBrowser",function(){return b}),n.d(t,"isBrowserExtension",function(){return _}),n.d(t,"isElectron",function(){return E}),n.d(t,"isEmpty",function(){return G}),n.d(t,"isIE",function(){return S}),n.d(t,"isIndexedDBAvailable",function(){return k}),n.d(t,"isMobileCordova",function(){return v}),n.d(t,"isNode",function(){return m}),n.d(t,"isNodeSdk",function(){return O}),n.d(t,"isReactNative",function(){return w}),n.d(t,"isSafari",function(){return T}),n.d(t,"isUWP",function(){return C}),n.d(t,"isValidFormat",function(){return H}),n.d(t,"isValidTimestamp",function(){return U}),n.d(t,"issuedAtTime",function(){return F}),n.d(t,"jsonEval",function(){return L}),n.d(t,"map",function(){return z}),n.d(t,"ordinal",function(){return pe}),n.d(t,"querystring",function(){return Y}),n.d(t,"querystringDecode",function(){return Q}),n.d(t,"safeGet",function(){return q}),n.d(t,"stringLength",function(){return ue}),n.d(t,"stringToByteArray",function(){return se}),n.d(t,"stringify",function(){return D}),n.d(t,"validateArgCount",function(){return ne}),n.d(t,"validateCallback",function(){return oe}),n.d(t,"validateContextObject",function(){return ae}),n.d(t,"validateIndexedDBOpenable",function(){return I}),n.d(t,"validateNamespace",function(){return ie});var r=n(1),i={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},o=function(e,t){if(!e)throw a(t)},a=function(e){return new Error("Firebase Database ("+i.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)},s=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},u={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var o=e[i],a=i+1<e.length,s=a?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=o>>2,h=(3&o)<<4|s>>4,f=(15&s)<<2|c>>6,d=63&c;u||(d=64,a||(f=64)),r.push(n[l],n[h],n[f],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(s(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var a=((7&i)<<18|(63&(o=e[n++]))<<12|(63&(s=e[n++]))<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(a>>10)),t[r++]=String.fromCharCode(56320+(1023&a))}else{o=e[n++];var s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var o=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==o||null==a||null==s||null==u)throw Error();var c=o<<2|a>>4;if(r.push(c),64!==s){var l=a<<4&240|s>>2;if(r.push(l),64!==u){var h=s<<6&192|u;r.push(h)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},c=function(e){var t=s(e);return u.encodeByteArray(t,!0)},l=function(e){return c(e).replace(/\./g,"")},h=function(e){try{return u.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function f(e){return d(void 0,e)}function d(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=d(e[n],t[n]));return e}var p=function(){function e(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(t,n){e.resolve=t,e.reject=n})}return e.prototype.wrapCallback=function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch(function(){}),1===e.length?e(n):e(n,r))}},e}();function g(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",i=e.iat||0,o=e.sub||e.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object(r.__assign)({iss:"https://securetoken.google.com/"+n,aud:n,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},e);return[l(JSON.stringify({alg:"none",type:"JWT"})),l(JSON.stringify(a)),""].join(".")}function y(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function v(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(y())}function m(){try{return"[object process]"===Object.prototype.toString.call(e.process)}catch(t){return!1}}function b(){return"object"===typeof self&&self.self===self}function _(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function w(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function E(){return y().indexOf("Electron/")>=0}function S(){var e=y();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function C(){return y().indexOf("MSAppHost/")>=0}function O(){return!0===i.NODE_CLIENT||!0===i.NODE_ADMIN}function T(){return!m()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function k(){return"indexedDB"in self&&null!=indexedDB}function I(){return new Promise(function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(o){t(o)}})}function A(){return!(!navigator||!navigator.cookieEnabled)}function N(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof e)return e;throw new Error("Unable to locate global object.")}var R="FirebaseError",P=function(e){function t(n,r,i){var o=e.call(this,r)||this;return o.code=n,o.customData=i,o.name=R,Object.setPrototypeOf(o,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,x.prototype.create),o}return Object(r.__extends)(t,e),t}(Error),x=function(){function e(e,t,n){this.service=e,this.serviceName=t,this.errors=n}return e.prototype.create=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=t[0]||{},i=this.service+"/"+e,o=this.errors[e],a=o?function(e,t){return e.replace(M,function(e,n){var r=t[n];return null!=r?String(r):"<"+n+"?>"})}(o,r):"Error",s=this.serviceName+": "+a+" ("+i+").";return new P(i,s,r)},e}();var M=/\{\$([^}]+)}/g;function L(e){return JSON.parse(e)}function D(e){return JSON.stringify(e)}var j=function(e){var t={},n={},r={},i="";try{var o=e.split(".");t=L(h(o[0])||""),n=L(h(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(a){}return{header:t,claims:n,data:r,signature:i}},U=function(e){var t=j(e).claims,n=Math.floor((new Date).getTime()/1e3),r=0,i=0;return"object"===typeof t&&(t.hasOwnProperty("nbf")?r=t.nbf:t.hasOwnProperty("iat")&&(r=t.iat),i=t.hasOwnProperty("exp")?t.exp:r+86400),!!n&&!!r&&!!i&&n>=r&&n<=i},F=function(e){var t=j(e).claims;return"object"===typeof t&&t.hasOwnProperty("iat")?t.iat:null},H=function(e){var t=j(e).claims;return!!t&&"object"===typeof t&&t.hasOwnProperty("iat")},B=function(e){var t=j(e).claims;return"object"===typeof t&&!0===t.admin};function V(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function q(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function G(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function z(e,t,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function W(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,o=n;i<o.length;i++){var a=o[i];if(!r.includes(a))return!1;var s=e[a],u=t[a];if(K(s)&&K(u)){if(!W(s,u))return!1}else if(s!==u)return!1}for(var c=0,l=r;c<l.length;c++){a=l[c];if(!n.includes(a))return!1}return!0}function K(e){return null!==e&&"object"===typeof e}function Y(e){for(var t=[],n=function(e,n){Array.isArray(n)?n.forEach(function(n){t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))},r=0,i=Object.entries(e);r<i.length;r++){var o=i[r];n(o[0],o[1])}return t.length?"&"+t.join("&"):""}function Q(e){var t={};return e.replace(/^\?/,"").split("&").forEach(function(e){if(e){var n=e.split("="),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}}),t}function $(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}var X=function(){function e(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}return e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(e,t){t||(t=0);var n=this.W_;if("string"===typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(r=0;r<16;r++)n[r]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}var o,a,s=this.chain_[0],u=this.chain_[1],c=this.chain_[2],l=this.chain_[3],h=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(o=l^u&(c^l),a=1518500249):(o=u^c^l,a=1859775393):r<60?(o=u&c|l&(u|c),a=2400959708):(o=u^c^l,a=3395469782);i=(s<<5|s>>>27)+o+h+a+n[r]&4294967295;h=l,l=c,c=4294967295&(u<<30|u>>>2),u=s,s=i}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+h&4294967295},e.prototype.update=function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<t;){if(0===o)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(i[o]=e.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<t;)if(i[o]=e[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=t}},e.prototype.digest=function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)e[r]=this.chain_[n]>>i&255,++r;return e},e}();function J(e,t){var n=new Z(e,t);return n.subscribe.bind(n)}var Z=function(){function e(e,t){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(function(){e(n)}).catch(function(e){n.error(e)})}return e.prototype.next=function(e){this.forEachObserver(function(t){t.next(e)})},e.prototype.error=function(e){this.forEachObserver(function(t){t.error(e)}),this.close(e)},e.prototype.complete=function(){this.forEachObserver(function(e){e.complete()}),this.close()},e.prototype.subscribe=function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;for(var n=0,r=t;n<r.length;n++){var i=r[n];if(i in e&&"function"===typeof e[i])return!0}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=te),void 0===r.error&&(r.error=te),void 0===r.complete&&(r.complete=te);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}}),this.observers.push(r),o},e.prototype.unsubscribeOne=function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},e.prototype.forEachObserver=function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)},e.prototype.sendOne=function(e,t){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}})},e.prototype.close=function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(function(){t.observers=void 0,t.onNoObservers=void 0}))},e}();function ee(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Promise.resolve(!0).then(function(){e.apply(void 0,n)}).catch(function(e){t&&t(e)})}}function te(){}var ne=function(e,t,n,r){var i;if(r<t?i="at least "+t:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(e+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")};function re(e,t){return e+" failed: "+t+" argument "}function ie(e,t,n){if((!n||t)&&"string"!==typeof t)throw new Error(re(e,"namespace")+"must be a valid firebase namespace.")}function oe(e,t,n,r){if((!r||n)&&"function"!==typeof n)throw new Error(re(e,t)+"must be a valid function.")}function ae(e,t,n,r){if((!r||n)&&("object"!==typeof n||null===n))throw new Error(re(e,t)+"must be a valid context object.")}var se=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);if(i>=55296&&i<=56319){var a=i-55296;o(++r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(a<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},ue=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t},ce=1e3,le=2,he=144e5,fe=.5;function de(e,t,n){void 0===t&&(t=ce),void 0===n&&(n=le);var r=t*Math.pow(n,e),i=Math.round(fe*r*(Math.random()-.5)*2);return Math.min(he,r+i)}function pe(e){return Number.isFinite(e)?e+function(e){var t=(e=Math.abs(e))%100;if(t>=10&&t<=20)return"th";var n=e%10;if(1===n)return"st";if(2===n)return"nd";if(3===n)return"rd";return"th"}(e):""+e}function ge(e){return e&&e._delegate?e._delegate:e}}.call(this,n(90))},function(e,t,n){"use strict";function r(){return(r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}n.d(t,"a",function(){return r})},function(e,t,n){var r=n(14),i=n(55).f,o=n(62),a=n(39),s=n(269),u=n(210),c=n(175);e.exports=function(e,t){var n,l,h,f,d,p=e.target,g=e.global,y=e.stat;if(n=g?r:y?r[p]||s(p,{}):(r[p]||{}).prototype)for(l in t){if(f=t[l],h=e.dontCallGetSet?(d=i(n,l))&&d.value:n[l],!c(g?l:p+(y?".":"#")+l,e.forced)&&void 0!==h){if(typeof f==typeof h)continue;u(f,h)}(e.sham||h&&h.sham)&&o(f,"sham",!0),a(n,l,f,e)}}},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(31);function i(e,t){if(null==e)return{};var n,i,o=Object(r.a)(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}},function(e,t,n){"use strict";function r(e){var t,n,i="";if("string"==typeof e||"number"==typeof e)i+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=r(e[t]))&&(i&&(i+=" "),i+=n);else for(t in e)e[t]&&(i&&(i+=" "),i+=t);return i}t.a=function(){for(var e,t,n=0,i="";n<arguments.length;)(e=arguments[n++])&&(t=r(e))&&(i&&(i+=" "),i+=t);return i}},function(e,t,n){e.exports=n(800)()},function(e,t,n){"use strict";var r=n(3),i=n(496),o=n(148);t.a=function(e,t){return Object(i.a)(e,Object(r.a)({defaultTheme:o.a},t))}},function(e,t){e.exports=function(e){try{return!!e()}catch(t){return!0}}},function(e,t,n){var r=n(172),i=Function.prototype,o=i.bind,a=i.call,s=r&&o.bind(a,a);e.exports=r?function(e){return e&&s(e)}:function(e){return e&&function(){return a.apply(e,arguments)}}},function(e,t,n){"use strict";var r=n(52),i=n(235);function o(e,t){return t&&"string"===typeof t?t.split(".").reduce(function(e,t){return e&&e[t]?e[t]:null},e):null}t.a=function(e){var t=e.prop,n=e.cssProperty,a=void 0===n?e.prop:n,s=e.themeKey,u=e.transform,c=function(e){if(null==e[t])return null;var n=e[t],c=o(e.theme,s)||{};return Object(i.b)(e,n,function(e){var t;return"function"===typeof c?t=c(e):Array.isArray(c)?t=c[e]||e:(t=o(c,e)||e,u&&(t=u(t))),!1===a?t:Object(r.a)({},a,t)})};return c.propTypes={},c.filterProps=[t],c}},function(e,t,n){"use strict";n.r(t),n.d(t,"firebase",function(){return E});var r,i,o=n(1),a=n(2),s=n(35),u=n(34),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new a.ErrorFactory("app","Firebase",c),h="@firebase/app",f="0.6.30",d="[DEFAULT]",p=((i={})[h]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/app-check"]="fire-app-check",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),g=new u.Logger("@firebase/app"),y=function(){function e(e,t,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=t.name,this.automaticDataCollectionEnabled_=t.automaticDataCollectionEnabled||!1,this.options_=Object(a.deepCopy)(e),this.container=new s.ComponentContainer(t.name),this._addComponent(new s.Component("app",function(){return r},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(e){return r._addComponent(e)})}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(e){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),e.prototype.delete=function(){var e=this;return new Promise(function(t){e.checkDestroyed_(),t()}).then(function(){return e.firebase_.INTERNAL.removeApp(e.name_),Promise.all(e.container.getProviders().map(function(e){return e.delete()}))}).then(function(){e.isDeleted_=!0})},e.prototype._getService=function(e,t){var n;void 0===t&&(t=d),this.checkDestroyed_();var r=this.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:t})},e.prototype._removeServiceInstance=function(e,t){void 0===t&&(t=d),this.container.getProvider(e).clearInstance(t)},e.prototype._addComponent=function(e){try{this.container.addComponent(e)}catch(t){g.debug("Component "+e.name+" failed to register with FirebaseApp "+this.name,t)}},e.prototype._addOrOverwriteComponent=function(e){this.container.addOrOverwriteComponent(e)},e.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},e}();y.prototype.name&&y.prototype.options||y.prototype.delete||console.log("dc");var v="8.10.0";var m=function e(){var t=function(e){var t={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){if(void 0===i&&(i={}),"object"!==typeof i||null===i){var o=i;i={name:o}}var s=i;void 0===s.name&&(s.name=d);var u=s.name;if("string"!==typeof u||!u)throw l.create("bad-app-name",{appName:String(u)});if(Object(a.contains)(t,u))throw l.create("duplicate-app",{appName:u});var c=new e(n,s,r);return t[u]=c,c},app:i,registerVersion:function(e,t,n){var r,i=null!==(r=p[e])&&void 0!==r?r:e;n&&(i+="-"+n);var a=i.match(/\s|\//),u=t.match(/\s|\//);if(a||u){var c=['Unable to register library "'+i+'" with version "'+t+'":'];return a&&c.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),a&&u&&c.push("and"),u&&c.push('version name "'+t+'" contains illegal characters (whitespace or "/")'),void g.warn(c.join(" "))}o(new s.Component(i+"-version",function(){return{library:i,version:t}},"VERSION"))},setLogLevel:u.setLogLevel,onLog:function(e,t){if(null!==e&&"function"!==typeof e)throw l.create("invalid-log-argument");Object(u.setUserLogHandler)(e,t)},apps:null,SDK_VERSION:v,INTERNAL:{registerComponent:o,removeApp:function(e){delete t[e]},components:n,useAsService:function(e,t){return"serverAuth"===t?null:t}}};function i(e){if(e=e||d,!Object(a.contains)(t,e))throw l.create("no-app",{appName:e});return t[e]}function o(o){var s=o.name;if(n.has(s))return g.debug("There were multiple attempts to register component "+s+"."),"PUBLIC"===o.type?r[s]:null;if(n.set(s,o),"PUBLIC"===o.type){var u=function(e){if(void 0===e&&(e=i()),"function"!==typeof e[s])throw l.create("invalid-app-argument",{appName:s});return e[s]()};void 0!==o.serviceProps&&Object(a.deepExtend)(u,o.serviceProps),r[s]=u,e.prototype[s]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this._getService.bind(this,s).apply(this,o.multipleInstances?e:[])}}for(var c=0,h=Object.keys(t);c<h.length;c++){var f=h[c];t[f]._addComponent(o)}return"PUBLIC"===o.type?r[s]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(t).map(function(e){return t[e]})}}),i.App=e,r}(y);return t.INTERNAL=Object(o.__assign)(Object(o.__assign)({},t.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){Object(a.deepExtend)(t,e)},createSubscribe:a.createSubscribe,ErrorFactory:a.ErrorFactory,deepExtend:a.deepExtend}),t}(),b=function(){function e(e){this.container=e}return e.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return t.library+"/"+t.version}return null}).filter(function(e){return e}).join(" ")},e}();if(Object(a.isBrowser)()&&void 0!==self.firebase){g.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var _=self.firebase.SDK_VERSION;_&&_.indexOf("LITE")>=0&&g.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var w=m.initializeApp;m.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Object(a.isNode)()&&g.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),w.apply(void 0,e)};var E=m;!function(e,t){e.INTERNAL.registerComponent(new s.Component("platform-logger",function(e){return new b(e)},"PRIVATE")),e.registerVersion(h,f,t),e.registerVersion("fire-js","")}(E),t.default=E},function(e,t,n){"use strict";function r(e){return e.charAt(0).toUpperCase()+e.slice(1)}n.d(t,"a",function(){return r})},function(e,t,n){(function(t){var n=function(e){return e&&e.Math==Math&&e};e.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof t&&t)||function(){return this}()||Function("return this")()}).call(this,n(90))},function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return Ne}),n.d(t,"b",function(){return Le}),n.d(t,"d",function(){return De});var r=n(321),i=n(0),o=n.n(i),a=n(316),s=n.n(a),u=n(465),c=n(466),l=n(324),h=n(64),f=n.n(h);function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var p=function(e,t){for(var n=[e[0]],r=0,i=t.length;r<i;r+=1)n.push(t[r],e[r+1]);return n},g=function(e){return null!==e&&"object"==typeof e&&"[object Object]"===(e.toString?e.toString():Object.prototype.toString.call(e))&&!Object(r.typeOf)(e)},y=Object.freeze([]),v=Object.freeze({});function m(e){return"function"==typeof e}function b(e){return e.displayName||e.name||"Component"}function _(e){return e&&"string"==typeof e.styledComponentId}var w="undefined"!=typeof e&&(Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_SC_ATTR||Object({NODE_ENV:"production",PUBLIC_URL:""}).SC_ATTR)||"data-styled",E="undefined"!=typeof window&&"HTMLElement"in window,S=Boolean("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:"undefined"!=typeof e&&void 0!==Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_SC_DISABLE_SPEEDY&&""!==Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_SC_DISABLE_SPEEDY?"false"!==Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_SC_DISABLE_SPEEDY&&Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_SC_DISABLE_SPEEDY:"undefined"!=typeof e&&void 0!==Object({NODE_ENV:"production",PUBLIC_URL:""}).SC_DISABLE_SPEEDY&&""!==Object({NODE_ENV:"production",PUBLIC_URL:""}).SC_DISABLE_SPEEDY&&("false"!==Object({NODE_ENV:"production",PUBLIC_URL:""}).SC_DISABLE_SPEEDY&&Object({NODE_ENV:"production",PUBLIC_URL:""}).SC_DISABLE_SPEEDY)),C={};function O(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw new Error("An error occurred. See https://git.io/JUIaE#"+e+" for more information."+(n.length>0?" Args: "+n.join(", "):""))}var T=function(){function e(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}var t=e.prototype;return t.indexOfGroup=function(e){for(var t=0,n=0;n<e;n++)t+=this.groupSizes[n];return t},t.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var n=this.groupSizes,r=n.length,i=r;e>=i;)(i<<=1)<0&&O(16,""+e);this.groupSizes=new Uint32Array(i),this.groupSizes.set(n),this.length=i;for(var o=r;o<i;o++)this.groupSizes[o]=0}for(var a=this.indexOfGroup(e+1),s=0,u=t.length;s<u;s++)this.tag.insertRule(a,t[s])&&(this.groupSizes[e]++,a++)},t.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],n=this.indexOfGroup(e),r=n+t;this.groupSizes[e]=0;for(var i=n;i<r;i++)this.tag.deleteRule(n)}},t.getGroup=function(e){var t="";if(e>=this.length||0===this.groupSizes[e])return t;for(var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n,o=r;o<i;o++)t+=this.tag.getRule(o)+"/*!sc*/\n";return t},e}(),k=new Map,I=new Map,A=1,N=function(e){if(k.has(e))return k.get(e);for(;I.has(A);)A++;var t=A++;return k.set(e,t),I.set(t,e),t},R=function(e){return I.get(e)},P=function(e,t){t>=A&&(A=t+1),k.set(e,t),I.set(t,e)},x="style["+w+'][data-styled-version="5.3.5"]',M=new RegExp("^"+w+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),L=function(e,t,n){for(var r,i=n.split(","),o=0,a=i.length;o<a;o++)(r=i[o])&&e.registerName(t,r)},D=function(e,t){for(var n=(t.textContent||"").split("/*!sc*/\n"),r=[],i=0,o=n.length;i<o;i++){var a=n[i].trim();if(a){var s=a.match(M);if(s){var u=0|parseInt(s[1],10),c=s[2];0!==u&&(P(c,u),L(e,c,s[3]),e.getTag().insertRules(u,r)),r.length=0}else r.push(a)}}},j=function(){return"undefined"!=typeof window&&void 0!==window.__webpack_nonce__?window.__webpack_nonce__:null},U=function(e){var t=document.head,n=e||t,r=document.createElement("style"),i=function(e){for(var t=e.childNodes,n=t.length;n>=0;n--){var r=t[n];if(r&&1===r.nodeType&&r.hasAttribute(w))return r}}(n),o=void 0!==i?i.nextSibling:null;r.setAttribute(w,"active"),r.setAttribute("data-styled-version","5.3.5");var a=j();return a&&r.setAttribute("nonce",a),n.insertBefore(r,o),r},F=function(){function e(e){var t=this.element=U(e);t.appendChild(document.createTextNode("")),this.sheet=function(e){if(e.sheet)return e.sheet;for(var t=document.styleSheets,n=0,r=t.length;n<r;n++){var i=t[n];if(i.ownerNode===e)return i}O(17)}(t),this.length=0}var t=e.prototype;return t.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch(e){return!1}},t.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.getRule=function(e){var t=this.sheet.cssRules[e];return void 0!==t&&"string"==typeof t.cssText?t.cssText:""},e}(),H=function(){function e(e){var t=this.element=U(e);this.nodes=t.childNodes,this.length=0}var t=e.prototype;return t.insertRule=function(e,t){if(e<=this.length&&e>=0){var n=document.createTextNode(t),r=this.nodes[e];return this.element.insertBefore(n,r||null),this.length++,!0}return!1},t.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},e}(),B=function(){function e(e){this.rules=[],this.length=0}var t=e.prototype;return t.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},t.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.getRule=function(e){return e<this.length?this.rules[e]:""},e}(),V=E,q={isServer:!E,useCSSOMInjection:!S},G=function(){function e(e,t,n){void 0===e&&(e=v),void 0===t&&(t={}),this.options=d({},q,{},e),this.gs=t,this.names=new Map(n),this.server=!!e.isServer,!this.server&&E&&V&&(V=!1,function(e){for(var t=document.querySelectorAll(x),n=0,r=t.length;n<r;n++){var i=t[n];i&&"active"!==i.getAttribute(w)&&(D(e,i),i.parentNode&&i.parentNode.removeChild(i))}}(this))}e.registerId=function(e){return N(e)};var t=e.prototype;return t.reconstructWithOptions=function(t,n){return void 0===n&&(n=!0),new e(d({},this.options,{},t),this.gs,n&&this.names||void 0)},t.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.getTag=function(){return this.tag||(this.tag=(n=(t=this.options).isServer,r=t.useCSSOMInjection,i=t.target,e=n?new B(i):r?new F(i):new H(i),new T(e)));var e,t,n,r,i},t.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},t.registerName=function(e,t){if(N(e),this.names.has(e))this.names.get(e).add(t);else{var n=new Set;n.add(t),this.names.set(e,n)}},t.insertRules=function(e,t,n){this.registerName(e,t),this.getTag().insertRules(N(e),n)},t.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.clearRules=function(e){this.getTag().clearGroup(N(e)),this.clearNames(e)},t.clearTag=function(){this.tag=void 0},t.toString=function(){return function(e){for(var t=e.getTag(),n=t.length,r="",i=0;i<n;i++){var o=R(i);if(void 0!==o){var a=e.names.get(o),s=t.getGroup(i);if(a&&s&&a.size){var u=w+".g"+i+'[id="'+o+'"]',c="";void 0!==a&&a.forEach(function(e){e.length>0&&(c+=e+",")}),r+=""+s+u+'{content:"'+c+'"}/*!sc*/\n'}}}return r}(this)},e}(),z=/(a)(d)/gi,W=function(e){return String.fromCharCode(e+(e>25?39:97))};function K(e){var t,n="";for(t=Math.abs(e);t>52;t=t/52|0)n=W(t%52)+n;return(W(t%52)+n).replace(z,"$1-$2")}var Y=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},Q=function(e){return Y(5381,e)};function $(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(m(n)&&!_(n))return!1}return!0}var X=Q("5.3.5"),J=function(){function e(e,t,n){this.rules=e,this.staticRulesId="",this.isStatic=(void 0===n||n.isStatic)&&$(e),this.componentId=t,this.baseHash=Y(X,t),this.baseStyle=n,G.registerId(t)}return e.prototype.generateAndInjectStyles=function(e,t,n){var r=this.componentId,i=[];if(this.baseStyle&&i.push(this.baseStyle.generateAndInjectStyles(e,t,n)),this.isStatic&&!n.hash)if(this.staticRulesId&&t.hasNameForId(r,this.staticRulesId))i.push(this.staticRulesId);else{var o=ye(this.rules,e,t,n).join(""),a=K(Y(this.baseHash,o)>>>0);if(!t.hasNameForId(r,a)){var s=n(o,"."+a,void 0,r);t.insertRules(r,a,s)}i.push(a),this.staticRulesId=a}else{for(var u=this.rules.length,c=Y(this.baseHash,n.hash),l="",h=0;h<u;h++){var f=this.rules[h];if("string"==typeof f)l+=f;else if(f){var d=ye(f,e,t,n),p=Array.isArray(d)?d.join(""):d;c=Y(c,p+h),l+=p}}if(l){var g=K(c>>>0);if(!t.hasNameForId(r,g)){var y=n(l,"."+g,void 0,r);t.insertRules(r,g,y)}i.push(g)}}return i.join(" ")},e}(),Z=/^\s*\/\/.*$/gm,ee=[":","[",".","#"];function te(e){var t,n,r,i,o=void 0===e?v:e,a=o.options,s=void 0===a?v:a,c=o.plugins,l=void 0===c?y:c,h=new u.a(s),f=[],d=function(e){function t(t){if(t)try{e(t+"}")}catch(e){}}return function(n,r,i,o,a,s,u,c,l,h){switch(n){case 1:if(0===l&&64===r.charCodeAt(0))return e(r+";"),"";break;case 2:if(0===c)return r+"/*|*/";break;case 3:switch(c){case 102:case 112:return e(i[0]+r),"";default:return r+(0===h?"/*|*/":"")}case-2:r.split("/*|*/}").forEach(t)}}}(function(e){f.push(e)}),p=function(e,r,o){return 0===r&&-1!==ee.indexOf(o[n.length])||o.match(i)?e:"."+t};function g(e,o,a,s){void 0===s&&(s="&");var u=e.replace(Z,""),c=o&&a?a+" "+o+" { "+u+" }":u;return t=s,n=o,r=new RegExp("\\"+n+"\\b","g"),i=new RegExp("(\\"+n+"\\b){2,}"),h(a||!o?"":o,c)}return h.use([].concat(l,[function(e,t,i){2===e&&i.length&&i[0].lastIndexOf(n)>0&&(i[0]=i[0].replace(r,p))},d,function(e){if(-2===e){var t=f;return f=[],t}}])),g.hash=l.length?l.reduce(function(e,t){return t.name||O(15),Y(e,t.name)},5381).toString():"",g}var ne=o.a.createContext(),re=(ne.Consumer,o.a.createContext()),ie=(re.Consumer,new G),oe=te();function ae(){return Object(i.useContext)(ne)||ie}function se(){return Object(i.useContext)(re)||oe}function ue(e){var t=Object(i.useState)(e.stylisPlugins),n=t[0],r=t[1],a=ae(),u=Object(i.useMemo)(function(){var t=a;return e.sheet?t=e.sheet:e.target&&(t=t.reconstructWithOptions({target:e.target},!1)),e.disableCSSOMInjection&&(t=t.reconstructWithOptions({useCSSOMInjection:!1})),t},[e.disableCSSOMInjection,e.sheet,e.target]),c=Object(i.useMemo)(function(){return te({options:{prefix:!e.disableVendorPrefixes},plugins:n})},[e.disableVendorPrefixes,n]);return Object(i.useEffect)(function(){s()(n,e.stylisPlugins)||r(e.stylisPlugins)},[e.stylisPlugins]),o.a.createElement(ne.Provider,{value:u},o.a.createElement(re.Provider,{value:c},e.children))}var ce=function(){function e(e,t){var n=this;this.inject=function(e,t){void 0===t&&(t=oe);var r=n.name+t.hash;e.hasNameForId(n.id,r)||e.insertRules(n.id,r,t(n.rules,r,"@keyframes"))},this.toString=function(){return O(12,String(n.name))},this.name=e,this.id="sc-keyframes-"+e,this.rules=t}return e.prototype.getName=function(e){return void 0===e&&(e=oe),this.name+e.hash},e}(),le=/([A-Z])/,he=/([A-Z])/g,fe=/^ms-/,de=function(e){return"-"+e.toLowerCase()};function pe(e){return le.test(e)?e.replace(he,de).replace(fe,"-ms-"):e}var ge=function(e){return null==e||!1===e||""===e};function ye(e,t,n,r){if(Array.isArray(e)){for(var i,o=[],a=0,s=e.length;a<s;a+=1)""!==(i=ye(e[a],t,n,r))&&(Array.isArray(i)?o.push.apply(o,i):o.push(i));return o}return ge(e)?"":_(e)?"."+e.styledComponentId:m(e)?"function"!=typeof(u=e)||u.prototype&&u.prototype.isReactComponent||!t?e:ye(e(t),t,n,r):e instanceof ce?n?(e.inject(n,r),e.getName(r)):e:g(e)?function e(t,n){var r,i,o=[];for(var a in t)t.hasOwnProperty(a)&&!ge(t[a])&&(Array.isArray(t[a])&&t[a].isCss||m(t[a])?o.push(pe(a)+":",t[a],";"):g(t[a])?o.push.apply(o,e(t[a],a)):o.push(pe(a)+": "+(r=a,null==(i=t[a])||"boolean"==typeof i||""===i?"":"number"!=typeof i||0===i||r in c.a?String(i).trim():i+"px")+";"));return n?[n+" {"].concat(o,["}"]):o}(e):e.toString();var u}var ve=function(e){return Array.isArray(e)&&(e.isCss=!0),e};function me(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return m(e)||g(e)?ve(ye(p(y,[e].concat(n)))):0===n.length&&1===e.length&&"string"==typeof e[0]?e:ve(ye(p(e,n)))}new Set;var be=function(e,t,n){return void 0===n&&(n=v),e.theme!==n.theme&&e.theme||t||n.theme},_e=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,we=/(^-|-$)/g;function Ee(e){return e.replace(_e,"-").replace(we,"")}var Se=function(e){return K(Q(e)>>>0)};function Ce(e){return"string"==typeof e&&!0}var Oe=function(e){return"function"==typeof e||"object"==typeof e&&null!==e&&!Array.isArray(e)},Te=function(e){return"__proto__"!==e&&"constructor"!==e&&"prototype"!==e};function ke(e,t,n){var r=e[n];Oe(t)&&Oe(r)?Ie(r,t):e[n]=t}function Ie(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,o=n;i<o.length;i++){var a=o[i];if(Oe(a))for(var s in a)Te(s)&&ke(e,a[s],s)}return e}var Ae=o.a.createContext();Ae.Consumer;function Ne(e){var t=Object(i.useContext)(Ae),n=Object(i.useMemo)(function(){return function(e,t){return e?m(e)?e(t):Array.isArray(e)||"object"!=typeof e?O(8):t?d({},t,{},e):e:O(14)}(e.theme,t)},[e.theme,t]);return e.children?o.a.createElement(Ae.Provider,{value:n},e.children):null}var Re={};function Pe(e,t,n){var r=_(e),a=!Ce(e),s=t.attrs,u=void 0===s?y:s,c=t.componentId,h=void 0===c?function(e,t){var n="string"!=typeof e?"sc":Ee(e);Re[n]=(Re[n]||0)+1;var r=n+"-"+Se("5.3.5"+n+Re[n]);return t?t+"-"+r:r}(t.displayName,t.parentComponentId):c,p=t.displayName,g=void 0===p?function(e){return Ce(e)?"styled."+e:"Styled("+b(e)+")"}(e):p,w=t.displayName&&t.componentId?Ee(t.displayName)+"-"+t.componentId:t.componentId||h,E=r&&e.attrs?Array.prototype.concat(e.attrs,u).filter(Boolean):u,S=t.shouldForwardProp;r&&e.shouldForwardProp&&(S=t.shouldForwardProp?function(n,r,i){return e.shouldForwardProp(n,r,i)&&t.shouldForwardProp(n,r,i)}:e.shouldForwardProp);var C,O=new J(n,w,r?e.componentStyle:void 0),T=O.isStatic&&0===u.length,k=function(e,t){return function(e,t,n,r){var o=e.attrs,a=e.componentStyle,s=e.defaultProps,u=e.foldedComponentIds,c=e.shouldForwardProp,h=e.styledComponentId,f=e.target,p=function(e,t,n){void 0===e&&(e=v);var r=d({},t,{theme:e}),i={};return n.forEach(function(e){var t,n,o,a=e;for(t in m(a)&&(a=a(r)),a)r[t]=i[t]="className"===t?(n=i[t],o=a[t],n&&o?n+" "+o:n||o):a[t]}),[r,i]}(be(t,Object(i.useContext)(Ae),s)||v,t,o),g=p[0],y=p[1],b=function(e,t,n,r){var i=ae(),o=se();return t?e.generateAndInjectStyles(v,i,o):e.generateAndInjectStyles(n,i,o)}(a,r,g),_=n,w=y.$as||t.$as||y.as||t.as||f,E=Ce(w),S=y!==t?d({},t,{},y):t,C={};for(var O in S)"$"!==O[0]&&"as"!==O&&("forwardedAs"===O?C.as=S[O]:(c?c(O,l.a,w):!E||Object(l.a)(O))&&(C[O]=S[O]));return t.style&&y.style!==t.style&&(C.style=d({},t.style,{},y.style)),C.className=Array.prototype.concat(u,h,b!==h?b:null,t.className,y.className).filter(Boolean).join(" "),C.ref=_,Object(i.createElement)(w,C)}(C,e,t,T)};return k.displayName=g,(C=o.a.forwardRef(k)).attrs=E,C.componentStyle=O,C.displayName=g,C.shouldForwardProp=S,C.foldedComponentIds=r?Array.prototype.concat(e.foldedComponentIds,e.styledComponentId):y,C.styledComponentId=w,C.target=r?e.target:e,C.withComponent=function(e){var r=t.componentId,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(t,["componentId"]),o=r&&r+"-"+(Ce(e)?e:Ee(b(e)));return Pe(e,d({},i,{attrs:E,componentId:o}),n)},Object.defineProperty(C,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(t){this._foldedDefaultProps=r?Ie({},e.defaultProps,t):t}}),C.toString=function(){return"."+C.styledComponentId},a&&f()(C,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),C}var xe=function(e){return function e(t,n,i){if(void 0===i&&(i=v),!Object(r.isValidElementType)(n))return O(1,String(n));var o=function(){return t(n,i,me.apply(void 0,arguments))};return o.withConfig=function(r){return e(t,n,d({},i,{},r))},o.attrs=function(r){return e(t,n,d({},i,{attrs:Array.prototype.concat(i.attrs,r).filter(Boolean)}))},o}(Pe,e)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach(function(e){xe[e]=xe(e)});var Me=function(){function e(e,t){this.rules=e,this.componentId=t,this.isStatic=$(e),G.registerId(this.componentId+1)}var t=e.prototype;return t.createStyles=function(e,t,n,r){var i=r(ye(this.rules,t,n,r).join(""),""),o=this.componentId+e;n.insertRules(o,o,i)},t.removeStyles=function(e,t){t.clearRules(this.componentId+e)},t.renderStyles=function(e,t,n,r){e>2&&G.registerId(this.componentId+e),this.removeStyles(e,n),this.createStyles(e,t,n,r)},e}();function Le(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var a=me.apply(void 0,[e].concat(n)),s="sc-global-"+Se(JSON.stringify(a)),u=new Me(a,s);function c(e){var t=ae(),n=se(),r=Object(i.useContext)(Ae),o=Object(i.useRef)(t.allocateGSInstance(s)).current;return t.server&&l(o,e,t,r,n),Object(i.useLayoutEffect)(function(){if(!t.server)return l(o,e,t,r,n),function(){return u.removeStyles(o,t)}},[o,e,t,r,n]),null}function l(e,t,n,r,i){if(u.isStatic)u.renderStyles(e,C,n,i);else{var o=d({},t,{theme:be(t,r,c.defaultProps)});u.renderStyles(e,o,n,i)}}return o.a.memo(c)}!function(){function e(){var e=this;this._emitSheetCSS=function(){var t=e.instance.toString();if(!t)return"";var n=j();return"<style "+[n&&'nonce="'+n+'"',w+'="true"','data-styled-version="5.3.5"'].filter(Boolean).join(" ")+">"+t+"</style>"},this.getStyleTags=function(){return e.sealed?O(2):e._emitSheetCSS()},this.getStyleElement=function(){var t;if(e.sealed)return O(2);var n=((t={})[w]="",t["data-styled-version"]="5.3.5",t.dangerouslySetInnerHTML={__html:e.instance.toString()},t),r=j();return r&&(n.nonce=r),[o.a.createElement("style",d({},n,{key:"sc-0-0"}))]},this.seal=function(){e.sealed=!0},this.instance=new G({isServer:!0}),this.sealed=!1}var t=e.prototype;t.collectStyles=function(e){return this.sealed?O(2):o.a.createElement(ue,{sheet:this.instance},e)},t.interleaveWithNodeStream=function(e){return O(3)}}();var De=function(e){var t=o.a.forwardRef(function(t,n){var r=Object(i.useContext)(Ae),a=e.defaultProps,s=be(t,r,a);return o.a.createElement(e,d({},t,{theme:s,ref:n}))});return f()(t,e),t.displayName="WithTheme("+b(e)+")",t};t.c=xe}).call(this,n(149))},function(e,t,n){"use strict";function r(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}n.d(t,"a",function(){return r})},function(e,t,n){var r=n(9);e.exports=!r(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})},function(e,t,n){var r=n(21),i=String,o=TypeError;e.exports=function(e){if(r(e))return e;throw o(i(e)+" is not an object")}},function(e,t,n){var r=n(172),i=Function.prototype.call;e.exports=r?i.bind(i):function(){return i.apply(i,arguments)}},function(e,t,n){"use strict";function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(t,e),n)}function i(e){if(e.type)return e;if("#"===e.charAt(0))return i(function(e){e=e.substr(1);var t=new RegExp(".{1,".concat(e.length/3,"}"),"g"),n=e.match(t);return n&&1===n[0].length&&(n=n.map(function(e){return e+e})),n?"rgb(".concat(n.map(function(e){return parseInt(e,16)}).join(", "),")"):""}(e));var t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla"].indexOf(n))throw new Error(["Material-UI: unsupported `".concat(e,"` color."),"We support the following formats: #nnn, #nnnnnn, rgb(), rgba(), hsl(), hsla()."].join("\n"));var r=e.substring(t+1,e.length-1).split(",");return{type:n,values:r=r.map(function(e){return parseFloat(e)})}}function o(e){var t=e.type,n=e.values;return-1!==t.indexOf("rgb")?n=n.map(function(e,t){return t<3?parseInt(e,10):e}):-1!==t.indexOf("hsl")&&(n[1]="".concat(n[1],"%"),n[2]="".concat(n[2],"%")),"".concat(t,"(").concat(n.join(", "),")")}function a(e,t){var n=s(e),r=s(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function s(e){var t="hsl"===(e=i(e)).type?i(function(e){var t=(e=i(e)).values,n=t[0],r=t[1]/100,a=t[2]/100,s=r*Math.min(a,1-a),u=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return a-s*Math.max(Math.min(t-3,9-t,1),-1)},c="rgb",l=[Math.round(255*u(0)),Math.round(255*u(8)),Math.round(255*u(4))];return"hsla"===e.type&&(c+="a",l.push(t[3])),o({type:c,values:l})}(e)).values:e.values;return t=t.map(function(e){return(e/=255)<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)}),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.15;return s(e)>.5?l(e,t):h(e,t)}function c(e,t){return e=i(e),t=r(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),e.values[3]=t,o(e)}function l(e,t){if(e=i(e),t=r(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]*=1-t;return o(e)}function h(e,t){if(e=i(e),t=r(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;return o(e)}n.d(t,"d",function(){return a}),n.d(t,"b",function(){return u}),n.d(t,"c",function(){return c}),n.d(t,"a",function(){return l}),n.d(t,"e",function(){return h})},function(e,t,n){var r=n(23);e.exports=function(e){return"object"==typeof e?null!==e:r(e)}},function(e,t,n){var r=n(14),i=n(152),o=n(26),a=n(153),s=n(151),u=n(338),c=i("wks"),l=r.Symbol,h=l&&l.for,f=u?l:l&&l.withoutSetter||a;e.exports=function(e){if(!o(c,e)||!s&&"string"!=typeof c[e]){var t="Symbol."+e;s&&o(l,e)?c[e]=l[e]:c[e]=u&&h?h(t):f(t)}return c[e]}},function(e,t){e.exports=function(e){return"function"==typeof e}},function(e,t,n){var r=n(106),i=String;e.exports=function(e){if("Symbol"===r(e))throw TypeError("Cannot convert a Symbol value to a string");return i(e)}},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(166);function i(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Object(r.a)(e,t)}},function(e,t,n){var r=n(10),i=n(32),o=r({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return o(i(e),t)}},function(e,t,n){"use strict";var r,i,o,a=n(285),s=n(17),u=n(14),c=n(23),l=n(21),h=n(26),f=n(106),d=n(128),p=n(62),g=n(39),y=n(33).f,v=n(78),m=n(80),b=n(92),_=n(22),w=n(153),E=n(46),S=E.enforce,C=E.get,O=u.Int8Array,T=O&&O.prototype,k=u.Uint8ClampedArray,I=k&&k.prototype,A=O&&m(O),N=T&&m(T),R=Object.prototype,P=u.TypeError,x=_("toStringTag"),M=w("TYPED_ARRAY_TAG"),L=a&&!!b&&"Opera"!==f(u.opera),D=!1,j={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},U={BigInt64Array:8,BigUint64Array:8},F=function(e){if(!l(e))return!1;var t=f(e);return h(j,t)||h(U,t)};for(r in j)(o=(i=u[r])&&i.prototype)?S(o).TypedArrayConstructor=i:L=!1;for(r in U)(o=(i=u[r])&&i.prototype)&&(S(o).TypedArrayConstructor=i);if((!L||!c(A)||A===Function.prototype)&&(A=function(){throw P("Incorrect invocation")},L))for(r in j)u[r]&&b(u[r],A);if((!L||!N||N===R)&&(N=A.prototype,L))for(r in j)u[r]&&b(u[r].prototype,N);if(L&&m(I)!==N&&b(I,N),s&&!h(N,x))for(r in D=!0,y(N,x,{get:function(){return l(this)?this[M]:void 0}}),j)u[r]&&p(u[r],M,r);e.exports={NATIVE_ARRAY_BUFFER_VIEWS:L,TYPED_ARRAY_TAG:D&&M,aTypedArray:function(e){if(F(e))return e;throw P("Target is not a typed array")},aTypedArrayConstructor:function(e){if(c(e)&&(!b||v(A,e)))return e;throw P(d(e)+" is not a typed array constructor")},exportTypedArrayMethod:function(e,t,n,r){if(s){if(n)for(var i in j){var o=u[i];if(o&&h(o.prototype,e))try{delete o.prototype[e]}catch(a){try{o.prototype[e]=t}catch(c){}}}N[e]&&!n||g(N,e,n?t:L&&T[e]||t,r)}},exportTypedArrayStaticMethod:function(e,t,n){var r,i;if(s){if(b){if(n)for(r in j)if((i=u[r])&&h(i,e))try{delete i[e]}catch(o){}if(A[e]&&!n)return;try{return g(A,e,n?t:L&&A[e]||t)}catch(o){}}for(r in j)!(i=u[r])||i[e]&&!n||g(i,e,t)}},getTypedArrayConstructor:function e(t){var n=m(t);if(l(n)){var r=C(n);return r&&h(r,"TypedArrayConstructor")?r.TypedArrayConstructor:e(n)}},isView:function(e){if(!l(e))return!1;var t=f(e);return"DataView"===t||h(j,t)||h(U,t)},isTypedArray:F,TypedArray:A,TypedArrayPrototype:N}},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(0),i=n(120);function o(e,t){return r.useMemo(function(){return null==e&&null==t?null:function(n){Object(i.a)(e,n),Object(i.a)(t,n)}},[e,t])}},,function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(797)},function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}n.d(t,"a",function(){return r})},function(e,t,n){var r=n(48),i=Object;e.exports=function(e){return i(r(e))}},function(e,t,n){var r=n(17),i=n(340),o=n(341),a=n(18),s=n(113),u=TypeError,c=Object.defineProperty,l=Object.getOwnPropertyDescriptor;t.f=r?o?function(e,t,n){if(a(e),t=s(t),a(n),"function"===typeof e&&"prototype"===t&&"value"in n&&"writable"in n&&!n.writable){var r=l(e,t);r&&r.writable&&(e[t]=n.value,n={configurable:"configurable"in n?n.configurable:r.configurable,enumerable:"enumerable"in n?n.enumerable:r.enumerable,writable:!1})}return c(e,t,n)}:c:function(e,t,n){if(a(e),t=s(t),a(n),i)try{return c(e,t,n)}catch(r){}if("get"in n||"set"in n)throw u("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){"use strict";function r(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}var i;n.r(t),n.d(t,"LogLevel",function(){return o}),n.d(t,"Logger",function(){return h}),n.d(t,"setLogLevel",function(){return f}),n.d(t,"setUserLogHandler",function(){return d});var o,a=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(o||(o={}));var s={debug:o.DEBUG,verbose:o.VERBOSE,info:o.INFO,warn:o.WARN,error:o.ERROR,silent:o.SILENT},u=o.INFO,c=((i={})[o.DEBUG]="log",i[o.VERBOSE]="log",i[o.INFO]="info",i[o.WARN]="warn",i[o.ERROR]="error",i),l=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(t<e.logLevel)){var o=(new Date).toISOString(),a=c[t];if(!a)throw new Error("Attempted to log a message with an invalid logType (value: "+t+")");console[a].apply(console,r(["["+o+"]  "+e.name+":"],n))}},h=function(){function e(e){this.name=e,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,a.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in o))throw new TypeError('Invalid value "'+e+'" assigned to `logLevel`');this._logLevel=e},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(e){this._logLevel="string"===typeof e?s[e]:e},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.DEBUG],e)),this._logHandler.apply(this,r([this,o.DEBUG],e))},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.VERBOSE],e)),this._logHandler.apply(this,r([this,o.VERBOSE],e))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.INFO],e)),this._logHandler.apply(this,r([this,o.INFO],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.WARN],e)),this._logHandler.apply(this,r([this,o.WARN],e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.ERROR],e)),this._logHandler.apply(this,r([this,o.ERROR],e))},e}();function f(e){a.forEach(function(t){t.setLogLevel(e)})}function d(e,t){for(var n=function(n){var r=null;t&&t.level&&(r=s[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var i=[],a=2;a<arguments.length;a++)i[a-2]=arguments[a];var s=i.map(function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}}).filter(function(e){return e}).join(" ");n>=(null!==r&&void 0!==r?r:t.logLevel)&&e({level:o[n].toLowerCase(),message:s,args:i,type:t.name})}},r=0,i=a;r<i.length;r++){n(i[r])}}},function(e,t,n){"use strict";n.r(t),n.d(t,"Component",function(){return o}),n.d(t,"ComponentContainer",function(){return u}),n.d(t,"Provider",function(){return s});var r=n(1),i=n(2),o=function(){function e(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return e.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},e.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},e.prototype.setServiceProps=function(e){return this.serviceProps=e,this},e.prototype.setInstanceCreatedCallback=function(e){return this.onInstanceCreated=e,this},e}(),a="[DEFAULT]",s=function(){function e(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return e.prototype.get=function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new i.Deferred;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(t).promise},e.prototype.getImmediate=function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(e){var t,n;if(e.name!==this.name)throw Error("Mismatching Component "+e.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:a})}catch(f){}try{for(var i=Object(r.__values)(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var s=Object(r.__read)(o.value,2),u=s[0],c=s[1],l=this.normalizeInstanceIdentifier(u);try{var h=this.getOrInitializeService({instanceIdentifier:l});c.resolve(h)}catch(f){}}}catch(d){t={error:d}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}}},e.prototype.clearInstance=function(e){void 0===e&&(e=a),this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)},e.prototype.delete=function(){return Object(r.__awaiter)(this,void 0,void 0,function(){var e;return Object(r.__generator)(this,function(t){switch(t.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all(Object(r.__spreadArray)(Object(r.__spreadArray)([],Object(r.__read)(e.filter(function(e){return"INTERNAL"in e}).map(function(e){return e.INTERNAL.delete()}))),Object(r.__read)(e.filter(function(e){return"_delete"in e}).map(function(e){return e._delete()}))))];case 1:return t.sent(),[2]}})})},e.prototype.isComponentSet=function(){return null!=this.component},e.prototype.isInitialized=function(e){return void 0===e&&(e=a),this.instances.has(e)},e.prototype.getOptions=function(e){return void 0===e&&(e=a),this.instancesOptions.get(e)||{}},e.prototype.initialize=function(e){var t,n;void 0===e&&(e={});var i=e.options,o=void 0===i?{}:i,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(this.name+"("+a+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var s=this.getOrInitializeService({instanceIdentifier:a,options:o});try{for(var u=Object(r.__values)(this.instancesDeferred.entries()),c=u.next();!c.done;c=u.next()){var l=Object(r.__read)(c.value,2),h=l[0],f=l[1];a===this.normalizeInstanceIdentifier(h)&&f.resolve(s)}}catch(d){t={error:d}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(t)throw t.error}}return s},e.prototype.onInit=function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var o=this.instances.get(r);return o&&e(o,r),function(){i.delete(e)}},e.prototype.invokeOnInitCallbacks=function(e,t){var n,i,o=this.onInitCallbacks.get(t);if(o)try{for(var a=Object(r.__values)(o),s=a.next();!s.done;s=a.next()){var u=s.value;try{u(e,t)}catch(c){}}}catch(l){n={error:l}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}},e.prototype.getOrInitializeService=function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===a?void 0:t),options:i}),this.instances.set(n,o),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(o,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch(s){}return o||null},e.prototype.normalizeInstanceIdentifier=function(e){return void 0===e&&(e=a),this.component?this.component.multipleInstances?e:a:e},e.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},e}();var u=function(){function e(e){this.name=e,this.providers=new Map}return e.prototype.addComponent=function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component "+e.name+" has already been registered with "+this.name);t.setComponent(e)},e.prototype.addOrOverwriteComponent=function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},e.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var t=new s(e,this);return this.providers.set(e,t),t},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}()},function(e,t,n){var r=n(67);e.exports=function(e){return r(e.length)}},function(e,t,n){var r=n(14),i=n(23);e.exports=function(e,t){return arguments.length<2?(n=r[e],i(n)?n:void 0):r[e]&&r[e][t];var n}},function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return Bs}),n.d(t,"b",function(){return Ps}),n.d(t,"c",function(){return tc}),n.d(t,"d",function(){return rc}),n.d(t,"e",function(){return Xu}),n.d(t,"f",function(){return Qu}),n.d(t,"g",function(){return C}),n.d(t,"h",function(){return xs}),n.d(t,"i",function(){return $u}),n.d(t,"j",function(){return ec}),n.d(t,"k",function(){return sc}),n.d(t,"l",function(){return vc}),n.d(t,"m",function(){return gc}),n.d(t,"n",function(){return cc}),n.d(t,"o",function(){return fc}),n.d(t,"p",function(){return Zu}),n.d(t,"q",function(){return pc}),n.d(t,"r",function(){return hc}),n.d(t,"s",function(){return uc}),n.d(t,"t",function(){return yc});var r=n(1),i=n(2),o=n(34),a=n(51),s=function(){function e(e,t){var n=this;this.previousValue=e,t&&(t.sequenceNumberHandler=function(e){return n.t(e)},this.i=function(e){return t.writeSequenceNumber(e)})}return e.prototype.t=function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue},e.prototype.next=function(){var e=++this.previousValue;return this.i&&this.i(e),e},e}();s.o=-1;var u={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},c=function(e){function t(t,n){var r=this;return(r=e.call(this,n)||this).code=t,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Object(r.__extends)(t,e),t}(Error),l=new o.Logger("@firebase/firestore");function h(){return l.logLevel}function f(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(l.logLevel<=o.LogLevel.DEBUG){var i=t.map(g);l.debug.apply(l,Object(r.__spreadArray)(["Firestore (8.10.1): "+e],i))}}function d(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(l.logLevel<=o.LogLevel.ERROR){var i=t.map(g);l.error.apply(l,Object(r.__spreadArray)(["Firestore (8.10.1): "+e],i))}}function p(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(l.logLevel<=o.LogLevel.WARN){var i=t.map(g);l.warn.apply(l,Object(r.__spreadArray)(["Firestore (8.10.1): "+e],i))}}function g(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function y(e){void 0===e&&(e="Unexpected state");var t="FIRESTORE (8.10.1) INTERNAL ASSERTION FAILED: "+e;throw d(t),new Error(t)}function v(e,t){e||y()}function m(e,t){return e}function b(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var _=function(){function e(){}return e.u=function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=b(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n},e}();function w(e,t){return e<t?-1:e>t?1:0}function E(e,t,n){return e.length===t.length&&e.every(function(e,r){return n(e,t[r])})}function S(e){return e+"\0"}var C=function(){function e(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new c(u.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new c(u.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new c(u.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new c(u.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}return e.now=function(){return e.fromMillis(Date.now())},e.fromDate=function(t){return e.fromMillis(t.getTime())},e.fromMillis=function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))},e.prototype.toDate=function(){return new Date(this.toMillis())},e.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},e.prototype._compareTo=function(e){return this.seconds===e.seconds?w(this.nanoseconds,e.nanoseconds):w(this.seconds,e.seconds)},e.prototype.isEqual=function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds},e.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},e.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},e.prototype.valueOf=function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},e}(),O=function(){function e(e){this.timestamp=e}return e.fromTimestamp=function(t){return new e(t)},e.min=function(){return new e(new C(0,0))},e.prototype.compareTo=function(e){return this.timestamp._compareTo(e.timestamp)},e.prototype.isEqual=function(e){return this.timestamp.isEqual(e.timestamp)},e.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},e.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},e.prototype.toTimestamp=function(){return this.timestamp},e}();function T(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function k(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function I(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var A=function(){function e(e,t,n){void 0===t?t=0:t>e.length&&y(),void 0===n?n=e.length-t:n>e.length-t&&y(),this.segments=e,this.offset=t,this.len=n}return Object.defineProperty(e.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return 0===e.comparator(this,t)},e.prototype.child=function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach(function(e){n.push(e)}):n.push(t),this.construct(n)},e.prototype.limit=function(){return this.offset+this.length},e.prototype.popFirst=function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)},e.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},e.prototype.firstSegment=function(){return this.segments[this.offset]},e.prototype.lastSegment=function(){return this.get(this.length-1)},e.prototype.get=function(e){return this.segments[this.offset+e]},e.prototype.isEmpty=function(){return 0===this.length},e.prototype.isPrefixOf=function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.isImmediateParentOf=function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.forEach=function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])},e.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},e.comparator=function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),o=t.get(r);if(i<o)return-1;if(i>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0},e}(),N=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.construct=function(e,n,r){return new t(e,n,r)},t.prototype.canonicalString=function(){return this.toArray().join("/")},t.prototype.toString=function(){return this.canonicalString()},t.fromString=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var r=[],i=0,o=e;i<o.length;i++){var a=o[i];if(a.indexOf("//")>=0)throw new c(u.INVALID_ARGUMENT,"Invalid segment ("+a+"). Paths must not contain // in them.");r.push.apply(r,a.split("/").filter(function(e){return e.length>0}))}return new t(r)},t.emptyPath=function(){return new t([])},t}(A),R=/^[_a-zA-Z][_a-zA-Z0-9]*$/,P=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.construct=function(e,n,r){return new t(e,n,r)},t.isValidIdentifier=function(e){return R.test(e)},t.prototype.canonicalString=function(){return this.toArray().map(function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e}).join(".")},t.prototype.toString=function(){return this.canonicalString()},t.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},t.keyField=function(){return new t(["__name__"])},t.fromServerFormat=function(e){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new c(u.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},a=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new c(u.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var l=e[i+1];if("\\"!==l&&"."!==l&&"`"!==l)throw new c(u.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else"`"===s?(a=!a,i++):"."!==s||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new c(u.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)},t.emptyPath=function(){return new t([])},t}(A),x=function(){function e(e){this.fields=e,e.sort(P.comparator)}return e.prototype.covers=function(e){for(var t=0,n=this.fields;t<n.length;t++)if(n[t].isPrefixOf(e))return!0;return!1},e.prototype.isEqual=function(e){return E(this.fields,e.fields,function(e,t){return e.isEqual(t)})},e}(),M=function(){function e(e){this.binaryString=e}return e.fromBase64String=function(t){return new e(atob(t))},e.fromUint8Array=function(t){return new e(function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(t))},e.prototype.toBase64=function(){return e=this.binaryString,btoa(e);var e},e.prototype.toUint8Array=function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)},e.prototype.approximateByteSize=function(){return 2*this.binaryString.length},e.prototype.compareTo=function(e){return w(this.binaryString,e.binaryString)},e.prototype.isEqual=function(e){return this.binaryString===e.binaryString},e}();M.EMPTY_BYTE_STRING=new M("");var L=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function D(e){if(v(!!e),"string"==typeof e){var t=0,n=L.exec(e);if(v(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:j(e.seconds),nanos:j(e.nanos)}}function j(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function U(e){return"string"==typeof e?M.fromBase64String(e):M.fromUint8Array(e)}function F(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function H(e){var t=D(e.mapValue.fields.__local_write_time__.timestampValue);return new C(t.seconds,t.nanos)}function B(e){return null==e}function V(e){return 0===e&&1/e==-1/0}function q(e){return"number"==typeof e&&Number.isInteger(e)&&!V(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var G=function(){function e(e){this.path=e}return e.fromPath=function(t){return new e(N.fromString(t))},e.fromName=function(t){return new e(N.fromString(t).popFirst(5))},e.prototype.hasCollectionId=function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e},e.prototype.isEqual=function(e){return null!==e&&0===N.comparator(this.path,e.path)},e.prototype.toString=function(){return this.path.toString()},e.comparator=function(e,t){return N.comparator(e.path,t.path)},e.isDocumentKey=function(e){return e.length%2==0},e.fromSegments=function(t){return new e(new N(t.slice()))},e}();function z(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?F(e)?4:10:y()}function W(e,t){var n=z(e);if(n!==z(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return H(e).isEqual(H(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=D(e.timestampValue),r=D(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return U(e.bytesValue).isEqual(U(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return j(e.geoPointValue.latitude)===j(t.geoPointValue.latitude)&&j(e.geoPointValue.longitude)===j(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return j(e.integerValue)===j(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=j(e.doubleValue),r=j(t.doubleValue);return n===r?V(n)===V(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return E(e.arrayValue.values||[],t.arrayValue.values||[],W);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(T(n)!==T(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!W(n[i],r[i])))return!1;return!0}(e,t);default:return y()}}function K(e,t){return void 0!==(e.values||[]).find(function(e){return W(e,t)})}function Y(e,t){var n=z(e),r=z(t);if(n!==r)return w(n,r);switch(n){case 0:return 0;case 1:return w(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=j(e.integerValue||e.doubleValue),r=j(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Q(e.timestampValue,t.timestampValue);case 4:return Q(H(e),H(t));case 5:return w(e.stringValue,t.stringValue);case 6:return function(e,t){var n=U(e),r=U(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var o=w(n[i],r[i]);if(0!==o)return o}return w(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=w(j(e.latitude),j(t.latitude));return 0!==n?n:w(j(e.longitude),j(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var o=Y(n[i],r[i]);if(o)return o}return w(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var a=0;a<r.length&&a<o.length;++a){var s=w(r[a],o[a]);if(0!==s)return s;var u=Y(n[r[a]],i[o[a]]);if(0!==u)return u}return w(r.length,o.length)}(e.mapValue,t.mapValue);default:throw y()}}function Q(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return w(e,t);var n=D(e),r=D(t),i=w(n.seconds,r.seconds);return 0!==i?i:w(n.nanos,r.nanos)}function $(e){return function e(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(e){var t=D(e);return"time("+t.seconds+","+t.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?U(t.bytesValue).toBase64():"referenceValue"in t?(r=t.referenceValue,G.fromName(r).toString()):"geoPointValue"in t?"geo("+(n=t.geoPointValue).latitude+","+n.longitude+")":"arrayValue"in t?function(t){for(var n="[",r=!0,i=0,o=t.values||[];i<o.length;i++)r?r=!1:n+=",",n+=e(o[i]);return n+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var n="{",r=!0,i=0,o=Object.keys(t.fields||{}).sort();i<o.length;i++){var a=o[i];r?r=!1:n+=",",n+=a+":"+e(t.fields[a])}return n+"}"}(t.mapValue):y();var n,r}(e)}function X(e,t){return{referenceValue:"projects/"+e.projectId+"/databases/"+e.database+"/documents/"+t.path.canonicalString()}}function J(e){return!!e&&"integerValue"in e}function Z(e){return!!e&&"arrayValue"in e}function ee(e){return!!e&&"nullValue"in e}function te(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function ne(e){return!!e&&"mapValue"in e}function re(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return k(e.mapValue.fields,function(e,n){return t.mapValue.fields[e]=re(n)}),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=re(e.arrayValue.values[r]);return n}return Object.assign({},e)}var ie=function(){function e(e){this.value=e}return e.empty=function(){return new e({mapValue:{}})},e.prototype.field=function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!ne(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null},e.prototype.set=function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=re(t)},e.prototype.setAll=function(e){var t=this,n=P.emptyPath(),r={},i=[];e.forEach(function(e,o){if(!n.isImmediateParentOf(o)){var a=t.getFieldsMap(n);t.applyChanges(a,r,i),r={},i=[],n=o.popLast()}e?r[o.lastSegment()]=re(e):i.push(o.lastSegment())});var o=this.getFieldsMap(n);this.applyChanges(o,r,i)},e.prototype.delete=function(e){var t=this.field(e.popLast());ne(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]},e.prototype.isEqual=function(e){return W(this.value,e.value)},e.prototype.getFieldsMap=function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];ne(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields},e.prototype.applyChanges=function(e,t,n){k(t,function(t,n){return e[t]=n});for(var r=0,i=n;r<i.length;r++){var o=i[r];delete e[o]}},e.prototype.clone=function(){return new e(re(this.value))},e}();function oe(e){var t=[];return k(e.fields,function(e,n){var r=new P([e]);if(ne(n)){var i=oe(n.mapValue).fields;if(0===i.length)t.push(r);else for(var o=0,a=i;o<a.length;o++){var s=a[o];t.push(r.child(s))}}else t.push(r)}),new x(t)}var ae=function(){function e(e,t,n,r,i){this.key=e,this.documentType=t,this.version=n,this.data=r,this.documentState=i}return e.newInvalidDocument=function(t){return new e(t,0,O.min(),ie.empty(),0)},e.newFoundDocument=function(t,n,r){return new e(t,1,n,r,0)},e.newNoDocument=function(t,n){return new e(t,2,n,ie.empty(),0)},e.newUnknownDocument=function(t,n){return new e(t,3,n,ie.empty(),2)},e.prototype.convertToFoundDocument=function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this},e.prototype.convertToNoDocument=function(e){return this.version=e,this.documentType=2,this.data=ie.empty(),this.documentState=0,this},e.prototype.convertToUnknownDocument=function(e){return this.version=e,this.documentType=3,this.data=ie.empty(),this.documentState=2,this},e.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},e.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(e.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isValidDocument=function(){return 0!==this.documentType},e.prototype.isFoundDocument=function(){return 1===this.documentType},e.prototype.isNoDocument=function(){return 2===this.documentType},e.prototype.isUnknownDocument=function(){return 3===this.documentType},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)},e.prototype.clone=function(){return new e(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},e}(),se=function(e,t,n,r,i,o,a){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.h=null};function ue(e,t,n,r,i,o,a){return void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),new se(e,t,n,r,i,o,a)}function ce(e){var t=m(e);if(null===t.h){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(function(e){return function(e){return e.field.canonicalString()+e.op.toString()+$(e.value)}(e)}).join(","),n+="|ob:",n+=t.orderBy.map(function(e){return function(e){return e.field.canonicalString()+e.dir}(e)}).join(","),B(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=Ee(t.startAt)),t.endAt&&(n+="|ub:",n+=Ee(t.endAt)),t.h=n}return t.h}function le(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!Ce(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],o=t.filters[r],i.op!==o.op||!i.field.isEqual(o.field)||!W(i.value,o.value))return!1;var i,o;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Te(e.startAt,t.startAt)&&Te(e.endAt,t.endAt)}function he(e){return G.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var fe=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).field=t,i.op=n,i.value=r,i}return Object(r.__extends)(t,e),t.create=function(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.l(e,n,r):new de(e,n,r):"array-contains"===n?new ve(e,r):"in"===n?new me(e,r):"not-in"===n?new be(e,r):"array-contains-any"===n?new _e(e,r):new t(e,n,r)},t.l=function(e,t,n){return"in"===t?new pe(e,n):new ge(e,n)},t.prototype.matches=function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.m(Y(t,this.value)):null!==t&&z(this.value)===z(t)&&this.m(Y(t,this.value))},t.prototype.m=function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return y()}},t.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},t}(function(){}),de=function(e){function t(t,n,r){var i=this;return(i=e.call(this,t,n,r)||this).key=G.fromName(r.referenceValue),i}return Object(r.__extends)(t,e),t.prototype.matches=function(e){var t=G.comparator(e.key,this.key);return this.m(t)},t}(fe),pe=function(e){function t(t,n){var r=this;return(r=e.call(this,t,"in",n)||this).keys=ye("in",n),r}return Object(r.__extends)(t,e),t.prototype.matches=function(e){return this.keys.some(function(t){return t.isEqual(e.key)})},t}(fe),ge=function(e){function t(t,n){var r=this;return(r=e.call(this,t,"not-in",n)||this).keys=ye("not-in",n),r}return Object(r.__extends)(t,e),t.prototype.matches=function(e){return!this.keys.some(function(t){return t.isEqual(e.key)})},t}(fe);function ye(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map(function(e){return G.fromName(e.referenceValue)})}var ve=function(e){function t(t,n){return e.call(this,t,"array-contains",n)||this}return Object(r.__extends)(t,e),t.prototype.matches=function(e){var t=e.data.field(this.field);return Z(t)&&K(t.arrayValue,this.value)},t}(fe),me=function(e){function t(t,n){return e.call(this,t,"in",n)||this}return Object(r.__extends)(t,e),t.prototype.matches=function(e){var t=e.data.field(this.field);return null!==t&&K(this.value.arrayValue,t)},t}(fe),be=function(e){function t(t,n){return e.call(this,t,"not-in",n)||this}return Object(r.__extends)(t,e),t.prototype.matches=function(e){if(K(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!K(this.value.arrayValue,t)},t}(fe),_e=function(e){function t(t,n){return e.call(this,t,"array-contains-any",n)||this}return Object(r.__extends)(t,e),t.prototype.matches=function(e){var t=this,n=e.data.field(this.field);return!(!Z(n)||!n.arrayValue.values)&&n.arrayValue.values.some(function(e){return K(t.value.arrayValue,e)})},t}(fe),we=function(e,t){this.position=e,this.before=t};function Ee(e){return(e.before?"b":"a")+":"+e.position.map(function(e){return $(e)}).join(",")}var Se=function(e,t){void 0===t&&(t="asc"),this.field=e,this.dir=t};function Ce(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function Oe(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var o=t[i],a=e.position[i];if(r=o.field.isKeyField()?G.comparator(G.fromName(a.referenceValue),n.key):Y(a,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return e.before?r<=0:r<0}function Te(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!W(e.position[n],t.position[n]))return!1;return!0}var ke=function(e,t,n,r,i,o,a,s){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===a&&(a=null),void 0===s&&(s=null),this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=s,this.p=null,this.T=null,this.startAt,this.endAt};function Ie(e,t,n,r,i,o,a,s){return new ke(e,t,n,r,i,o,a,s)}function Ae(e){return new ke(e)}function Ne(e){return!B(e.limit)&&"F"===e.limitType}function Re(e){return!B(e.limit)&&"L"===e.limitType}function Pe(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function xe(e){for(var t=0,n=e.filters;t<n.length;t++){var r=n[t];if(r.g())return r.field}return null}function Me(e){return null!==e.collectionGroup}function Le(e){var t=m(e);if(null===t.p){t.p=[];var n=xe(t),r=Pe(t);if(null!==n&&null===r)n.isKeyField()||t.p.push(new Se(n)),t.p.push(new Se(P.keyField(),"asc"));else{for(var i=!1,o=0,a=t.explicitOrderBy;o<a.length;o++){var s=a[o];t.p.push(s),s.field.isKeyField()&&(i=!0)}if(!i){var u=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.p.push(new Se(P.keyField(),u))}}}return t.p}function De(e){var t=m(e);if(!t.T)if("F"===t.limitType)t.T=ue(t.path,t.collectionGroup,Le(t),t.filters,t.limit,t.startAt,t.endAt);else{for(var n=[],r=0,i=Le(t);r<i.length;r++){var o=i[r],a="desc"===o.dir?"asc":"desc";n.push(new Se(o.field,a))}var s=t.endAt?new we(t.endAt.position,!t.endAt.before):null,u=t.startAt?new we(t.startAt.position,!t.startAt.before):null;t.T=ue(t.path,t.collectionGroup,n,t.filters,t.limit,s,u)}return t.T}function je(e,t,n){return new ke(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Ue(e,t){return le(De(e),De(t))&&e.limitType===t.limitType}function Fe(e){return ce(De(e))+"|lt:"+e.limitType}function He(e){return"Query(target="+function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: ["+e.filters.map(function(e){return(t=e).field.canonicalString()+" "+t.op+" "+$(t.value);var t}).join(", ")+"]"),B(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: ["+e.orderBy.map(function(e){return function(e){return e.field.canonicalString()+" ("+e.dir+")"}(e)}).join(", ")+"]"),e.startAt&&(t+=", startAt: "+Ee(e.startAt)),e.endAt&&(t+=", endAt: "+Ee(e.endAt)),"Target("+t+")"}(De(e))+"; limitType="+e.limitType+")"}function Be(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):G.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(var n=0,r=e.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}return!0}(e,t)&&function(e,t){for(var n=0,r=e.filters;n<r.length;n++)if(!r[n].matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!Oe(e.startAt,Le(e),t))&&(!e.endAt||!Oe(e.endAt,Le(e),t))}(e,t)}function Ve(e){return function(t,n){for(var r=!1,i=0,o=Le(e);i<o.length;i++){var a=o[i],s=qe(a,t,n);if(0!==s)return s;r=r||a.field.isKeyField()}return 0}}function qe(e,t,n){var r=e.field.isKeyField()?G.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Y(r,i):y()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return y()}}function Ge(e,t){if(e.I){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:V(t)?"-0":t}}function ze(e){return{integerValue:""+e}}function We(e,t){return q(t)?ze(t):Ge(e,t)}var Ke=function(){this._=void 0};function Ye(e,t,n){return e instanceof Xe?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Je?Ze(e,t):e instanceof et?tt(e,t):function(e,t){var n=$e(e,t),r=rt(n)+rt(e.A);return J(n)&&J(e.A)?ze(r):Ge(e.R,r)}(e,t)}function Qe(e,t,n){return e instanceof Je?Ze(e,t):e instanceof et?tt(e,t):n}function $e(e,t){return e instanceof nt?J(n=t)||n&&"doubleValue"in n?t:{integerValue:0}:null;var n}var Xe=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t}(Ke),Je=function(e){function t(t){var n=this;return(n=e.call(this)||this).elements=t,n}return Object(r.__extends)(t,e),t}(Ke);function Ze(e,t){for(var n=it(t),r=function(e){n.some(function(t){return W(t,e)})||n.push(e)},i=0,o=e.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var et=function(e){function t(t){var n=this;return(n=e.call(this)||this).elements=t,n}return Object(r.__extends)(t,e),t}(Ke);function tt(e,t){for(var n=it(t),r=function(e){n=n.filter(function(t){return!W(t,e)})},i=0,o=e.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var nt=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).R=t,r.A=n,r}return Object(r.__extends)(t,e),t}(Ke);function rt(e){return j(e.integerValue||e.doubleValue)}function it(e){return Z(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var ot=function(e,t){this.field=e,this.transform=t},at=function(e,t){this.version=e,this.transformResults=t},st=function(){function e(e,t){this.updateTime=e,this.exists=t}return e.none=function(){return new e},e.exists=function(t){return new e(void 0,t)},e.updateTime=function(t){return new e(t)},Object.defineProperty(e.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)},e}();function ut(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var ct=function(){};function lt(e,t,n){e instanceof gt?function(e,t,n){var r=e.value.clone(),i=mt(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof yt?function(e,t,n){if(ut(e.precondition,t)){var r=mt(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(vt(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function ht(e,t,n){e instanceof gt?function(e,t,n){if(ut(e.precondition,t)){var r=e.value.clone(),i=bt(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(pt(t),r).setHasLocalMutations()}}(e,t,n):e instanceof yt?function(e,t,n){if(ut(e.precondition,t)){var r=bt(e.fieldTransforms,n,t),i=t.data;i.setAll(vt(e)),i.setAll(r),t.convertToFoundDocument(pt(t),i).setHasLocalMutations()}}(e,t,n):function(e,t){ut(e.precondition,t)&&t.convertToNoDocument(O.min())}(e,t)}function ft(e,t){for(var n=null,r=0,i=e.fieldTransforms;r<i.length;r++){var o=i[r],a=t.data.field(o.field),s=$e(o.transform,a||null);null!=s&&(null==n&&(n=ie.empty()),n.set(o.field,s))}return n||null}function dt(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&E(e,t,function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Je&&t instanceof Je||e instanceof et&&t instanceof et?E(e.elements,t.elements,W):e instanceof nt&&t instanceof nt?W(e.A,t.A):e instanceof Xe&&t instanceof Xe}(e.transform,t.transform)}(e,t)})}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function pt(e){return e.isFoundDocument()?e.version:O.min()}var gt=function(e){function t(t,n,r,i){void 0===i&&(i=[]);var o=this;return(o=e.call(this)||this).key=t,o.value=n,o.precondition=r,o.fieldTransforms=i,o.type=0,o}return Object(r.__extends)(t,e),t}(ct),yt=function(e){function t(t,n,r,i,o){void 0===o&&(o=[]);var a=this;return(a=e.call(this)||this).key=t,a.data=n,a.fieldMask=r,a.precondition=i,a.fieldTransforms=o,a.type=1,a}return Object(r.__extends)(t,e),t}(ct);function vt(e){var t=new Map;return e.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}}),t}function mt(e,t,n){var r=new Map;v(e.length===n.length);for(var i=0;i<n.length;i++){var o=e[i],a=o.transform,s=t.data.field(o.field);r.set(o.field,Qe(a,s,n[i]))}return r}function bt(e,t,n){for(var r=new Map,i=0,o=e;i<o.length;i++){var a=o[i],s=a.transform,u=n.data.field(a.field);r.set(a.field,Ye(s,u,t))}return r}var _t,wt,Et=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).key=t,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return Object(r.__extends)(t,e),t}(ct),St=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).key=t,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return Object(r.__extends)(t,e),t}(ct),Ct=function(e){this.count=e};function Ot(e){switch(e){case u.OK:return y();case u.CANCELLED:case u.UNKNOWN:case u.DEADLINE_EXCEEDED:case u.RESOURCE_EXHAUSTED:case u.INTERNAL:case u.UNAVAILABLE:case u.UNAUTHENTICATED:return!1;case u.INVALID_ARGUMENT:case u.NOT_FOUND:case u.ALREADY_EXISTS:case u.PERMISSION_DENIED:case u.FAILED_PRECONDITION:case u.ABORTED:case u.OUT_OF_RANGE:case u.UNIMPLEMENTED:case u.DATA_LOSS:return!0;default:return y()}}function Tt(e){if(void 0===e)return d("GRPC error has no .code"),u.UNKNOWN;switch(e){case _t.OK:return u.OK;case _t.CANCELLED:return u.CANCELLED;case _t.UNKNOWN:return u.UNKNOWN;case _t.DEADLINE_EXCEEDED:return u.DEADLINE_EXCEEDED;case _t.RESOURCE_EXHAUSTED:return u.RESOURCE_EXHAUSTED;case _t.INTERNAL:return u.INTERNAL;case _t.UNAVAILABLE:return u.UNAVAILABLE;case _t.UNAUTHENTICATED:return u.UNAUTHENTICATED;case _t.INVALID_ARGUMENT:return u.INVALID_ARGUMENT;case _t.NOT_FOUND:return u.NOT_FOUND;case _t.ALREADY_EXISTS:return u.ALREADY_EXISTS;case _t.PERMISSION_DENIED:return u.PERMISSION_DENIED;case _t.FAILED_PRECONDITION:return u.FAILED_PRECONDITION;case _t.ABORTED:return u.ABORTED;case _t.OUT_OF_RANGE:return u.OUT_OF_RANGE;case _t.UNIMPLEMENTED:return u.UNIMPLEMENTED;case _t.DATA_LOSS:return u.DATA_LOSS;default:return y()}}(wt=_t||(_t={}))[wt.OK=0]="OK",wt[wt.CANCELLED=1]="CANCELLED",wt[wt.UNKNOWN=2]="UNKNOWN",wt[wt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",wt[wt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",wt[wt.NOT_FOUND=5]="NOT_FOUND",wt[wt.ALREADY_EXISTS=6]="ALREADY_EXISTS",wt[wt.PERMISSION_DENIED=7]="PERMISSION_DENIED",wt[wt.UNAUTHENTICATED=16]="UNAUTHENTICATED",wt[wt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",wt[wt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",wt[wt.ABORTED=10]="ABORTED",wt[wt.OUT_OF_RANGE=11]="OUT_OF_RANGE",wt[wt.UNIMPLEMENTED=12]="UNIMPLEMENTED",wt[wt.INTERNAL=13]="INTERNAL",wt[wt.UNAVAILABLE=14]="UNAVAILABLE",wt[wt.DATA_LOSS=15]="DATA_LOSS";var kt=function(){function e(e,t){this.comparator=e,this.root=t||At.EMPTY}return e.prototype.insert=function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,At.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,At.BLACK,null,null))},e.prototype.get=function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null},e.prototype.indexOf=function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1},e.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(e.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),e.prototype.minKey=function(){return this.root.minKey()},e.prototype.maxKey=function(){return this.root.maxKey()},e.prototype.inorderTraversal=function(e){return this.root.inorderTraversal(e)},e.prototype.forEach=function(e){this.inorderTraversal(function(t,n){return e(t,n),!1})},e.prototype.toString=function(){var e=[];return this.inorderTraversal(function(t,n){return e.push(t+":"+n),!1}),"{"+e.join(", ")+"}"},e.prototype.reverseTraversal=function(e){return this.root.reverseTraversal(e)},e.prototype.getIterator=function(){return new It(this.root,null,this.comparator,!1)},e.prototype.getIteratorFrom=function(e){return new It(this.root,e,this.comparator,!1)},e.prototype.getReverseIterator=function(){return new It(this.root,null,this.comparator,!0)},e.prototype.getReverseIteratorFrom=function(e){return new It(this.root,e,this.comparator,!0)},e}(),It=function(){function e(e,t,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!e.isEmpty();)if(i=t?n(e.key,t):1,r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}return e.prototype.getNext=function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t},e.prototype.hasNext=function(){return this.nodeStack.length>0},e.prototype.peek=function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}},e}(),At=function(){function e(t,n,r,i,o){this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=o?o:e.EMPTY,this.size=this.left.size+1+this.right.size}return e.prototype.copy=function(t,n,r,i,o){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},e.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},e.prototype.minKey=function(){return this.min().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()},e.prototype.removeMin=function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()},e.prototype.remove=function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()},e.prototype.isRed=function(){return this.color},e.prototype.fixUp=function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e},e.prototype.moveRedLeft=function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e},e.prototype.moveRedRight=function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e},e.prototype.rotateLeft=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},e.prototype.checkMaxDepth=function(){var e=this.check();return Math.pow(2,e)<=this.size+1},e.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw y();if(this.right.isRed())throw y();var e=this.left.check();if(e!==this.right.check())throw y();return e+(this.isRed()?0:1)},e}();At.EMPTY=null,At.RED=!0,At.BLACK=!1,At.EMPTY=new(function(){function e(){this.size=0}return Object.defineProperty(e.prototype,"key",{get:function(){throw y()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){throw y()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){throw y()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){throw y()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){throw y()},enumerable:!1,configurable:!0}),e.prototype.copy=function(e,t,n,r,i){return this},e.prototype.insert=function(e,t,n){return new At(e,t)},e.prototype.remove=function(e,t){return this},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(e){return!1},e.prototype.reverseTraversal=function(e){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.isRed=function(){return!1},e.prototype.checkMaxDepth=function(){return!0},e.prototype.check=function(){return 0},e}());var Nt=function(){function e(e){this.comparator=e,this.data=new kt(this.comparator)}return e.prototype.has=function(e){return null!==this.data.get(e)},e.prototype.first=function(){return this.data.minKey()},e.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(e.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),e.prototype.indexOf=function(e){return this.data.indexOf(e)},e.prototype.forEach=function(e){this.data.inorderTraversal(function(t,n){return e(t),!1})},e.prototype.forEachInRange=function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}},e.prototype.forEachWhile=function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return},e.prototype.firstAfterOrEqual=function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null},e.prototype.getIterator=function(){return new Rt(this.data.getIterator())},e.prototype.getIteratorFrom=function(e){return new Rt(this.data.getIteratorFrom(e))},e.prototype.add=function(e){return this.copy(this.data.remove(e).insert(e,!0))},e.prototype.delete=function(e){return this.has(e)?this.copy(this.data.remove(e)):this},e.prototype.isEmpty=function(){return this.data.isEmpty()},e.prototype.unionWith=function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach(function(e){t=t.add(e)}),t},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},e.prototype.toArray=function(){var e=[];return this.forEach(function(t){e.push(t)}),e},e.prototype.toString=function(){var e=[];return this.forEach(function(t){return e.push(t)}),"SortedSet("+e.toString()+")"},e.prototype.copy=function(t){var n=new e(this.comparator);return n.data=t,n},e}(),Rt=function(){function e(e){this.iter=e}return e.prototype.getNext=function(){return this.iter.getNext().key},e.prototype.hasNext=function(){return this.iter.hasNext()},e}(),Pt=new kt(G.comparator);function xt(){return Pt}var Mt=new kt(G.comparator);function Lt(){return Mt}var Dt=new kt(G.comparator);function jt(){return Dt}var Ut=new Nt(G.comparator);function Ft(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=Ut,r=0,i=e;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var Ht=new Nt(w);function Bt(){return Ht}var Vt=function(){function e(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return e.createSynthesizedRemoteEventForCurrentChange=function(t,n){var r=new Map;return r.set(t,qt.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(O.min(),r,Bt(),xt(),Ft())},e}(),qt=function(){function e(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return e.createSynthesizedTargetChangeForCurrentChange=function(t,n){return new e(M.EMPTY_BYTE_STRING,n,Ft(),Ft(),Ft())},e}(),Gt=function(e,t,n,r){this.v=e,this.removedTargetIds=t,this.key=n,this.P=r},zt=function(e,t){this.targetId=e,this.V=t},Wt=function(e,t,n,r){void 0===n&&(n=M.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r},Kt=function(){function e(){this.S=0,this.D=$t(),this.C=M.EMPTY_BYTE_STRING,this.N=!1,this.k=!0}return Object.defineProperty(e.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"F",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"$",{get:function(){return this.k},enumerable:!1,configurable:!0}),e.prototype.O=function(e){e.approximateByteSize()>0&&(this.k=!0,this.C=e)},e.prototype.M=function(){var e=Ft(),t=Ft(),n=Ft();return this.D.forEach(function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:y()}}),new qt(this.C,this.N,e,t,n)},e.prototype.L=function(){this.k=!1,this.D=$t()},e.prototype.B=function(e,t){this.k=!0,this.D=this.D.insert(e,t)},e.prototype.q=function(e){this.k=!0,this.D=this.D.remove(e)},e.prototype.U=function(){this.S+=1},e.prototype.K=function(){this.S-=1},e.prototype.j=function(){this.k=!0,this.N=!0},e}(),Yt=function(){function e(e){this.W=e,this.G=new Map,this.H=xt(),this.J=Qt(),this.Y=new Nt(w)}return e.prototype.X=function(e){for(var t=0,n=e.v;t<n.length;t++){var r=n[t];e.P&&e.P.isFoundDocument()?this.Z(r,e.P):this.tt(r,e.key,e.P)}for(var i=0,o=e.removedTargetIds;i<o.length;i++)r=o[i],this.tt(r,e.key,e.P)},e.prototype.et=function(e){var t=this;this.forEachTarget(e,function(n){var r=t.nt(n);switch(e.state){case 0:t.st(n)&&r.O(e.resumeToken);break;case 1:r.K(),r.F||r.L(),r.O(e.resumeToken);break;case 2:r.K(),r.F||t.removeTarget(n);break;case 3:t.st(n)&&(r.j(),r.O(e.resumeToken));break;case 4:t.st(n)&&(t.it(n),r.O(e.resumeToken));break;default:y()}})},e.prototype.forEachTarget=function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.G.forEach(function(e,r){n.st(r)&&t(r)})},e.prototype.rt=function(e){var t=e.targetId,n=e.V.count,r=this.ot(t);if(r){var i=r.target;if(he(i))if(0===n){var o=new G(i.path);this.tt(t,o,ae.newNoDocument(o,O.min()))}else v(1===n);else this.ct(t)!==n&&(this.it(t),this.Y=this.Y.add(t))}},e.prototype.ut=function(e){var t=this,n=new Map;this.G.forEach(function(r,i){var o=t.ot(i);if(o){if(r.current&&he(o.target)){var a=new G(o.target.path);null!==t.H.get(a)||t.at(i,a)||t.tt(i,a,ae.newNoDocument(a,e))}r.$&&(n.set(i,r.M()),r.L())}});var r=Ft();this.J.forEach(function(e,n){var i=!0;n.forEachWhile(function(e){var n=t.ot(e);return!n||2===n.purpose||(i=!1,!1)}),i&&(r=r.add(e))});var i=new Vt(e,n,this.Y,this.H,r);return this.H=xt(),this.J=Qt(),this.Y=new Nt(w),i},e.prototype.Z=function(e,t){if(this.st(e)){var n=this.at(e,t.key)?2:0;this.nt(e).B(t.key,n),this.H=this.H.insert(t.key,t),this.J=this.J.insert(t.key,this.ht(t.key).add(e))}},e.prototype.tt=function(e,t,n){if(this.st(e)){var r=this.nt(e);this.at(e,t)?r.B(t,1):r.q(t),this.J=this.J.insert(t,this.ht(t).delete(e)),n&&(this.H=this.H.insert(t,n))}},e.prototype.removeTarget=function(e){this.G.delete(e)},e.prototype.ct=function(e){var t=this.nt(e).M();return this.W.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size},e.prototype.U=function(e){this.nt(e).U()},e.prototype.nt=function(e){var t=this.G.get(e);return t||(t=new Kt,this.G.set(e,t)),t},e.prototype.ht=function(e){var t=this.J.get(e);return t||(t=new Nt(w),this.J=this.J.insert(e,t)),t},e.prototype.st=function(e){var t=null!==this.ot(e);return t||f("WatchChangeAggregator","Detected inactive target",e),t},e.prototype.ot=function(e){var t=this.G.get(e);return t&&t.F?null:this.W.lt(e)},e.prototype.it=function(e){var t=this;this.G.set(e,new Kt),this.W.getRemoteKeysForTarget(e).forEach(function(n){t.tt(e,n,null)})},e.prototype.at=function(e,t){return this.W.getRemoteKeysForTarget(e).has(t)},e}();function Qt(){return new kt(G.comparator)}function $t(){return new kt(G.comparator)}var Xt={asc:"ASCENDING",desc:"DESCENDING"},Jt={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Zt=function(e,t){this.databaseId=e,this.I=t};function en(e,t){return e.I?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}}function tn(e,t){return e.I?t.toBase64():t.toUint8Array()}function nn(e,t){return en(e,t.toTimestamp())}function rn(e){return v(!!e),O.fromTimestamp(function(e){var t=D(e);return new C(t.seconds,t.nanos)}(e))}function on(e,t){return function(e){return new N(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function an(e){var t=N.fromString(e);return v(An(t)),t}function sn(e,t){return on(e.databaseId,t.path)}function un(e,t){var n=an(t);if(n.get(1)!==e.databaseId.projectId)throw new c(u.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new c(u.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new G(fn(n))}function cn(e,t){return on(e.databaseId,t)}function ln(e){var t=an(e);return 4===t.length?N.emptyPath():fn(t)}function hn(e){return new N(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function fn(e){return v(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function dn(e,t,n){return{name:sn(e,t),fields:n.value.mapValue.fields}}function pn(e,t,n){var r=un(e,t.name),i=rn(t.updateTime),o=new ie({mapValue:{fields:t.fields}}),a=ae.newFoundDocument(r,i,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function gn(e,t){var n;if(t instanceof gt)n={update:dn(e,t.key,t.value)};else if(t instanceof Et)n={delete:sn(e,t.key)};else if(t instanceof yt)n={update:dn(e,t.key,t.data),updateMask:In(t.fieldMask)};else{if(!(t instanceof St))return y();n={verify:sn(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(function(e){return function(e,t){var n=t.transform;if(n instanceof Xe)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Je)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof et)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof nt)return{fieldPath:t.field.canonicalString(),increment:n.A};throw y()}(0,e)})),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:nn(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:y()}(e,t.precondition)),n}function yn(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?st.updateTime(rn(e.updateTime)):void 0!==e.exists?st.exists(e.exists):st.none()}(t.currentDocument):st.none(),r=t.updateTransforms?t.updateTransforms.map(function(t){return function(e,t){var n=null;if("setToServerValue"in t)v("REQUEST_TIME"===t.setToServerValue),n=new Xe;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new Je(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new et(i)}else"increment"in t?n=new nt(e,t.increment):y();var o=P.fromServerFormat(t.fieldPath);return new ot(o,n)}(e,t)}):[];if(t.update){t.update.name;var i=un(e,t.update.name),o=new ie({mapValue:{fields:t.update.fields}});if(t.updateMask){var a=function(e){var t=e.fieldPaths||[];return new x(t.map(function(e){return P.fromServerFormat(e)}))}(t.updateMask);return new yt(i,o,a,n,r)}return new gt(i,o,n,r)}if(t.delete){var s=un(e,t.delete);return new Et(s,n)}if(t.verify){var u=un(e,t.verify);return new St(u,n)}return y()}function vn(e,t){return{documents:[cn(e,t.path)]}}function mn(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=cn(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=cn(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map(function(e){return function(e){if("=="===e.op){if(te(e.value))return{unaryFilter:{field:Cn(e.field),op:"IS_NAN"}};if(ee(e.value))return{unaryFilter:{field:Cn(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(te(e.value))return{unaryFilter:{field:Cn(e.field),op:"IS_NOT_NAN"}};if(ee(e.value))return{unaryFilter:{field:Cn(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Cn(e.field),op:Sn(e.op),value:e.value}}}(e)});return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var o=function(e){if(0!==e.length)return e.map(function(e){return function(e){return{field:Cn(e.field),direction:En(e.dir)}}(e)})}(t.orderBy);o&&(n.structuredQuery.orderBy=o);var a=function(e,t){return e.I||B(t)?t:{value:t}}(e,t.limit);return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=_n(t.startAt)),t.endAt&&(n.structuredQuery.endAt=_n(t.endAt)),n}function bn(e){var t=ln(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){v(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:t=t.child(o.collectionId)}var a=[];n.where&&(a=function e(t){return t?void 0!==t.unaryFilter?[kn(t)]:void 0!==t.fieldFilter?[Tn(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return e(t)}).reduce(function(e,t){return e.concat(t)}):y():[]}(n.where));var s=[];n.orderBy&&(s=n.orderBy.map(function(e){return function(e){return new Se(On(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)}));var u=null;n.limit&&(u=function(e){var t;return B(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=wn(n.startAt));var l=null;return n.endAt&&(l=wn(n.endAt)),Ie(t,i,s,a,u,"F",c,l)}function _n(e){return{before:e.before,values:e.position}}function wn(e){var t=!!e.before,n=e.values||[];return new we(n,t)}function En(e){return Xt[e]}function Sn(e){return Jt[e]}function Cn(e){return{fieldPath:e.canonicalString()}}function On(e){return P.fromServerFormat(e.fieldPath)}function Tn(e){return fe.create(On(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return y()}}(e.fieldFilter.op),e.fieldFilter.value)}function kn(e){switch(e.unaryFilter.op){case"IS_NAN":var t=On(e.unaryFilter.field);return fe.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=On(e.unaryFilter.field);return fe.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=On(e.unaryFilter.field);return fe.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=On(e.unaryFilter.field);return fe.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return y()}}function In(e){var t=[];return e.fields.forEach(function(e){return t.push(e.canonicalString())}),{fieldPaths:t}}function An(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function Nn(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=Pn(t)),t=Rn(e.get(n),t);return Pn(t)}function Rn(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var o=e.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function Pn(e){return e+"\x01\x01"}function xn(e){var t=e.length;if(v(t>=2),2===t)return v("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),N.emptyPath();for(var n=t-2,r=[],i="",o=0;o<t;){var a=e.indexOf("\x01",o);switch((a<0||a>n)&&y(),e.charAt(a+1)){case"\x01":var s=e.substring(o,a),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"\x10":i+=e.substring(o,a),i+="\0";break;case"\x11":i+=e.substring(o,a+1);break;default:y()}o=a+2}return new N(r)}var Mn=function(e,t){this.seconds=e,this.nanoseconds=t},Ln=function(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n};Ln.store="owner",Ln.key="owner";var Dn=function(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n};Dn.store="mutationQueues",Dn.keyPath="userId";var jn=function(e,t,n,r,i){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};jn.store="mutations",jn.keyPath="batchId",jn.userMutationsIndex="userMutationsIndex",jn.userMutationsKeyPath=["userId","batchId"];var Un=function(){function e(){}return e.prefixForUser=function(e){return[e]},e.prefixForPath=function(e,t){return[e,Nn(t)]},e.key=function(e,t,n){return[e,Nn(t),n]},e}();Un.store="documentMutations",Un.PLACEHOLDER=new Un;var Fn=function(e,t){this.path=e,this.readTime=t},Hn=function(e,t){this.path=e,this.version=t},Bn=function(e,t,n,r,i,o){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};Bn.store="remoteDocuments",Bn.readTimeIndex="readTimeIndex",Bn.readTimeIndexPath="readTime",Bn.collectionReadTimeIndex="collectionReadTimeIndex",Bn.collectionReadTimeIndexPath=["parentPath","readTime"];var Vn=function(e){this.byteSize=e};Vn.store="remoteDocumentGlobal",Vn.key="remoteDocumentGlobalKey";var qn=function(e,t,n,r,i,o,a){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=a};qn.store="targets",qn.keyPath="targetId",qn.queryTargetsIndexName="queryTargetsIndex",qn.queryTargetsKeyPath=["canonicalId","targetId"];var Gn=function(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n};Gn.store="targetDocuments",Gn.keyPath=["targetId","path"],Gn.documentTargetsIndex="documentTargetsIndex",Gn.documentTargetsKeyPath=["path","targetId"];var zn=function(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r};zn.key="targetGlobalKey",zn.store="targetGlobal";var Wn=function(e,t){this.collectionId=e,this.parent=t};Wn.store="collectionParents",Wn.keyPath=["collectionId","parent"];var Kn=function(e,t,n,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r};Kn.store="clientMetadata",Kn.keyPath="clientId";var Yn=function(e,t,n){this.bundleId=e,this.createTime=t,this.version=n};Yn.store="bundles",Yn.keyPath="bundleId";var Qn=function(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n};Qn.store="namedQueries",Qn.keyPath="name";var $n=Object(r.__spreadArray)(Object(r.__spreadArray)([],Object(r.__spreadArray)(Object(r.__spreadArray)([],Object(r.__spreadArray)(Object(r.__spreadArray)([],Object(r.__spreadArray)(Object(r.__spreadArray)([],[Dn.store,jn.store,Un.store,Bn.store,qn.store,Ln.store,zn.store,Gn.store]),[Kn.store])),[Vn.store])),[Wn.store])),[Yn.store,Qn.store]),Xn="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Jn=function(){function e(){this.onCommittedListeners=[]}return e.prototype.addOnCommittedListener=function(e){this.onCommittedListeners.push(e)},e.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(e){return e()})},e}(),Zn=function(){var e=this;this.promise=new Promise(function(t,n){e.resolve=t,e.reject=n})},er=function(){function e(e){var t=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(function(e){t.isDone=!0,t.result=e,t.nextCallback&&t.nextCallback(e)},function(e){t.isDone=!0,t.error=e,t.catchCallback&&t.catchCallback(e)})}return e.prototype.catch=function(e){return this.next(void 0,e)},e.prototype.next=function(t,n){var r=this;return this.callbackAttached&&y(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e(function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}})},e.prototype.toPromise=function(){var e=this;return new Promise(function(t,n){e.next(t,n)})},e.prototype.wrapUserFunction=function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}},e.prototype.wrapSuccess=function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.resolve(n)},e.prototype.wrapFailure=function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.reject(n)},e.resolve=function(t){return new e(function(e,n){e(t)})},e.reject=function(t){return new e(function(e,n){n(t)})},e.waitFor=function(t){return new e(function(e,n){var r=0,i=0,o=!1;t.forEach(function(t){++r,t.next(function(){++i,o&&i===r&&e()},function(e){return n(e)})}),o=!0,i===r&&e()})},e.or=function(t){for(var n=e.resolve(!1),r=function(t){n=n.next(function(n){return n?e.resolve(n):t()})},i=0,o=t;i<o.length;i++)r(o[i]);return n},e.forEach=function(e,t){var n=this,r=[];return e.forEach(function(e,i){r.push(t.call(n,e,i))}),this.waitFor(r)},e}(),tr=function(){function e(e,t){var n=this;this.action=e,this.transaction=t,this.aborted=!1,this.ft=new Zn,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){t.error?n.ft.reject(new ir(e,t.error)):n.ft.resolve()},this.transaction.onerror=function(t){var r=cr(t.target.error);n.ft.reject(new ir(e,r))}}return e.open=function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new ir(n,t)}},Object.defineProperty(e.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),e.prototype.abort=function(e){e&&this.ft.reject(e),this.aborted||(f("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},e.prototype.store=function(e){var t=this.transaction.objectStore(e);return new ar(t)},e}(),nr=function(){function t(e,n,r){this.name=e,this.version=n,this.wt=r,12.2===t._t(Object(i.getUA)())&&d("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(e){return f("SimpleDb","Removing database:",e),sr(window.indexedDB.deleteDatabase(e)).toPromise()},t.yt=function(){if("undefined"==typeof indexedDB)return!1;if(t.gt())return!0;var e=Object(i.getUA)(),n=t._t(e),r=0<n&&n<10,o=t.Et(e),a=0<o&&o<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||a)},t.gt=function(){var t;return"undefined"!=typeof e&&"YES"===(null===(t=Object({NODE_ENV:"production",PUBLIC_URL:""}))||void 0===t?void 0:t.Tt)},t.It=function(e,t){return e.store(t)},t._t=function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Et=function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.At=function(e){return Object(r.__awaiter)(this,void 0,void 0,function(){var t,n=this;return Object(r.__generator)(this,function(r){switch(r.label){case 0:return this.db?[3,2]:(f("SimpleDb","Opening database:",this.name),t=this,[4,new Promise(function(t,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(e){var n=e.target.result;t(n)},i.onblocked=function(){r(new ir(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(t){var n=t.target.error;"VersionError"===n.name?r(new c(u.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):r(new ir(e,n))},i.onupgradeneeded=function(e){f("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.wt.Rt(t,i.transaction,e.oldVersion,n.version).next(function(){f("SimpleDb","Database upgrade to version "+n.version+" complete")})}})]);case 1:t.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(e){return n.bt(e)}),this.db)]}})})},t.prototype.vt=function(e){this.bt=e,this.db&&(this.db.onversionchange=function(t){return e(t)})},t.prototype.runTransaction=function(e,t,n,i){return Object(r.__awaiter)(this,void 0,void 0,function(){var o,a,s,u,c;return Object(r.__generator)(this,function(l){switch(l.label){case 0:o="readonly"===t,a=0,s=function(){var t,s,c,l,h;return Object(r.__generator)(this,function(r){switch(r.label){case 0:++a,r.label=1;case 1:return r.trys.push([1,4,,5]),[4,u.At(e)];case 2:return u.db=r.sent(),t=tr.open(u.db,e,o?"readonly":"readwrite",n),s=i(t).catch(function(e){return t.abort(e),er.reject(e)}).toPromise(),c={},s.catch(function(){}),[4,t.dt];case 3:return[2,(c.value=(r.sent(),s),c)];case 4:return l=r.sent(),h="FirebaseError"!==l.name&&a<3,f("SimpleDb","Transaction failed with error:",l.message,"Retrying:",h),u.close(),h?[3,5]:[2,{value:Promise.reject(l)}];case 5:return[2]}})},u=this,l.label=1;case 1:return[5,s()];case 2:if("object"==typeof(c=l.sent()))return[2,c.value];l.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),rr=function(){function e(e){this.Pt=e,this.Vt=!1,this.St=null}return Object.defineProperty(e.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cursor",{set:function(e){this.Pt=e},enumerable:!1,configurable:!0}),e.prototype.done=function(){this.Vt=!0},e.prototype.Ct=function(e){this.St=e},e.prototype.delete=function(){return sr(this.Pt.delete())},e}(),ir=function(e){function t(t,n){var r=this;return(r=e.call(this,u.UNAVAILABLE,"IndexedDB transaction '"+t+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Object(r.__extends)(t,e),t}(c);function or(e){return"IndexedDbTransactionError"===e.name}var ar=function(){function e(e){this.store=e}return e.prototype.put=function(e,t){var n;return void 0!==t?(f("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(f("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),sr(n)},e.prototype.add=function(e){return f("SimpleDb","ADD",this.store.name,e,e),sr(this.store.add(e))},e.prototype.get=function(e){var t=this;return sr(this.store.get(e)).next(function(n){return void 0===n&&(n=null),f("SimpleDb","GET",t.store.name,e,n),n})},e.prototype.delete=function(e){return f("SimpleDb","DELETE",this.store.name,e),sr(this.store.delete(e))},e.prototype.count=function(){return f("SimpleDb","COUNT",this.store.name),sr(this.store.count())},e.prototype.Nt=function(e,t){var n=this.cursor(this.options(e,t)),r=[];return this.xt(n,function(e,t){r.push(t)}).next(function(){return r})},e.prototype.kt=function(e,t){f("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.Ft=!1;var r=this.cursor(n);return this.xt(r,function(e,t,n){return n.delete()})},e.prototype.$t=function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.xt(r,t)},e.prototype.Ot=function(e){var t=this.cursor({});return new er(function(n,r){t.onerror=function(e){var t=cr(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next(function(e){e?r.continue():n()}):n()}})},e.prototype.xt=function(e,t){var n=[];return new er(function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var o=new rr(i),a=t(i.primaryKey,i.value,o);if(a instanceof er){var s=a.catch(function(e){return o.done(),er.reject(e)});n.push(s)}o.isDone?r():null===o.Dt?i.continue():i.continue(o.Dt)}else r()}}).next(function(){return er.waitFor(n)})},e.prototype.options=function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}},e.prototype.cursor=function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.Ft?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)},e}();function sr(e){return new er(function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=cr(e.target.error);n(t)}})}var ur=!1;function cr(e){var t=nr._t(Object(i.getUA)());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new c("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return ur||(ur=!0,setTimeout(function(){throw r},0)),r}}return e}var lr=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).Mt=t,r.currentSequenceNumber=n,r}return Object(r.__extends)(t,e),t}(Jn);function hr(e,t){var n=m(e);return nr.It(n.Mt,t)}var fr=function(){function e(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}return e.prototype.applyToRemoteDocument=function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&lt(i,e,n[r])}},e.prototype.applyToLocalView=function(e){for(var t=0,n=this.baseMutations;t<n.length;t++)(o=n[t]).key.isEqual(e.key)&&ht(o,e,this.localWriteTime);for(var r=0,i=this.mutations;r<i.length;r++){var o;(o=i[r]).key.isEqual(e.key)&&ht(o,e,this.localWriteTime)}},e.prototype.applyToLocalDocumentSet=function(e){var t=this;this.mutations.forEach(function(n){var r=e.get(n.key),i=r;t.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(O.min())})},e.prototype.keys=function(){return this.mutations.reduce(function(e,t){return e.add(t.key)},Ft())},e.prototype.isEqual=function(e){return this.batchId===e.batchId&&E(this.mutations,e.mutations,function(e,t){return dt(e,t)})&&E(this.baseMutations,e.baseMutations,function(e,t){return dt(e,t)})},e}(),dr=function(){function e(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}return e.from=function(t,n,r){v(t.mutations.length===r.length);for(var i=jt(),o=t.mutations,a=0;a<o.length;a++)i=i.insert(o[a].key,r[a].version);return new e(t,n,r,i)},e}(),pr=function(){function e(e,t,n,r,i,o,a){void 0===i&&(i=O.min()),void 0===o&&(o=O.min()),void 0===a&&(a=M.EMPTY_BYTE_STRING),this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}return e.prototype.withSequenceNumber=function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},e.prototype.withResumeToken=function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)},e.prototype.withLastLimboFreeSnapshotVersion=function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)},e}(),gr=function(e){this.Lt=e};function yr(e,t){if(t.document)return pn(e.Lt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=G.fromSegments(t.noDocument.path),r=wr(t.noDocument.readTime),i=ae.newNoDocument(n,r);return t.hasCommittedMutations?i.setHasCommittedMutations():i}if(t.unknownDocument){var o=G.fromSegments(t.unknownDocument.path);return r=wr(t.unknownDocument.version),ae.newUnknownDocument(o,r)}return y()}function vr(e,t,n){var r=mr(n),i=t.key.path.popLast().toArray();if(t.isFoundDocument()){var o=function(e,t){return{name:sn(e,t.key),fields:t.data.value.mapValue.fields,updateTime:en(e,t.version.toTimestamp())}}(e.Lt,t),a=t.hasCommittedMutations;return new Bn(null,null,o,a,r,i)}if(t.isNoDocument()){var s=t.key.path.toArray(),u=_r(t.version);return a=t.hasCommittedMutations,new Bn(null,new Fn(s,u),null,a,r,i)}if(t.isUnknownDocument()){var c=t.key.path.toArray(),l=_r(t.version);return new Bn(new Hn(c,l),null,null,!0,r,i)}return y()}function mr(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function br(e){var t=new C(e[0],e[1]);return O.fromTimestamp(t)}function _r(e){var t=e.toTimestamp();return new Mn(t.seconds,t.nanoseconds)}function wr(e){var t=new C(e.seconds,e.nanoseconds);return O.fromTimestamp(t)}function Er(e,t){for(var n=(t.baseMutations||[]).map(function(t){return yn(e.Lt,t)}),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var o=t.mutations[r+1];i.updateTransforms=o.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var a=t.mutations.map(function(t){return yn(e.Lt,t)}),s=C.fromMillis(t.localWriteTimeMs);return new fr(t.batchId,s,n,a)}function Sr(e){var t,n,r=wr(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?wr(e.lastLimboFreeSnapshotVersion):O.min();return void 0!==e.query.documents?(v(1===(n=e.query).documents.length),t=De(Ae(ln(n.documents[0])))):t=function(e){return De(bn(e))}(e.query),new pr(t,e.targetId,0,e.lastListenSequenceNumber,r,i,M.fromBase64String(e.resumeToken))}function Cr(e,t){var n,r=_r(t.snapshotVersion),i=_r(t.lastLimboFreeSnapshotVersion);n=he(t.target)?vn(e.Lt,t.target):mn(e.Lt,t.target);var o=t.resumeToken.toBase64();return new qn(t.targetId,ce(t.target),r,o,t.sequenceNumber,i,n)}function Or(e){var t=bn({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?je(t,t.limit,"L"):t}var Tr=function(){function e(){}return e.prototype.getBundleMetadata=function(e,t){return kr(e).get(t).next(function(e){if(e)return{id:(t=e).bundleId,createTime:wr(t.createTime),version:t.version};var t})},e.prototype.saveBundleMetadata=function(e,t){return kr(e).put({bundleId:(n=t).id,createTime:_r(rn(n.createTime)),version:n.version});var n},e.prototype.getNamedQuery=function(e,t){return Ir(e).get(t).next(function(e){if(e)return{name:(t=e).name,query:Or(t.bundledQuery),readTime:wr(t.readTime)};var t})},e.prototype.saveNamedQuery=function(e,t){return Ir(e).put(function(e){return{name:e.name,readTime:_r(rn(e.readTime)),bundledQuery:e.bundledQuery}}(t))},e}();function kr(e){return hr(e,Yn.store)}function Ir(e){return hr(e,Qn.store)}var Ar=function(){function e(){this.Bt=new Nr}return e.prototype.addToCollectionParentIndex=function(e,t){return this.Bt.add(t),er.resolve()},e.prototype.getCollectionParents=function(e,t){return er.resolve(this.Bt.getEntries(t))},e}(),Nr=function(){function e(){this.index={}}return e.prototype.add=function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Nt(N.comparator),i=!r.has(n);return this.index[t]=r.add(n),i},e.prototype.has=function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)},e.prototype.getEntries=function(e){return(this.index[e]||new Nt(N.comparator)).toArray()},e}(),Rr=function(){function e(){this.qt=new Nr}return e.prototype.addToCollectionParentIndex=function(e,t){var n=this;if(!this.qt.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(function(){n.qt.add(t)});var o={collectionId:r,parent:Nn(i)};return Pr(e).put(o)}return er.resolve()},e.prototype.getCollectionParents=function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[S(t),""],!1,!0);return Pr(e).Nt(r).next(function(e){for(var r=0,i=e;r<i.length;r++){var o=i[r];if(o.collectionId!==t)break;n.push(xn(o.parent))}return n})},e}();function Pr(e){return hr(e,Wn.store)}var xr={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Mr=function(){function e(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}return e.withCacheSize=function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},e}();function Lr(e,t,n){var r=e.store(jn.store),i=e.store(Un.store),o=[],a=IDBKeyRange.only(n.batchId),s=0,u=r.$t({range:a},function(e,t,n){return s++,n.delete()});o.push(u.next(function(){v(1===s)}));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],d=Un.key(t,f.key.path,n.batchId);o.push(i.delete(d)),c.push(f.key)}return er.waitFor(o).next(function(){return c})}function Dr(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw y();t=e.noDocument}return JSON.stringify(t).length}Mr.DEFAULT_COLLECTION_PERCENTILE=10,Mr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Mr.DEFAULT=new Mr(41943040,Mr.DEFAULT_COLLECTION_PERCENTILE,Mr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Mr.DISABLED=new Mr(-1,0,0);var jr=function(){function e(e,t,n,r){this.userId=e,this.R=t,this.Ut=n,this.referenceDelegate=r,this.Kt={}}return e.Qt=function(t,n,r,i){return v(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)},e.prototype.checkEmpty=function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Fr(e).$t({index:jn.userMutationsIndex,range:n},function(e,n,r){t=!1,r.done()}).next(function(){return t})},e.prototype.addMutationBatch=function(e,t,n,r){var i=this,o=Hr(e),a=Fr(e);return a.add({}).next(function(s){v("number"==typeof s);for(var u=new fr(s,t,n,r),c=function(e,t,n){var r=n.baseMutations.map(function(t){return gn(e.Lt,t)}),i=n.mutations.map(function(t){return gn(e.Lt,t)});return new jn(t,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.R,i.userId,u),l=[],h=new Nt(function(e,t){return w(e.canonicalString(),t.canonicalString())}),f=0,d=r;f<d.length;f++){var p=d[f],g=Un.key(i.userId,p.key.path,s);h=h.add(p.key.path.popLast()),l.push(a.put(c)),l.push(o.put(g,Un.PLACEHOLDER))}return h.forEach(function(t){l.push(i.Ut.addToCollectionParentIndex(e,t))}),e.addOnCommittedListener(function(){i.Kt[s]=u.keys()}),er.waitFor(l).next(function(){return u})})},e.prototype.lookupMutationBatch=function(e,t){var n=this;return Fr(e).get(t).next(function(e){return e?(v(e.userId===n.userId),Er(n.R,e)):null})},e.prototype.jt=function(e,t){var n=this;return this.Kt[t]?er.resolve(this.Kt[t]):this.lookupMutationBatch(e,t).next(function(e){if(e){var r=e.keys();return n.Kt[t]=r,r}return null})},e.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return Fr(e).$t({index:jn.userMutationsIndex,range:i},function(e,t,i){t.userId===n.userId&&(v(t.batchId>=r),o=Er(n.R,t)),i.done()}).next(function(){return o})},e.prototype.getHighestUnacknowledgedBatchId=function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Fr(e).$t({index:jn.userMutationsIndex,range:t,reverse:!0},function(e,t,r){n=t.batchId,r.done()}).next(function(){return n})},e.prototype.getAllMutationBatches=function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Fr(e).Nt(jn.userMutationsIndex,n).next(function(e){return e.map(function(e){return Er(t.R,e)})})},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=Un.prefixForPath(this.userId,t.path),i=IDBKeyRange.lowerBound(r),o=[];return Hr(e).$t({range:i},function(r,i,a){var s=r[0],u=r[1],c=r[2],l=xn(u);if(s===n.userId&&t.path.isEqual(l))return Fr(e).get(c).next(function(e){if(!e)throw y();v(e.userId===n.userId),o.push(Er(n.R,e))});a.done()}).next(function(){return o})},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,r=new Nt(w),i=[];return t.forEach(function(t){var o=Un.prefixForPath(n.userId,t.path),a=IDBKeyRange.lowerBound(o),s=Hr(e).$t({range:a},function(e,i,o){var a=e[0],s=e[1],u=e[2],c=xn(s);a===n.userId&&t.path.isEqual(c)?r=r.add(u):o.done()});i.push(s)}),er.waitFor(i).next(function(){return n.Wt(e,r)})},e.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var n=this,r=t.path,i=r.length+1,o=Un.prefixForPath(this.userId,r),a=IDBKeyRange.lowerBound(o),s=new Nt(w);return Hr(e).$t({range:a},function(e,t,o){var a=e[0],u=e[1],c=e[2],l=xn(u);a===n.userId&&r.isPrefixOf(l)?l.length===i&&(s=s.add(c)):o.done()}).next(function(){return n.Wt(e,s)})},e.prototype.Wt=function(e,t){var n=this,r=[],i=[];return t.forEach(function(t){i.push(Fr(e).get(t).next(function(e){if(null===e)throw y();v(e.userId===n.userId),r.push(Er(n.R,e))}))}),er.waitFor(i).next(function(){return r})},e.prototype.removeMutationBatch=function(e,t){var n=this;return Lr(e.Mt,this.userId,t).next(function(r){return e.addOnCommittedListener(function(){n.Gt(t.batchId)}),er.forEach(r,function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)})})},e.prototype.Gt=function(e){delete this.Kt[e]},e.prototype.performConsistencyCheck=function(e){var t=this;return this.checkEmpty(e).next(function(n){if(!n)return er.resolve();var r=IDBKeyRange.lowerBound(Un.prefixForUser(t.userId)),i=[];return Hr(e).$t({range:r},function(e,n,r){if(e[0]===t.userId){var o=xn(e[1]);i.push(o)}else r.done()}).next(function(){v(0===i.length)})})},e.prototype.containsKey=function(e,t){return Ur(e,this.userId,t)},e.prototype.zt=function(e){var t=this;return Br(e).get(this.userId).next(function(e){return e||new Dn(t.userId,-1,"")})},e}();function Ur(e,t,n){var r=Un.prefixForPath(t,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),a=!1;return Hr(e).$t({range:o,Ft:!0},function(e,n,r){var o=e[0],s=e[1];e[2],o===t&&s===i&&(a=!0),r.done()}).next(function(){return a})}function Fr(e){return hr(e,jn.store)}function Hr(e){return hr(e,Un.store)}function Br(e){return hr(e,Dn.store)}var Vr=function(){function e(e){this.Ht=e}return e.prototype.next=function(){return this.Ht+=2,this.Ht},e.Jt=function(){return new e(0)},e.Yt=function(){return new e(-1)},e}(),qr=function(){function e(e,t){this.referenceDelegate=e,this.R=t}return e.prototype.allocateTargetId=function(e){var t=this;return this.Xt(e).next(function(n){var r=new Vr(n.highestTargetId);return n.highestTargetId=r.next(),t.Zt(e,n).next(function(){return n.highestTargetId})})},e.prototype.getLastRemoteSnapshotVersion=function(e){return this.Xt(e).next(function(e){return O.fromTimestamp(new C(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))})},e.prototype.getHighestSequenceNumber=function(e){return this.Xt(e).next(function(e){return e.highestListenSequenceNumber})},e.prototype.setTargetsMetadata=function(e,t,n){var r=this;return this.Xt(e).next(function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Zt(e,i)})},e.prototype.addTargetData=function(e,t){var n=this;return this.te(e,t).next(function(){return n.Xt(e).next(function(r){return r.targetCount+=1,n.ee(t,r),n.Zt(e,r)})})},e.prototype.updateTargetData=function(e,t){return this.te(e,t)},e.prototype.removeTargetData=function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next(function(){return Gr(e).delete(t.targetId)}).next(function(){return n.Xt(e)}).next(function(t){return v(t.targetCount>0),t.targetCount-=1,n.Zt(e,t)})},e.prototype.removeTargets=function(e,t,n){var r=this,i=0,o=[];return Gr(e).$t(function(a,s){var u=Sr(s);u.sequenceNumber<=t&&null===n.get(u.targetId)&&(i++,o.push(r.removeTargetData(e,u)))}).next(function(){return er.waitFor(o)}).next(function(){return i})},e.prototype.forEachTarget=function(e,t){return Gr(e).$t(function(e,n){var r=Sr(n);t(r)})},e.prototype.Xt=function(e){return zr(e).get(zn.key).next(function(e){return v(null!==e),e})},e.prototype.Zt=function(e,t){return zr(e).put(zn.key,t)},e.prototype.te=function(e,t){return Gr(e).put(Cr(this.R,t))},e.prototype.ee=function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n},e.prototype.getTargetCount=function(e){return this.Xt(e).next(function(e){return e.targetCount})},e.prototype.getTargetData=function(e,t){var n=ce(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Gr(e).$t({range:r,index:qn.queryTargetsIndexName},function(e,n,r){var o=Sr(n);le(t,o.target)&&(i=o,r.done())}).next(function(){return i})},e.prototype.addMatchingKeys=function(e,t,n){var r=this,i=[],o=Wr(e);return t.forEach(function(t){var a=Nn(t.path);i.push(o.put(new Gn(n,a))),i.push(r.referenceDelegate.addReference(e,n,t))}),er.waitFor(i)},e.prototype.removeMatchingKeys=function(e,t,n){var r=this,i=Wr(e);return er.forEach(t,function(t){var o=Nn(t.path);return er.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(e,n,t)])})},e.prototype.removeMatchingKeysForTargetId=function(e,t){var n=Wr(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)},e.prototype.getMatchingKeysForTargetId=function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=Wr(e),i=Ft();return r.$t({range:n,Ft:!0},function(e,t,n){var r=xn(e[1]),o=new G(r);i=i.add(o)}).next(function(){return i})},e.prototype.containsKey=function(e,t){var n=Nn(t.path),r=IDBKeyRange.bound([n],[S(n)],!1,!0),i=0;return Wr(e).$t({index:Gn.documentTargetsIndex,Ft:!0,range:r},function(e,t,n){var r=e[0];e[1],0!==r&&(i++,n.done())}).next(function(){return i>0})},e.prototype.lt=function(e,t){return Gr(e).get(t).next(function(e){return e?Sr(e):null})},e}();function Gr(e){return hr(e,qn.store)}function zr(e){return hr(e,zn.store)}function Wr(e){return hr(e,Gn.store)}function Kr(e){return Object(r.__awaiter)(this,void 0,void 0,function(){return Object(r.__generator)(this,function(t){if(e.code!==u.FAILED_PRECONDITION||e.message!==Xn)throw e;return f("LocalStore","Unexpectedly lost primary lease"),[2]})})}function Yr(e,t){var n=e[0],r=e[1],i=t[0],o=t[1],a=w(n,i);return 0===a?w(r,o):a}var Qr=function(){function e(e){this.ne=e,this.buffer=new Nt(Yr),this.se=0}return e.prototype.ie=function(){return++this.se},e.prototype.re=function(e){var t=[e,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();Yr(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}},Object.defineProperty(e.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),e}(),$r=function(){function e(e,t){this.garbageCollector=e,this.asyncQueue=t,this.oe=!1,this.ce=null}return e.prototype.start=function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(e)},e.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(e.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),e.prototype.ue=function(e){var t=this,n=this.oe?3e5:6e4;f("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,function(){return Object(r.__awaiter)(t,void 0,void 0,function(){var t;return Object(r.__generator)(this,function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,e.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return or(t=n.sent())?(f("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t),[3,6]):[3,4];case 4:return[4,Kr(t)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(e)];case 8:return n.sent(),[2]}})})})},e}(),Xr=function(){function e(e,t){this.ae=e,this.params=t}return e.prototype.calculateTargetCount=function(e,t){return this.ae.he(e).next(function(e){return Math.floor(t/100*e)})},e.prototype.nthSequenceNumber=function(e,t){var n=this;if(0===t)return er.resolve(s.o);var r=new Qr(t);return this.ae.forEachTarget(e,function(e){return r.re(e.sequenceNumber)}).next(function(){return n.ae.le(e,function(e){return r.re(e)})}).next(function(){return r.maxValue})},e.prototype.removeTargets=function(e,t,n){return this.ae.removeTargets(e,t,n)},e.prototype.removeOrphanedDocuments=function(e,t){return this.ae.removeOrphanedDocuments(e,t)},e.prototype.collect=function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(f("LruGarbageCollector","Garbage collection skipped; disabled"),er.resolve(xr)):this.getCacheSize(e).next(function(r){return r<n.params.cacheSizeCollectionThreshold?(f("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),xr):n.fe(e,t)})},e.prototype.getCacheSize=function(e){return this.ae.getCacheSize(e)},e.prototype.fe=function(e,t){var n,r,i,a,s,u,c,l=this,d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(function(t){return t>l.params.maximumSequenceNumbersToCollect?(f("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+l.params.maximumSequenceNumbersToCollect+" from "+t),r=l.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),l.nthSequenceNumber(e,r)}).next(function(r){return n=r,s=Date.now(),l.removeTargets(e,n,t)}).next(function(t){return i=t,u=Date.now(),l.removeOrphanedDocuments(e,n)}).next(function(e){return c=Date.now(),h()<=o.LogLevel.DEBUG&&f("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(a-d)+"ms\n\tDetermined least recently used "+r+" in "+(s-a)+"ms\n\tRemoved "+i+" targets in "+(u-s)+"ms\n\tRemoved "+e+" documents in "+(c-u)+"ms\nTotal Duration: "+(c-d)+"ms"),er.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})})},e}(),Jr=function(){function e(e,t){this.db=e,this.garbageCollector=function(e,t){return new Xr(e,t)}(this,t)}return e.prototype.he=function(e){var t=this.de(e);return this.db.getTargetCache().getTargetCount(e).next(function(e){return t.next(function(t){return e+t})})},e.prototype.de=function(e){var t=0;return this.le(e,function(e){t++}).next(function(){return t})},e.prototype.forEachTarget=function(e,t){return this.db.getTargetCache().forEachTarget(e,t)},e.prototype.le=function(e,t){return this.we(e,function(e,n){return t(n)})},e.prototype.addReference=function(e,t,n){return Zr(e,n)},e.prototype.removeReference=function(e,t,n){return Zr(e,n)},e.prototype.removeTargets=function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)},e.prototype.markPotentiallyOrphaned=function(e,t){return Zr(e,t)},e.prototype._e=function(e,t){return function(e,t){var n=!1;return Br(e).Ot(function(r){return Ur(e,r,t).next(function(e){return e&&(n=!0),er.resolve(!e)})}).next(function(){return n})}(e,t)},e.prototype.removeOrphanedDocuments=function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.we(e,function(a,s){if(s<=t){var u=n._e(e,a).next(function(t){if(!t)return o++,r.getEntry(e,a).next(function(){return r.removeEntry(a),Wr(e).delete([0,Nn(a.path)])})});i.push(u)}}).next(function(){return er.waitFor(i)}).next(function(){return r.apply(e)}).next(function(){return o})},e.prototype.removeTarget=function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)},e.prototype.updateLimboDocument=function(e,t){return Zr(e,t)},e.prototype.we=function(e,t){var n,r=Wr(e),i=s.o;return r.$t({index:Gn.documentTargetsIndex},function(e,r){var o=e[0];e[1];var a=r.path,u=r.sequenceNumber;0===o?(i!==s.o&&t(new G(xn(n)),i),i=u,n=a):i=s.o}).next(function(){i!==s.o&&t(new G(xn(n)),i)})},e.prototype.getCacheSize=function(e){return this.db.getRemoteDocumentCache().getSize(e)},e}();function Zr(e,t){return Wr(e).put(function(e,t){return new Gn(0,Nn(e.path),t)}(t,e.currentSequenceNumber))}var ei=function(){function e(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}return e.prototype.get=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];if(this.equalsFn(a,e))return s}},e.prototype.has=function(e){return void 0!==this.get(e)},e.prototype.set=function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]},e.prototype.delete=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1},e.prototype.forEach=function(e){k(this.inner,function(t,n){for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];e(a,s)}})},e.prototype.isEmpty=function(){return I(this.inner)},e}(),ti=function(){function e(){this.changes=new ei(function(e){return e.toString()},function(e,t){return e.isEqual(t)}),this.changesApplied=!1}return e.prototype.getReadTime=function(e){var t=this.changes.get(e);return t?t.readTime:O.min()},e.prototype.addEntry=function(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})},e.prototype.removeEntry=function(e,t){void 0===t&&(t=null),this.assertNotApplied(),this.changes.set(e,{document:ae.newInvalidDocument(e),readTime:t})},e.prototype.getEntry=function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?er.resolve(n.document):this.getFromCache(e,t)},e.prototype.getEntries=function(e,t){return this.getAllFromCache(e,t)},e.prototype.apply=function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)},e.prototype.assertNotApplied=function(){},e}(),ni=function(){function e(e,t){this.R=e,this.Ut=t}return e.prototype.addEntry=function(e,t,n){return oi(e).put(ai(t),n)},e.prototype.removeEntry=function(e,t){var n=oi(e),r=ai(t);return n.delete(r)},e.prototype.updateMetadata=function(e,t){var n=this;return this.getMetadata(e).next(function(r){return r.byteSize+=t,n.me(e,r)})},e.prototype.getEntry=function(e,t){var n=this;return oi(e).get(ai(t)).next(function(e){return n.ye(t,e)})},e.prototype.ge=function(e,t){var n=this;return oi(e).get(ai(t)).next(function(e){return{document:n.ye(t,e),size:Dr(e)}})},e.prototype.getEntries=function(e,t){var n=this,r=xt();return this.pe(e,t,function(e,t){var i=n.ye(e,t);r=r.insert(e,i)}).next(function(){return r})},e.prototype.Ee=function(e,t){var n=this,r=xt(),i=new kt(G.comparator);return this.pe(e,t,function(e,t){var o=n.ye(e,t);r=r.insert(e,o),i=i.insert(e,Dr(t))}).next(function(){return{documents:r,Te:i}})},e.prototype.pe=function(e,t,n){if(t.isEmpty())return er.resolve();var r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),i=t.getIterator(),o=i.getNext();return oi(e).$t({range:r},function(e,t,r){for(var a=G.fromSegments(e);o&&G.comparator(o,a)<0;)n(o,null),o=i.getNext();o&&o.isEqual(a)&&(n(o,t),o=i.hasNext()?i.getNext():null),o?r.Ct(o.path.toArray()):r.done()}).next(function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null})},e.prototype.getDocumentsMatchingQuery=function(e,t,n){var r=this,i=xt(),o=t.path.length+1,a={};if(n.isEqual(O.min())){var s=t.path.toArray();a.range=IDBKeyRange.lowerBound(s)}else{var u=t.path.toArray(),c=mr(n);a.range=IDBKeyRange.lowerBound([u,c],!0),a.index=Bn.collectionReadTimeIndex}return oi(e).$t(a,function(e,n,a){if(e.length===o){var s=yr(r.R,n);t.path.isPrefixOf(s.key.path)?Be(t,s)&&(i=i.insert(s.key,s)):a.done()}}).next(function(){return i})},e.prototype.newChangeBuffer=function(e){return new ri(this,!!e&&e.trackRemovals)},e.prototype.getSize=function(e){return this.getMetadata(e).next(function(e){return e.byteSize})},e.prototype.getMetadata=function(e){return ii(e).get(Vn.key).next(function(e){return v(!!e),e})},e.prototype.me=function(e,t){return ii(e).put(Vn.key,t)},e.prototype.ye=function(e,t){if(t){var n=yr(this.R,t);if(!n.isNoDocument()||!n.version.isEqual(O.min()))return n}return ae.newInvalidDocument(e)},e}(),ri=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).Ie=t,r.trackRemovals=n,r.Ae=new ei(function(e){return e.toString()},function(e,t){return e.isEqual(t)}),r}return Object(r.__extends)(t,e),t.prototype.applyChanges=function(e){var t=this,n=[],r=0,i=new Nt(function(e,t){return w(e.canonicalString(),t.canonicalString())});return this.changes.forEach(function(o,a){var s=t.Ae.get(o);if(a.document.isValidDocument()){var u=vr(t.Ie.R,a.document,t.getReadTime(o));i=i.add(o.path.popLast());var c=Dr(u);r+=c-s,n.push(t.Ie.addEntry(e,o,u))}else if(r-=s,t.trackRemovals){var l=vr(t.Ie.R,ae.newNoDocument(o,O.min()),t.getReadTime(o));n.push(t.Ie.addEntry(e,o,l))}else n.push(t.Ie.removeEntry(e,o))}),i.forEach(function(r){n.push(t.Ie.Ut.addToCollectionParentIndex(e,r))}),n.push(this.Ie.updateMetadata(e,r)),er.waitFor(n)},t.prototype.getFromCache=function(e,t){var n=this;return this.Ie.ge(e,t).next(function(e){return n.Ae.set(t,e.size),e.document})},t.prototype.getAllFromCache=function(e,t){var n=this;return this.Ie.Ee(e,t).next(function(e){var t=e.documents;return e.Te.forEach(function(e,t){n.Ae.set(e,t)}),t})},t}(ti);function ii(e){return hr(e,Vn.store)}function oi(e){return hr(e,Bn.store)}function ai(e){return e.path.toArray()}var si=function(){function e(e){this.R=e}return e.prototype.Rt=function(e,t,n,r){var i=this;v(n<r&&n>=0&&r<=11);var o=new tr("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore(Ln.store)}(e),function(e){e.createObjectStore(Dn.store,{keyPath:Dn.keyPath}),e.createObjectStore(jn.store,{keyPath:jn.keyPath,autoIncrement:!0}).createIndex(jn.userMutationsIndex,jn.userMutationsKeyPath,{unique:!0}),e.createObjectStore(Un.store)}(e),ui(e),function(e){e.createObjectStore(Bn.store)}(e));var a=er.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore(Gn.store),e.deleteObjectStore(qn.store),e.deleteObjectStore(zn.store)}(e),ui(e)),a=a.next(function(){return function(e){var t=o.store(zn.store),n=new zn(0,0,O.min().toTimestamp(),0);return t.put(zn.key,n)}()})),n<4&&r>=4&&(0!==n&&(a=a.next(function(){return function(e,t){return t.store(jn.store).Nt().next(function(n){e.deleteObjectStore(jn.store),e.createObjectStore(jn.store,{keyPath:jn.keyPath,autoIncrement:!0}).createIndex(jn.userMutationsIndex,jn.userMutationsKeyPath,{unique:!0});var r=t.store(jn.store),i=n.map(function(e){return r.put(e)});return er.waitFor(i)})}(e,o)})),a=a.next(function(){!function(e){e.createObjectStore(Kn.store,{keyPath:Kn.keyPath})}(e)})),n<5&&r>=5&&(a=a.next(function(){return i.Re(o)})),n<6&&r>=6&&(a=a.next(function(){return function(e){e.createObjectStore(Vn.store)}(e),i.be(o)})),n<7&&r>=7&&(a=a.next(function(){return i.ve(o)})),n<8&&r>=8&&(a=a.next(function(){return i.Pe(e,o)})),n<9&&r>=9&&(a=a.next(function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e),function(e){var t=e.objectStore(Bn.store);t.createIndex(Bn.readTimeIndex,Bn.readTimeIndexPath,{unique:!1}),t.createIndex(Bn.collectionReadTimeIndex,Bn.collectionReadTimeIndexPath,{unique:!1})}(t)})),n<10&&r>=10&&(a=a.next(function(){return i.Ve(o)})),n<11&&r>=11&&(a=a.next(function(){!function(e){e.createObjectStore(Yn.store,{keyPath:Yn.keyPath})}(e),function(e){e.createObjectStore(Qn.store,{keyPath:Qn.keyPath})}(e)})),a},e.prototype.be=function(e){var t=0;return e.store(Bn.store).$t(function(e,n){t+=Dr(n)}).next(function(){var n=new Vn(t);return e.store(Vn.store).put(Vn.key,n)})},e.prototype.Re=function(e){var t=this,n=e.store(Dn.store),r=e.store(jn.store);return n.Nt().next(function(n){return er.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(jn.userMutationsIndex,i).next(function(r){return er.forEach(r,function(r){v(r.userId===n.userId);var i=Er(t.R,r);return Lr(e,n.userId,i).next(function(){})})})})})},e.prototype.ve=function(e){var t=e.store(Gn.store),n=e.store(Bn.store);return e.store(zn.store).get(zn.key).next(function(e){var r=[];return n.$t(function(n,i){var o=new N(n),a=[0,Nn(o)];r.push(t.get(a).next(function(n){return n?er.resolve():function(n){return t.put(new Gn(0,Nn(n),e.highestListenSequenceNumber))}(o)}))}).next(function(){return er.waitFor(r)})})},e.prototype.Pe=function(e,t){e.createObjectStore(Wn.store,{keyPath:Wn.keyPath});var n=t.store(Wn.store),r=new Nr,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:Nn(i)})}};return t.store(Bn.store).$t({Ft:!0},function(e,t){var n=new N(e);return i(n.popLast())}).next(function(){return t.store(Un.store).$t({Ft:!0},function(e,t){e[0];var n=e[1];e[2];var r=xn(n);return i(r.popLast())})})},e.prototype.Ve=function(e){var t=this,n=e.store(qn.store);return n.$t(function(e,r){var i=Sr(r),o=Cr(t.R,i);return n.put(o)})},e}();function ui(e){e.createObjectStore(Gn.store,{keyPath:Gn.keyPath}).createIndex(Gn.documentTargetsIndex,Gn.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(qn.store,{keyPath:qn.keyPath}).createIndex(qn.queryTargetsIndexName,qn.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(zn.store)}var ci="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",li=function(){function e(t,n,r,i,o,a,s,l,h,f){if(this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Se=o,this.window=a,this.document=s,this.De=h,this.Ce=f,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ke=null,this.inForeground=!1,this.Fe=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(e){return Promise.resolve()},!e.yt())throw new c(u.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Jr(this,i),this.Le=n+"main",this.R=new gr(l),this.Be=new nr(this.Le,11,new si(this.R)),this.qe=new qr(this.referenceDelegate,this.R),this.Ut=new Rr,this.Ue=function(e,t){return new ni(e,t)}(this.R,this.Ut),this.Ke=new Tr,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,!1===f&&d("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return e.prototype.start=function(){var e=this;return this.je().then(function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new c(u.FAILED_PRECONDITION,ci);return e.We(),e.Ge(),e.ze(),e.runTransaction("getHighestListenSequenceNumber","readonly",function(t){return e.qe.getHighestSequenceNumber(t)})}).then(function(t){e.Ne=new s(t,e.De)}).then(function(){e.xe=!0}).catch(function(t){return e.Be&&e.Be.close(),Promise.reject(t)})},e.prototype.He=function(e){var t=this;return this.Me=function(n){return Object(r.__awaiter)(t,void 0,void 0,function(){return Object(r.__generator)(this,function(t){return this.started?[2,e(n)]:[2]})})},e(this.isPrimary)},e.prototype.setDatabaseDeletedListener=function(e){var t=this;this.Be.vt(function(n){return Object(r.__awaiter)(t,void 0,void 0,function(){return Object(r.__generator)(this,function(t){switch(t.label){case 0:return null===n.newVersion?[4,e()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})},e.prototype.setNetworkEnabled=function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Se.enqueueAndForget(function(){return Object(r.__awaiter)(t,void 0,void 0,function(){return Object(r.__generator)(this,function(e){switch(e.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})}))},e.prototype.je=function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(t){return fi(t).put(new Kn(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next(function(){if(e.isPrimary)return e.Je(t).next(function(t){t||(e.isPrimary=!1,e.Se.enqueueRetryable(function(){return e.Me(!1)}))})}).next(function(){return e.Ye(t)}).next(function(n){return e.isPrimary&&!n?e.Xe(t).next(function(){return!1}):!!n&&e.Ze(t).next(function(){return!0})})}).catch(function(t){if(or(t))return f("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return f("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(function(t){e.isPrimary!==t&&e.Se.enqueueRetryable(function(){return e.Me(t)}),e.isPrimary=t})},e.prototype.Je=function(e){var t=this;return hi(e).get(Ln.key).next(function(e){return er.resolve(t.tn(e))})},e.prototype.en=function(e){return fi(e).delete(this.clientId)},e.prototype.nn=function(){return Object(r.__awaiter)(this,void 0,void 0,function(){var e,t,n,i,o=this;return Object(r.__generator)(this,function(r){switch(r.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(e){var t=hr(e,Kn.store);return t.Nt().next(function(e){var n=o.rn(e,18e5),r=e.filter(function(e){return-1===n.indexOf(e)});return er.forEach(r,function(e){return t.delete(e.clientId)}).next(function(){return r})})}).catch(function(){return[]})]);case 1:if(e=r.sent(),this.Qe)for(t=0,n=e;t<n.length;t++)i=n[t],this.Qe.removeItem(this.on(i.clientId));r.label=2;case 2:return[2]}})})},e.prototype.ze=function(){var e=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return e.je().then(function(){return e.nn()}).then(function(){return e.ze()})})},e.prototype.tn=function(e){return!!e&&e.ownerId===this.clientId},e.prototype.Ye=function(e){var t=this;return this.Ce?er.resolve(!0):hi(e).get(Ln.key).next(function(n){if(null!==n&&t.sn(n.leaseTimestampMs,5e3)&&!t.cn(n.ownerId)){if(t.tn(n)&&t.networkEnabled)return!0;if(!t.tn(n)){if(!n.allowTabSynchronization)throw new c(u.FAILED_PRECONDITION,ci);return!1}}return!(!t.networkEnabled||!t.inForeground)||fi(e).Nt().next(function(e){return void 0===t.rn(e,5e3).find(function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1})})}).next(function(e){return t.isPrimary!==e&&f("IndexedDbPersistence","Client "+(e?"is":"is not")+" eligible for a primary lease."),e})},e.prototype.shutdown=function(){return Object(r.__awaiter)(this,void 0,void 0,function(){var e=this;return Object(r.__generator)(this,function(t){switch(t.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[Ln.store,Kn.store],function(t){var n=new lr(t,s.o);return e.Xe(n).next(function(){return e.en(n)})})];case 1:return t.sent(),this.Be.close(),this.ln(),[2]}})})},e.prototype.rn=function(e,t){var n=this;return e.filter(function(e){return n.sn(e.updateTimeMs,t)&&!n.cn(e.clientId)})},e.prototype.fn=function(){var e=this;return this.runTransaction("getActiveClients","readonly",function(t){return fi(t).Nt().next(function(t){return e.rn(t,18e5).map(function(e){return e.clientId})})})},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.getMutationQueue=function(e){return jr.Qt(e,this.R,this.Ut,this.referenceDelegate)},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(e,t,n){var r=this;f("IndexedDbPersistence","Starting transaction:",e);var i,o="readonly"===t?"readonly":"readwrite";return this.Be.runTransaction(e,o,$n,function(o){return i=new lr(o,r.Ne?r.Ne.next():s.o),"readwrite-primary"===t?r.Je(i).next(function(e){return!!e||r.Ye(i)}).next(function(t){if(!t)throw d("Failed to obtain primary lease for action '"+e+"'."),r.isPrimary=!1,r.Se.enqueueRetryable(function(){return r.Me(!1)}),new c(u.FAILED_PRECONDITION,Xn);return n(i)}).next(function(e){return r.Ze(i).next(function(){return e})}):r.dn(i).next(function(){return n(i)})}).then(function(e){return i.raiseOnCommittedEvent(),e})},e.prototype.dn=function(e){var t=this;return hi(e).get(Ln.key).next(function(e){if(null!==e&&t.sn(e.leaseTimestampMs,5e3)&&!t.cn(e.ownerId)&&!t.tn(e)&&!(t.Ce||t.allowTabSynchronization&&e.allowTabSynchronization))throw new c(u.FAILED_PRECONDITION,ci)})},e.prototype.Ze=function(e){var t=new Ln(this.clientId,this.allowTabSynchronization,Date.now());return hi(e).put(Ln.key,t)},e.yt=function(){return nr.yt()},e.prototype.Xe=function(e){var t=this,n=hi(e);return n.get(Ln.key).next(function(e){return t.tn(e)?(f("IndexedDbPersistence","Releasing primary lease."),n.delete(Ln.key)):er.resolve()})},e.prototype.sn=function(e,t){var n=Date.now();return!(e<n-t||e>n&&(d("Detected an update time that is in the future: "+e+" > "+n),1))},e.prototype.We=function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Fe=function(){e.Se.enqueueAndForget(function(){return e.inForeground="visible"===e.document.visibilityState,e.je()})},this.document.addEventListener("visibilitychange",this.Fe),this.inForeground="visible"===this.document.visibilityState)},e.prototype.an=function(){this.Fe&&(this.document.removeEventListener("visibilitychange",this.Fe),this.Fe=null)},e.prototype.Ge=function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ke=function(){t.un(),Object(i.isSafari)()&&navigator.appVersion.match("Version/14")&&t.Se.enterRestrictedMode(!0),t.Se.enqueueAndForget(function(){return t.shutdown()})},this.window.addEventListener("pagehide",this.ke))},e.prototype.hn=function(){this.ke&&(this.window.removeEventListener("pagehide",this.ke),this.ke=null)},e.prototype.cn=function(e){var t;try{var n=null!==(null===(t=this.Qe)||void 0===t?void 0:t.getItem(this.on(e)));return f("IndexedDbPersistence","Client '"+e+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(e){return d("IndexedDbPersistence","Failed to get zombied client id.",e),!1}},e.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(e){d("Failed to set zombie client id.",e)}},e.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch(e){}},e.prototype.on=function(e){return"firestore_zombie_"+this.persistenceKey+"_"+e},e}();function hi(e){return hr(e,Ln.store)}function fi(e){return hr(e,Kn.store)}function di(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var pi=function(e,t){this.progress=e,this.wn=t},gi=function(){function e(e,t,n){this.Ue=e,this._n=t,this.Ut=n}return e.prototype.mn=function(e,t){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(e,t).next(function(r){return n.yn(e,t,r)})},e.prototype.yn=function(e,t,n){return this.Ue.getEntry(e,t).next(function(e){for(var t=0,r=n;t<r.length;t++)r[t].applyToLocalView(e);return e})},e.prototype.gn=function(e,t){e.forEach(function(e,n){for(var r=0,i=t;r<i.length;r++)i[r].applyToLocalView(n)})},e.prototype.pn=function(e,t){var n=this;return this.Ue.getEntries(e,t).next(function(t){return n.En(e,t).next(function(){return t})})},e.prototype.En=function(e,t){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(e,t).next(function(e){return n.gn(t,e)})},e.prototype.getDocumentsMatchingQuery=function(e,t,n){return function(e){return G.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.Tn(e,t.path):Me(t)?this.In(e,t,n):this.An(e,t,n)},e.prototype.Tn=function(e,t){return this.mn(e,new G(t)).next(function(e){var t=Lt();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})},e.prototype.In=function(e,t,n){var r=this,i=t.collectionGroup,o=Lt();return this.Ut.getCollectionParents(e,i).next(function(a){return er.forEach(a,function(a){var s=function(e,t){return new ke(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,a.child(i));return r.An(e,s,n).next(function(e){e.forEach(function(e,t){o=o.insert(e,t)})})}).next(function(){return o})})},e.prototype.An=function(e,t,n){var r,i,o=this;return this.Ue.getDocumentsMatchingQuery(e,t,n).next(function(n){return r=n,o._n.getAllMutationBatchesAffectingQuery(e,t)}).next(function(t){return i=t,o.Rn(e,i,r).next(function(e){r=e;for(var t=0,n=i;t<n.length;t++)for(var o=n[t],a=0,s=o.mutations;a<s.length;a++){var u=s[a],c=u.key,l=r.get(c);null==l&&(l=ae.newInvalidDocument(c),r=r.insert(c,l)),ht(u,l,o.localWriteTime),l.isFoundDocument()||(r=r.remove(c))}})}).next(function(){return r.forEach(function(e,n){Be(t,n)||(r=r.remove(e))}),r})},e.prototype.Rn=function(e,t,n){for(var r=Ft(),i=0,o=t;i<o.length;i++)for(var a=0,s=o[i].mutations;a<s.length;a++){var u=s[a];u instanceof yt&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.Ue.getEntries(e,r).next(function(e){return e.forEach(function(e,t){t.isFoundDocument()&&(c=c.insert(e,t))}),c})},e}(),yi=function(){function e(e,t,n,r){this.targetId=e,this.fromCache=t,this.bn=n,this.vn=r}return e.Pn=function(t,n){for(var r=Ft(),i=Ft(),o=0,a=n.docChanges;o<a.length;o++){var s=a[o];switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}}return new e(t,n.fromCache,r,i)},e}(),vi=function(){function e(){}return e.prototype.Vn=function(e){this.Sn=e},e.prototype.getDocumentsMatchingQuery=function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(O.min())?this.Dn(e,t):this.Sn.pn(e,r).next(function(a){var s=i.Cn(t,a);return(Ne(t)||Re(t))&&i.Nn(t.limitType,s,r,n)?i.Dn(e,t):(h()<=o.LogLevel.DEBUG&&f("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),He(t)),i.Sn.getDocumentsMatchingQuery(e,t,n).next(function(e){return s.forEach(function(t){e=e.insert(t.key,t)}),e}))})},e.prototype.Cn=function(e,t){var n=new Nt(Ve(e));return t.forEach(function(t,r){Be(e,r)&&(n=n.add(r))}),n},e.prototype.Nn=function(e,t,n,r){if(n.size!==t.size)return!0;var i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},e.prototype.Dn=function(e,t){return h()<=o.LogLevel.DEBUG&&f("QueryEngine","Using full collection scan to execute query:",He(t)),this.Sn.getDocumentsMatchingQuery(e,t,O.min())},e}(),mi=function(){function e(e,t,n,r){this.persistence=e,this.xn=t,this.R=r,this.kn=new kt(w),this.Fn=new ei(function(e){return ce(e)},le),this.$n=O.min(),this._n=e.getMutationQueue(n),this.On=e.getRemoteDocumentCache(),this.qe=e.getTargetCache(),this.Mn=new gi(this.On,this._n,this.persistence.getIndexManager()),this.Ke=e.getBundleCache(),this.xn.Vn(this.Mn)}return e.prototype.collectGarbage=function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return e.collect(n,t.kn)})},e}();function bi(e,t,n,r){return new mi(e,t,n,r)}function _i(e,t){return Object(r.__awaiter)(this,void 0,void 0,function(){var n,i,o,a;return Object(r.__generator)(this,function(r){switch(r.label){case 0:return n=m(e),i=n._n,o=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",function(e){var r;return n._n.getAllMutationBatches(e).next(function(a){return r=a,i=n.persistence.getMutationQueue(t),o=new gi(n.On,i,n.persistence.getIndexManager()),i.getAllMutationBatches(e)}).next(function(t){for(var n=[],i=[],a=Ft(),s=0,u=r;s<u.length;s++){var c=u[s];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++){var f=h[l];a=a.add(f.key)}}for(var d=0,p=t;d<p.length;d++){var g=p[d];i.push(g.batchId);for(var y=0,v=g.mutations;y<v.length;y++){var m=v[y];a=a.add(m.key)}}return o.pn(e,a).next(function(e){return{Ln:e,removedBatchIds:n,addedBatchIds:i}})})})];case 1:return a=r.sent(),[2,(n._n=i,n.Mn=o,n.xn.Vn(n.Mn),a)]}})})}function wi(e,t){var n=m(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(e){var r=t.batch.keys(),i=n.On.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,o=i.keys(),a=er.resolve();return o.forEach(function(e){a=a.next(function(){return r.getEntry(t,e)}).next(function(t){var o=n.docVersions.get(e);v(null!==o),t.version.compareTo(o)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&r.addEntry(t,n.commitVersion))})}),a.next(function(){return e._n.removeMutationBatch(t,i)})}(n,e,t,i).next(function(){return i.apply(e)}).next(function(){return n._n.performConsistencyCheck(e)}).next(function(){return n.Mn.pn(e,r)})})}function Ei(e){var t=m(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",function(e){return t.qe.getLastRemoteSnapshotVersion(e)})}function Si(e,t){var n=m(e),r=t.snapshotVersion,i=n.kn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(e){var o=n.On.newChangeBuffer({trackRemovals:!0});i=n.kn;var a=[];t.targetChanges.forEach(function(t,o){var s=i.get(o);if(s){a.push(n.qe.removeMatchingKeys(e,t.removedDocuments,o).next(function(){return n.qe.addMatchingKeys(e,t.addedDocuments,o)}));var u=t.resumeToken;if(u.approximateByteSize()>0){var c=s.withResumeToken(u,r).withSequenceNumber(e.currentSequenceNumber);i=i.insert(o,c),function(e,t,n){return v(t.resumeToken.approximateByteSize()>0),0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(s,c,t)&&a.push(n.qe.updateTargetData(e,c))}}});var s=xt();if(t.documentUpdates.forEach(function(r,i){t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))}),a.push(Ci(e,o,t.documentUpdates,r,void 0).next(function(e){s=e})),!r.isEqual(O.min())){var u=n.qe.getLastRemoteSnapshotVersion(e).next(function(t){return n.qe.setTargetsMetadata(e,e.currentSequenceNumber,r)});a.push(u)}return er.waitFor(a).next(function(){return o.apply(e)}).next(function(){return n.Mn.En(e,s)}).next(function(){return s})}).then(function(e){return n.kn=i,e})}function Ci(e,t,n,r,i){var o=Ft();return n.forEach(function(e){return o=o.add(e)}),t.getEntries(e,o).next(function(e){var o=xt();return n.forEach(function(n,a){var s=e.get(n),u=(null==i?void 0:i.get(n))||r;a.isNoDocument()&&a.version.isEqual(O.min())?(t.removeEntry(n,u),o=o.insert(n,a)):!s.isValidDocument()||a.version.compareTo(s.version)>0||0===a.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(a,u),o=o.insert(n,a)):f("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",a.version)}),o})}function Oi(e,t){var n=m(e);return n.persistence.runTransaction("Get next mutation batch","readonly",function(e){return void 0===t&&(t=-1),n._n.getNextMutationBatchAfterBatchId(e,t)})}function Ti(e,t){var n=m(e);return n.persistence.runTransaction("Allocate target","readwrite",function(e){var r;return n.qe.getTargetData(e,t).next(function(i){return i?(r=i,er.resolve(r)):n.qe.allocateTargetId(e).next(function(i){return r=new pr(t,i,0,e.currentSequenceNumber),n.qe.addTargetData(e,r).next(function(){return r})})})}).then(function(e){var r=n.kn.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.kn=n.kn.insert(e.targetId,e),n.Fn.set(t,e.targetId)),e})}function ki(e,t,n){return Object(r.__awaiter)(this,void 0,void 0,function(){var i,o,a,s;return Object(r.__generator)(this,function(r){switch(r.label){case 0:i=m(e),o=i.kn.get(t),a=n?"readwrite":"readwrite-primary",r.label=1;case 1:return r.trys.push([1,4,,5]),n?[3,3]:[4,i.persistence.runTransaction("Release target",a,function(e){return i.persistence.referenceDelegate.removeTarget(e,o)})];case 2:r.sent(),r.label=3;case 3:return[3,5];case 4:if(!or(s=r.sent()))throw s;return f("LocalStore","Failed to update sequence numbers for target "+t+": "+s),[3,5];case 5:return i.kn=i.kn.remove(t),i.Fn.delete(o.target),[2]}})})}function Ii(e,t,n){var r=m(e),i=O.min(),o=Ft();return r.persistence.runTransaction("Execute query","readonly",function(e){return function(e,t,n){var r=m(e),i=r.Fn.get(n);return void 0!==i?er.resolve(r.kn.get(i)):r.qe.getTargetData(t,n)}(r,e,De(t)).next(function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(e,t.targetId).next(function(e){o=e})}).next(function(){return r.xn.getDocumentsMatchingQuery(e,t,n?i:O.min(),n?o:Ft())}).next(function(e){return{documents:e,Bn:o}})})}function Ai(e,t){var n=m(e),r=m(n.qe),i=n.kn.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(e){return r.lt(e,t).next(function(e){return e?e.target:null})})}function Ni(e){var t=m(e);return t.persistence.runTransaction("Get new document changes","readonly",function(e){return function(e,t,n){var r=m(e),i=xt(),o=mr(n),a=oi(t),s=IDBKeyRange.lowerBound(o,!0);return a.$t({index:Bn.readTimeIndex,range:s},function(e,t){var n=yr(r.R,t);i=i.insert(n.key,n),o=t.readTime}).next(function(){return{wn:i,readTime:br(o)}})}(t.On,e,t.$n)}).then(function(e){var n=e.wn,r=e.readTime;return t.$n=r,n})}function Ri(e){return Object(r.__awaiter)(this,void 0,void 0,function(){var t;return Object(r.__generator)(this,function(n){return[2,(t=m(e)).persistence.runTransaction("Synchronize last document change read time","readonly",function(e){return function(e){var t=oi(e),n=O.min();return t.$t({index:Bn.readTimeIndex,reverse:!0},function(e,t,r){t.readTime&&(n=br(t.readTime)),r.done()}).next(function(){return n})}(e)}).then(function(e){t.$n=e})]})})}function Pi(e,t,n,i){return Object(r.__awaiter)(this,void 0,void 0,function(){var o,a,s,u,c,l,h,f,d,p;return Object(r.__generator)(this,function(r){switch(r.label){case 0:for(o=m(e),a=Ft(),s=xt(),u=jt(),c=0,l=n;c<l.length;c++)h=l[c],f=t.qn(h.metadata.name),h.document&&(a=a.add(f)),s=s.insert(f,t.Un(h)),u=u.insert(f,t.Kn(h.metadata.readTime));return d=o.On.newChangeBuffer({trackRemovals:!0}),[4,Ti(o,function(e){return De(Ae(N.fromString("__bundle__/docs/"+e)))}(i))];case 1:return p=r.sent(),[2,o.persistence.runTransaction("Apply bundle documents","readwrite",function(e){return Ci(e,d,s,O.min(),u).next(function(t){return d.apply(e),t}).next(function(t){return o.qe.removeMatchingKeysForTargetId(e,p.targetId).next(function(){return o.qe.addMatchingKeys(e,a,p.targetId)}).next(function(){return o.Mn.En(e,t)}).next(function(){return t})})})]}})})}function xi(e,t,n){return void 0===n&&(n=Ft()),Object(r.__awaiter)(this,void 0,void 0,function(){var i,o;return Object(r.__generator)(this,function(r){switch(r.label){case 0:return[4,Ti(e,De(Or(t.bundledQuery)))];case 1:return i=r.sent(),[2,(o=m(e)).persistence.runTransaction("Save named query","readwrite",function(e){var r=rn(t.readTime);if(i.snapshotVersion.compareTo(r)>=0)return o.Ke.saveNamedQuery(e,t);var a=i.withResumeToken(M.EMPTY_BYTE_STRING,r);return o.kn=o.kn.insert(a.targetId,a),o.qe.updateTargetData(e,a).next(function(){return o.qe.removeMatchingKeysForTargetId(e,i.targetId)}).next(function(){return o.qe.addMatchingKeys(e,n,i.targetId)}).next(function(){return o.Ke.saveNamedQuery(e,t)})})]}})})}var Mi=function(){function e(e){this.R=e,this.Qn=new Map,this.jn=new Map}return e.prototype.getBundleMetadata=function(e,t){return er.resolve(this.Qn.get(t))},e.prototype.saveBundleMetadata=function(e,t){var n;return this.Qn.set(t.id,{id:(n=t).id,version:n.version,createTime:rn(n.createTime)}),er.resolve()},e.prototype.getNamedQuery=function(e,t){return er.resolve(this.jn.get(t))},e.prototype.saveNamedQuery=function(e,t){return this.jn.set(t.name,function(e){return{name:e.name,query:Or(e.bundledQuery),readTime:rn(e.readTime)}}(t)),er.resolve()},e}(),Li=function(){function e(){this.Wn=new Nt(Di.Gn),this.zn=new Nt(Di.Hn)}return e.prototype.isEmpty=function(){return this.Wn.isEmpty()},e.prototype.addReference=function(e,t){var n=new Di(e,t);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},e.prototype.Jn=function(e,t){var n=this;e.forEach(function(e){return n.addReference(e,t)})},e.prototype.removeReference=function(e,t){this.Yn(new Di(e,t))},e.prototype.Xn=function(e,t){var n=this;e.forEach(function(e){return n.removeReference(e,t)})},e.prototype.Zn=function(e){var t=this,n=new G(new N([])),r=new Di(n,e),i=new Di(n,e+1),o=[];return this.zn.forEachInRange([r,i],function(e){t.Yn(e),o.push(e.key)}),o},e.prototype.ts=function(){var e=this;this.Wn.forEach(function(t){return e.Yn(t)})},e.prototype.Yn=function(e){this.Wn=this.Wn.delete(e),this.zn=this.zn.delete(e)},e.prototype.es=function(e){var t=new G(new N([])),n=new Di(t,e),r=new Di(t,e+1),i=Ft();return this.zn.forEachInRange([n,r],function(e){i=i.add(e.key)}),i},e.prototype.containsKey=function(e){var t=new Di(e,0),n=this.Wn.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)},e}(),Di=function(){function e(e,t){this.key=e,this.ns=t}return e.Gn=function(e,t){return G.comparator(e.key,t.key)||w(e.ns,t.ns)},e.Hn=function(e,t){return w(e.ns,t.ns)||G.comparator(e.key,t.key)},e}(),ji=function(){function e(e,t){this.Ut=e,this.referenceDelegate=t,this._n=[],this.ss=1,this.rs=new Nt(Di.Gn)}return e.prototype.checkEmpty=function(e){return er.resolve(0===this._n.length)},e.prototype.addMutationBatch=function(e,t,n,r){var i=this.ss;this.ss++,this._n.length>0&&this._n[this._n.length-1];var o=new fr(i,t,n,r);this._n.push(o);for(var a=0,s=r;a<s.length;a++){var u=s[a];this.rs=this.rs.add(new Di(u.key,i)),this.Ut.addToCollectionParentIndex(e,u.key.path.popLast())}return er.resolve(o)},e.prototype.lookupMutationBatch=function(e,t){return er.resolve(this.os(t))},e.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=t+1,r=this.cs(n),i=r<0?0:r;return er.resolve(this._n.length>i?this._n[i]:null)},e.prototype.getHighestUnacknowledgedBatchId=function(){return er.resolve(0===this._n.length?-1:this.ss-1)},e.prototype.getAllMutationBatches=function(e){return er.resolve(this._n.slice())},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=new Di(t,0),i=new Di(t,Number.POSITIVE_INFINITY),o=[];return this.rs.forEachInRange([r,i],function(e){var t=n.os(e.ns);o.push(t)}),er.resolve(o)},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,r=new Nt(w);return t.forEach(function(e){var t=new Di(e,0),i=new Di(e,Number.POSITIVE_INFINITY);n.rs.forEachInRange([t,i],function(e){r=r.add(e.ns)})}),er.resolve(this.us(r))},e.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var n=t.path,r=n.length+1,i=n;G.isDocumentKey(i)||(i=i.child(""));var o=new Di(new G(i),0),a=new Nt(w);return this.rs.forEachWhile(function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.ns)),!0)},o),er.resolve(this.us(a))},e.prototype.us=function(e){var t=this,n=[];return e.forEach(function(e){var r=t.os(e);null!==r&&n.push(r)}),n},e.prototype.removeMutationBatch=function(e,t){var n=this;v(0===this.hs(t.batchId,"removed")),this._n.shift();var r=this.rs;return er.forEach(t.mutations,function(i){var o=new Di(i.key,t.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(function(){n.rs=r})},e.prototype.Gt=function(e){},e.prototype.containsKey=function(e,t){var n=new Di(t,0),r=this.rs.firstAfterOrEqual(n);return er.resolve(t.isEqual(r&&r.key))},e.prototype.performConsistencyCheck=function(e){return this._n.length,er.resolve()},e.prototype.hs=function(e,t){return this.cs(e)},e.prototype.cs=function(e){return 0===this._n.length?0:e-this._n[0].batchId},e.prototype.os=function(e){var t=this.cs(e);return t<0||t>=this._n.length?null:this._n[t]},e}(),Ui=function(){function e(e,t){this.Ut=e,this.ls=t,this.docs=new kt(G.comparator),this.size=0}return e.prototype.addEntry=function(e,t,n){var r=t.key,i=this.docs.get(r),o=i?i.size:0,a=this.ls(t);return this.docs=this.docs.insert(r,{document:t.clone(),size:a,readTime:n}),this.size+=a-o,this.Ut.addToCollectionParentIndex(e,r.path.popLast())},e.prototype.removeEntry=function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)},e.prototype.getEntry=function(e,t){var n=this.docs.get(t);return er.resolve(n?n.document.clone():ae.newInvalidDocument(t))},e.prototype.getEntries=function(e,t){var n=this,r=xt();return t.forEach(function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.clone():ae.newInvalidDocument(e))}),er.resolve(r)},e.prototype.getDocumentsMatchingQuery=function(e,t,n){for(var r=xt(),i=new G(t.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var a=o.getNext(),s=a.key,u=a.value,c=u.document,l=u.readTime;if(!t.path.isPrefixOf(s.path))break;l.compareTo(n)<=0||Be(t,c)&&(r=r.insert(c.key,c.clone()))}return er.resolve(r)},e.prototype.fs=function(e,t){return er.forEach(this.docs,function(e){return t(e)})},e.prototype.newChangeBuffer=function(e){return new Fi(this)},e.prototype.getSize=function(e){return er.resolve(this.size)},e}(),Fi=function(e){function t(t){var n=this;return(n=e.call(this)||this).Ie=t,n}return Object(r.__extends)(t,e),t.prototype.applyChanges=function(e){var t=this,n=[];return this.changes.forEach(function(r,i){i.document.isValidDocument()?n.push(t.Ie.addEntry(e,i.document,t.getReadTime(r))):t.Ie.removeEntry(r)}),er.waitFor(n)},t.prototype.getFromCache=function(e,t){return this.Ie.getEntry(e,t)},t.prototype.getAllFromCache=function(e,t){return this.Ie.getEntries(e,t)},t}(ti),Hi=function(){function e(e){this.persistence=e,this.ds=new ei(function(e){return ce(e)},le),this.lastRemoteSnapshotVersion=O.min(),this.highestTargetId=0,this.ws=0,this._s=new Li,this.targetCount=0,this.ys=Vr.Jt()}return e.prototype.forEachTarget=function(e,t){return this.ds.forEach(function(e,n){return t(n)}),er.resolve()},e.prototype.getLastRemoteSnapshotVersion=function(e){return er.resolve(this.lastRemoteSnapshotVersion)},e.prototype.getHighestSequenceNumber=function(e){return er.resolve(this.ws)},e.prototype.allocateTargetId=function(e){return this.highestTargetId=this.ys.next(),er.resolve(this.highestTargetId)},e.prototype.setTargetsMetadata=function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.ws&&(this.ws=t),er.resolve()},e.prototype.te=function(e){this.ds.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.ys=new Vr(t),this.highestTargetId=t),e.sequenceNumber>this.ws&&(this.ws=e.sequenceNumber)},e.prototype.addTargetData=function(e,t){return this.te(t),this.targetCount+=1,er.resolve()},e.prototype.updateTargetData=function(e,t){return this.te(t),er.resolve()},e.prototype.removeTargetData=function(e,t){return this.ds.delete(t.target),this._s.Zn(t.targetId),this.targetCount-=1,er.resolve()},e.prototype.removeTargets=function(e,t,n){var r=this,i=0,o=[];return this.ds.forEach(function(a,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.ds.delete(a),o.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)}),er.waitFor(o).next(function(){return i})},e.prototype.getTargetCount=function(e){return er.resolve(this.targetCount)},e.prototype.getTargetData=function(e,t){var n=this.ds.get(t)||null;return er.resolve(n)},e.prototype.addMatchingKeys=function(e,t,n){return this._s.Jn(t,n),er.resolve()},e.prototype.removeMatchingKeys=function(e,t,n){this._s.Xn(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach(function(t){i.push(r.markPotentiallyOrphaned(e,t))}),er.waitFor(i)},e.prototype.removeMatchingKeysForTargetId=function(e,t){return this._s.Zn(t),er.resolve()},e.prototype.getMatchingKeysForTargetId=function(e,t){var n=this._s.es(t);return er.resolve(n)},e.prototype.containsKey=function(e,t){return er.resolve(this._s.containsKey(t))},e}(),Bi=function(){function e(e,t){var n=this;this.gs={},this.Ne=new s(0),this.xe=!1,this.xe=!0,this.referenceDelegate=e(this),this.qe=new Hi(this),this.Ut=new Ar,this.Ue=function(e,t){return new Ui(e,function(e){return n.referenceDelegate.ps(e)})}(this.Ut),this.R=new gr(t),this.Ke=new Mi(this.R)}return e.prototype.start=function(){return Promise.resolve()},e.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.setDatabaseDeletedListener=function(){},e.prototype.setNetworkEnabled=function(){},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getMutationQueue=function(e){var t=this.gs[e.toKey()];return t||(t=new ji(this.Ut,this.referenceDelegate),this.gs[e.toKey()]=t),t},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(e,t,n){var r=this;f("MemoryPersistence","Starting transaction:",e);var i=new Vi(this.Ne.next());return this.referenceDelegate.Es(),n(i).next(function(e){return r.referenceDelegate.Ts(i).next(function(){return e})}).toPromise().then(function(e){return i.raiseOnCommittedEvent(),e})},e.prototype.Is=function(e,t){return er.or(Object.values(this.gs).map(function(n){return function(){return n.containsKey(e,t)}}))},e}(),Vi=function(e){function t(t){var n=this;return(n=e.call(this)||this).currentSequenceNumber=t,n}return Object(r.__extends)(t,e),t}(Jn),qi=function(){function e(e){this.persistence=e,this.As=new Li,this.Rs=null}return e.bs=function(t){return new e(t)},Object.defineProperty(e.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw y()},enumerable:!1,configurable:!0}),e.prototype.addReference=function(e,t,n){return this.As.addReference(n,t),this.vs.delete(n.toString()),er.resolve()},e.prototype.removeReference=function(e,t,n){return this.As.removeReference(n,t),this.vs.add(n.toString()),er.resolve()},e.prototype.markPotentiallyOrphaned=function(e,t){return this.vs.add(t.toString()),er.resolve()},e.prototype.removeTarget=function(e,t){var n=this;this.As.Zn(t.targetId).forEach(function(e){return n.vs.add(e.toString())});var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(function(e){e.forEach(function(e){return n.vs.add(e.toString())})}).next(function(){return r.removeTargetData(e,t)})},e.prototype.Es=function(){this.Rs=new Set},e.prototype.Ts=function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return er.forEach(this.vs,function(r){var i=G.fromPath(r);return t.Ps(e,i).next(function(e){e||n.removeEntry(i)})}).next(function(){return t.Rs=null,n.apply(e)})},e.prototype.updateLimboDocument=function(e,t){var n=this;return this.Ps(e,t).next(function(e){e?n.vs.delete(t.toString()):n.vs.add(t.toString())})},e.prototype.ps=function(e){return 0},e.prototype.Ps=function(e,t){var n=this;return er.or([function(){return er.resolve(n.As.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Is(e,t)}])},e}(),Gi=function(){function e(e){this.uid=e}return e.prototype.isAuthenticated=function(){return null!=this.uid},e.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},e.prototype.isEqual=function(e){return e.uid===this.uid},e}();function zi(e,t){return"firestore_clients_"+e+"_"+t}function Wi(e,t,n){var r="firestore_mutations_"+e+"_"+n;return t.isAuthenticated()&&(r+="_"+t.uid),r}function Ki(e,t){return"firestore_targets_"+e+"_"+t}Gi.UNAUTHENTICATED=new Gi(null),Gi.GOOGLE_CREDENTIALS=new Gi("google-credentials-uid"),Gi.FIRST_PARTY=new Gi("first-party-uid"),Gi.MOCK_USER=new Gi("mock-user");var Yi=function(){function e(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}return e.Vs=function(t,n,r){var i,o=JSON.parse(r),a="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return a&&o.error&&(a="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new c(o.error.code,o.error.message)),a?new e(t,n,o.state,i):(d("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},e.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),Qi=function(){function e(e,t,n){this.targetId=e,this.state=t,this.error=n}return e.Vs=function(t,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new c(i.error.code,i.error.message)),o?new e(t,i.state,r):(d("SharedClientState","Failed to parse target state for ID '"+t+"': "+n),null)},e.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),$i=function(){function e(e,t){this.clientId=e,this.activeTargetIds=t}return e.Vs=function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=Bt(),a=0;i&&a<r.activeTargetIds.length;++a)i=q(r.activeTargetIds[a]),o=o.add(r.activeTargetIds[a]);return i?new e(t,o):(d("SharedClientState","Failed to parse client data for instance '"+t+"': "+n),null)},e}(),Xi=function(){function e(e,t){this.clientId=e,this.onlineState=t}return e.Vs=function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(d("SharedClientState","Failed to parse online state: "+t),null)},e}(),Ji=function(){function e(){this.activeTargetIds=Bt()}return e.prototype.Ds=function(e){this.activeTargetIds=this.activeTargetIds.add(e)},e.prototype.Cs=function(e){this.activeTargetIds=this.activeTargetIds.delete(e)},e.prototype.Ss=function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)},e}(),Zi=function(){function e(e,t,n,r,i){this.window=e,this.Se=t,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.ks.bind(this),this.Fs=new kt(w),this.started=!1,this.$s=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Os=zi(this.persistenceKey,this.Ns),this.Ms=function(e){return"firestore_sequence_number_"+e}(this.persistenceKey),this.Fs=this.Fs.insert(this.Ns,new Ji),this.Ls=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Us=function(e){return"firestore_online_state_"+e}(this.persistenceKey),this.Ks=function(e){return"firestore_bundle_loaded_"+e}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return e.yt=function(e){return!(!e||!e.localStorage)},e.prototype.start=function(){return Object(r.__awaiter)(this,void 0,void 0,function(){var e,t,n,i,o,a,s,u,c,l,h,f=this;return Object(r.__generator)(this,function(r){switch(r.label){case 0:return[4,this.syncEngine.fn()];case 1:for(e=r.sent(),t=0,n=e;t<n.length;t++)(i=n[t])!==this.Ns&&(o=this.getItem(zi(this.persistenceKey,i)))&&(a=$i.Vs(i,o))&&(this.Fs=this.Fs.insert(a.clientId,a));for(this.Qs(),(s=this.storage.getItem(this.Us))&&(u=this.js(s))&&this.Ws(u),c=0,l=this.$s;c<l.length;c++)h=l[c],this.ks(h);return this.$s=[],this.window.addEventListener("pagehide",function(){return f.shutdown()}),this.started=!0,[2]}})})},e.prototype.writeSequenceNumber=function(e){this.setItem(this.Ms,JSON.stringify(e))},e.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.Fs)},e.prototype.isActiveQueryTarget=function(e){var t=!1;return this.Fs.forEach(function(n,r){r.activeTargetIds.has(e)&&(t=!0)}),t},e.prototype.addPendingMutation=function(e){this.zs(e,"pending")},e.prototype.updateMutationState=function(e,t,n){this.zs(e,t,n),this.Hs(e)},e.prototype.addLocalQueryTarget=function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(Ki(this.persistenceKey,e));if(n){var r=Qi.Vs(e,n);r&&(t=r.state)}}return this.Js.Ds(e),this.Qs(),t},e.prototype.removeLocalQueryTarget=function(e){this.Js.Cs(e),this.Qs()},e.prototype.isLocalQueryTarget=function(e){return this.Js.activeTargetIds.has(e)},e.prototype.clearQueryState=function(e){this.removeItem(Ki(this.persistenceKey,e))},e.prototype.updateQueryState=function(e,t,n){this.Ys(e,t,n)},e.prototype.handleUserChange=function(e,t,n){var r=this;t.forEach(function(e){r.Hs(e)}),this.currentUser=e,n.forEach(function(e){r.addPendingMutation(e)})},e.prototype.setOnlineState=function(e){this.Xs(e)},e.prototype.notifyBundleLoaded=function(){this.Zs()},e.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},e.prototype.getItem=function(e){var t=this.storage.getItem(e);return f("SharedClientState","READ",e,t),t},e.prototype.setItem=function(e,t){f("SharedClientState","SET",e,t),this.storage.setItem(e,t)},e.prototype.removeItem=function(e){f("SharedClientState","REMOVE",e),this.storage.removeItem(e)},e.prototype.ks=function(e){var t=this,n=e;if(n.storageArea===this.storage){if(f("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Os)return void d("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return Object(r.__awaiter)(t,void 0,void 0,function(){var e,t,i,o,a,u;return Object(r.__generator)(this,function(r){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return e=this.ti(n.key),[2,this.ei(e,null)];if(t=this.ni(n.key,n.newValue))return[2,this.ei(t.clientId,t)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(i=this.si(n.key,n.newValue)))return[2,this.ii(i)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(o=this.ri(n.key,n.newValue)))return[2,this.oi(o)]}else if(n.key===this.Us){if(null!==n.newValue&&(a=this.js(n.newValue)))return[2,this.Ws(a)]}else if(n.key===this.Ms)(u=function(e){var t=s.o;if(null!=e)try{var n=JSON.parse(e);v("number"==typeof n),t=n}catch(e){d("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue))!==s.o&&this.sequenceNumberHandler(u);else if(n.key===this.Ks)return[2,this.syncEngine.ci()]}else this.$s.push(n);return[2]})})})}},Object.defineProperty(e.prototype,"Js",{get:function(){return this.Fs.get(this.Ns)},enumerable:!1,configurable:!0}),e.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},e.prototype.zs=function(e,t,n){var r=new Yi(this.currentUser,e,t,n),i=Wi(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Ss())},e.prototype.Hs=function(e){var t=Wi(this.persistenceKey,this.currentUser,e);this.removeItem(t)},e.prototype.Xs=function(e){var t={clientId:this.Ns,onlineState:e};this.storage.setItem(this.Us,JSON.stringify(t))},e.prototype.Ys=function(e,t,n){var r=Ki(this.persistenceKey,e),i=new Qi(e,t,n);this.setItem(r,i.Ss())},e.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},e.prototype.ti=function(e){var t=this.Ls.exec(e);return t?t[1]:null},e.prototype.ni=function(e,t){var n=this.ti(e);return $i.Vs(n,t)},e.prototype.si=function(e,t){var n=this.Bs.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Yi.Vs(new Gi(i),r,t)},e.prototype.ri=function(e,t){var n=this.qs.exec(e),r=Number(n[1]);return Qi.Vs(r,t)},e.prototype.js=function(e){return Xi.Vs(e)},e.prototype.ii=function(e){return Object(r.__awaiter)(this,void 0,void 0,function(){return Object(r.__generator)(this,function(t){return e.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(e.batchId,e.state,e.error)]:(f("SharedClientState","Ignoring mutation for non-active user "+e.user.uid),[2])})})},e.prototype.oi=function(e){return this.syncEngine.ai(e.targetId,e.state,e.error)},e.prototype.ei=function(e,t){var n=this,r=t?this.Fs.insert(e,t):this.Fs.remove(e),i=this.Gs(this.Fs),o=this.Gs(r),a=[],s=[];return o.forEach(function(e){i.has(e)||a.push(e)}),i.forEach(function(e){o.has(e)||s.push(e)}),this.syncEngine.hi(a,s).then(function(){n.Fs=r})},e.prototype.Ws=function(e){this.Fs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)},e.prototype.Gs=function(e){var t=Bt();return e.forEach(function(e,n){t=t.unionWith(n.activeTargetIds)}),t},e}(),eo=function(){function e(){this.li=new Ji,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return e.prototype.addPendingMutation=function(e){},e.prototype.updateMutationState=function(e,t,n){},e.prototype.addLocalQueryTarget=function(e){return this.li.Ds(e),this.fi[e]||"not-current"},e.prototype.updateQueryState=function(e,t,n){this.fi[e]=t},e.prototype.removeLocalQueryTarget=function(e){this.li.Cs(e)},e.prototype.isLocalQueryTarget=function(e){return this.li.activeTargetIds.has(e)},e.prototype.clearQueryState=function(e){delete this.fi[e]},e.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},e.prototype.isActiveQueryTarget=function(e){return this.li.activeTargetIds.has(e)},e.prototype.start=function(){return this.li=new Ji,Promise.resolve()},e.prototype.handleUserChange=function(e,t,n){},e.prototype.setOnlineState=function(e){},e.prototype.shutdown=function(){},e.prototype.writeSequenceNumber=function(e){},e.prototype.notifyBundleLoaded=function(){},e}(),to=function(){function e(){}return e.prototype.di=function(e){},e.prototype.shutdown=function(){},e}(),no=function(){function e(){var e=this;this.wi=function(){return e._i()},this.mi=function(){return e.yi()},this.gi=[],this.pi()}return e.prototype.di=function(e){this.gi.push(e)},e.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},e.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},e.prototype._i=function(){f("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var e=0,t=this.gi;e<t.length;e++)(0,t[e])(0)},e.prototype.yi=function(){f("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var e=0,t=this.gi;e<t.length;e++)(0,t[e])(1)},e.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},e}(),ro={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},io=function(){function e(e){this.Ei=e.Ei,this.Ti=e.Ti}return e.prototype.Ii=function(e){this.Ai=e},e.prototype.Ri=function(e){this.bi=e},e.prototype.onMessage=function(e){this.vi=e},e.prototype.close=function(){this.Ti()},e.prototype.send=function(e){this.Ei(e)},e.prototype.Pi=function(){this.Ai()},e.prototype.Vi=function(e){this.bi(e)},e.prototype.Si=function(e){this.vi(e)},e}(),oo=function(e){function t(t){var n=this;return(n=e.call(this,t)||this).forceLongPolling=t.forceLongPolling,n.autoDetectLongPolling=t.autoDetectLongPolling,n.useFetchStreams=t.useFetchStreams,n}return Object(r.__extends)(t,e),t.prototype.Fi=function(e,t,n,r){return new Promise(function(i,o){var s=new a.g;s.listenOnce(a.c.COMPLETE,function(){try{switch(s.getLastErrorCode()){case a.a.NO_ERROR:var t=s.getResponseJson();f("Connection","XHR received:",JSON.stringify(t)),i(t);break;case a.a.TIMEOUT:f("Connection",'RPC "'+e+'" timed out'),o(new c(u.DEADLINE_EXCEEDED,"Request time out"));break;case a.a.HTTP_ERROR:var n=s.getStatus();if(f("Connection",'RPC "'+e+'" failed with status:',n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson().error;if(r&&r.status&&r.message){var l=function(e){var t=r.status.toLowerCase().replace(/_/g,"-");return Object.values(u).indexOf(t)>=0?t:u.UNKNOWN}();o(new c(l,r.message))}else o(new c(u.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new c(u.UNAVAILABLE,"Connection failed."));break;default:y()}}finally{f("Connection",'RPC "'+e+'" completed.')}});var l=JSON.stringify(r);s.send(t,"POST",l,n,15)})},t.prototype.Oi=function(e,t){var n=[this.Di,"/","google.firestore.v1.Firestore","/",e,"/channel"],r=Object(a.h)(),o=Object(a.i)(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(s.xmlHttpFactory=new a.d({})),this.ki(s.initMessageHeaders,t),Object(i.isMobileCordova)()||Object(i.isReactNative)()||Object(i.isElectron)()||Object(i.isIE)()||Object(i.isUWP)()||Object(i.isBrowserExtension)()||(s.httpHeadersOverwriteParam="$httpHeaders");var l=n.join("");f("Connection","Creating WebChannel: "+l,s);var h=r.createWebChannel(l,s),d=!1,g=!1,y=new io({Ei:function(e){g?f("Connection","Not sending because WebChannel is closed:",e):(d||(f("Connection","Opening WebChannel transport."),h.open(),d=!0),f("Connection","WebChannel sending:",e),h.send(e))},Ti:function(){return h.close()}}),m=function(e,t,n){e.listen(t,function(e){try{n(e)}catch(e){setTimeout(function(){throw e},0)}})};return m(h,a.f.EventType.OPEN,function(){g||f("Connection","WebChannel transport opened.")}),m(h,a.f.EventType.CLOSE,function(){g||(g=!0,f("Connection","WebChannel transport closed"),y.Vi())}),m(h,a.f.EventType.ERROR,function(e){g||(g=!0,p("Connection","WebChannel transport errored:",e),y.Vi(new c(u.UNAVAILABLE,"The operation could not be completed")))}),m(h,a.f.EventType.MESSAGE,function(e){var t;if(!g){var n=e.data[0];v(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){f("Connection","WebChannel received error:",i);var o=i.status,a=function(e){var t=_t[o];if(void 0!==t)return Tt(t)}(),s=i.message;void 0===a&&(a=u.INTERNAL,s="Unknown error status: "+o+" with message "+i.message),g=!0,y.Vi(new c(a,s)),h.close()}else f("Connection","WebChannel received:",n),y.Si(n)}}),m(o,a.b.STAT_EVENT,function(e){e.stat===a.e.PROXY?f("Connection","Detected buffering proxy"):e.stat===a.e.NOPROXY&&f("Connection","Detected no buffering proxy")}),setTimeout(function(){y.Pi()},0),y},t}(function(){function e(e){this.databaseInfo=e,this.databaseId=e.databaseId;var t=e.ssl?"https":"http";this.Di=t+"://"+e.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return e.prototype.Ni=function(e,t,n,r){var i=this.xi(e,t);f("RestConnection","Sending: ",i,n);var o={};return this.ki(o,r),this.Fi(e,i,o,n).then(function(e){return f("RestConnection","Received: ",e),e},function(t){throw p("RestConnection",e+" failed with error: ",t,"url: ",i,"request:",n),t})},e.prototype.$i=function(e,t,n,r){return this.Ni(e,t,n,r)},e.prototype.ki=function(e,t){if(e["X-Goog-Api-Client"]="gl-js/ fire/8.10.1",e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t)for(var n in t.authHeaders)t.authHeaders.hasOwnProperty(n)&&(e[n]=t.authHeaders[n])},e.prototype.xi=function(e,t){var n=ro[e];return this.Di+"/v1/"+t+":"+n},e}());function ao(){return"undefined"!=typeof window?window:null}function so(){return"undefined"!=typeof document?document:null}function uo(e){return new Zt(e,!0)}var co=function(){function e(e,t,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=e,this.timerId=t,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return e.prototype.reset=function(){this.qi=0},e.prototype.Qi=function(){this.qi=this.Bi},e.prototype.ji=function(e){var t=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Ki),i=Math.max(0,n-r);i>0&&f("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,function(){return t.Ki=Date.now(),e()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},e.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},e.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},e.prototype.Wi=function(){return(Math.random()-.5)*this.qi},e}(),lo=function(){function e(e,t,n,r,i,o){this.Se=e,this.zi=n,this.Hi=r,this.Ji=i,this.listener=o,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new co(e,t)}return e.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},e.prototype.er=function(){return 2===this.state},e.prototype.start=function(){3!==this.state?this.auth():this.nr()},e.prototype.stop=function(){return Object(r.__awaiter)(this,void 0,void 0,function(){return Object(r.__generator)(this,function(e){switch(e.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})},e.prototype.sr=function(){this.state=0,this.Zi.reset()},e.prototype.ir=function(){var e=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return e.rr()}))},e.prototype.cr=function(e){this.ur(),this.stream.send(e)},e.prototype.rr=function(){return Object(r.__awaiter)(this,void 0,void 0,function(){return Object(r.__generator)(this,function(e){return this.er()?[2,this.close(0)]:[2]})})},e.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},e.prototype.close=function(e,t){return Object(r.__awaiter)(this,void 0,void 0,function(){return Object(r.__generator)(this,function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==e?this.Zi.reset():t&&t.code===u.RESOURCE_EXHAUSTED?(d(t.toString()),d("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):t&&t.code===u.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=e,[4,this.listener.Ri(t)];case 1:return n.sent(),[2]}})})},e.prototype.ar=function(){},e.prototype.auth=function(){var e=this;this.state=1;var t=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then(function(t){e.Yi===n&&e.lr(t)},function(n){t(function(){var t=new c(u.UNKNOWN,"Fetching auth token failed: "+n.message);return e.dr(t)})})},e.prototype.lr=function(e){var t=this,n=this.hr(this.Yi);this.stream=this.wr(e),this.stream.Ii(function(){n(function(){return t.state=2,t.listener.Ii()})}),this.stream.Ri(function(e){n(function(){return t.dr(e)})}),this.stream.onMessage(function(e){n(function(){return t.onMessage(e)})})},e.prototype.nr=function(){var e=this;this.state=4,this.Zi.ji(function(){return Object(r.__awaiter)(e,void 0,void 0,function(){return Object(r.__generator)(this,function(e){return this.state=0,this.start(),[2]})})})},e.prototype.dr=function(e){return f("PersistentStream","close with error: "+e),this.stream=null,this.close(3,e)},e.prototype.hr=function(e){var t=this;return function(n){t.Se.enqueueAndForget(function(){return t.Yi===e?n():(f("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},e}(),ho=function(e){function t(t,n,r,i,o){var a=this;return(a=e.call(this,t,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).R=i,a}return Object(r.__extends)(t,e),t.prototype.wr=function(e){return this.Hi.Oi("Listen",e)},t.prototype.onMessage=function(e){this.Zi.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:y()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(e,t){return e.I?(v(void 0===t||"string"==typeof t),M.fromBase64String(t||"")):(v(void 0===t||t instanceof Uint8Array),M.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=(s=t.targetChange.cause)&&function(e){var t=void 0===e.code?u.UNKNOWN:Tt(e.code);return new c(t,e.message||"")}(s);n=new Wt(r,i,o,a||null)}else if("documentChange"in t){t.documentChange,(r=t.documentChange).document,r.document.name,r.document.updateTime,i=un(e,r.document.name),o=rn(r.document.updateTime);var s=new ie({mapValue:{fields:r.document.fields}}),l=(a=ae.newFoundDocument(i,o,s),r.targetIds||[]),h=r.removedTargetIds||[];n=new Gt(l,h,a.key,a)}else if("documentDelete"in t)t.documentDelete,(r=t.documentDelete).document,i=un(e,r.document),o=r.readTime?rn(r.readTime):O.min(),s=ae.newNoDocument(i,o),a=r.removedTargetIds||[],n=new Gt([],a,s.key,s);else if("documentRemove"in t)t.documentRemove,(r=t.documentRemove).document,i=un(e,r.document),o=r.removedTargetIds||[],n=new Gt([],o,i,null);else{if(!("filter"in t))return y();t.filter;var f=t.filter;f.targetId,r=f.count||0,i=new Ct(r),o=f.targetId,n=new zt(o,i)}return n}(this.R,e),n=function(e){if(!("targetChange"in e))return O.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?O.min():t.readTime?rn(t.readTime):O.min()}(e);return this.listener._r(t,n)},t.prototype.mr=function(e){var t={};t.database=hn(this.R),t.addTarget=function(e,t){var n,r=t.target;return(n=he(r)?{documents:vn(e,r)}:{query:mn(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=tn(e,t.resumeToken):t.snapshotVersion.compareTo(O.min())>0&&(n.readTime=en(e,t.snapshotVersion.toTimestamp())),n}(this.R,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return y()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.R,e);n&&(t.labels=n),this.cr(t)},t.prototype.yr=function(e){var t={};t.database=hn(this.R),t.removeTarget=e,this.cr(t)},t}(lo),fo=function(e){function t(t,n,r,i,o){var a=this;return(a=e.call(this,t,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).R=i,a.gr=!1,a}return Object(r.__extends)(t,e),Object.defineProperty(t.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,e.prototype.start.call(this)},t.prototype.ar=function(){this.gr&&this.Er([])},t.prototype.wr=function(e){return this.Hi.Oi("Write",e)},t.prototype.onMessage=function(e){if(v(!!e.streamToken),this.lastStreamToken=e.streamToken,this.gr){this.Zi.reset();var t=function(e,t){return e&&e.length>0?(v(void 0!==t),e.map(function(e){return function(e,t){var n=e.updateTime?rn(e.updateTime):rn(t);return n.isEqual(O.min())&&(n=rn(t)),new at(n,e.transformResults||[])}(e,t)})):[]}(e.writeResults,e.commitTime),n=rn(e.commitTime);return this.listener.Tr(n,t)}return v(!e.writeResults||0===e.writeResults.length),this.gr=!0,this.listener.Ir()},t.prototype.Ar=function(){var e={};e.database=hn(this.R),this.cr(e)},t.prototype.Er=function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map(function(e){return gn(t.R,e)})};this.cr(n)},t}(lo),po=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).credentials=t,i.Hi=n,i.R=r,i.Rr=!1,i}return Object(r.__extends)(t,e),t.prototype.br=function(){if(this.Rr)throw new c(u.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.Ni=function(e,t,n){var r=this;return this.br(),this.credentials.getToken().then(function(i){return r.Hi.Ni(e,t,n,i)}).catch(function(e){throw"FirebaseError"===e.name?(e.code===u.UNAUTHENTICATED&&r.credentials.invalidateToken(),e):new c(u.UNKNOWN,e.toString())})},t.prototype.$i=function(e,t,n){var r=this;return this.br(),this.credentials.getToken().then(function(i){return r.Hi.$i(e,t,n,i)}).catch(function(e){throw"FirebaseError"===e.name?(e.code===u.UNAUTHENTICATED&&r.credentials.invalidateToken(),e):new c(u.UNKNOWN,e.toString())})},t.prototype.terminate=function(){this.Rr=!0},t}(function(){}),go=function(){function e(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return e.prototype.Sr=function(){var e=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return e.Pr=null,e.Cr("Backend didn't respond within 10 seconds."),e.Dr("Offline"),Promise.resolve()}))},e.prototype.Nr=function(e){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.kr(),this.Cr("Connection failed 1 times. Most recent error: "+e.toString()),this.Dr("Offline")))},e.prototype.set=function(e){this.kr(),this.vr=0,"Online"===e&&(this.Vr=!1),this.Dr(e)},e.prototype.Dr=function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))},e.prototype.Cr=function(e){var t="Could not reach Cloud Firestore backend. "+e+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(d(t),this.Vr=!1):f("OnlineStateTracker",t)},e.prototype.kr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},e}(),yo=function(e,t,n,i,o){var a=this;this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Fr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=o,this.Lr.di(function(e){n.enqueueAndForget(function(){return Object(r.__awaiter)(a,void 0,void 0,function(){return Object(r.__generator)(this,function(e){switch(e.label){case 0:return Oo(this)?(f("RemoteStore","Restarting streams for network reachability change."),[4,function(e){return Object(r.__awaiter)(this,void 0,void 0,function(){var t;return Object(r.__generator)(this,function(n){switch(n.label){case 0:return(t=m(e)).Or.add(4),[4,mo(t)];case 1:return n.sent(),t.Br.set("Unknown"),t.Or.delete(4),[4,vo(t)];case 2:return n.sent(),[2]}})})}(this)]):[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})})}),this.Br=new go(n,i)};function vo(e){return Object(r.__awaiter)(this,void 0,void 0,function(){var t,n;return Object(r.__generator)(this,function(r){switch(r.label){case 0:if(!Oo(e))return[3,4];t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}function mo(e){return Object(r.__awaiter)(this,void 0,void 0,function(){var t,n;return Object(r.__generator)(this,function(r){switch(r.label){case 0:t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}function bo(e,t){var n=m(e);n.$r.has(t.targetId)||(n.$r.set(t.targetId,t),Co(n)?So(n):Ho(n).er()&&wo(n,t))}function _o(e,t){var n=m(e),r=Ho(n);n.$r.delete(t),r.er()&&Eo(n,t),0===n.$r.size&&(r.er()?r.ir():Oo(n)&&n.Br.set("Unknown"))}function wo(e,t){e.qr.U(t.targetId),Ho(e).mr(t)}function Eo(e,t){e.qr.U(t),Ho(e).yr(t)}function So(e){e.qr=new Yt({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},lt:function(t){return e.$r.get(t)||null}}),Ho(e).start(),e.Br.Sr()}function Co(e){return Oo(e)&&!Ho(e).tr()&&e.$r.size>0}function Oo(e){return 0===m(e).Or.size}function To(e){e.qr=void 0}function ko(e){return Object(r.__awaiter)(this,void 0,void 0,function(){return Object(r.__generator)(this,function(t){return e.$r.forEach(function(t,n){wo(e,t)}),[2]})})}function Io(e,t){return Object(r.__awaiter)(this,void 0,void 0,function(){return Object(r.__generator)(this,function(n){return To(e),Co(e)?(e.Br.Nr(t),So(e)):e.Br.set("Unknown"),[2]})})}function Ao(e,t,n){return Object(r.__awaiter)(this,void 0,void 0,function(){var i,o,a;return Object(r.__generator)(this,function(s){switch(s.label){case 0:if(e.Br.set("Online"),!(t instanceof Wt&&2===t.state&&t.cause))return[3,6];s.label=1;case 1:return s.trys.push([1,3,,5]),[4,function(e,t){return Object(r.__awaiter)(this,void 0,void 0,function(){var n,i,o,a;return Object(r.__generator)(this,function(r){switch(r.label){case 0:n=t.cause,i=0,o=t.targetIds,r.label=1;case 1:return i<o.length?(a=o[i],e.$r.has(a)?[4,e.remoteSyncer.rejectListen(a,n)]:[3,3]):[3,5];case 2:r.sent(),e.$r.delete(a),e.qr.removeTarget(a),r.label=3;case 3:r.label=4;case 4:return i++,[3,1];case 5:return[2]}})})}(e,t)];case 2:return s.sent(),[3,5];case 3:return i=s.sent(),f("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),[4,No(e,i)];case 4:return s.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof Gt?e.qr.X(t):t instanceof zt?e.qr.rt(t):e.qr.et(t),n.isEqual(O.min()))return[3,13];s.label=7;case 7:return s.trys.push([7,11,,13]),[4,Ei(e.localStore)];case 8:return o=s.sent(),n.compareTo(o)>=0?[4,function(e,t){var n=e.qr.ut(t);return n.targetChanges.forEach(function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.$r.get(r);i&&e.$r.set(r,i.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach(function(t){var n=e.$r.get(t);if(n){e.$r.set(t,n.withResumeToken(M.EMPTY_BYTE_STRING,n.snapshotVersion)),Eo(e,t);var r=new pr(n.target,t,1,n.sequenceNumber);wo(e,r)}}),e.remoteSyncer.applyRemoteEvent(n)}(e,n)]:[3,10];case 9:s.sent(),s.label=10;case 10:return[3,13];case 11:return f("RemoteStore","Failed to raise snapshot:",a=s.sent()),[4,No(e,a)];case 12:return s.sent(),[3,13];case 13:return[2]}})})}function No(e,t,n){return Object(r.__awaiter)(this,void 0,void 0,function(){var i=this;return Object(r.__generator)(this,function(o){switch(o.label){case 0:if(!or(t))throw t;return e.Or.add(1),[4,mo(e)];case 1:return o.sent(),e.Br.set("Offline"),n||(n=function(){return Ei(e.localStore)}),e.asyncQueue.enqueueRetryable(function(){return Object(r.__awaiter)(i,void 0,void 0,function(){return Object(r.__generator)(this,function(t){switch(t.label){case 0:return f("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return t.sent(),e.Or.delete(1),[4,vo(e)];case 2:return t.sent(),[2]}})})}),[2]}})})}function Ro(e,t){return t().catch(function(n){return No(e,n,t)})}function Po(e){return Object(r.__awaiter)(this,void 0,void 0,function(){var t,n,i,o,a;return Object(r.__generator)(this,function(r){switch(r.label){case 0:t=m(e),n=Bo(t),i=t.Fr.length>0?t.Fr[t.Fr.length-1].batchId:-1,r.label=1;case 1:if(!function(e){return Oo(e)&&e.Fr.length<10}(t))return[3,7];r.label=2;case 2:return r.trys.push([2,4,,6]),[4,Oi(t.localStore,i)];case 3:return null===(o=r.sent())?(0===t.Fr.length&&n.ir(),[3,7]):(i=o.batchId,function(e,t){e.Fr.push(t);var n=Bo(e);n.er()&&n.pr&&n.Er(t.mutations)}(t,o),[3,6]);case 4:return a=r.sent(),[4,No(t,a)];case 5:return r.sent(),[3,6];case 6:return[3,1];case 7:return xo(t)&&Mo(t),[2]}})})}function xo(e){return Oo(e)&&!Bo(e).tr()&&e.Fr.length>0}function Mo(e){Bo(e).start()}function Lo(e){return Object(r.__awaiter)(this,void 0,void 0,function(){return Object(r.__generator)(this,function(t){return Bo(e).Ar(),[2]})})}function Do(e){return Object(r.__awaiter)(this,void 0,void 0,function(){var t,n,i,o;return Object(r.__generator)(this,function(r){for(t=Bo(e),n=0,i=e.Fr;n<i.length;n++)o=i[n],t.Er(o.mutations);return[2]})})}function jo(e,t,n){return Object(r.__awaiter)(this,void 0,void 0,function(){var i,o;return Object(r.__generator)(this,function(r){switch(r.label){case 0:return i=e.Fr.shift(),o=dr.from(i,t,n),[4,Ro(e,function(){return e.remoteSyncer.applySuccessfulWrite(o)})];case 1:return r.sent(),[4,Po(e)];case 2:return r.sent(),[2]}})})}function Uo(e,t){return Object(r.__awaiter)(this,void 0,void 0,function(){return Object(r.__generator)(this,function(n){switch(n.label){case 0:return t&&Bo(e).pr?[4,function(e,t){return Object(r.__awaiter)(this,void 0,void 0,function(){var n,i;return Object(r.__generator)(this,function(r){switch(r.label){case 0:return Ot(i=t.code)&&i!==u.ABORTED?(n=e.Fr.shift(),Bo(e).sr(),[4,Ro(e,function(){return e.remoteSyncer.rejectFailedWrite(n.batchId,t)})]):[3,3];case 1:return r.sent(),[4,Po(e)];case 2:r.sent(),r.label=3;case 3:return[2]}})})}(e,t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return xo(e)&&Mo(e),[2]}})})}function Fo(e,t){return Object(r.__awaiter)(this,void 0,void 0,function(){var n;return Object(r.__generator)(this,function(r){switch(r.label){case 0:return n=m(e),t?(n.Or.delete(2),[4,vo(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return t?[3,4]:(n.Or.add(2),[4,mo(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function Ho(e){var t=this;return e.Ur||(e.Ur=function(e,t,n){var r=m(e);return r.br(),new ho(t,r.Hi,r.credentials,r.R,n)}(e.datastore,e.asyncQueue,{Ii:ko.bind(null,e),Ri:Io.bind(null,e),_r:Ao.bind(null,e)}),e.Mr.push(function(n){return Object(r.__awaiter)(t,void 0,void 0,function(){return Object(r.__generator)(this,function(t){switch(t.label){case 0:return n?(e.Ur.sr(),Co(e)?So(e):e.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,e.Ur.stop()];case 2:t.sent(),To(e),t.label=3;case 3:return[2]}})})})),e.Ur}function Bo(e){var t=this;return e.Kr||(e.Kr=function(e,t,n){var r=m(e);return r.br(),new fo(t,r.Hi,r.credentials,r.R,n)}(e.datastore,e.asyncQueue,{Ii:Lo.bind(null,e),Ri:Uo.bind(null,e),Ir:Do.bind(null,e),Tr:jo.bind(null,e)}),e.Mr.push(function(n){return Object(r.__awaiter)(t,void 0,void 0,function(){return Object(r.__generator)(this,function(t){switch(t.label){case 0:return n?(e.Kr.sr(),[4,Po(e)]):[3,2];case 1:return t.sent(),[3,4];case 2:return[4,e.Kr.stop()];case 3:t.sent(),e.Fr.length>0&&(f("RemoteStore","Stopping write stream with "+e.Fr.length+" pending writes"),e.Fr=[]),t.label=4;case 4:return[2]}})})})),e.Kr}var Vo=function(){function e(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Zn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(e){})}return e.createAndSchedule=function(t,n,r,i,o){var a=new e(t,n,Date.now()+r,i,o);return a.start(r),a},e.prototype.start=function(e){var t=this;this.timerHandle=setTimeout(function(){return t.handleDelayElapsed()},e)},e.prototype.skipDelay=function(){return this.handleDelayElapsed()},e.prototype.cancel=function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new c(u.CANCELLED,"Operation cancelled"+(e?": "+e:""))))},e.prototype.handleDelayElapsed=function(){var e=this;this.asyncQueue.enqueueAndForget(function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then(function(t){return e.deferred.resolve(t)})):Promise.resolve()})},e.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},e}();function qo(e,t){if(d("AsyncQueue",t+": "+e),or(e))return new c(u.UNAVAILABLE,t+": "+e);throw e}var Go=function(){function e(e){this.comparator=e?function(t,n){return e(t,n)||G.comparator(t.key,n.key)}:function(e,t){return G.comparator(e.key,t.key)},this.keyedMap=Lt(),this.sortedSet=new kt(this.comparator)}return e.emptySet=function(t){return new e(t.comparator)},e.prototype.has=function(e){return null!=this.keyedMap.get(e)},e.prototype.get=function(e){return this.keyedMap.get(e)},e.prototype.first=function(){return this.sortedSet.minKey()},e.prototype.last=function(){return this.sortedSet.maxKey()},e.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},e.prototype.indexOf=function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1},Object.defineProperty(e.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(e){this.sortedSet.inorderTraversal(function(t,n){return e(t),!1})},e.prototype.add=function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))},e.prototype.delete=function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},e.prototype.toString=function(){var e=[];return this.forEach(function(t){e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"},e.prototype.copy=function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r},e}(),zo=function(){function e(){this.Qr=new kt(G.comparator)}return e.prototype.track=function(e){var t=e.doc.key,n=this.Qr.get(t);n?0!==e.type&&3===n.type?this.Qr=this.Qr.insert(t,e):3===e.type&&1!==n.type?this.Qr=this.Qr.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Qr=this.Qr.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Qr=this.Qr.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Qr=this.Qr.remove(t):1===e.type&&2===n.type?this.Qr=this.Qr.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Qr=this.Qr.insert(t,{type:2,doc:e.doc}):y():this.Qr=this.Qr.insert(t,e)},e.prototype.jr=function(){var e=[];return this.Qr.inorderTraversal(function(t,n){e.push(n)}),e},e}(),Wo=function(){function e(e,t,n,r,i,o,a,s){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=s}return e.fromInitialDocuments=function(t,n,r,i){var o=[];return n.forEach(function(e){o.push({type:0,doc:e})}),new e(t,n,Go.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ue(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0},e}(),Ko=function(){this.Wr=void 0,this.listeners=[]},Yo=function(){this.queries=new ei(function(e){return Fe(e)},Ue),this.onlineState="Unknown",this.Gr=new Set};function Qo(e,t){return Object(r.__awaiter)(this,void 0,void 0,function(){var n,i,o,a,s,u,c;return Object(r.__generator)(this,function(r){switch(r.label){case 0:if(n=m(e),i=t.query,o=!1,(a=n.queries.get(i))||(o=!0,a=new Ko),!o)return[3,4];r.label=1;case 1:return r.trys.push([1,3,,4]),s=a,[4,n.onListen(i)];case 2:return s.Wr=r.sent(),[3,4];case 3:return u=r.sent(),c=qo(u,"Initialization of query '"+He(t.query)+"' failed"),[2,void t.onError(c)];case 4:return n.queries.set(i,a),a.listeners.push(t),t.zr(n.onlineState),a.Wr&&t.Hr(a.Wr)&&Xo(n),[2]}})})}function $o(e,t){return Object(r.__awaiter)(this,void 0,void 0,function(){var n,i,o,a,s;return Object(r.__generator)(this,function(r){return n=m(e),i=t.query,o=!1,(a=n.queries.get(i))&&(s=a.listeners.indexOf(t))>=0&&(a.listeners.splice(s,1),o=0===a.listeners.length),o?[2,(n.queries.delete(i),n.onUnlisten(i))]:[2]})})}function Xo(e){e.Gr.forEach(function(e){e.next()})}var Jo=function(){function e(e,t,n){this.query=e,this.Jr=t,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return e.prototype.Hr=function(e){if(!this.options.includeMetadataChanges){for(var t=[],n=0,r=e.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&t.push(i)}e=new Wo(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var o=!1;return this.Yr?this.Zr(e)&&(this.Jr.next(e),o=!0):this.eo(e,this.onlineState)&&(this.no(e),o=!0),this.Xr=e,o},e.prototype.onError=function(e){this.Jr.error(e)},e.prototype.zr=function(e){this.onlineState=e;var t=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,e)&&(this.no(this.Xr),t=!0),t},e.prototype.eo=function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return!(this.options.so&&n||e.docs.isEmpty()&&"Offline"!==t)},e.prototype.Zr=function(e){if(e.docChanges.length>0)return!0;var t=this.Xr&&this.Xr.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges},e.prototype.no=function(e){e=Wo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Yr=!0,this.Jr.next(e)},e}(),Zo=function(){function e(e,t){this.payload=e,this.byteLength=t}return e.prototype.io=function(){return"metadata"in this.payload},e}(),ea=function(){function e(e){this.R=e}return e.prototype.qn=function(e){return un(this.R,e)},e.prototype.Un=function(e){return e.metadata.exists?pn(this.R,e.document,!1):ae.newNoDocument(this.qn(e.metadata.name),this.Kn(e.metadata.readTime))},e.prototype.Kn=function(e){return rn(e)},e}(),ta=function(){function e(e,t,n){this.ro=e,this.localStore=t,this.R=n,this.queries=[],this.documents=[],this.progress=na(e)}return e.prototype.oo=function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null},e.prototype.co=function(e){for(var t=new Map,n=new ea(this.R),r=0,i=e;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var a=n.qn(o.metadata.name),s=0,u=o.metadata.queries;s<u.length;s++){var c=u[s],l=(t.get(c)||Ft()).add(a);t.set(c,l)}}return t},e.prototype.complete=function(){return Object(r.__awaiter)(this,void 0,void 0,function(){var e,t,n,i,o;return Object(r.__generator)(this,function(r){switch(r.label){case 0:return[4,Pi(this.localStore,new ea(this.R),this.documents,this.ro.id)];case 1:e=r.sent(),t=this.co(this.documents),n=0,i=this.queries,r.label=2;case 2:return n<i.length?(o=i[n],[4,xi(this.localStore,o,t.get(o.name))]):[3,5];case 3:r.sent(),r.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new pi(Object.assign({},this.progress),e))]}})})},e}();function na(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var ra=function(e){this.key=e},ia=function(e){this.key=e},oa=function(){function e(e,t){this.query=e,this.uo=t,this.ao=null,this.current=!1,this.ho=Ft(),this.mutatedKeys=Ft(),this.lo=Ve(e),this.fo=new Go(this.lo)}return Object.defineProperty(e.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),e.prototype._o=function(e,t){var n=this,r=t?t.mo:new zo,i=t?t.fo:this.fo,o=t?t.mutatedKeys:this.mutatedKeys,a=i,s=!1,u=Ne(this.query)&&i.size===this.query.limit?i.last():null,c=Re(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(function(e,t){var l=i.get(e),h=Be(n.query,t)?t:null,f=!!l&&n.mutatedKeys.has(l.key),d=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data.isEqual(h.data)?f!==d&&(r.track({type:3,doc:h}),p=!0):n.yo(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.lo(h,u)>0||c&&n.lo(h,c)<0)&&(s=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(h?(a=a.add(h),o=d?o.add(e):o.delete(e)):(a=a.delete(e),o=o.delete(e)))}),Ne(this.query)||Re(this.query))for(;a.size>this.query.limit;){var l=Ne(this.query)?a.last():a.first();a=a.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{fo:a,mo:r,Nn:s,mutatedKeys:o}},e.prototype.yo=function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations},e.prototype.applyChanges=function(e,t,n){var r=this,i=this.fo;this.fo=e.fo,this.mutatedKeys=e.mutatedKeys;var o=e.mo.jr();o.sort(function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return y()}};return n(e)-n(t)}(e.type,t.type)||r.lo(e.doc,t.doc)}),this.po(n);var a=t?this.Eo():[],s=0===this.ho.size&&this.current?1:0,u=s!==this.ao;return this.ao=s,0!==o.length||u?{snapshot:new Wo(this.query,e.fo,i,o,e.mutatedKeys,0===s,u,!1),To:a}:{To:a}},e.prototype.zr=function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({fo:this.fo,mo:new zo,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},e.prototype.Io=function(e){return!this.uo.has(e)&&!!this.fo.has(e)&&!this.fo.get(e).hasLocalMutations},e.prototype.po=function(e){var t=this;e&&(e.addedDocuments.forEach(function(e){return t.uo=t.uo.add(e)}),e.modifiedDocuments.forEach(function(e){}),e.removedDocuments.forEach(function(e){return t.uo=t.uo.delete(e)}),this.current=e.current)},e.prototype.Eo=function(){var e=this;if(!this.current)return[];var t=this.ho;this.ho=Ft(),this.fo.forEach(function(t){e.Io(t.key)&&(e.ho=e.ho.add(t.key))});var n=[];return t.forEach(function(t){e.ho.has(t)||n.push(new ia(t))}),this.ho.forEach(function(e){t.has(e)||n.push(new ra(e))}),n},e.prototype.Ao=function(e){this.uo=e.Bn,this.ho=Ft();var t=this._o(e.documents);return this.applyChanges(t,!0)},e.prototype.Ro=function(){return Wo.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},e}(),aa=function(e,t,n){this.query=e,this.targetId=t,this.view=n},sa=function(e){this.key=e,this.bo=!1},ua=function(){function e(e,t,n,r,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.vo={},this.Po=new ei(function(e){return Fe(e)},Ue),this.Vo=new Map,this.So=new Set,this.Do=new kt(G.comparator),this.Co=new Map,this.No=new Li,this.xo={},this.ko=new Map,this.Fo=Vr.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(e.prototype,"isPrimaryClient",{get:function(){return!0===this.$o},enumerable:!1,configurable:!0}),e}();function ca(e,t){return Object(r.__awaiter)(this,void 0,void 0,function(){var n,i,o,a,s,u;return Object(r.__generator)(this,function(r){switch(r.label){case 0:return n=xa(e),(a=n.Po.get(t))?(i=a.targetId,n.sharedClientState.addLocalQueryTarget(i),o=a.view.Ro(),[3,4]):[3,1];case 1:return[4,Ti(n.localStore,De(t))];case 2:return s=r.sent(),u=n.sharedClientState.addLocalQueryTarget(s.targetId),i=s.targetId,[4,la(n,t,i,"current"===u)];case 3:o=r.sent(),n.isPrimaryClient&&bo(n.remoteStore,s),r.label=4;case 4:return[2,o]}})})}function la(e,t,n,i){return Object(r.__awaiter)(this,void 0,void 0,function(){var o,a,s,u,c,l;return Object(r.__generator)(this,function(h){switch(h.label){case 0:return e.Oo=function(t,n,i){return function(e,t,n,i){return Object(r.__awaiter)(this,void 0,void 0,function(){var o,a,s;return Object(r.__generator)(this,function(r){switch(r.label){case 0:return(o=t.view._o(n)).Nn?[4,Ii(e.localStore,t.query,!1).then(function(e){var n=e.documents;return t.view._o(n,o)})]:[3,2];case 1:o=r.sent(),r.label=2;case 2:return a=i&&i.targetChanges.get(t.targetId),s=t.view.applyChanges(o,e.isPrimaryClient,a),[2,(_a(e,t.targetId,s.To),s.snapshot)]}})})}(e,t,n,i)},[4,Ii(e.localStore,t,!0)];case 1:return o=h.sent(),a=new oa(t,o.Bn),s=a._o(o.documents),u=qt.createSynthesizedTargetChangeForCurrentChange(n,i&&"Offline"!==e.onlineState),c=a.applyChanges(s,e.isPrimaryClient,u),_a(e,n,c.To),l=new aa(t,n,a),[2,(e.Po.set(t,l),e.Vo.has(n)?e.Vo.get(n).push(t):e.Vo.set(n,[t]),c.snapshot)]}})})}function ha(e,t){return Object(r.__awaiter)(this,void 0,void 0,function(){var n,i,o;return Object(r.__generator)(this,function(r){switch(r.label){case 0:return n=m(e),i=n.Po.get(t),(o=n.Vo.get(i.targetId)).length>1?[2,(n.Vo.set(i.targetId,o.filter(function(e){return!Ue(e,t)})),void n.Po.delete(t))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)?[3,2]:[4,ki(n.localStore,i.targetId,!1).then(function(){n.sharedClientState.clearQueryState(i.targetId),_o(n.remoteStore,i.targetId),ma(n,i.targetId)}).catch(Kr)]):[3,3];case 1:r.sent(),r.label=2;case 2:return[3,5];case 3:return ma(n,i.targetId),[4,ki(n.localStore,i.targetId,!0)];case 4:r.sent(),r.label=5;case 5:return[2]}})})}function fa(e,t,n){return Object(r.__awaiter)(this,void 0,void 0,function(){var i,o,a,s;return Object(r.__generator)(this,function(r){switch(r.label){case 0:i=Ma(e),r.label=1;case 1:return r.trys.push([1,5,,6]),[4,function(e,t){var n,r=m(e),i=C.now(),o=t.reduce(function(e,t){return e.add(t.key)},Ft());return r.persistence.runTransaction("Locally write mutations","readwrite",function(e){return r.Mn.pn(e,o).next(function(o){n=o;for(var a=[],s=0,u=t;s<u.length;s++){var c=u[s],l=ft(c,n.get(c.key));null!=l&&a.push(new yt(c.key,l,oe(l.value.mapValue),st.exists(!0)))}return r._n.addMutationBatch(e,i,a,t)})}).then(function(e){return e.applyToLocalDocumentSet(n),{batchId:e.batchId,changes:n}})}(i.localStore,t)];case 2:return o=r.sent(),i.sharedClientState.addPendingMutation(o.batchId),function(e,t,n){var r=e.xo[e.currentUser.toKey()];r||(r=new kt(w)),r=r.insert(t,n),e.xo[e.currentUser.toKey()]=r}(i,o.batchId,n),[4,Sa(i,o.changes)];case 3:return r.sent(),[4,Po(i.remoteStore)];case 4:return r.sent(),[3,6];case 5:return a=r.sent(),s=qo(a,"Failed to persist write"),n.reject(s),[3,6];case 6:return[2]}})})}function da(e,t){return Object(r.__awaiter)(this,void 0,void 0,function(){var n,i;return Object(r.__generator)(this,function(r){switch(r.label){case 0:n=m(e),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,Si(n.localStore,t)];case 2:return i=r.sent(),t.targetChanges.forEach(function(e,t){var r=n.Co.get(t);r&&(v(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.bo=!0:e.modifiedDocuments.size>0?v(r.bo):e.removedDocuments.size>0&&(v(r.bo),r.bo=!1))}),[4,Sa(n,i,t)];case 3:return r.sent(),[3,6];case 4:return[4,Kr(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}})})}function pa(e,t,n){var r=m(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Po.forEach(function(e,n){var r=n.view.zr(t);r.snapshot&&i.push(r.snapshot)}),function(e,t){var n=m(e);n.onlineState=t;var r=!1;n.queries.forEach(function(e,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].zr(t)&&(r=!0)}),r&&Xo(n)}(r.eventManager,t),i.length&&r.vo._r(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function ga(e,t){return Object(r.__awaiter)(this,void 0,void 0,function(){var n,i,o,a,s;return Object(r.__generator)(this,function(r){switch(r.label){case 0:Oo((n=m(e)).remoteStore)||f("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,function(e){var t=m(n.localStore);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(e){return t._n.getHighestUnacknowledgedBatchId(e)})}()];case 2:return-1===(i=r.sent())?[2,void t.resolve()]:((o=n.ko.get(i)||[]).push(t),n.ko.set(i,o),[3,4]);case 3:return a=r.sent(),s=qo(a,"Initialization of waitForPendingWrites() operation failed"),t.reject(s),[3,4];case 4:return[2]}})})}function ya(e,t){(e.ko.get(t)||[]).forEach(function(e){e.resolve()}),e.ko.delete(t)}function va(e,t,n){var r=m(e),i=r.xo[r.currentUser.toKey()];if(i){var o=i.get(t);o&&(n?o.reject(n):o.resolve(),i=i.remove(t)),r.xo[r.currentUser.toKey()]=i}}function ma(e,t,n){void 0===n&&(n=null),e.sharedClientState.removeLocalQueryTarget(t);for(var r=0,i=e.Vo.get(t);r<i.length;r++){var o=i[r];e.Po.delete(o),n&&e.vo.Mo(o,n)}e.Vo.delete(t),e.isPrimaryClient&&e.No.Zn(t).forEach(function(t){e.No.containsKey(t)||ba(e,t)})}function ba(e,t){e.So.delete(t.path.canonicalString());var n=e.Do.get(t);null!==n&&(_o(e.remoteStore,n),e.Do=e.Do.remove(t),e.Co.delete(n),Ea(e))}function _a(e,t,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof ra?(e.No.addReference(o.key,t),wa(e,o)):o instanceof ia?(f("SyncEngine","Document no longer in limbo: "+o.key),e.No.removeReference(o.key,t),e.No.containsKey(o.key)||ba(e,o.key)):y()}}function wa(e,t){var n=t.key,r=n.path.canonicalString();e.Do.get(n)||e.So.has(r)||(f("SyncEngine","New document in limbo: "+n),e.So.add(r),Ea(e))}function Ea(e){for(;e.So.size>0&&e.Do.size<e.maxConcurrentLimboResolutions;){var t=e.So.values().next().value;e.So.delete(t);var n=new G(N.fromString(t)),r=e.Fo.next();e.Co.set(r,new sa(n)),e.Do=e.Do.insert(n,r),bo(e.remoteStore,new pr(De(Ae(n.path)),r,2,s.o))}}function Sa(e,t,n){return Object(r.__awaiter)(this,void 0,void 0,function(){var i,o,a,s;return Object(r.__generator)(this,function(u){switch(u.label){case 0:return i=m(e),o=[],a=[],s=[],i.Po.isEmpty()?[3,3]:(i.Po.forEach(function(e,r){s.push(i.Oo(r,t,n).then(function(e){if(e){i.isPrimaryClient&&i.sharedClientState.updateQueryState(r.targetId,e.fromCache?"not-current":"current"),o.push(e);var t=yi.Pn(r.targetId,e);a.push(t)}}))}),[4,Promise.all(s)]);case 1:return u.sent(),i.vo._r(o),[4,function(e,t){return Object(r.__awaiter)(this,void 0,void 0,function(){var n,i,o,a,s,u,c,l,h;return Object(r.__generator)(this,function(r){switch(r.label){case 0:n=m(e),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(e){return er.forEach(t,function(t){return er.forEach(t.bn,function(r){return n.persistence.referenceDelegate.addReference(e,t.targetId,r)}).next(function(){return er.forEach(t.vn,function(r){return n.persistence.referenceDelegate.removeReference(e,t.targetId,r)})})})})];case 2:return r.sent(),[3,4];case 3:if(!or(i=r.sent()))throw i;return f("LocalStore","Failed to update sequence numbers: "+i),[3,4];case 4:for(o=0,a=t;o<a.length;o++)s=a[o],u=s.targetId,s.fromCache||(c=n.kn.get(u),l=c.snapshotVersion,h=c.withLastLimboFreeSnapshotVersion(l),n.kn=n.kn.insert(u,h));return[2]}})})}(i.localStore,a)];case 2:u.sent(),u.label=3;case 3:return[2]}})})}function Ca(e,t){return Object(r.__awaiter)(this,void 0,void 0,function(){var n,i,o;return Object(r.__generator)(this,function(r){switch(r.label){case 0:return[4,Ii((n=m(e)).localStore,t.query,!0)];case 1:return i=r.sent(),o=t.view.Ao(i),[2,(n.isPrimaryClient&&_a(n,t.targetId,o.To),o)]}})})}function Oa(e){return Object(r.__awaiter)(this,void 0,void 0,function(){var t;return Object(r.__generator)(this,function(n){return[2,Ni((t=m(e)).localStore).then(function(e){return Sa(t,e)})]})})}function Ta(e,t,n,i){return Object(r.__awaiter)(this,void 0,void 0,function(){var o,a;return Object(r.__generator)(this,function(r){switch(r.label){case 0:return[4,function(e,t){var n=m(e),r=m(n._n);return n.persistence.runTransaction("Lookup mutation documents","readonly",function(e){return r.jt(e,t).next(function(t){return t?n.Mn.pn(e,t):er.resolve(null)})})}((o=m(e)).localStore,t)];case 1:return null===(a=r.sent())?[3,6]:"pending"!==n?[3,3]:[4,Po(o.remoteStore)];case 2:return r.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(va(o,t,i||null),ya(o,t),function(e,t){m(m(e)._n).Gt(t)}(o.localStore,t)):y(),r.label=4;case 4:return[4,Sa(o,a)];case 5:return r.sent(),[3,7];case 6:f("SyncEngine","Cannot apply mutation batch with id: "+t),r.label=7;case 7:return[2]}})})}function ka(e,t){return Object(r.__awaiter)(this,void 0,void 0,function(){var n,i,o,a,s,u,c,l;return Object(r.__generator)(this,function(r){switch(r.label){case 0:return xa(n=m(e)),Ma(n),!0!==t||!0===n.$o?[3,3]:(i=n.sharedClientState.getAllActiveQueryTargets(),[4,Ia(n,i.toArray())]);case 1:return o=r.sent(),n.$o=!0,[4,Fo(n.remoteStore,!0)];case 2:for(r.sent(),a=0,s=o;a<s.length;a++)u=s[a],bo(n.remoteStore,u);return[3,7];case 3:return!1!==t||!1===n.$o?[3,7]:(c=[],l=Promise.resolve(),n.Vo.forEach(function(e,t){n.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then(function(){return ma(n,t),ki(n.localStore,t,!0)}),_o(n.remoteStore,t)}),[4,l]);case 4:return r.sent(),[4,Ia(n,c)];case 5:return r.sent(),function(e){var t=m(n);t.Co.forEach(function(e,n){_o(t.remoteStore,n)}),t.No.ts(),t.Co=new Map,t.Do=new kt(G.comparator)}(),n.$o=!1,[4,Fo(n.remoteStore,!1)];case 6:r.sent(),r.label=7;case 7:return[2]}})})}function Ia(e,t,n){return Object(r.__awaiter)(this,void 0,void 0,function(){var n,i,o,a,s,u,c,l,h,f,d,p,g,y;return Object(r.__generator)(this,function(r){switch(r.label){case 0:n=m(e),i=[],o=[],a=0,s=t,r.label=1;case 1:return a<s.length?(u=s[a],c=void 0,(l=n.Vo.get(u))&&0!==l.length?[4,Ti(n.localStore,De(l[0]))]:[3,7]):[3,13];case 2:c=r.sent(),h=0,f=l,r.label=3;case 3:return h<f.length?(d=f[h],p=n.Po.get(d),[4,Ca(n,p)]):[3,6];case 4:(g=r.sent()).snapshot&&o.push(g.snapshot),r.label=5;case 5:return h++,[3,3];case 6:return[3,11];case 7:return[4,Ai(n.localStore,u)];case 8:return y=r.sent(),[4,Ti(n.localStore,y)];case 9:return c=r.sent(),[4,la(n,Aa(y),u,!1)];case 10:r.sent(),r.label=11;case 11:i.push(c),r.label=12;case 12:return a++,[3,1];case 13:return[2,(n.vo._r(o),i)]}})})}function Aa(e){return Ie(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function Na(e){var t=m(e);return m(m(t.localStore).persistence).fn()}function Ra(e,t,n,i){return Object(r.__awaiter)(this,void 0,void 0,function(){var o,a,s;return Object(r.__generator)(this,function(r){switch(r.label){case 0:return(o=m(e)).$o?(f("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!o.Vo.has(t))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Ni(o.localStore)];case 3:return a=r.sent(),s=Vt.createSynthesizedRemoteEventForCurrentChange(t,"current"===n),[4,Sa(o,a,s)];case 4:return r.sent(),[3,8];case 5:return[4,ki(o.localStore,t,!0)];case 6:return r.sent(),ma(o,t,i),[3,8];case 7:y(),r.label=8;case 8:return[2]}})})}function Pa(e,t,n){return Object(r.__awaiter)(this,void 0,void 0,function(){var i,o,a,s,u,c,l,h,d,p;return Object(r.__generator)(this,function(g){switch(g.label){case 0:if(!(i=xa(e)).$o)return[3,10];o=0,a=t,g.label=1;case 1:return o<a.length?(s=a[o],i.Vo.has(s)?(f("SyncEngine","Adding an already active target "+s),[3,5]):[4,Ai(i.localStore,s)]):[3,6];case 2:return u=g.sent(),[4,Ti(i.localStore,u)];case 3:return c=g.sent(),[4,la(i,Aa(u),c.targetId,!1)];case 4:g.sent(),bo(i.remoteStore,c),g.label=5;case 5:return o++,[3,1];case 6:l=function(e){return Object(r.__generator)(this,function(t){switch(t.label){case 0:return i.Vo.has(e)?[4,ki(i.localStore,e,!1).then(function(){_o(i.remoteStore,e),ma(i,e)}).catch(Kr)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})},h=0,d=n,g.label=7;case 7:return h<d.length?(p=d[h],[5,l(p)]):[3,10];case 8:g.sent(),g.label=9;case 9:return h++,[3,7];case 10:return[2]}})})}function xa(e){var t=m(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=da.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=function(e,t){var n=m(e),r=n.Co.get(t);if(r&&r.bo)return Ft().add(r.key);var i=Ft(),o=n.Vo.get(t);if(!o)return i;for(var a=0,s=o;a<s.length;a++){var u=s[a],c=n.Po.get(u);i=i.unionWith(c.view.wo)}return i}.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=function(e,t,n){return Object(r.__awaiter)(this,void 0,void 0,function(){var i,o,a,s,u,c;return Object(r.__generator)(this,function(r){switch(r.label){case 0:return(i=m(e)).sharedClientState.updateQueryState(t,"rejected",n),o=i.Co.get(t),(a=o&&o.key)?(s=(s=new kt(G.comparator)).insert(a,ae.newNoDocument(a,O.min())),u=Ft().add(a),c=new Vt(O.min(),new Map,new Nt(w),s,u),[4,da(i,c)]):[3,2];case 1:return r.sent(),i.Do=i.Do.remove(a),i.Co.delete(t),Ea(i),[3,4];case 2:return[4,ki(i.localStore,t,!1).then(function(){return ma(i,t,n)}).catch(Kr)];case 3:r.sent(),r.label=4;case 4:return[2]}})})}.bind(null,t),t.vo._r=function(e,t){for(var n=m(e),r=!1,i=0,o=t;i<o.length;i++){var a=o[i],s=a.query,u=n.queries.get(s);if(u){for(var c=0,l=u.listeners;c<l.length;c++)l[c].Hr(a)&&(r=!0);u.Wr=a}}r&&Xo(n)}.bind(null,t.eventManager),t.vo.Mo=function(e,t,n){var r=m(e),i=r.queries.get(t);if(i)for(var o=0,a=i.listeners;o<a.length;o++)a[o].onError(n);r.queries.delete(t)}.bind(null,t.eventManager),t}function Ma(e){var t=m(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=function(e,t){return Object(r.__awaiter)(this,void 0,void 0,function(){var n,i,o;return Object(r.__generator)(this,function(r){switch(r.label){case 0:n=m(e),i=t.batch.batchId,r.label=1;case 1:return r.trys.push([1,4,,6]),[4,wi(n.localStore,t)];case 2:return o=r.sent(),va(n,i,null),ya(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),[4,Sa(n,o)];case 3:return r.sent(),[3,6];case 4:return[4,Kr(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}})})}.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=function(e,t,n){return Object(r.__awaiter)(this,void 0,void 0,function(){var i,o;return Object(r.__generator)(this,function(r){switch(r.label){case 0:i=m(e),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,function(e,t){var n=m(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",function(e){var r;return n._n.lookupMutationBatch(e,t).next(function(t){return v(null!==t),r=t.keys(),n._n.removeMutationBatch(e,t)}).next(function(){return n._n.performConsistencyCheck(e)}).next(function(){return n.Mn.pn(e,r)})})}(i.localStore,t)];case 2:return o=r.sent(),va(i,t,n),ya(i,t),i.sharedClientState.updateMutationState(t,"rejected",n),[4,Sa(i,o)];case 3:return r.sent(),[3,6];case 4:return[4,Kr(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}})})}.bind(null,t),t}function La(e,t,n){var i=m(e);(function(e,t,n){return Object(r.__awaiter)(this,void 0,void 0,function(){var i,o,a,s,u,c;return Object(r.__generator)(this,function(r){switch(r.label){case 0:return r.trys.push([0,14,,15]),[4,t.getMetadata()];case 1:return i=r.sent(),[4,function(e,t){var n=m(e),r=rn(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",function(e){return n.Ke.getBundleMetadata(e,t.id)}).then(function(e){return!!e&&e.createTime.compareTo(r)>=0})}(e.localStore,i)];case 2:return r.sent()?[4,t.close()]:[3,4];case 3:return[2,(r.sent(),void n._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)))];case 4:return n._updateProgress(na(i)),o=new ta(i,e.localStore,t.R),[4,t.Lo()];case 5:a=r.sent(),r.label=6;case 6:return a?[4,o.oo(a)]:[3,10];case 7:return(s=r.sent())&&n._updateProgress(s),[4,t.Lo()];case 8:a=r.sent(),r.label=9;case 9:return[3,6];case 10:return[4,o.complete()];case 11:return u=r.sent(),[4,Sa(e,u.wn,void 0)];case 12:return r.sent(),[4,function(e,t){var n=m(e);return n.persistence.runTransaction("Save bundle","readwrite",function(e){return n.Ke.saveBundleMetadata(e,t)})}(e.localStore,i)];case 13:return r.sent(),n._completeWith(u.progress),[3,15];case 14:return p("SyncEngine","Loading bundle failed with "+(c=r.sent())),n._failWith(c),[3,15];case 15:return[2]}})})})(i,t,n).then(function(){i.sharedClientState.notifyBundleLoaded()})}var Da=function(){function e(){this.synchronizeTabs=!1}return e.prototype.initialize=function(e){return Object(r.__awaiter)(this,void 0,void 0,function(){return Object(r.__generator)(this,function(t){switch(t.label){case 0:return this.R=uo(e.databaseInfo.databaseId),this.sharedClientState=this.Bo(e),this.persistence=this.qo(e),[4,this.persistence.start()];case 1:return t.sent(),this.gcScheduler=this.Uo(e),this.localStore=this.Ko(e),[2]}})})},e.prototype.Uo=function(e){return null},e.prototype.Ko=function(e){return bi(this.persistence,new vi,e.initialUser,this.R)},e.prototype.qo=function(e){return new Bi(qi.bs,this.R)},e.prototype.Bo=function(e){return new eo},e.prototype.terminate=function(){return Object(r.__awaiter)(this,void 0,void 0,function(){return Object(r.__generator)(this,function(e){switch(e.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return e.sent(),[4,this.persistence.shutdown()];case 2:return e.sent(),[2]}})})},e}(),ja=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).Qo=t,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Object(r.__extends)(t,e),t.prototype.initialize=function(t){return Object(r.__awaiter)(this,void 0,void 0,function(){var n=this;return Object(r.__generator)(this,function(r){switch(r.label){case 0:return[4,e.prototype.initialize.call(this,t)];case 1:return r.sent(),[4,Ri(this.localStore)];case 2:return r.sent(),[4,this.Qo.initialize(this,t)];case 3:return r.sent(),[4,Ma(this.Qo.syncEngine)];case 4:return r.sent(),[4,Po(this.Qo.remoteStore)];case 5:return r.sent(),[4,this.persistence.He(function(){return n.gcScheduler&&!n.gcScheduler.started&&n.gcScheduler.start(n.localStore),Promise.resolve()})];case 6:return r.sent(),[2]}})})},t.prototype.Ko=function(e){return bi(this.persistence,new vi,e.initialUser,this.R)},t.prototype.Uo=function(e){var t=this.persistence.referenceDelegate.garbageCollector;return new $r(t,e.asyncQueue)},t.prototype.qo=function(e){var t=di(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Mr.withCacheSize(this.cacheSizeBytes):Mr.DEFAULT;return new li(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,ao(),so(),this.R,this.sharedClientState,!!this.forceOwnership)},t.prototype.Bo=function(e){return new eo},t}(Da),Ua=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n,!1)||this).Qo=t,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Object(r.__extends)(t,e),t.prototype.initialize=function(t){return Object(r.__awaiter)(this,void 0,void 0,function(){var n,i=this;return Object(r.__generator)(this,function(o){switch(o.label){case 0:return[4,e.prototype.initialize.call(this,t)];case 1:return o.sent(),n=this.Qo.syncEngine,this.sharedClientState instanceof Zi?(this.sharedClientState.syncEngine={ui:Ta.bind(null,n),ai:Ra.bind(null,n),hi:Pa.bind(null,n),fn:Na.bind(null,n),ci:Oa.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:o.sent(),o.label=3;case 3:return[4,this.persistence.He(function(e){return Object(r.__awaiter)(i,void 0,void 0,function(){return Object(r.__generator)(this,function(t){switch(t.label){case 0:return[4,ka(this.Qo.syncEngine,e)];case 1:return t.sent(),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):e||this.gcScheduler.stop()),[2]}})})})];case 4:return o.sent(),[2]}})})},t.prototype.Bo=function(e){var t=ao();if(!Zi.yt(t))throw new c(u.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=di(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Zi(t,e.asyncQueue,n,e.clientId,e.initialUser)},t}(ja),Fa=function(){function e(){}return e.prototype.initialize=function(e,t){return Object(r.__awaiter)(this,void 0,void 0,function(){var n=this;return Object(r.__generator)(this,function(i){switch(i.label){case 0:return this.localStore?[3,2]:(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return pa(n.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=function(e,t){return Object(r.__awaiter)(this,void 0,void 0,function(){var n,i;return Object(r.__generator)(this,function(r){switch(r.label){case 0:return(n=m(e)).currentUser.isEqual(t)?[3,3]:(f("SyncEngine","User change. New user:",t.toKey()),[4,_i(n.localStore,t)]);case 1:return i=r.sent(),n.currentUser=t,function(e,t){e.ko.forEach(function(e){e.forEach(function(e){e.reject(new c(u.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),e.ko.clear()}(n),n.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),[4,Sa(n,i.Ln)];case 2:r.sent(),r.label=3;case 3:return[2]}})})}.bind(null,this.syncEngine),[4,Fo(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:i.sent(),i.label=2;case 2:return[2]}})})},e.prototype.createEventManager=function(e){return new Yo},e.prototype.createDatastore=function(e){var t,n=uo(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new oo(t));return function(e,t,n){return new po(e,r,n)}(e.credentials,0,n)},e.prototype.createRemoteStore=function(e){var t,n,r,i,o,a=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return pa(a.syncEngine,e,0)},o=no.yt()?new no:new to,new yo(t,n,r,i,o)},e.prototype.createSyncEngine=function(e,t){return function(e,t,n,r,i,o,a){var s=new ua(e,t,n,r,i,o);return a&&(s.$o=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)},e.prototype.terminate=function(){return function(e){return Object(r.__awaiter)(this,void 0,void 0,function(){var t;return Object(r.__generator)(this,function(n){switch(n.label){case 0:return t=m(e),f("RemoteStore","RemoteStore shutting down."),t.Or.add(5),[4,mo(t)];case 1:return n.sent(),t.Lr.shutdown(),t.Br.set("Unknown"),[2]}})})}(this.remoteStore)},e}();function Ha(e,t){void 0===t&&(t=10240);var n=0;return{read:function(){return Object(r.__awaiter)(this,void 0,void 0,function(){var i;return Object(r.__generator)(this,function(r){return n<e.byteLength?(i={value:e.slice(n,n+t),done:!1},[2,(n+=t,i)]):[2,{done:!0}]})})},cancel:function(){return Object(r.__awaiter)(this,void 0,void 0,function(){return Object(r.__generator)(this,function(e){return[2]})})},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var Ba=function(){function e(e){this.observer=e,this.muted=!1}return e.prototype.next=function(e){this.observer.next&&this.jo(this.observer.next,e)},e.prototype.error=function(e){this.observer.error?this.jo(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)},e.prototype.Wo=function(){this.muted=!0},e.prototype.jo=function(e,t){var n=this;this.muted||setTimeout(function(){n.muted||e(t)},0)},e}(),Va=function(){function e(e,t){var n=this;this.Go=e,this.R=t,this.metadata=new Zn,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then(function(e){e&&e.io()?n.metadata.resolve(e.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==e?void 0:e.payload)))},function(e){return n.metadata.reject(e)})}return e.prototype.close=function(){return this.Go.cancel()},e.prototype.getMetadata=function(){return Object(r.__awaiter)(this,void 0,void 0,function(){return Object(r.__generator)(this,function(e){return[2,this.metadata.promise]})})},e.prototype.Lo=function(){return Object(r.__awaiter)(this,void 0,void 0,function(){return Object(r.__generator)(this,function(e){switch(e.label){case 0:return[4,this.getMetadata()];case 1:return[2,(e.sent(),this.Ho())]}})})},e.prototype.Ho=function(){return Object(r.__awaiter)(this,void 0,void 0,function(){var e,t,n,i;return Object(r.__generator)(this,function(r){switch(r.label){case 0:return[4,this.Jo()];case 1:return null===(e=r.sent())?[2,null]:(t=this.zo.decode(e),n=Number(t),isNaN(n)&&this.Yo("length string ("+t+") is not valid number"),[4,this.Xo(n)]);case 2:return i=r.sent(),[2,new Zo(JSON.parse(i),e.length+n)]}})})},e.prototype.Zo=function(){return this.buffer.findIndex(function(e){return e==="{".charCodeAt(0)})},e.prototype.Jo=function(){return Object(r.__awaiter)(this,void 0,void 0,function(){var e,t;return Object(r.__generator)(this,function(n){switch(n.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((e=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),t=this.buffer.slice(0,e),[2,(this.buffer=this.buffer.slice(e),t)])}})})},e.prototype.Xo=function(e){return Object(r.__awaiter)(this,void 0,void 0,function(){var t;return Object(r.__generator)(this,function(n){switch(n.label){case 0:return this.buffer.length<e?[4,this.tc()]:[3,3];case 1:n.sent()&&this.Yo("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return t=this.zo.decode(this.buffer.slice(0,e)),[2,(this.buffer=this.buffer.slice(e),t)]}})})},e.prototype.Yo=function(e){throw this.Go.cancel(),new Error("Invalid bundle format: "+e)},e.prototype.tc=function(){return Object(r.__awaiter)(this,void 0,void 0,function(){var e,t;return Object(r.__generator)(this,function(n){switch(n.label){case 0:return[4,this.Go.read()];case 1:return(e=n.sent()).done||((t=new Uint8Array(this.buffer.length+e.value.length)).set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t),[2,e.done]}})})},e}(),qa=function(){function e(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return e.prototype.lookup=function(e){return Object(r.__awaiter)(this,void 0,void 0,function(){var t,n=this;return Object(r.__generator)(this,function(i){switch(i.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new c(u.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(e,t){return Object(r.__awaiter)(this,void 0,void 0,function(){var n,i,o,a,s,u;return Object(r.__generator)(this,function(r){switch(r.label){case 0:return n=m(e),i=hn(n.R)+"/documents",o={documents:t.map(function(e){return sn(n.R,e)})},[4,n.$i("BatchGetDocuments",i,o)];case 1:return a=r.sent(),s=new Map,a.forEach(function(e){var t=function(e,t){return"found"in t?function(e,t){v(!!t.found),t.found.name,t.found.updateTime;var n=un(e,t.found.name),r=rn(t.found.updateTime),i=new ie({mapValue:{fields:t.found.fields}});return ae.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){v(!!t.missing),v(!!t.readTime);var n=un(e,t.missing),r=rn(t.readTime);return ae.newNoDocument(n,r)}(e,t):y()}(n.R,e);s.set(t.key.toString(),t)}),u=[],[2,(t.forEach(function(e){var t=s.get(e.toString());v(!!t),u.push(t)}),u)]}})})}(this.datastore,e)];case 1:return[2,((t=i.sent()).forEach(function(e){return n.recordVersion(e)}),t)]}})})},e.prototype.set=function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())},e.prototype.update=function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())},e.prototype.delete=function(e){this.write(new Et(e,this.precondition(e))),this.writtenDocs.add(e.toString())},e.prototype.commit=function(){return Object(r.__awaiter)(this,void 0,void 0,function(){var e,t=this;return Object(r.__generator)(this,function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return e=this.readVersions,this.mutations.forEach(function(t){e.delete(t.key.toString())}),e.forEach(function(e,n){var r=G.fromPath(n);t.mutations.push(new St(r,t.precondition(r)))}),[4,function(e,t){return Object(r.__awaiter)(this,void 0,void 0,function(){var n,i,o;return Object(r.__generator)(this,function(r){switch(r.label){case 0:return n=m(e),i=hn(n.R)+"/documents",o={writes:t.map(function(e){return gn(n.R,e)})},[4,n.Ni("Commit",i,o)];case 1:return r.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}})})},e.prototype.recordVersion=function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw y();t=O.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new c(u.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)},e.prototype.precondition=function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?st.updateTime(t):st.none()},e.prototype.preconditionForUpdate=function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(O.min()))throw new c(u.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return st.updateTime(t)}return st.exists(!0)},e.prototype.write=function(e){this.ensureCommitNotCalled(),this.mutations.push(e)},e.prototype.ensureCommitNotCalled=function(){},e}(),Ga=function(){function e(e,t,n,r){this.asyncQueue=e,this.datastore=t,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new co(this.asyncQueue,"transaction_retry")}return e.prototype.run=function(){this.ec-=1,this.nc()},e.prototype.nc=function(){var e=this;this.Zi.ji(function(){return Object(r.__awaiter)(e,void 0,void 0,function(){var e,t,n=this;return Object(r.__generator)(this,function(r){return e=new qa(this.datastore),(t=this.sc(e))&&t.then(function(t){n.asyncQueue.enqueueAndForget(function(){return e.commit().then(function(){n.deferred.resolve(t)}).catch(function(e){n.ic(e)})})}).catch(function(e){n.ic(e)}),[2]})})})},e.prototype.sc=function(e){try{var t=this.updateFunction(e);return!B(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}},e.prototype.ic=function(e){var t=this;this.ec>0&&this.rc(e)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return t.nc(),Promise.resolve()})):this.deferred.reject(e)},e.prototype.rc=function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!Ot(t)}return!1},e}(),za=function(){function e(e,t,n){var i=this;this.credentials=e,this.asyncQueue=t,this.databaseInfo=n,this.user=Gi.UNAUTHENTICATED,this.clientId=_.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(t,function(e){return Object(r.__awaiter)(i,void 0,void 0,function(){return Object(r.__generator)(this,function(t){switch(t.label){case 0:return f("FirestoreClient","Received user=",e.uid),[4,this.credentialListener(e)];case 1:return t.sent(),this.user=e,[2]}})})})}return e.prototype.getConfiguration=function(){return Object(r.__awaiter)(this,void 0,void 0,function(){return Object(r.__generator)(this,function(e){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]})})},e.prototype.setCredentialChangeListener=function(e){this.credentialListener=e},e.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new c(u.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.terminate=function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new Zn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return Object(r.__awaiter)(e,void 0,void 0,function(){var e,n;return Object(r.__generator)(this,function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),t.resolve(),[3,6];case 5:return e=r.sent(),n=qo(e,"Failed to shutdown persistence"),t.reject(n),[3,6];case 6:return[2]}})})}),t.promise},e}();function Wa(e,t){return Object(r.__awaiter)(this,void 0,void 0,function(){var n,i,o=this;return Object(r.__generator)(this,function(a){switch(a.label){case 0:return e.asyncQueue.verifyOperationInProgress(),f("FirestoreClient","Initializing OfflineComponentProvider"),[4,e.getConfiguration()];case 1:return n=a.sent(),[4,t.initialize(n)];case 2:return a.sent(),i=n.initialUser,e.setCredentialChangeListener(function(e){return Object(r.__awaiter)(o,void 0,void 0,function(){return Object(r.__generator)(this,function(n){switch(n.label){case 0:return i.isEqual(e)?[3,2]:[4,_i(t.localStore,e)];case 1:n.sent(),i=e,n.label=2;case 2:return[2]}})})}),t.persistence.setDatabaseDeletedListener(function(){return e.terminate()}),e.offlineComponents=t,[2]}})})}function Ka(e,t){return Object(r.__awaiter)(this,void 0,void 0,function(){var n,i;return Object(r.__generator)(this,function(o){switch(o.label){case 0:return e.asyncQueue.verifyOperationInProgress(),[4,Ya(e)];case 1:return n=o.sent(),f("FirestoreClient","Initializing OnlineComponentProvider"),[4,e.getConfiguration()];case 2:return i=o.sent(),[4,t.initialize(n,i)];case 3:return o.sent(),e.setCredentialChangeListener(function(e){return function(e,t){return Object(r.__awaiter)(this,void 0,void 0,function(){var n,i;return Object(r.__generator)(this,function(r){switch(r.label){case 0:return(n=m(e)).asyncQueue.verifyOperationInProgress(),f("RemoteStore","RemoteStore received new credentials"),i=Oo(n),n.Or.add(3),[4,mo(n)];case 1:return r.sent(),i&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(t)];case 2:return r.sent(),n.Or.delete(3),[4,vo(n)];case 3:return r.sent(),[2]}})})}(t.remoteStore,e)}),e.onlineComponents=t,[2]}})})}function Ya(e){return Object(r.__awaiter)(this,void 0,void 0,function(){return Object(r.__generator)(this,function(t){switch(t.label){case 0:return e.offlineComponents?[3,2]:(f("FirestoreClient","Using default OfflineComponentProvider"),[4,Wa(e,new Da)]);case 1:t.sent(),t.label=2;case 2:return[2,e.offlineComponents]}})})}function Qa(e){return Object(r.__awaiter)(this,void 0,void 0,function(){return Object(r.__generator)(this,function(t){switch(t.label){case 0:return e.onlineComponents?[3,2]:(f("FirestoreClient","Using default OnlineComponentProvider"),[4,Ka(e,new Fa)]);case 1:t.sent(),t.label=2;case 2:return[2,e.onlineComponents]}})})}function $a(e){return Ya(e).then(function(e){return e.persistence})}function Xa(e){return Ya(e).then(function(e){return e.localStore})}function Ja(e){return Qa(e).then(function(e){return e.remoteStore})}function Za(e){return Qa(e).then(function(e){return e.syncEngine})}function es(e){return Object(r.__awaiter)(this,void 0,void 0,function(){var t,n;return Object(r.__generator)(this,function(r){switch(r.label){case 0:return[4,Qa(e)];case 1:return t=r.sent(),[2,((n=t.eventManager).onListen=ca.bind(null,t.syncEngine),n.onUnlisten=ha.bind(null,t.syncEngine),n)]}})})}function ts(e,t,n){var i=this;void 0===n&&(n={});var o=new Zn;return e.asyncQueue.enqueueAndForget(function(){return Object(r.__awaiter)(i,void 0,void 0,function(){var i;return Object(r.__generator)(this,function(r){switch(r.label){case 0:return i=function(e,t,n,r,i){var o=new Ba({next:function(o){t.enqueueAndForget(function(){return $o(e,a)});var s=o.docs.has(n);!s&&o.fromCache?i.reject(new c(u.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&o.fromCache&&r&&"server"===r.source?i.reject(new c(u.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(e){return i.reject(e)}}),a=new Jo(Ae(n.path),o,{includeMetadataChanges:!0,so:!0});return Qo(e,a)},[4,es(e)];case 1:return[2,i.apply(void 0,[r.sent(),e.asyncQueue,t,n,o])]}})})}),o.promise}function ns(e,t,n){var i=this;void 0===n&&(n={});var o=new Zn;return e.asyncQueue.enqueueAndForget(function(){return Object(r.__awaiter)(i,void 0,void 0,function(){var i;return Object(r.__generator)(this,function(r){switch(r.label){case 0:return i=function(e,t,n,r,i){var o=new Ba({next:function(n){t.enqueueAndForget(function(){return $o(e,a)}),n.fromCache&&"server"===r.source?i.reject(new c(u.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),a=new Jo(n,o,{includeMetadataChanges:!0,so:!0});return Qo(e,a)},[4,es(e)];case 1:return[2,i.apply(void 0,[r.sent(),e.asyncQueue,t,n,o])]}})})}),o.promise}var rs=function(e,t,n,r,i,o,a,s){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=s},is=function(){function e(e,t){this.projectId=e,this.database=t||"(default)"}return Object.defineProperty(e.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database},e}(),os=new Map,as=function(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+e},ss=function(){function e(){this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(null)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(e,t){this.changeListener=t,e.enqueueRetryable(function(){return t(Gi.UNAUTHENTICATED)})},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),us=function(){function e(e){this.token=e,this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(this.token)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable(function(){return t(n.token.user)})},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),cs=function(){function e(e){var t=this;this.currentUser=Gi.UNAUTHENTICATED,this.oc=new Zn,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){t.cc++,t.currentUser=t.ac(),t.oc.resolve(),t.changeListener&&t.asyncQueue.enqueueRetryable(function(){return t.changeListener(t.currentUser)})};var n=function(e){f("FirebaseCredentialsProvider","Auth detected"),t.auth=e,t.auth.addAuthTokenListener(t.uc)};e.onInit(function(e){return n(e)}),setTimeout(function(){if(!t.auth){var r=e.getImmediate({optional:!0});r?n(r):(f("FirebaseCredentialsProvider","Auth not yet detected"),t.oc.resolve())}},0)}return e.prototype.getToken=function(){var e=this,t=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(function(n){return e.cc!==t?(f("FirebaseCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(v("string"==typeof n.accessToken),new as(n.accessToken,e.currentUser)):null}):Promise.resolve(null)},e.prototype.invalidateToken=function(){this.forceRefresh=!0},e.prototype.setChangeListener=function(e,t){var n=this;this.asyncQueue=e,this.asyncQueue.enqueueRetryable(function(){return Object(r.__awaiter)(n,void 0,void 0,function(){return Object(r.__generator)(this,function(e){switch(e.label){case 0:return[4,this.oc.promise];case 1:return e.sent(),[4,t(this.currentUser)];case 2:return e.sent(),this.changeListener=t,[2]}})})})},e.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},e.prototype.ac=function(){var e=this.auth&&this.auth.getUid();return v(null===e||"string"==typeof e),new Gi(e)},e}(),ls=function(){function e(e,t,n){this.hc=e,this.lc=t,this.fc=n,this.type="FirstParty",this.user=Gi.FIRST_PARTY}return Object.defineProperty(e.prototype,"authHeaders",{get:function(){var e={"X-Goog-AuthUser":this.lc},t=this.hc.auth.getAuthHeaderValueForFirstParty([]);return t&&(e.Authorization=t),this.fc&&(e["X-Goog-Iam-Authorization-Token"]=this.fc),e},enumerable:!1,configurable:!0}),e}(),hs=function(){function e(e,t,n){this.hc=e,this.lc=t,this.fc=n}return e.prototype.getToken=function(){return Promise.resolve(new ls(this.hc,this.lc,this.fc))},e.prototype.setChangeListener=function(e,t){e.enqueueRetryable(function(){return t(Gi.FIRST_PARTY)})},e.prototype.removeChangeListener=function(){},e.prototype.invalidateToken=function(){},e}();function fs(e,t,n){if(!n)throw new c(u.INVALID_ARGUMENT,"Function "+e+"() cannot be called with an empty "+t+".")}function ds(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new c(u.INVALID_ARGUMENT,"Invalid options passed to function "+e+'(): You cannot specify both "merge" and "mergeFields".');return t}function ps(e,t,n,r){if(!0===t&&!0===r)throw new c(u.INVALID_ARGUMENT,e+" and "+n+" cannot be used together.")}function gs(e){if(!G.isDocumentKey(e))throw new c(u.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e+" has "+e.length+".")}function ys(e){if(G.isDocumentKey(e))throw new c(u.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e+" has "+e.length+".")}function vs(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){if(e.constructor){var t=/function\s+([^\s(]+)\s*\(/.exec(e.constructor.toString());if(t&&t.length>1)return t[1]}return null}(e);return t?"a custom "+t+" object":"an object"}return"function"==typeof e?"a function":y()}function ms(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new c(u.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=vs(e);throw new c(u.INVALID_ARGUMENT,"Expected type '"+t.name+"', but it was: "+n)}return e}function bs(e,t){if(t<=0)throw new c(u.INVALID_ARGUMENT,"Function "+e+"() requires a positive number, but it was: "+t+".")}var _s=function(){function e(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new c(u.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new c(u.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,ps("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}return e.prototype.isEqual=function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams},e}(),ws=function(){function e(e,t){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new _s({}),this._settingsFrozen=!1,e instanceof is?(this._databaseId=e,this._credentials=new ss):(this._app=e,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new c(u.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new is(e.options.projectId)}(e),this._credentials=new cs(t))}return Object.defineProperty(e.prototype,"app",{get:function(){if(!this._app)throw new c(u.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),e.prototype._setSettings=function(e){if(this._settingsFrozen)throw new c(u.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new _s(e),void 0!==e.credentials&&(this._credentials=function(e){if(!e)return new ss;switch(e.type){case"gapi":var t=e.client;return v(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new hs(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new c(u.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},e.prototype._getSettings=function(){return this._settings},e.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},e.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},e.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},e.prototype._terminate=function(){return this,(e=os.get(this))&&(f("ComponentProvider","Removing Datastore"),os.delete(this),e.terminate()),Promise.resolve();var e},e}(),Es=function(){function e(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}return Object.defineProperty(e.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Cs(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._key)},e}(),Ss=function(){function e(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}return e.prototype.withConverter=function(t){return new e(this.firestore,t,this._query)},e}(),Cs=function(e){function t(t,n,r){var i=this;return(i=e.call(this,t,n,Ae(r))||this)._path=r,i.type="collection",i}return Object(r.__extends)(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._path.popLast();return e.isEmpty()?null:new Es(this.firestore,null,new G(e))},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._path)},t}(Ss);function Os(e,t){for(var n,o=[],a=2;a<arguments.length;a++)o[a-2]=arguments[a];if(e=Object(i.getModularInstance)(e),fs("collection","path",t),e instanceof ws)return ys(n=N.fromString.apply(N,Object(r.__spreadArray)([t],o))),new Cs(e,null,n);if(!(e instanceof Es||e instanceof Cs))throw new c(u.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return ys(n=N.fromString.apply(N,Object(r.__spreadArray)([e.path],o)).child(N.fromString(t))),new Cs(e.firestore,null,n)}function Ts(e,t){for(var n,o=[],a=2;a<arguments.length;a++)o[a-2]=arguments[a];if(e=Object(i.getModularInstance)(e),1===arguments.length&&(t=_.u()),fs("doc","path",t),e instanceof ws)return gs(n=N.fromString.apply(N,Object(r.__spreadArray)([t],o))),new Es(e,null,new G(n));if(!(e instanceof Es||e instanceof Cs))throw new c(u.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return gs(n=e._path.child(N.fromString.apply(N,Object(r.__spreadArray)([t],o)))),new Es(e.firestore,e instanceof Cs?e.converter:null,new G(n))}function ks(e,t){return e=Object(i.getModularInstance)(e),t=Object(i.getModularInstance)(t),(e instanceof Es||e instanceof Cs)&&(t instanceof Es||t instanceof Cs)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function Is(e,t){return e=Object(i.getModularInstance)(e),t=Object(i.getModularInstance)(t),e instanceof Ss&&t instanceof Ss&&e.firestore===t.firestore&&Ue(e._query,t._query)&&e.converter===t.converter}var As=function(){function e(){var e=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new co(this,"async_queue_retry"),this.Ic=function(){var t=so();t&&f("AsyncQueue","Visibility state changed to "+t.visibilityState),e.Zi.Gi()};var t=so();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(e.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),e.prototype.enqueueAndForget=function(e){this.enqueue(e)},e.prototype.enqueueAndForgetEvenWhileRestricted=function(e){this.Ac(),this.Rc(e)},e.prototype.enterRestrictedMode=function(e){if(!this._c){this._c=!0,this.Ec=e||!1;var t=so();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ic)}},e.prototype.enqueue=function(e){var t=this;if(this.Ac(),this._c)return new Promise(function(){});var n=new Zn;return this.Rc(function(){return t._c&&t.Ec?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)}).then(function(){return n.promise})},e.prototype.enqueueRetryable=function(e){var t=this;this.enqueueAndForget(function(){return t.wc.push(e),t.bc()})},e.prototype.bc=function(){return Object(r.__awaiter)(this,void 0,void 0,function(){var e,t=this;return Object(r.__generator)(this,function(n){switch(n.label){case 0:if(0===this.wc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return n.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!or(e=n.sent()))throw e;return f("AsyncQueue","Operation failed with retryable error: "+e),[3,4];case 4:this.wc.length>0&&this.Zi.ji(function(){return t.bc()}),n.label=5;case 5:return[2]}})})},e.prototype.Rc=function(e){var t=this,n=this.dc.then(function(){return t.gc=!0,e().catch(function(e){throw t.yc=e,t.gc=!1,d("INTERNAL UNHANDLED ERROR: ",function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e)),e}).then(function(e){return t.gc=!1,e})});return this.dc=n,n},e.prototype.enqueueAfterDelay=function(e,t,n){var r=this;this.Ac(),this.Tc.indexOf(e)>-1&&(t=0);var i=Vo.createAndSchedule(this,e,t,n,function(e){return r.vc(e)});return this.mc.push(i),i},e.prototype.Ac=function(){this.yc&&y()},e.prototype.verifyOperationInProgress=function(){},e.prototype.Pc=function(){return Object(r.__awaiter)(this,void 0,void 0,function(){var e;return Object(r.__generator)(this,function(t){switch(t.label){case 0:return[4,e=this.dc];case 1:t.sent(),t.label=2;case 2:if(e!==this.dc)return[3,0];t.label=3;case 3:return[2]}})})},e.prototype.Vc=function(e){for(var t=0,n=this.mc;t<n.length;t++)if(n[t].timerId===e)return!0;return!1},e.prototype.Sc=function(e){var t=this;return this.Pc().then(function(){t.mc.sort(function(e,t){return e.targetTimeMs-t.targetTimeMs});for(var n=0,r=t.mc;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==e&&i.timerId===e)break}return t.Pc()})},e.prototype.Dc=function(e){this.Tc.push(e)},e.prototype.vc=function(e){var t=this.mc.indexOf(e);this.mc.splice(t,1)},e}();function Ns(e){return function(e,t){if("object"!=typeof e||null===e)return!1;for(var n=e,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(e)}var Rs=function(){function e(){this._progressObserver={},this._taskCompletionResolver=new Zn,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return e.prototype.onProgress=function(e,t,n){this._progressObserver={next:e,error:t,complete:n}},e.prototype.catch=function(e){return this._taskCompletionResolver.promise.catch(e)},e.prototype.then=function(e,t){return this._taskCompletionResolver.promise.then(e,t)},e.prototype._completeWith=function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)},e.prototype._failWith=function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)},e.prototype._updateProgress=function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)},e}(),Ps=-1,xs=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this).type="firestore",r._queue=new As,r._persistenceKey="name"in t?t.name:"[DEFAULT]",r}return Object(r.__extends)(t,e),t.prototype._terminate=function(){return this._firestoreClient||Ls(this),this._firestoreClient.terminate()},t}(ws);function Ms(e){return e._firestoreClient||Ls(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Ls(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new rs(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new za(e._credentials,e._queue,r)}function Ds(e,t,n){var i=this,o=new Zn;return e.asyncQueue.enqueue(function(){return Object(r.__awaiter)(i,void 0,void 0,function(){var i;return Object(r.__generator)(this,function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),[4,Wa(e,n)];case 1:return r.sent(),[4,Ka(e,t)];case 2:return r.sent(),o.resolve(),[3,4];case 3:if(!function(e){return"FirebaseError"===e.name?e.code===u.FAILED_PRECONDITION||e.code===u.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(i=r.sent()))throw i;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i),o.reject(i),[3,4];case 4:return[2]}})})}).then(function(){return o.promise})}function js(e){if(e._initialized||e._terminated)throw new c(u.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Us=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=0;n<e.length;++n)if(0===e[n].length)throw new c(u.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new P(e)}return e.prototype.isEqual=function(e){return this._internalPath.isEqual(e._internalPath)},e}(),Fs=function(){function e(e){this._byteString=e}return e.fromBase64String=function(t){try{return new e(M.fromBase64String(t))}catch(t){throw new c(u.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}},e.fromUint8Array=function(t){return new e(M.fromUint8Array(t))},e.prototype.toBase64=function(){return this._byteString.toBase64()},e.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},e.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},e.prototype.isEqual=function(e){return this._byteString.isEqual(e._byteString)},e}(),Hs=function(e){this._methodName=e},Bs=function(){function e(e,t){if(!isFinite(e)||e<-90||e>90)throw new c(u.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new c(u.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}return Object.defineProperty(e.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){return this._lat===e._lat&&this._long===e._long},e.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},e.prototype._compareTo=function(e){return w(this._lat,e._lat)||w(this._long,e._long)},e}(),Vs=/^__.*__$/,qs=function(){function e(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}return e.prototype.toMutation=function(e,t){return null!==this.fieldMask?new yt(e,this.data,this.fieldMask,t,this.fieldTransforms):new gt(e,this.data,t,this.fieldTransforms)},e}(),Gs=function(){function e(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}return e.prototype.toMutation=function(e,t){return new yt(e,this.data,this.fieldMask,t,this.fieldTransforms)},e}();function zs(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw y()}}var Ws=function(){function e(e,t,n,r,i,o){this.settings=e,this.databaseId=t,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Cc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}return Object.defineProperty(e.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),e.prototype.xc=function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},e.prototype.kc=function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.xc({path:n,Fc:!1});return r.$c(e),r},e.prototype.Oc=function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.xc({path:n,Fc:!1});return r.Cc(),r},e.prototype.Mc=function(e){return this.xc({path:void 0,Fc:!0})},e.prototype.Lc=function(e){return fu(e,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},e.prototype.contains=function(e){return void 0!==this.fieldMask.find(function(t){return e.isPrefixOf(t)})||void 0!==this.fieldTransforms.find(function(t){return e.isPrefixOf(t.field)})},e.prototype.Cc=function(){if(this.path)for(var e=0;e<this.path.length;e++)this.$c(this.path.get(e))},e.prototype.$c=function(e){if(0===e.length)throw this.Lc("Document fields must not be empty");if(zs(this.Nc)&&Vs.test(e))throw this.Lc('Document fields cannot begin and end with "__"')},e}(),Ks=function(){function e(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.R=n||uo(e)}return e.prototype.Uc=function(e,t,n,r){return void 0===r&&(r=!1),new Ws({Nc:e,methodName:t,qc:n,path:P.emptyPath(),Fc:!1,Bc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},e}();function Ys(e){var t=e._freezeSettings(),n=uo(e._databaseId);return new Ks(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Qs(e,t,n,r,i,o){void 0===o&&(o={});var a=e.Uc(o.merge||o.mergeFields?2:0,t,n,i);uu("Data must be an object, but it was:",a,r);var s,l,h=au(r,a);if(o.merge)s=new x(a.fieldMask),l=a.fieldTransforms;else if(o.mergeFields){for(var f=[],d=0,p=o.mergeFields;d<p.length;d++){var g=cu(t,p[d],n);if(!a.contains(g))throw new c(u.INVALID_ARGUMENT,"Field '"+g+"' is specified in your field mask but missing from your input data.");du(f,g)||f.push(g)}s=new x(f),l=a.fieldTransforms.filter(function(e){return s.covers(e.field)})}else s=null,l=a.fieldTransforms;return new qs(new ie(h),s,l)}var $s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype._toFieldTransform=function(e){if(2!==e.Nc)throw 1===e.Nc?e.Lc(this._methodName+"() can only appear at the top level of your update data"):e.Lc(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return e.fieldMask.push(e.path),null},t.prototype.isEqual=function(e){return e instanceof t},t}(Hs);function Xs(e,t,n){return new Ws({Nc:3,qc:t.settings.qc,methodName:e._methodName,Fc:n},t.databaseId,t.R,t.ignoreUndefinedProperties)}var Js=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype._toFieldTransform=function(e){return new ot(e.path,new Xe)},t.prototype.isEqual=function(e){return e instanceof t},t}(Hs),Zs=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).Kc=n,r}return Object(r.__extends)(t,e),t.prototype._toFieldTransform=function(e){var t=Xs(this,e,!0),n=this.Kc.map(function(e){return ou(e,t)}),r=new Je(n);return new ot(e.path,r)},t.prototype.isEqual=function(e){return this===e},t}(Hs),eu=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).Kc=n,r}return Object(r.__extends)(t,e),t.prototype._toFieldTransform=function(e){var t=Xs(this,e,!0),n=this.Kc.map(function(e){return ou(e,t)}),r=new et(n);return new ot(e.path,r)},t.prototype.isEqual=function(e){return this===e},t}(Hs),tu=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).Qc=n,r}return Object(r.__extends)(t,e),t.prototype._toFieldTransform=function(e){var t=new nt(e.R,We(e.R,this.Qc));return new ot(e.path,t)},t.prototype.isEqual=function(e){return this===e},t}(Hs);function nu(e,t,n,r){var o=e.Uc(1,t,n);uu("Data must be an object, but it was:",o,r);var a=[],s=ie.empty();k(r,function(e,r){var u=hu(t,e,n);r=Object(i.getModularInstance)(r);var c=o.Oc(u);if(r instanceof $s)a.push(u);else{var l=ou(r,c);null!=l&&(a.push(u),s.set(u,l))}});var u=new x(a);return new Gs(s,u,o.fieldTransforms)}function ru(e,t,n,r,o,a){var s=e.Uc(1,t,n),l=[cu(t,r,n)],h=[o];if(a.length%2!=0)throw new c(u.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var f=0;f<a.length;f+=2)l.push(cu(t,a[f])),h.push(a[f+1]);for(var d=[],p=ie.empty(),g=l.length-1;g>=0;--g)if(!du(d,l[g])){var y=l[g],v=h[g];v=Object(i.getModularInstance)(v);var m=s.Oc(y);if(v instanceof $s)d.push(y);else{var b=ou(v,m);null!=b&&(d.push(y),p.set(y,b))}}var _=new x(d);return new Gs(p,_,s.fieldTransforms)}function iu(e,t,n,r){return void 0===r&&(r=!1),ou(n,e.Uc(r?4:3,t))}function ou(e,t){if(su(e=Object(i.getModularInstance)(e)))return uu("Unsupported field value:",t,e),au(e,t);if(e instanceof Hs)return function(e,t){if(!zs(t.Nc))throw t.Lc(e._methodName+"() can only be used with update() and set()");if(!t.path)throw t.Lc(e._methodName+"() is not currently supported inside arrays");var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Fc&&4!==t.Nc)throw t.Lc("Nested arrays are not supported");return function(e,t){for(var n=[],r=0,i=0,o=e;i<o.length;i++){var a=ou(o[i],t.Mc(r));null==a&&(a={nullValue:"NULL_VALUE"}),n.push(a),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=Object(i.getModularInstance)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return We(t.R,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=C.fromDate(e);return{timestampValue:en(t.R,n)}}if(e instanceof C)return n=new C(e.seconds,1e3*Math.floor(e.nanoseconds/1e3)),{timestampValue:en(t.R,n)};if(e instanceof Bs)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Fs)return{bytesValue:tn(t.R,e._byteString)};if(e instanceof Es){n=t.databaseId;var r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Lc("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:on(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Lc("Unsupported field value: "+vs(e))}(e,t)}function au(e,t){var n={};return I(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):k(e,function(e,r){var i=ou(r,t.kc(e));null!=i&&(n[e]=i)}),{mapValue:{fields:n}}}function su(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof C||e instanceof Bs||e instanceof Fs||e instanceof Es||e instanceof Hs)}function uu(e,t,n){if(!su(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=vs(n);throw"an object"===r?t.Lc(e+" a custom object"):t.Lc(e+" "+r)}}function cu(e,t,n){if((t=Object(i.getModularInstance)(t))instanceof Us)return t._internalPath;if("string"==typeof t)return hu(e,t);throw fu("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}var lu=new RegExp("[~\\*/\\[\\]]");function hu(e,t,n){if(t.search(lu)>=0)throw fu("Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'",e,!1,void 0,n);try{return(new(Us.bind.apply(Us,Object(r.__spreadArray)([void 0],t.split(".")))))._internalPath}catch(i){throw fu("Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",e,!1,void 0,n)}}function fu(e,t,n,r,i){var o=r&&!r.isEmpty(),a=void 0!==i,s="Function "+t+"() called with invalid data";n&&(s+=" (via `toFirestore()`)");var l="";return(o||a)&&(l+=" (found",o&&(l+=" in field "+r),a&&(l+=" in document "+i),l+=")"),new c(u.INVALID_ARGUMENT,(s+=". ")+e+l)}function du(e,t){return e.some(function(e){return e.isEqual(t)})}var pu=function(){function e(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new Es(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),e.prototype.exists=function(){return null!==this._document},e.prototype.data=function(){if(this._document){if(this._converter){var e=new gu(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}},e.prototype.get=function(e){if(this._document){var t=this._document.data.field(yu("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}},e}(),gu=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.data=function(){return e.prototype.data.call(this)},t}(pu);function yu(e,t){return"string"==typeof t?hu(e,t):t instanceof Us?t._internalPath:t._delegate._internalPath}var vu=function(){function e(e,t){this.hasPendingWrites=e,this.fromCache=t}return e.prototype.isEqual=function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache},e}(),mu=function(e){function t(t,n,r,i,o,a){var s=this;return(s=e.call(this,t,n,r,i,a)||this)._firestore=t,s._firestoreImpl=t,s.metadata=o,s}return Object(r.__extends)(t,e),t.prototype.exists=function(){return e.prototype.exists.call(this)},t.prototype.data=function(e){if(void 0===e&&(e={}),this._document){if(this._converter){var t=new bu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}},t.prototype.get=function(e,t){if(void 0===t&&(t={}),this._document){var n=this._document.data.field(yu("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}},t}(pu),bu=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.data=function(t){return void 0===t&&(t={}),e.prototype.data.call(this,t)},t}(mu),_u=function(){function e(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new vu(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(e.prototype,"docs",{get:function(){var e=[];return this.forEach(function(t){return e.push(t)}),e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(e,t){var n=this;this._snapshot.docs.forEach(function(r){e.call(t,new bu(n._firestore,n._userDataWriter,r.key,r,new vu(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))})},e.prototype.docChanges=function(e){void 0===e&&(e={});var t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new c(u.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map(function(t){return{type:"added",doc:new bu(e._firestore,e._userDataWriter,t.doc.key,t.doc,new vu(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}})}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(function(e){return t||3!==e.type}).map(function(t){var n=new bu(e._firestore,e._userDataWriter,t.doc.key,t.doc,new vu(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,o=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(o=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:wu(t.type),doc:n,oldIndex:i,newIndex:o}})}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges},e}();function wu(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return y()}}function Eu(e,t){return e instanceof mu&&t instanceof mu?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof _u&&t instanceof _u&&e._firestore===t._firestore&&Is(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function Su(e){if(Re(e)&&0===e.explicitOrderBy.length)throw new c(u.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Cu=function(){};function Ou(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,i=t;r<i.length;r++){e=i[r]._apply(e)}return e}var Tu=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).jc=t,i.Wc=n,i.Gc=r,i.type="where",i}return Object(r.__extends)(t,e),t.prototype._apply=function(e){var t=Ys(e.firestore),n=function(e,t,n,r,i,o,a){var s;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new c(u.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){xu(a,o);for(var l=[],h=0,f=a;h<f.length;h++){var d=f[h];l.push(Pu(r,e,d))}s={arrayValue:{values:l}}}else s=Pu(r,e,a)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||xu(a,o),s=iu(n,"where",a,"in"===o||"not-in"===o);var p=fe.create(i,o,s);return function(e,t){if(t.g()){var n=xe(e);if(null!==n&&!n.isEqual(t.field))throw new c(u.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+t.field.toString()+"'");var r=Pe(e);null!==r&&Mu(e,t.field,r)}var i=function(e,t){for(var n=0,r=e.filters;n<r.length;n++){var i=r[n];if(t.indexOf(i.op)>=0)return i.op}return null}(e,function(e){switch(t.op){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}());if(null!==i)throw i===t.op?new c(u.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+t.op.toString()+"' filter."):new c(u.INVALID_ARGUMENT,"Invalid query. You cannot use '"+t.op.toString()+"' filters with '"+i.toString()+"' filters.")}(e,p),p}(e._query,0,t,e.firestore._databaseId,this.jc,this.Wc,this.Gc);return new Ss(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new ke(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))},t}(Cu),ku=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).jc=t,r.zc=n,r.type="orderBy",r}return Object(r.__extends)(t,e),t.prototype._apply=function(e){var t=function(e,t,n){if(null!==e.startAt)throw new c(u.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new c(u.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Se(t,n);return function(e,t){if(null===Pe(e)){var n=xe(e);null!==n&&Mu(e,n,t.field)}}(e,r),r}(e._query,this.jc,this.zc);return new Ss(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new ke(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))},t}(Cu),Iu=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.Hc=n,i.Jc=r,i}return Object(r.__extends)(t,e),t.prototype._apply=function(e){return new Ss(e.firestore,e.converter,je(e._query,this.Hc,this.Jc))},t}(Cu),Au=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.Yc=n,i.Xc=r,i}return Object(r.__extends)(t,e),t.prototype._apply=function(e){var t=Ru(e,this.type,this.Yc,this.Xc);return new Ss(e.firestore,e.converter,function(e,t){return new ke(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))},t}(Cu),Nu=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.Yc=n,i.Xc=r,i}return Object(r.__extends)(t,e),t.prototype._apply=function(e){var t=Ru(e,this.type,this.Yc,this.Xc);return new Ss(e.firestore,e.converter,function(e,t){return new ke(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))},t}(Cu);function Ru(e,t,n,r){if(n[0]=Object(i.getModularInstance)(n[0]),n[0]instanceof pu)return function(e,t,n,r,i){if(!r)throw new c(u.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],a=0,s=Le(e);a<s.length;a++){var l=s[a];if(l.field.isKeyField())o.push(X(t,r.key));else{var h=r.data.field(l.field);if(F(h))throw new c(u.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+l.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===h){var f=l.field.canonicalString();throw new c(u.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+f+"' (used as the orderBy) does not exist.")}o.push(h)}}return new we(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var o=Ys(e.firestore);return function(e,t,n,r,i,o){var a=e.explicitOrderBy;if(i.length>a.length)throw new c(u.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var s=[],l=0;l<i.length;l++){var h=i[l];if(a[l].field.isKeyField()){if("string"!=typeof h)throw new c(u.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof h);if(!Me(e)&&-1!==h.indexOf("/"))throw new c(u.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+h+"' contains a slash.");var f=e.path.child(N.fromString(h));if(!G.isDocumentKey(f))throw new c(u.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+f+"' is not because it contains an odd number of segments.");var d=new G(f);s.push(X(t,d))}else{var p=iu(n,r,h);s.push(p)}}return new we(s,o)}(e._query,e.firestore._databaseId,o,t,n,r)}function Pu(e,t,n){if("string"==typeof(n=Object(i.getModularInstance)(n))){if(""===n)throw new c(u.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Me(t)&&-1!==n.indexOf("/"))throw new c(u.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=t.path.child(N.fromString(n));if(!G.isDocumentKey(r))throw new c(u.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return X(e,new G(r))}if(n instanceof Es)return X(e,n._key);throw new c(u.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+vs(n)+".")}function xu(e,t){if(!Array.isArray(e)||0===e.length)throw new c(u.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+t.toString()+"' filters.");if(e.length>10)throw new c(u.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters support a maximum of 10 elements in the value array.")}function Mu(e,t,n){if(!n.isEqual(t))throw new c(u.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var Lu=function(){function e(){}return e.prototype.convertValue=function(e,t){switch(void 0===t&&(t="none"),z(e)){case 0:return null;case 1:return e.booleanValue;case 2:return j(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(U(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw y()}},e.prototype.convertObject=function(e,t){var n=this,r={};return k(e.fields,function(e,i){r[e]=n.convertValue(i,t)}),r},e.prototype.convertGeoPoint=function(e){return new Bs(j(e.latitude),j(e.longitude))},e.prototype.convertArray=function(e,t){var n=this;return(e.values||[]).map(function(e){return n.convertValue(e,t)})},e.prototype.convertServerTimestamp=function(e,t){switch(t){case"previous":var n=function e(t){var n=t.mapValue.fields.__previous_value__;return F(n)?e(n):n}(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(H(e));default:return null}},e.prototype.convertTimestamp=function(e){var t=D(e);return new C(t.seconds,t.nanos)},e.prototype.convertDocumentKey=function(e,t){var n=N.fromString(e);v(An(n));var r=new is(n.get(1),n.get(3)),i=new G(n.popFirst(5));return r.isEqual(t)||d("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+t.projectId+"/"+t.database+") instead."),i},e}();function Du(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var ju=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return Object(r.__extends)(t,e),t.prototype.convertBytes=function(e){return new Fs(e)},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Es(this.firestore,null,t)},t}(Lu),Uu=function(){function e(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Ys(e)}return e.prototype.set=function(e,t,n){this._verifyNotCommitted();var r=Fu(e,this._firestore),i=Du(r.converter,t,n),o=Qs(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,st.none())),this},e.prototype.update=function(e,t,n){for(var r=[],o=3;o<arguments.length;o++)r[o-3]=arguments[o];this._verifyNotCommitted();var a,s=Fu(e,this._firestore);return a="string"==typeof(t=Object(i.getModularInstance)(t))||t instanceof Us?ru(this._dataReader,"WriteBatch.update",s._key,t,n,r):nu(this._dataReader,"WriteBatch.update",s._key,t),this._mutations.push(a.toMutation(s._key,st.exists(!0))),this},e.prototype.delete=function(e){this._verifyNotCommitted();var t=Fu(e,this._firestore);return this._mutations=this._mutations.concat(new Et(t._key,st.none())),this},e.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},e.prototype._verifyNotCommitted=function(){if(this._committed)throw new c(u.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},e}();function Fu(e,t){if((e=Object(i.getModularInstance)(e)).firestore!==t)throw new c(u.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var Hu=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return Object(r.__extends)(t,e),t.prototype.convertBytes=function(e){return new Fs(e)},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Es(this.firestore,null,t)},t}(Lu);function Bu(e,t,n){e=ms(e,Es);var r=ms(e.firestore,xs),i=Du(e.converter,t,n);return Gu(r,[Qs(Ys(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,st.none())])}function Vu(e,t,n){for(var r=[],o=3;o<arguments.length;o++)r[o-3]=arguments[o];e=ms(e,Es);var a=ms(e.firestore,xs),s=Ys(a);return Gu(a,[("string"==typeof(t=Object(i.getModularInstance)(t))||t instanceof Us?ru(s,"updateDoc",e._key,t,n,r):nu(s,"updateDoc",e._key,t)).toMutation(e._key,st.exists(!0))])}function qu(e){for(var t,n,o,a=[],s=1;s<arguments.length;s++)a[s-1]=arguments[s];e=Object(i.getModularInstance)(e);var u={includeMetadataChanges:!1},c=0;"object"!=typeof a[c]||Ns(a[c])||(u=a[c],c++);var l,h,f,d={includeMetadataChanges:u.includeMetadataChanges};if(Ns(a[c])){var p=a[c];a[c]=null===(t=p.next)||void 0===t?void 0:t.bind(p),a[c+1]=null===(n=p.error)||void 0===n?void 0:n.bind(p),a[c+2]=null===(o=p.complete)||void 0===o?void 0:o.bind(p)}if(e instanceof Es)h=ms(e.firestore,xs),f=Ae(e._key.path),l={next:function(t){a[c]&&a[c](zu(h,e,t))},error:a[c+1],complete:a[c+2]};else{var g=ms(e,Ss);h=ms(g.firestore,xs),f=g._query;var y=new Hu(h);l={next:function(e){a[c]&&a[c](new _u(h,y,g,e))},error:a[c+1],complete:a[c+2]},Su(e._query)}return function(e,t,n,i){var o=this,a=new Ba(l),s=new Jo(t,a,n);return e.asyncQueue.enqueueAndForget(function(){return Object(r.__awaiter)(o,void 0,void 0,function(){var t;return Object(r.__generator)(this,function(n){switch(n.label){case 0:return t=Qo,[4,es(e)];case 1:return[2,t.apply(void 0,[n.sent(),s])]}})})}),function(){a.Wo(),e.asyncQueue.enqueueAndForget(function(){return Object(r.__awaiter)(o,void 0,void 0,function(){var t;return Object(r.__generator)(this,function(n){switch(n.label){case 0:return t=$o,[4,es(e)];case 1:return[2,t.apply(void 0,[n.sent(),s])]}})})})}}(Ms(h),f,d)}function Gu(e,t){return function(e,t){var n=this,i=new Zn;return e.asyncQueue.enqueueAndForget(function(){return Object(r.__awaiter)(n,void 0,void 0,function(){var n;return Object(r.__generator)(this,function(r){switch(r.label){case 0:return n=fa,[4,Za(e)];case 1:return[2,n.apply(void 0,[r.sent(),t,i])]}})})}),i.promise}(Ms(e),t)}function zu(e,t,n){var r=n.docs.get(t._key),i=new Hu(e);return new mu(e,i,t._key,r,new vu(n.hasPendingWrites,n.fromCache),t.converter)}var Wu=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this)._firestore=t,r}return Object(r.__extends)(t,e),t.prototype.get=function(t){var n=this,r=Fu(t,this._firestore),i=new Hu(this._firestore);return e.prototype.get.call(this,t).then(function(e){return new mu(n._firestore,i,r._key,e._document,new vu(!1,!1),r.converter)})},t}(function(){function e(e,t){this._firestore=e,this._transaction=t,this._dataReader=Ys(e)}return e.prototype.get=function(e){var t=this,n=Fu(e,this._firestore),r=new ju(this._firestore);return this._transaction.lookup([n._key]).then(function(e){if(!e||1!==e.length)return y();var i=e[0];if(i.isFoundDocument())return new pu(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new pu(t._firestore,r,n._key,null,n.converter);throw y()})},e.prototype.set=function(e,t,n){var r=Fu(e,this._firestore),i=Du(r.converter,t,n),o=Qs(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this},e.prototype.update=function(e,t,n){for(var r=[],o=3;o<arguments.length;o++)r[o-3]=arguments[o];var a,s=Fu(e,this._firestore);return a="string"==typeof(t=Object(i.getModularInstance)(t))||t instanceof Us?ru(this._dataReader,"Transaction.update",s._key,t,n,r):nu(this._dataReader,"Transaction.update",s._key,t),this._transaction.update(s._key,a),this},e.prototype.delete=function(e){var t=Fu(e,this._firestore);return this._transaction.delete(t._key),this},e}());function Ku(){if("undefined"==typeof Uint8Array)throw new c(u.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function Yu(){if("undefined"==typeof atob)throw new c(u.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var Qu=function(){function e(e){this._delegate=e}return e.fromBase64String=function(t){return Yu(),new e(Fs.fromBase64String(t))},e.fromUint8Array=function(t){return Ku(),new e(Fs.fromUint8Array(t))},e.prototype.toBase64=function(){return Yu(),this._delegate.toBase64()},e.prototype.toUint8Array=function(){return Ku(),this._delegate.toUint8Array()},e.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(),$u=function(){function e(){}return e.prototype.enableIndexedDbPersistence=function(e,t){return function(e,t){js(e=ms(e,xs));var n=Ms(e),r=e._freezeSettings(),i=new Fa;return Ds(n,i,new ja(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})},e.prototype.enableMultiTabIndexedDbPersistence=function(e){return function(e){js(e=ms(e,xs));var t=Ms(e),n=e._freezeSettings(),r=new Fa;return Ds(t,r,new Ua(r,n.cacheSizeBytes))}(e._delegate)},e.prototype.clearIndexedDbPersistence=function(e){return function(e){var t=this;if(e._initialized&&!e._terminated)throw new c(u.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new Zn;return e._queue.enqueueAndForgetEvenWhileRestricted(function(){return Object(r.__awaiter)(t,void 0,void 0,function(){var t;return Object(r.__generator)(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,function(e){return Object(r.__awaiter)(this,void 0,void 0,function(){var t;return Object(r.__generator)(this,function(n){switch(n.label){case 0:return nr.yt()?(t=e+"main",[4,nr.delete(t)]):[2,Promise.resolve()];case 1:return n.sent(),[2]}})})}(di(e._databaseId,e._persistenceKey))];case 1:return i.sent(),n.resolve(),[3,3];case 2:return t=i.sent(),n.reject(t),[3,3];case 3:return[2]}})})}),n.promise}(e._delegate)},e}(),Xu=function(){function e(e,t,n){var r=this;this._delegate=t,this.Zc=n,this.INTERNAL={delete:function(){return r.terminate()}},e instanceof is||(this.tu=e)}return Object.defineProperty(e.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),e.prototype.settings=function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||p("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)},e.prototype.useEmulator=function(e,t,n){void 0===n&&(n={}),function(e,t,n,r){var o;void 0===r&&(r={});var a=(e=ms(e,ws))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&p("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:t+":"+n,ssl:!1})),r.mockUserToken){var s,l;if("string"==typeof r.mockUserToken)s=r.mockUserToken,l=Gi.MOCK_USER;else{s=Object(i.createMockUserToken)(r.mockUserToken,null===(o=e._app)||void 0===o?void 0:o.options.projectId);var h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new c(u.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Gi(h)}e._credentials=new us(new as(s,l))}}(this._delegate,e,t,n)},e.prototype.enableNetwork=function(){return function(e){var t=this;return e.asyncQueue.enqueue(function(){return Object(r.__awaiter)(t,void 0,void 0,function(){var t,n;return Object(r.__generator)(this,function(r){switch(r.label){case 0:return[4,$a(e)];case 1:return t=r.sent(),[4,Ja(e)];case 2:return n=r.sent(),[2,(t.setNetworkEnabled(!0),function(e){var t=m(n);return t.Or.delete(0),vo(t)}())]}})})})}(Ms(ms(this._delegate,xs)))},e.prototype.disableNetwork=function(){return function(e){var t=this;return e.asyncQueue.enqueue(function(){return Object(r.__awaiter)(t,void 0,void 0,function(){var t,n;return Object(r.__generator)(this,function(i){switch(i.label){case 0:return[4,$a(e)];case 1:return t=i.sent(),[4,Ja(e)];case 2:return n=i.sent(),[2,(t.setNetworkEnabled(!1),function(e){return Object(r.__awaiter)(this,void 0,void 0,function(){var t;return Object(r.__generator)(this,function(n){switch(n.label){case 0:return(t=m(e)).Or.add(0),[4,mo(t)];case 1:return n.sent(),t.Br.set("Offline"),[2]}})})}(n))]}})})})}(Ms(ms(this._delegate,xs)))},e.prototype.enablePersistence=function(e){var t=!1,n=!1;return e&&ps("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},e.prototype.waitForPendingWrites=function(){return function(e){var t=this,n=new Zn;return e.asyncQueue.enqueueAndForget(function(){return Object(r.__awaiter)(t,void 0,void 0,function(){var t;return Object(r.__generator)(this,function(r){switch(r.label){case 0:return t=ga,[4,Za(e)];case 1:return[2,t.apply(void 0,[r.sent(),n])]}})})}),n.promise}(Ms(ms(this._delegate,xs)))},e.prototype.onSnapshotsInSync=function(e){return function(e,t){return function(e,t){var n=this,i=new Ba(t);return e.asyncQueue.enqueueAndForget(function(){return Object(r.__awaiter)(n,void 0,void 0,function(){var t;return Object(r.__generator)(this,function(n){switch(n.label){case 0:return t=function(e,t){m(e).Gr.add(t),t.next()},[4,es(e)];case 1:return[2,t.apply(void 0,[n.sent(),i])]}})})}),function(){i.Wo(),e.asyncQueue.enqueueAndForget(function(){return Object(r.__awaiter)(n,void 0,void 0,function(){var t;return Object(r.__generator)(this,function(n){switch(n.label){case 0:return t=function(e,t){m(e).Gr.delete(t)},[4,es(e)];case 1:return[2,t.apply(void 0,[n.sent(),i])]}})})})}}(Ms(e=ms(e,xs)),Ns(t)?t:{next:t})}(this._delegate,e)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.tu)throw new c(u.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),e.prototype.collection=function(e){try{return new fc(this,Os(this._delegate,e))}catch(e){throw ic(e,"collection()","Firestore.collection()")}},e.prototype.doc=function(e){try{return new rc(this,Ts(this._delegate,e))}catch(e){throw ic(e,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(e){try{return new cc(this,function(e,t){if(e=ms(e,ws),fs("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new c(u.INVALID_ARGUMENT,"Invalid collection ID '"+t+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Ss(e,null,function(e){return new ke(N.emptyPath(),e)}(t))}(this._delegate,e))}catch(e){throw ic(e,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(e){var t=this;return function(e,t){return function(e,t){var n=this,i=new Zn;return e.asyncQueue.enqueueAndForget(function(){return Object(r.__awaiter)(n,void 0,void 0,function(){var n;return Object(r.__generator)(this,function(r){switch(r.label){case 0:return[4,function(e){return Qa(e).then(function(e){return e.datastore})}(e)];case 1:return n=r.sent(),new Ga(e.asyncQueue,n,t,i).run(),[2]}})})}),i.promise}(Ms(e),function(n){return t(new Wu(e,n))})}(this._delegate,function(n){return e(new ec(t,n))})},e.prototype.batch=function(){var e=this;return Ms(this._delegate),new tc(new Uu(this._delegate,function(t){return Gu(e._delegate,t)}))},e.prototype.loadBundle=function(e){throw new c(u.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(e){throw new c(u.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(),Ju=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return Object(r.__extends)(t,e),t.prototype.convertBytes=function(e){return new Qu(new Fs(e))},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return rc.eu(t,this.firestore,null)},t}(Lu);function Zu(e){var t;t=e,l.setLogLevel(t)}var ec=function(){function e(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Ju(e)}return e.prototype.get=function(e){var t=this,n=dc(e);return this._delegate.get(n).then(function(e){return new sc(t._firestore,new mu(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))})},e.prototype.set=function(e,t,n){var r=dc(e);return n?(ds("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this},e.prototype.update=function(e,t,n){for(var i,o=[],a=3;a<arguments.length;a++)o[a-3]=arguments[a];var s=dc(e);return 2===arguments.length?this._delegate.update(s,t):(i=this._delegate).update.apply(i,Object(r.__spreadArray)([s,t,n],o)),this},e.prototype.delete=function(e){var t=dc(e);return this._delegate.delete(t),this},e}(),tc=function(){function e(e){this._delegate=e}return e.prototype.set=function(e,t,n){var r=dc(e);return n?(ds("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this},e.prototype.update=function(e,t,n){for(var i,o=[],a=3;a<arguments.length;a++)o[a-3]=arguments[a];var s=dc(e);return 2===arguments.length?this._delegate.update(s,t):(i=this._delegate).update.apply(i,Object(r.__spreadArray)([s,t,n],o)),this},e.prototype.delete=function(e){var t=dc(e);return this._delegate.delete(t),this},e.prototype.commit=function(){return this._delegate.commit()},e}(),nc=function(){function e(e,t,n){this._firestore=e,this._userDataWriter=t,this._delegate=n}return e.prototype.fromFirestore=function(e,t){var n=new bu(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new uc(this._firestore,n),null!=t?t:{})},e.prototype.toFirestore=function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)},e.nu=function(t,n){var r=e.su,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var o=i.get(n);return o||(o=new e(t,new Ju(t),n),i.set(n,o)),o},e}();nc.su=new WeakMap;var rc=function(){function e(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Ju(e)}return e.iu=function(t,n,r){if(t.length%2!=0)throw new c(u.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.canonicalString()+" has "+t.length);return new e(n,new Es(n._delegate,r,new G(t)))},e.eu=function(t,n,r){return new e(n,new Es(n._delegate,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new fc(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(e){try{return new fc(this.firestore,Os(this._delegate,e))}catch(e){throw ic(e,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(e){return(e=Object(i.getModularInstance)(e))instanceof Es&&ks(this._delegate,e)},e.prototype.set=function(e,t){t=ds("DocumentReference.set",t);try{return t?Bu(this._delegate,e,t):Bu(this._delegate,e)}catch(e){throw ic(e,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];try{return 1===arguments.length?Vu(this._delegate,e):Vu.apply(void 0,Object(r.__spreadArray)([this._delegate,e,t],n))}catch(e){throw ic(e,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return Gu(ms((e=this._delegate).firestore,xs),[new Et(e._key,st.none())]);var e},e.prototype.onSnapshot=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=oc(t),i=ac(t,function(t){return new sc(e.firestore,new mu(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))});return qu(this._delegate,r,i)},e.prototype.get=function(e){var t=this;return("cache"===(null==e?void 0:e.source)?function(e){e=ms(e,Es);var t=ms(e.firestore,xs),n=Ms(t),i=new Hu(t);return function(e,t){var n=this,i=new Zn;return e.asyncQueue.enqueueAndForget(function(){return Object(r.__awaiter)(n,void 0,void 0,function(){var n;return Object(r.__generator)(this,function(o){switch(o.label){case 0:return n=function(e,t,n){return Object(r.__awaiter)(this,void 0,void 0,function(){var i,o;return Object(r.__generator)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(e,t){var n=m(e);return n.persistence.runTransaction("read document","readonly",function(e){return n.Mn.mn(e,t)})}(e,t)];case 1:return(o=r.sent()).isFoundDocument()?n.resolve(o):o.isNoDocument()?n.resolve(null):n.reject(new c(u.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return i=r.sent(),o=qo(i,"Failed to get document '"+t+" from cache"),n.reject(o),[3,3];case 3:return[2]}})})},[4,Xa(e)];case 1:return[2,n.apply(void 0,[o.sent(),t,i])]}})})}),i.promise}(n,e._key).then(function(n){return new mu(t,i,e._key,n,new vu(null!==n&&n.hasLocalMutations,!0),e.converter)})}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=ms(e,Es);var t=ms(e.firestore,xs);return ts(Ms(t),e._key,{source:"server"}).then(function(n){return zu(t,e,n)})}(this._delegate):function(e){e=ms(e,Es);var t=ms(e.firestore,xs);return ts(Ms(t),e._key).then(function(n){return zu(t,e,n)})}(this._delegate)).then(function(e){return new sc(t.firestore,new mu(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))})},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(nc.nu(this.firestore,t)):this._delegate.withConverter(null))},e}();function ic(e,t,n){return e.message=e.message.replace(t,n),e}function oc(e){for(var t=0,n=e;t<n.length;t++){var r=n[t];if("object"==typeof r&&!Ns(r))return r}return{}}function ac(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=Ns(e[0])?e[0]:Ns(e[1])?e[1]:"function"==typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var sc=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"ref",{get:function(){return new rc(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(e){return this._delegate.data(e)},e.prototype.get=function(e,t){return this._delegate.get(e,t)},e.prototype.isEqual=function(e){return Eu(this._delegate,e._delegate)},e}(),uc=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.data=function(e){return this._delegate.data(e)},t}(sc),cc=function(){function e(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Ju(e)}return e.prototype.where=function(t,n,r){try{return new e(this.firestore,Ou(this._delegate,function(e,t,n){var r=t,i=yu("where",e);return new Tu(i,r,n)}(t,n,r)))}catch(t){throw ic(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,Ou(this._delegate,function(e,t){void 0===t&&(t="asc");var n=t,r=yu("orderBy",e);return new ku(r,n)}(t,n)))}catch(t){throw ic(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,Ou(this._delegate,function(e){return bs("limit",e),new Iu("limit",e,"F")}(t)))}catch(t){throw ic(t,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,Ou(this._delegate,function(e){return bs("limitToLast",e),new Iu("limitToLast",e,"L")}(t)))}catch(t){throw ic(t,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Ou(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Au("startAt",e,!0)}.apply(void 0,t)))}catch(t){throw ic(t,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Ou(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Au("startAfter",e,!1)}.apply(void 0,t)))}catch(t){throw ic(t,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Ou(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Nu("endBefore",e,!0)}.apply(void 0,t)))}catch(t){throw ic(t,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Ou(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Nu("endAt",e,!1)}.apply(void 0,t)))}catch(t){throw ic(t,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(e){return Is(this._delegate,e._delegate)},e.prototype.get=function(e){var t=this;return("cache"===(null==e?void 0:e.source)?function(e){e=ms(e,Ss);var t=ms(e.firestore,xs),n=Ms(t),i=new Hu(t);return function(e,t){var n=this,i=new Zn;return e.asyncQueue.enqueueAndForget(function(){return Object(r.__awaiter)(n,void 0,void 0,function(){var n;return Object(r.__generator)(this,function(o){switch(o.label){case 0:return n=function(e,t,n){return Object(r.__awaiter)(this,void 0,void 0,function(){var i,o,a,s,u;return Object(r.__generator)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,Ii(e,t,!0)];case 1:return u=r.sent(),i=new oa(t,u.Bn),o=i._o(u.documents),a=i.applyChanges(o,!1),n.resolve(a.snapshot),[3,3];case 2:return s=r.sent(),u=qo(s,"Failed to execute query '"+t+" against cache"),n.reject(u),[3,3];case 3:return[2]}})})},[4,Xa(e)];case 1:return[2,n.apply(void 0,[o.sent(),t,i])]}})})}),i.promise}(n,e._query).then(function(n){return new _u(t,i,e,n)})}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=ms(e,Ss);var t=ms(e.firestore,xs),n=Ms(t),r=new Hu(t);return ns(n,e._query,{source:"server"}).then(function(n){return new _u(t,r,e,n)})}(this._delegate):function(e){e=ms(e,Ss);var t=ms(e.firestore,xs),n=Ms(t),r=new Hu(t);return Su(e._query),ns(n,e._query).then(function(n){return new _u(t,r,e,n)})}(this._delegate)).then(function(e){return new hc(t.firestore,new _u(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))})},e.prototype.onSnapshot=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=oc(t),i=ac(t,function(t){return new hc(e.firestore,new _u(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))});return qu(this._delegate,r,i)},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(nc.nu(this.firestore,t)):this._delegate.withConverter(null))},e}(),lc=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new uc(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),e}(),hc=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"query",{get:function(){return new cc(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var e=this;return this._delegate.docs.map(function(t){return new uc(e._firestore,t)})},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(e){var t=this;return this._delegate.docChanges(e).map(function(e){return new lc(t._firestore,e)})},e.prototype.forEach=function(e,t){var n=this;this._delegate.forEach(function(r){e.call(t,new uc(n._firestore,r))})},e.prototype.isEqual=function(e){return Eu(this._delegate,e._delegate)},e}(),fc=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this).firestore=t,r._delegate=n,r}return Object(r.__extends)(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._delegate.parent;return e?new rc(this.firestore,e):null},enumerable:!1,configurable:!0}),t.prototype.doc=function(e){try{return new rc(this.firestore,void 0===e?Ts(this._delegate):Ts(this._delegate,e))}catch(e){throw ic(e,"doc()","CollectionReference.doc()")}},t.prototype.add=function(e){var t=this;return function(e,t){var n=ms(e.firestore,xs),r=Ts(e),i=Du(e.converter,t);return Gu(n,[Qs(Ys(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,st.exists(!1))]).then(function(){return r})}(this._delegate,e).then(function(e){return new rc(t.firestore,e)})},t.prototype.isEqual=function(e){return ks(this._delegate,e._delegate)},t.prototype.withConverter=function(e){return new t(this.firestore,e?this._delegate.withConverter(nc.nu(this.firestore,e)):this._delegate.withConverter(null))},t}(cc);function dc(e){return ms(e,Es)}var pc=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._delegate=new(Us.bind.apply(Us,Object(r.__spreadArray)([void 0],e)))}return e.documentId=function(){return new e(P.keyField().canonicalString())},e.prototype.isEqual=function(e){return(e=Object(i.getModularInstance)(e))instanceof Us&&this._delegate._internalPath.isEqual(e._internalPath)},e}(),gc=function(){function e(e){this._delegate=e}return e.serverTimestamp=function(){var t=new Js("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new $s("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Zs("arrayUnion",e)}.apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new eu("arrayRemove",e)}.apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=new tu("increment",t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},e}();function yc(e){return function(e,t){var n=Ms(e=ms(e,xs)),i=new Rs;return function(e,t,n,i){var o=this,a=function(e,t){return function(e,t){return new Va(e,t)}(function(e,t){if(e instanceof Uint8Array)return Ha(e,t);if(e instanceof ArrayBuffer)return Ha(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,uo(t));e.asyncQueue.enqueueAndForget(function(){return Object(r.__awaiter)(o,void 0,void 0,function(){var t;return Object(r.__generator)(this,function(n){switch(n.label){case 0:return t=La,[4,Za(e)];case 1:return t.apply(void 0,[n.sent(),a,i]),[2]}})})})}(n,e._databaseId,t,i),i}(this._delegate,e)}function vc(e){var t,n,i=this;return(t=this._delegate,n=e,function(e,t){var n=this;return e.asyncQueue.enqueue(function(){return Object(r.__awaiter)(n,void 0,void 0,function(){var n;return Object(r.__generator)(this,function(r){switch(r.label){case 0:return n=function(e,t){var n=m(e);return n.persistence.runTransaction("Get named query","readonly",function(e){return n.Ke.getNamedQuery(e,t)})},[4,Xa(e)];case 1:return[2,n.apply(void 0,[r.sent(),t])]}})})})}(Ms(t=ms(t,xs)),n).then(function(e){return e?new Ss(t,null,e.query):null})).then(function(e){return e?new cc(i,e):null})}}).call(this,n(149))},function(e,t,n){var r=n(23),i=n(33),o=n(270),a=n(269);e.exports=function(e,t,n,s){s||(s={});var u=s.enumerable,c=void 0!==s.name?s.name:t;if(r(n)&&o(n,c,s),s.global)u?e[t]=n:a(t,n);else{try{s.unsafe?e[t]&&(u=!0):delete e[t]}catch(l){}u?e[t]=n:i.f(e,t,{value:n,enumerable:!1,configurable:!s.nonConfigurable,writable:!s.nonWritable})}return e}},function(e,t,n){var r=n(212),i=n(26),o=n(348),a=n(33).f;e.exports=function(e){var t=r.Symbol||(r.Symbol={});i(t,e)||a(t,e,{value:o.f(e)})}},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}n.d(t,"a",function(){return i})},function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";var r=!0;t.a=function(e,t){if(!r){if(e)return;var n="Warning: "+t;"undefined"!==typeof console&&console.warn(n);try{throw Error(n)}catch(i){}}}},function(e,t){e.exports=!1},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(317),i=(n(0),n(148));function o(){return Object(r.a)()||i.a}},function(e,t,n){var r,i,o,a=n(342),s=n(14),u=n(10),c=n(21),l=n(62),h=n(26),f=n(268),d=n(209),p=n(173),g=s.TypeError,y=s.WeakMap;if(a||f.state){var v=f.state||(f.state=new y),m=u(v.get),b=u(v.has),_=u(v.set);r=function(e,t){if(b(v,e))throw new g("Object already initialized");return t.facade=e,_(v,e,t),t},i=function(e){return m(v,e)||{}},o=function(e){return b(v,e)}}else{var w=d("state");p[w]=!0,r=function(e,t){if(h(e,w))throw new g("Object already initialized");return t.facade=e,l(e,w,t),t},i=function(e){return h(e,w)?e[w]:{}},o=function(e){return h(e,w)}}e.exports={set:r,get:i,has:o,enforce:function(e){return o(e)?i(e):r(e,{})},getterFor:function(e){return function(t){var n;if(!c(t)||(n=i(t)).type!==e)throw g("Incompatible receiver, "+e+" required");return n}}}},function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,"a",function(){return r})},function(e,t){var n=TypeError;e.exports=function(e){if(void 0==e)throw n("Can't call method on "+e);return e}},function(e,t,n){var r=n(23),i=n(128),o=TypeError;e.exports=function(e){if(r(e))return e;throw o(i(e)+" is not a function")}},function(e,t,n){var r=n(344);e.exports=function(e){var t=+e;return t!==t||0===t?0:r(t)}},function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return ur}),n.d(t,"b",function(){return lr}),n.d(t,"c",function(){return cr}),n.d(t,"d",function(){return fr}),n.d(t,"e",function(){return hr}),n.d(t,"f",function(){return dr}),n.d(t,"g",function(){return pr}),n.d(t,"h",function(){return ar}),n.d(t,"i",function(){return sr});var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function i(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var o,a="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof e?e:"undefined"!==typeof self?self:{},s=s||{},u=a||self;function c(){}function l(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function h(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var f="closure_uid_"+(1e9*Math.random()>>>0),d=0;function p(e,t,n){return e.call.apply(e.bind,arguments)}function g(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function y(e,t,n){return(y=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?p:g).apply(null,arguments)}function v(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function m(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function b(){this.s=this.s,this.o=this.o}var _={};b.prototype.s=!1,b.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,f)&&e[f]||(e[f]=++d)}(this);delete _[e]}},b.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var w=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},E=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)};function S(e){return Array.prototype.concat.apply([],arguments)}function C(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function O(e){return/^[\s\xa0]*$/.test(e)}var T,k=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function I(e,t){return-1!=e.indexOf(t)}function A(e,t){return e<t?-1:e>t?1:0}e:{var N=u.navigator;if(N){var R=N.userAgent;if(R){T=R;break e}}T=""}function P(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function x(e){var t={};for(var n in e)t[n]=e[n];return t}var M="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function L(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var o=0;o<M.length;o++)n=M[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function D(e){return D[" "](e),e}D[" "]=c;var j,U=I(T,"Opera"),F=I(T,"Trident")||I(T,"MSIE"),H=I(T,"Edge"),B=H||F,V=I(T,"Gecko")&&!(I(T.toLowerCase(),"webkit")&&!I(T,"Edge"))&&!(I(T,"Trident")||I(T,"MSIE"))&&!I(T,"Edge"),q=I(T.toLowerCase(),"webkit")&&!I(T,"Edge");function G(){var e=u.document;return e?e.documentMode:void 0}e:{var z="",W=function(){var e=T;return V?/rv:([^\);]+)(\)|;)/.exec(e):H?/Edge\/([\d\.]+)/.exec(e):F?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):q?/WebKit\/(\S+)/.exec(e):U?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(W&&(z=W?W[1]:""),F){var K=G();if(null!=K&&K>parseFloat(z)){j=String(K);break e}}j=z}var Y,Q={};function $(){return function(e){var t=Q;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}(function(){for(var e=0,t=k(String(j)).split("."),n=k("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var o=t[i]||"",a=n[i]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==o[0].length&&0==a[0].length)break;e=A(0==o[1].length?0:parseInt(o[1],10),0==a[1].length?0:parseInt(a[1],10))||A(0==o[2].length,0==a[2].length)||A(o[2],a[2]),o=o[3],a=a[3]}while(0==e)}return 0<=e})}if(u.document&&F){var X=G();Y=X||(parseInt(j,10)||void 0)}else Y=void 0;var J=Y,Z=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{u.addEventListener("test",c,t),u.removeEventListener("test",c,t)}catch(n){}return e}();function ee(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function te(e,t){if(ee.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(V){e:{try{D(t.nodeName);var i=!0;break e}catch(o){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:ne[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&te.Z.h.call(this)}}ee.prototype.h=function(){this.defaultPrevented=!0},m(te,ee);var ne={2:"touch",3:"pen",4:"mouse"};te.prototype.h=function(){te.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var re="closure_listenable_"+(1e6*Math.random()|0),ie=0;function oe(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++ie,this.ca=this.fa=!1}function ae(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function se(e){this.src=e,this.g={},this.h=0}function ue(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],o=w(i,t);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(ae(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function ce(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.ca&&o.listener==t&&o.capture==!!n&&o.ia==r)return i}return-1}se.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.g[o])||(e=this.g[o]=[],this.h++);var a=ce(e,t,r,i);return-1<a?(t=e[a],n||(t.fa=!1)):((t=new oe(t,this.src,o,!!r,i)).fa=n,e.push(t)),t};var le="closure_lm_"+(1e6*Math.random()|0),he={};function fe(e,t,n,r,i){if(r&&r.once)return function e(t,n,r,i,o){if(Array.isArray(n)){for(var a=0;a<n.length;a++)e(t,n[a],r,i,o);return null}r=be(r);return t&&t[re]?t.O(n,r,h(i)?!!i.capture:!!i,o):de(t,n,r,!0,i,o)}(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)fe(e,t[o],n,r,i);return null}return n=be(n),e&&e[re]?e.N(t,n,h(r)?!!r.capture:!!r,i):de(e,t,n,!1,r,i)}function de(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a=h(i)?!!i.capture:!!i,s=ve(e);if(s||(e[le]=s=new se(e)),(n=s.add(t,n,r,a,o)).proxy)return n;if(r=function(){var e=ye;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Z||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(ge(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function pe(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[re])ue(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(ge(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=ve(t))?(ue(n,e),0==n.h&&(n.src=null,t[le]=null)):ae(e)}}}function ge(e){return e in he?he[e]:he[e]="on"+e}function ye(e,t){if(e.ca)e=!0;else{t=new te(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&pe(e),e=n.call(r,t)}return e}function ve(e){return(e=e[le])instanceof se?e:null}var me="__closure_events_fn_"+(1e9*Math.random()>>>0);function be(e){return"function"===typeof e?e:(e[me]||(e[me]=function(t){return e.handleEvent(t)}),e[me])}function _e(){b.call(this),this.i=new se(this),this.P=this,this.I=null}function we(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new ee(t,e);else if(t instanceof ee)t.target=t.target||e;else{var i=t;L(t=new ee(r,e),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var a=t.g=n[o];i=Ee(a,r,!0,t)&&i}if(i=Ee(a=t.g=e,r,!0,t)&&i,i=Ee(a,r,!1,t)&&i,n)for(o=0;o<n.length;o++)i=Ee(a=t.g=n[o],r,!1,t)&&i}function Ee(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.ca&&a.capture==n){var s=a.listener,u=a.ia||a.src;a.fa&&ue(e.i,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}m(_e,b),_e.prototype[re]=!0,_e.prototype.removeEventListener=function(e,t,n,r){!function e(t,n,r,i,o){if(Array.isArray(n))for(var a=0;a<n.length;a++)e(t,n[a],r,i,o);else i=h(i)?!!i.capture:!!i,r=be(r),t&&t[re]?(t=t.i,(n=String(n).toString())in t.g&&-1<(r=ce(a=t.g[n],r,i,o))&&(ae(a[r]),Array.prototype.splice.call(a,r,1),0==a.length&&(delete t.g[n],t.h--))):t&&(t=ve(t))&&(n=t.g[n.toString()],t=-1,n&&(t=ce(n,r,i,o)),(r=-1<t?n[t]:null)&&pe(r))}(this,e,t,n,r)},_e.prototype.M=function(){if(_e.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)ae(n[r]);delete t.g[e],t.h--}}this.I=null},_e.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},_e.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Se=u.JSON.stringify;function Ce(){var e=Pe,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Oe,Te=function(){function e(){this.h=this.g=null}return e.prototype.add=function(e,t){var n=ke.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n},e}(),ke=new(function(){function e(e,t){this.i=e,this.j=t,this.h=0,this.g=null}return e.prototype.get=function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e},e}())(function(){return new Ie},function(e){return e.reset()}),Ie=function(){function e(){this.next=this.g=this.h=null}return e.prototype.set=function(e,t){this.h=e,this.g=t,this.next=null},e.prototype.reset=function(){this.next=this.g=this.h=null},e}();function Ae(e){u.setTimeout(function(){throw e},0)}function Ne(e,t){Oe||function(){var e=u.Promise.resolve(void 0);Oe=function(){e.then(xe)}}(),Re||(Oe(),Re=!0),Pe.add(e,t)}var Re=!1,Pe=new Te;function xe(){for(var e;e=Ce();){try{e.h.call(e.g)}catch(n){Ae(n)}var t=ke;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Re=!1}function Me(e,t){_e.call(this),this.h=e||1,this.g=t||u,this.j=y(this.kb,this),this.l=Date.now()}function Le(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function De(e,t,n){if("function"===typeof e)n&&(e=y(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=y(e.handleEvent,e)}return 2147483647<Number(t)?-1:u.setTimeout(e,t||0)}m(Me,_e),(o=Me.prototype).da=!1,o.S=null,o.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),we(this,"tick"),this.da&&(Le(this),this.start()))}},o.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},o.M=function(){Me.Z.M.call(this),Le(this),delete this.g};var je=function(e){function t(t,n){var r=e.call(this)||this;return r.m=t,r.j=n,r.h=null,r.i=!1,r.g=null,r}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.l=function(e){this.h=arguments,this.g?this.i=!0:function e(t){t.g=De(function(){t.g=null,t.i&&(t.i=!1,e(t))},t.j);var n=t.h;t.h=null,t.m.apply(null,n)}(this)},t.prototype.M=function(){e.prototype.M.call(this),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},t}(b);function Ue(e){b.call(this),this.h=e,this.g={}}m(Ue,b);var Fe=[];function He(e,t,n,r){Array.isArray(n)||(n&&(Fe[0]=n.toString()),n=Fe);for(var i=0;i<n.length;i++){var o=fe(t,n[i],r||e.handleEvent,!1,e.h||e);if(!o)break;e.g[o.key]=o}}function Be(e){P(e.g,function(e,t){this.g.hasOwnProperty(t)&&pe(e)},e),e.g={}}function Ve(){this.g=!0}function qe(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<i.length;a++)i[a]=""}}}return Se(n)}catch(s){return t}}(e,n)+(r?" "+r:"")})}Ue.prototype.M=function(){Ue.Z.M.call(this),Be(this)},Ue.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Ve.prototype.Aa=function(){this.g=!1},Ve.prototype.info=function(){};var Ge={},ze=null;function We(){return ze=ze||new _e}function Ke(e){ee.call(this,Ge.Ma,e)}function Ye(e){var t=We();we(t,new Ke(t,e))}function Qe(e,t){ee.call(this,Ge.STAT_EVENT,e),this.stat=t}function $e(e){var t=We();we(t,new Qe(t,e))}function Xe(e,t){ee.call(this,Ge.Na,e),this.size=t}function Je(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){e()},t)}Ge.Ma="serverreachability",m(Ke,ee),Ge.STAT_EVENT="statevent",m(Qe,ee),Ge.Na="timingevent",m(Xe,ee);var Ze={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},et={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function tt(){}function nt(e){return e.h||(e.h=e.i())}function rt(){}tt.prototype.h=null;var it,ot={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function at(){ee.call(this,"d")}function st(){ee.call(this,"c")}function ut(){}function ct(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new Ue(this),this.P=ht,e=B?125:void 0,this.W=new Me(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new lt}function lt(){this.i=null,this.g="",this.h=!1}m(at,ee),m(st,ee),m(ut,tt),ut.prototype.g=function(){return new XMLHttpRequest},ut.prototype.i=function(){return{}},it=new ut;var ht=45e3,ft={},dt={};function pt(e,t,n){e.K=1,e.v=jt(Rt(t)),e.s=n,e.U=!0,gt(e,null)}function gt(e,t){e.F=Date.now(),bt(e),e.A=Rt(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),$t(n.h,"t",r),e.C=0,n=e.l.H,e.h=new lt,e.g=Zn(e.l,n?t:null,!e.s),0<e.O&&(e.L=new je(y(e.Ia,e,e.g),e.O)),He(e.V,e.g,"readystatechange",e.gb),t=e.H?x(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Ye(1),function(e,t,n,r,i,o){e.info(function(){if(e.g)if(o)for(var a="",s=o.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");a=2<=h.length&&"type"==h[1]?a+(l+"=")+c+"&":a+(l+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a})}(e.j,e.u,e.A,e.m,e.X,e.s)}function yt(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function vt(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=mt(e,n))==dt){4==t&&(e.o=4,$e(14),i=!1),qe(e.j,e.m,null,"[Incomplete Response]");break}if(r==ft){e.o=4,$e(15),qe(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}qe(e.j,e.m,r,null),Ct(e,r)}yt(e)&&r!=dt&&r!=ft&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,$e(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),zn(t),t.L=!0,$e(11))):(qe(e.j,e.m,n,"[Invalid Chunked Response]"),St(e),Et(e))}function mt(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?dt:(n=Number(t.substring(n,r)),isNaN(n)?ft:(r+=1)+n>t.length?dt:(t=t.substr(r,n),e.C=r+n,t))}function bt(e){e.Y=Date.now()+e.P,_t(e,e.P)}function _t(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Je(y(e.eb,e),t)}function wt(e){e.B&&(u.clearTimeout(e.B),e.B=null)}function Et(e){0==e.l.G||e.I||Yn(e.l,e)}function St(e){wt(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,Le(e.W),Be(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Ct(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||on(n.i,e)))if(n.I=e.N,!e.J&&on(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(o){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;Kn(n),Dn(n)}Gn(n),$e(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=Je(y(n.ab,n),6e3));if(1>=rn(n.i)&&n.ka){try{n.ka()}catch(o){}n.ka=void 0}}else $n(n,11)}else if((e.J||n.g==e)&&Kn(n),!O(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var o=i[t];if(n.U=o[0],o=o[1],2==n.G)if("c"==o[0]){n.J=o[1],n.la=o[2];var a=o[3];null!=a&&(n.ma=a,n.h.info("VER="+n.ma));var s=o[4];null!=s&&(n.za=s,n.h.info("SVER="+n.za));var u=o[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=r.i;!h.g&&(I(l,"spdy")||I(l,"quic")||I(l,"h2"))&&(h.j=h.l,h.g=new Set,h.h&&(an(h,h.h),h.h=null))}if(r.D){var f=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;f&&(r.sa=f,Dt(r.F,r.D,f))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=e;if((r=n).oa=Jn(r,r.H?r.la:null,r.W),d.J){sn(r.i,d);var p=d,g=r.K;g&&p.setTimeout(g),p.B&&(wt(p),bt(p)),r.g=d}else qn(r);0<n.l.length&&Fn(n)}else"stop"!=o[0]&&"close"!=o[0]||$n(n,7);else 3==n.G&&("stop"==o[0]||"close"==o[0]?"stop"==o[0]?$n(n,7):Ln(n):"noop"!=o[0]&&n.j&&n.j.wa(o),n.A=0)}Ye(4)}catch(o){}}function Ot(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(l(e)||"string"===typeof e)E(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(l(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;i=(r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(l(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e)).length;for(var o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}}function Tt(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Tt)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function kt(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];It(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)It(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function It(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(o=ct.prototype).setTimeout=function(e){this.P=e},o.gb=function(e){e=e.target;var t=this.L;t&&3==Nn(e)?t.l():this.Ia(e)},o.Ia=function(e){try{if(e==this.g)e:{var t=Nn(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||B||this.g&&(this.h.h||this.g.ga()||Rn(this.g)))){this.I||4!=t||7==n||Ye(8==n||0>=r?3:2),wt(this);var i=this.g.ba();this.N=i;t:if(yt(this)){var o=Rn(this.g);e="";var a=o.length,s=4==Nn(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){St(this),Et(this);var c="";break t}this.h.i=new u.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(o[n],{stream:s&&n==a-1});o.splice(0,a),this.h.g+=e,this.C=0,c=this.h.g}else c=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,o,a){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+a})}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var l,h=this.g;if((l=h.g?h.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!O(l)){var f=l;break t}}f=null}if(!(i=f)){this.i=!1,this.o=3,$e(12),St(this),Et(this);break e}qe(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Ct(this,i)}this.U?(vt(this,t,c),B&&this.i&&3==t&&(He(this.V,this.W,"tick",this.fb),this.W.start())):(qe(this.j,this.m,c,null),Ct(this,c)),4==t&&St(this),this.i&&!this.I&&(4==t?Yn(this.l,this):(this.i=!1,bt(this)))}else 400==i&&0<c.indexOf("Unknown SID")?(this.o=3,$e(12)):(this.o=0,$e(13)),St(this),Et(this)}}}catch(t){}},o.fb=function(){if(this.g){var e=Nn(this.g),t=this.g.ga();this.C<t.length&&(wt(this),vt(this,e,t),this.i&&4!=e&&bt(this))}},o.cancel=function(){this.I=!0,St(this)},o.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.K&&(Ye(3),$e(17)),St(this),this.o=2,Et(this)):_t(this,this.Y-e)},(o=Tt.prototype).R=function(){kt(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},o.T=function(){return kt(this),this.g.concat()},o.get=function(e,t){return It(this.h,e)?this.h[e]:t},o.set=function(e,t){It(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},o.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};var At=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Nt(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof Nt){this.g=void 0!==t?t:e.g,Pt(this,e.j),this.s=e.s,xt(this,e.i),Mt(this,e.m),this.l=e.l,t=e.h;var n=new Wt;n.i=t.i,t.g&&(n.g=new Tt(t.g),n.h=t.h),Lt(this,n),this.o=e.o}else e&&(n=String(e).match(At))?(this.g=!!t,Pt(this,n[1]||"",!0),this.s=Ut(n[2]||""),xt(this,n[3]||"",!0),Mt(this,n[4]),this.l=Ut(n[5]||"",!0),Lt(this,n[6]||"",!0),this.o=Ut(n[7]||"")):(this.g=!!t,this.h=new Wt(null,this.g))}function Rt(e){return new Nt(e)}function Pt(e,t,n){e.j=n?Ut(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function xt(e,t,n){e.i=n?Ut(t,!0):t}function Mt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Lt(e,t,n){t instanceof Wt?(e.h=t,function(e,t){t&&!e.j&&(Kt(e),e.i=null,e.g.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(Yt(this,t),$t(this,n,e))},e)),e.j=t}(e.h,e.g)):(n||(t=Ft(t,Gt)),e.h=new Wt(t,e.g))}function Dt(e,t,n){e.h.set(t,n)}function jt(e){return Dt(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Ut(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Ft(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Ht),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Ht(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Nt.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Ft(t,Bt,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Ft(t,Bt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(Ft(n,"/"==n.charAt(0)?qt:Vt,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Ft(n,zt)),e.join("")};var Bt=/[#\/\?@]/g,Vt=/[#\?:]/g,qt=/[#\?]/g,Gt=/[#\?@]/g,zt=/#/g;function Wt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Kt(e){e.g||(e.g=new Tt,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function Yt(e,t){Kt(e),t=Xt(e,t),It(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,It((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&kt(e)))}function Qt(e,t){return Kt(e),t=Xt(e,t),It(e.g.h,t)}function $t(e,t,n){Yt(e,t),0<n.length&&(e.i=null,e.g.set(Xt(e,t),C(n)),e.h+=n.length)}function Xt(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(o=Wt.prototype).add=function(e,t){Kt(this),this.i=null,e=Xt(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},o.forEach=function(e,t){Kt(this),this.g.forEach(function(n,r){E(n,function(n){e.call(t,n,r,this)},this)},this)},o.T=function(){Kt(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},o.R=function(e){Kt(this);var t=[];if("string"===typeof e)Qt(this,e)&&(t=S(t,this.g.get(Xt(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=S(t,e[n])}return t},o.set=function(e,t){return Kt(this),this.i=null,Qt(this,e=Xt(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},o.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},o.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),e.push(a)}}return this.i=e.join("&")};var Jt=function(){return function(e,t){this.h=e,this.g=t}}();function Zt(e){this.l=e||tn,u.PerformanceNavigationTiming?e=0<(e=u.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(u.g&&u.g.Ea&&u.g.Ea()&&u.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var en,tn=10;function nn(e){return!!e.h||!!e.g&&e.g.size>=e.j}function rn(e){return e.h?1:e.g?e.g.size:0}function on(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function an(e,t){e.g?e.g.add(t):e.h=t}function sn(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function un(e){var t,n;if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var r=e.i;try{for(var o=i(e.g.values()),a=o.next();!a.done;a=o.next()){var s=a.value;r=r.concat(s.D)}}catch(u){t={error:u}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return r}return C(e.i)}function cn(){}function ln(){this.g=new cn}function hn(e,t,n){var r=n||"";try{Ot(e,function(e,n){var i=e;h(e)&&(i=Se(e)),t.push(r+n+"="+encodeURIComponent(i))})}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function fn(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(o){}}function dn(e){this.l=e.$b||null,this.j=e.ib||!1}function pn(e,t){_e.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=gn,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Zt.prototype.cancel=function(){var e,t;if(this.i=un(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var n=i(this.g.values()),r=n.next();!r.done;r=n.next()){r.value.cancel()}}catch(o){e={error:o}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.g.clear()}},cn.prototype.stringify=function(e){return u.JSON.stringify(e,void 0)},cn.prototype.parse=function(e){return u.JSON.parse(e,void 0)},m(dn,tt),dn.prototype.g=function(){return new pn(this.l,this.j)},dn.prototype.i=(en={},function(){return en}),m(pn,_e);var gn=0;function yn(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function vn(e){e.readyState=4,e.l=null,e.j=null,e.A=null,mn(e)}function mn(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(o=pn.prototype).open=function(e,t){if(this.readyState!=gn)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,mn(this)},o.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||u).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},o.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,vn(this)),this.readyState=gn},o.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,mn(this)),this.g&&(this.readyState=3,mn(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof u.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;yn(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},o.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?vn(this):mn(this),3==this.readyState&&yn(this)}},o.Ua=function(e){this.g&&(this.response=this.responseText=e,vn(this))},o.Ta=function(e){this.g&&(this.response=e,vn(this))},o.ha=function(){this.g&&vn(this)},o.setRequestHeader=function(e,t){this.v.append(e,t)},o.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},o.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(pn.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var bn=u.JSON.parse;function _n(e){_e.call(this),this.headers=new Tt,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=wn,this.K=this.L=!1}m(_n,_e);var wn="",En=/^https?$/i,Sn=["POST","PUT"];function Cn(e){return"content-type"==e.toLowerCase()}function On(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Tn(e),In(e)}function Tn(e){e.D||(e.D=!0,we(e,"complete"),we(e,"error"))}function kn(e){if(e.h&&"undefined"!=typeof s&&(!e.C[1]||4!=Nn(e)||2!=e.ba()))if(e.v&&4==Nn(e))De(e.Fa,0,e);else if(we(e,"readystatechange"),4==Nn(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var o=String(e.H).match(At)[1]||null;if(!o&&u.self&&u.self.location){var a=u.self.location.protocol;o=a.substr(0,a.length-1)}i=!En.test(o?o.toLowerCase():"")}t=i}if(t)we(e,"complete"),we(e,"success");else{e.m=6;try{var c=2<Nn(e)?e.g.statusText:""}catch(l){c=""}e.j=c+" ["+e.ba()+"]",Tn(e)}}finally{In(e)}}}function In(e,t){if(e.g){An(e);var n=e.g,r=e.C[0]?c:null;e.g=null,e.C=null,t||we(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function An(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(u.clearTimeout(e.A),e.A=null)}function Nn(e){return e.g?e.g.readyState:0}function Rn(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case wn:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Pn(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return P(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Dt(e,t,n))}function xn(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Mn(e){this.za=0,this.l=[],this.h=new Ve,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=xn("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=xn("baseRetryDelayMs",5e3,e),this.$a=xn("retryDelaySeedMs",1e4,e),this.Ya=xn("forwardChannelMaxRetries",2,e),this.ra=xn("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new Zt(e&&e.concurrentRequestLimit),this.Ca=new ln,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function Ln(e){if(jn(e),3==e.G){var t=e.V++,n=Rt(e.F);Dt(n,"SID",e.J),Dt(n,"RID",t),Dt(n,"TYPE","terminate"),Bn(e,n),(t=new ct(e,e.h,t,void 0)).K=2,t.v=jt(Rt(n)),n=!1,u.navigator&&u.navigator.sendBeacon&&(n=u.navigator.sendBeacon(t.v.toString(),"")),!n&&u.Image&&((new Image).src=t.v,n=!0),n||(t.g=Zn(t.l,null),t.g.ea(t.v)),t.F=Date.now(),bt(t)}Xn(e)}function Dn(e){e.g&&(zn(e),e.g.cancel(),e.g=null)}function jn(e){Dn(e),e.u&&(u.clearTimeout(e.u),e.u=null),Kn(e),e.i.cancel(),e.m&&("number"===typeof e.m&&u.clearTimeout(e.m),e.m=null)}function Un(e,t){e.l.push(new Jt(e.Za++,t)),3==e.G&&Fn(e)}function Fn(e){nn(e.i)||e.m||(e.m=!0,Ne(e.Ha,e),e.C=0)}function Hn(e,t){var n;n=t?t.m:e.V++;var r=Rt(e.F);Dt(r,"SID",e.J),Dt(r,"RID",n),Dt(r,"AID",e.U),Bn(e,r),e.o&&e.s&&Pn(r,e.o,e.s),n=new ct(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=Vn(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),an(e.i,n),pt(n,r,t)}function Bn(e,t){e.j&&Ot({},function(e,n){Dt(t,n,e)})}function Vn(e,t,n){n=Math.min(e.l.length,n);var r=e.j?y(e.j.Oa,e.j,e):null;e:for(var i=e.l,o=-1;;){var a=["count="+n];-1==o?0<n?(o=i[0].h,a.push("ofs="+o)):o=0:a.push("ofs="+o);for(var s=!0,u=0;u<n;u++){var c=i[u].h,l=i[u].g;if(0>(c-=o))o=Math.max(0,i[u].h-100),s=!1;else try{hn(l,a,"req"+c+"_")}catch(h){r&&r(l)}}if(s){r=a.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function qn(e){e.g||e.u||(e.Y=1,Ne(e.Ga,e),e.A=0)}function Gn(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=Je(y(e.Ga,e),Qn(e,e.A)),e.A++,!0)}function zn(e){null!=e.B&&(u.clearTimeout(e.B),e.B=null)}function Wn(e){e.g=new ct(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=Rt(e.oa);Dt(t,"RID","rpc"),Dt(t,"SID",e.J),Dt(t,"CI",e.N?"0":"1"),Dt(t,"AID",e.U),Bn(e,t),Dt(t,"TYPE","xmlhttp"),e.o&&e.s&&Pn(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=jt(Rt(t)),n.s=null,n.U=!0,gt(n,e)}function Kn(e){null!=e.v&&(u.clearTimeout(e.v),e.v=null)}function Yn(e,t){var n=null;if(e.g==t){Kn(e),zn(e),e.g=null;var r=2}else{if(!on(e.i,t))return;n=t.D,sn(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;we(r=We(),new Xe(r,n,t,i)),Fn(e)}else qn(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(rn(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=Je(y(e.Ha,e,t),Qn(e,e.C)),e.C++,!0))}(e,t)||2==r&&Gn(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:$n(e,5);break;case 4:$n(e,10);break;case 3:$n(e,6);break;default:$n(e,2)}}function Qn(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function $n(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=y(e.jb,e);n||(n=new Nt("//www.google.com/images/cleardot.gif"),u.location&&"http"==u.location.protocol||Pt(n,"https"),jt(n)),function(e,t){var n=new Ve;if(u.Image){var r=new Image;r.onload=v(fn,n,r,"TestLoadImage: loaded",!0,t),r.onerror=v(fn,n,r,"TestLoadImage: error",!1,t),r.onabort=v(fn,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=v(fn,n,r,"TestLoadImage: timeout",!1,t),u.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(n.toString(),r)}else $e(2);e.G=0,e.j&&e.j.va(t),Xn(e),jn(e)}function Xn(e){e.G=0,e.I=-1,e.j&&(0==un(e.i).length&&0==e.l.length||(e.i.i.length=0,C(e.l),e.l.length=0),e.j.ua())}function Jn(e,t,n){var r=function(e){return e instanceof Nt?Rt(e):new Nt(e,void 0)}(n);if(""!=r.i)t&&xt(r,t+"."+r.i),Mt(r,r.m);else{var i=u.location;r=function(e,t,n,r){var i=new Nt(null,void 0);return e&&Pt(i,e),t&&xt(i,t),n&&Mt(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&P(e.aa,function(e,t){Dt(r,t,e)}),t=e.D,n=e.sa,t&&n&&Dt(r,t,n),Dt(r,"VER",e.ma),Bn(e,r),r}function Zn(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new _n(new dn({ib:!0})):new _n(e.qa)).L=e.H,t}function er(){}function tr(){if(F&&!(10<=Number(J)))throw Error("Environmental error: no available transport.")}function nr(e,t){_e.call(this),this.g=new Mn(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!O(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!O(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new or(this)}function rr(e){at.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function ir(){st.call(this),this.status=1}function or(e){this.g=e}(o=_n.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():it.g(),this.C=this.u?nt(this.u):nt(it),this.g.onreadystatechange=y(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(o){return void On(this,o)}e=n||"";var i=new Tt(this.headers);r&&Ot(r,function(e,t){i.set(t,e)}),r=function(e){e:{for(var t=Cn,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=u.FormData&&e instanceof u.FormData,!(0<=w(Sn,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(e,t){this.g.setRequestHeader(t,e)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{An(this),0<this.B&&((this.K=function(e){return F&&$()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=y(this.pa,this)):this.A=De(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(o){On(this,o)}},o.pa=function(){"undefined"!=typeof s&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,we(this,"timeout"),this.abort(8))},o.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,we(this,"complete"),we(this,"abort"),In(this))},o.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),In(this,!0)),_n.Z.M.call(this)},o.Fa=function(){this.s||(this.F||this.v||this.l?kn(this):this.cb())},o.cb=function(){kn(this)},o.ba=function(){try{return 2<Nn(this)?this.g.status:-1}catch(en){return-1}},o.ga=function(){try{return this.g?this.g.responseText:""}catch(en){return""}},o.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),bn(t)}},o.Da=function(){return this.m},o.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(o=Mn.prototype).ma=8,o.G=1,o.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(t){}},o.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new ct(this,this.h,e,void 0),n=this.s;if(this.P&&(n?L(n=x(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var o=this.l[i];if(void 0===(o="__data__"in o.g&&"string"===typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(r+=o)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=Vn(this,t,r),Dt(i=Rt(this.F),"RID",e),Dt(i,"CVER",22),this.D&&Dt(i,"X-HTTP-Session-Id",this.D),Bn(this,i),this.o&&n&&Pn(i,this.o,n),an(this.i,t),this.Ra&&Dt(i,"TYPE","init"),this.ja?(Dt(i,"$req",r),Dt(i,"SID","null"),t.$=!0,pt(t,i,null)):pt(t,i,r),this.G=2}}else 3==this.G&&(e?Hn(this,e):0==this.l.length||nn(this.i)||Hn(this))},o.Ga=function(){if(this.u=null,Wn(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=Je(y(this.bb,this),e)}},o.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,$e(10),Dn(this),Wn(this))},o.ab=function(){null!=this.v&&(this.v=null,Dn(this),Gn(this),$e(19))},o.jb=function(e){e?(this.h.info("Successfully pinged google.com"),$e(2)):(this.h.info("Failed to ping google.com"),$e(1))},(o=er.prototype).xa=function(){},o.wa=function(){},o.va=function(){},o.ua=function(){},o.Oa=function(){},tr.prototype.g=function(e,t){return new nr(e,t)},m(nr,_e),nr.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),Ne(y(e.hb,e,t))),$e(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=Jn(e,null,e.W),Fn(e)},nr.prototype.close=function(){Ln(this.g)},nr.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,Un(this.g,t)}else this.v?((t={}).__data__=Se(e),Un(this.g,t)):Un(this.g,e)},nr.prototype.M=function(){this.g.j=null,delete this.j,Ln(this.g),delete this.g,nr.Z.M.call(this)},m(rr,at),m(ir,st),m(or,er),or.prototype.xa=function(){we(this.g,"a")},or.prototype.wa=function(e){we(this.g,new rr(e))},or.prototype.va=function(e){we(this.g,new ir(e))},or.prototype.ua=function(){we(this.g,"b")},tr.prototype.createWebChannel=tr.prototype.g,nr.prototype.send=nr.prototype.u,nr.prototype.open=nr.prototype.m,nr.prototype.close=nr.prototype.close,Ze.NO_ERROR=0,Ze.TIMEOUT=8,Ze.HTTP_ERROR=6,et.COMPLETE="complete",rt.EventType=ot,ot.OPEN="a",ot.CLOSE="b",ot.ERROR="c",ot.MESSAGE="d",_e.prototype.listen=_e.prototype.N,_n.prototype.listenOnce=_n.prototype.O,_n.prototype.getLastError=_n.prototype.La,_n.prototype.getLastErrorCode=_n.prototype.Da,_n.prototype.getStatus=_n.prototype.ba,_n.prototype.getResponseJson=_n.prototype.Qa,_n.prototype.getResponseText=_n.prototype.ga,_n.prototype.send=_n.prototype.ea;var ar=function(){return new tr},sr=function(){return We()},ur=Ze,cr=et,lr=Ge,hr={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},fr=dn,dr=rt,pr=_n}).call(this,n(90))},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",function(){return r})},function(e,t,n){var r=n(84),i=n(10),o=n(150),a=n(32),s=n(36),u=n(177),c=i([].push),l=function(e){var t=1==e,n=2==e,i=3==e,l=4==e,h=6==e,f=7==e,d=5==e||h;return function(p,g,y,v){for(var m,b,_=a(p),w=o(_),E=r(g,y),S=s(w),C=0,O=v||u,T=t?O(p,S):n||f?O(p,0):void 0;S>C;C++)if((d||C in w)&&(b=E(m=w[C],C,_),e))if(t)T[C]=b;else if(b)switch(e){case 3:return!0;case 5:return m;case 6:return C;case 2:c(T,m)}else switch(e){case 4:return!1;case 7:c(T,m)}return h?-1:i||l?l:T}};e.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6),filterReject:l(7)}},function(e,t,n){"use strict";var r,i=n(425),o=Object.prototype.toString,a=(r=Object.create(null),function(e){var t=o.call(e);return r[t]||(r[t]=t.slice(8,-1).toLowerCase())});function s(e){return e=e.toLowerCase(),function(t){return a(t)===e}}function u(e){return Array.isArray(e)}function c(e){return"undefined"===typeof e}var l=s("ArrayBuffer");function h(e){return null!==e&&"object"===typeof e}function f(e){if("object"!==a(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}var d=s("Date"),p=s("File"),g=s("Blob"),y=s("FileList");function v(e){return"[object Function]"===o.call(e)}var m=s("URLSearchParams");function b(e,t){if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),u(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}var _,w=(_="undefined"!==typeof Uint8Array&&Object.getPrototypeOf(Uint8Array),function(e){return _&&e instanceof _});e.exports={isArray:u,isArrayBuffer:l,isBuffer:function(e){return null!==e&&!c(e)&&null!==e.constructor&&!c(e.constructor)&&"function"===typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return e&&("function"===typeof FormData&&e instanceof FormData||"[object FormData]"===o.call(e)||v(e.toString)&&"[object FormData]"===e.toString())},isArrayBufferView:function(e){return"undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&l(e.buffer)},isString:function(e){return"string"===typeof e},isNumber:function(e){return"number"===typeof e},isObject:h,isPlainObject:f,isUndefined:c,isDate:d,isFile:p,isBlob:g,isFunction:v,isStream:function(e){return h(e)&&v(e.pipe)},isURLSearchParams:m,isStandardBrowserEnv:function(){return("undefined"===typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!==typeof window&&"undefined"!==typeof document},forEach:b,merge:function e(){var t={};function n(n,r){f(t[r])&&f(n)?t[r]=e(t[r],n):f(n)?t[r]=e({},n):u(n)?t[r]=n.slice():t[r]=n}for(var r=0,i=arguments.length;r<i;r++)b(arguments[r],n);return t},extend:function(e,t,n){return b(t,function(t,r){e[r]=n&&"function"===typeof t?i(t,n):t}),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e},inherits:function(e,t,n,r){e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,n&&Object.assign(e.prototype,n)},toFlatObject:function(e,t,n){var r,i,o,a={};t=t||{};do{for(i=(r=Object.getOwnPropertyNames(e)).length;i-- >0;)a[o=r[i]]||(t[o]=e[o],a[o]=!0);e=Object.getPrototypeOf(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:a,kindOfTest:s,endsWith:function(e,t,n){e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;var r=e.indexOf(t,n);return-1!==r&&r===n},toArray:function(e){if(!e)return null;var t=e.length;if(c(t))return null;for(var n=new Array(t);t-- >0;)n[t]=e[t];return n},isTypedArray:w,isFileList:y}},function(e,t,n){var r=n(17),i=n(19),o=n(205),a=n(77),s=n(61),u=n(113),c=n(26),l=n(340),h=Object.getOwnPropertyDescriptor;t.f=r?h:function(e,t){if(e=s(e),t=u(t),l)try{return h(e,t)}catch(n){}if(c(e,t))return a(!i(o.f,e,t),e[t])}},function(e,t,n){"use strict";n(3);var r=n(122);t.a=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=function(e){return t.reduce(function(t,n){var i=n(e);return i?Object(r.a)(t,i):t},{})};return i.propTypes={},i.filterProps=t.reduce(function(e,t){return e.concat(t.filterProps)},[]),i}},,function(e,t,n){"use strict";var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i="object"===("undefined"===typeof window?"undefined":r(window))&&"object"===("undefined"===typeof document?"undefined":r(document))&&9===document.nodeType;t.a=i},function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"a",function(){return i});var r=function(e){return e.scrollTop};function i(e,t){var n=e.timeout,r=e.style,i=void 0===r?{}:r;return{duration:i.transitionDuration||"number"===typeof n?n:n[t.mode]||0,delay:i.transitionDelay}}},function(e,t,n){"use strict";var r=n(195);var i=n(421),o=n(247);function a(e){return function(e){if(Array.isArray(e))return Object(r.a)(e)}(e)||Object(i.a)(e)||Object(o.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}n.d(t,"a",function(){return a})},function(e,t,n){var r=n(150),i=n(48);e.exports=function(e){return r(i(e))}},function(e,t,n){var r=n(17),i=n(33),o=n(77);e.exports=r?function(e,t,n){return i.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){"use strict";function r(e){return e&&e.ownerDocument||document}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";var r=n(802),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(e){return r.isMemo(e)?a:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=a;var c=Object.defineProperty,l=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var a=l(n);h&&(a=a.concat(h(n)));for(var s=u(t),g=u(n),y=0;y<a.length;++y){var v=a[y];if(!o[v]&&(!r||!r[v])&&(!g||!g[v])&&(!s||!s[v])){var m=f(n,v);try{c(t,v,m)}catch(b){}}}}return t}},function(e,t,n){"use strict";var r=n(5),i=n(3),o=n(0),a=(n(7),n(6)),s=n(8),u=[0,1,2,3,4,5,6,7,8,9,10],c=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12];function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=parseFloat(e);return"".concat(n/t).concat(String(e).replace(String(n),"")||"px")}var h=o.forwardRef(function(e,t){var n=e.alignContent,s=void 0===n?"stretch":n,u=e.alignItems,c=void 0===u?"stretch":u,l=e.classes,h=e.className,f=e.component,d=void 0===f?"div":f,p=e.container,g=void 0!==p&&p,y=e.direction,v=void 0===y?"row":y,m=e.item,b=void 0!==m&&m,_=e.justify,w=void 0===_?"flex-start":_,E=e.lg,S=void 0!==E&&E,C=e.md,O=void 0!==C&&C,T=e.sm,k=void 0!==T&&T,I=e.spacing,A=void 0===I?0:I,N=e.wrap,R=void 0===N?"wrap":N,P=e.xl,x=void 0!==P&&P,M=e.xs,L=void 0!==M&&M,D=e.zeroMinWidth,j=void 0!==D&&D,U=Object(r.a)(e,["alignContent","alignItems","classes","className","component","container","direction","item","justify","lg","md","sm","spacing","wrap","xl","xs","zeroMinWidth"]),F=Object(a.a)(l.root,h,g&&[l.container,0!==A&&l["spacing-xs-".concat(String(A))]],b&&l.item,j&&l.zeroMinWidth,"row"!==v&&l["direction-xs-".concat(String(v))],"wrap"!==R&&l["wrap-xs-".concat(String(R))],"stretch"!==c&&l["align-items-xs-".concat(String(c))],"stretch"!==s&&l["align-content-xs-".concat(String(s))],"flex-start"!==w&&l["justify-xs-".concat(String(w))],!1!==L&&l["grid-xs-".concat(String(L))],!1!==k&&l["grid-sm-".concat(String(k))],!1!==O&&l["grid-md-".concat(String(O))],!1!==S&&l["grid-lg-".concat(String(S))],!1!==x&&l["grid-xl-".concat(String(x))]);return o.createElement(d,Object(i.a)({className:F,ref:t},U))}),f=Object(s.a)(function(e){return Object(i.a)({root:{},container:{boxSizing:"border-box",display:"flex",flexWrap:"wrap",width:"100%"},item:{boxSizing:"border-box",margin:"0"},zeroMinWidth:{minWidth:0},"direction-xs-column":{flexDirection:"column"},"direction-xs-column-reverse":{flexDirection:"column-reverse"},"direction-xs-row-reverse":{flexDirection:"row-reverse"},"wrap-xs-nowrap":{flexWrap:"nowrap"},"wrap-xs-wrap-reverse":{flexWrap:"wrap-reverse"},"align-items-xs-center":{alignItems:"center"},"align-items-xs-flex-start":{alignItems:"flex-start"},"align-items-xs-flex-end":{alignItems:"flex-end"},"align-items-xs-baseline":{alignItems:"baseline"},"align-content-xs-center":{alignContent:"center"},"align-content-xs-flex-start":{alignContent:"flex-start"},"align-content-xs-flex-end":{alignContent:"flex-end"},"align-content-xs-space-between":{alignContent:"space-between"},"align-content-xs-space-around":{alignContent:"space-around"},"justify-xs-center":{justifyContent:"center"},"justify-xs-flex-end":{justifyContent:"flex-end"},"justify-xs-space-between":{justifyContent:"space-between"},"justify-xs-space-around":{justifyContent:"space-around"},"justify-xs-space-evenly":{justifyContent:"space-evenly"}},function(e,t){var n={};return u.forEach(function(r){var i=e.spacing(r);0!==i&&(n["spacing-".concat(t,"-").concat(r)]={margin:"-".concat(l(i,2)),width:"calc(100% + ".concat(l(i),")"),"& > $item":{padding:l(i,2)}})}),n}(e,"xs"),{},e.breakpoints.keys.reduce(function(t,n){return function(e,t,n){var r={};c.forEach(function(e){var t="grid-".concat(n,"-").concat(e);if(!0!==e)if("auto"!==e){var i="".concat(Math.round(e/12*1e8)/1e6,"%");r[t]={flexBasis:i,flexGrow:0,maxWidth:i}}else r[t]={flexBasis:"auto",flexGrow:0,maxWidth:"none"};else r[t]={flexBasis:0,flexGrow:1,maxWidth:"100%"}}),"xs"===n?Object(i.a)(e,r):e[t.breakpoints.up(n)]=r}(t,e,n),t},{}))},{name:"MuiGrid"})(h);t.a=f},function(e,t,n){var r=n(10),i=r({}.toString),o=r("".slice);e.exports=function(e){return o(i(e),8,-1)}},function(e,t,n){var r=n(50),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},function(e,t,n){var r,i=n(18),o=n(274),a=n(272),s=n(173),u=n(347),c=n(207),l=n(209),h=l("IE_PROTO"),f=function(){},d=function(e){return"<script>"+e+"<\/script>"},p=function(e){e.write(d("")),e.close();var t=e.parentWindow.Object;return e=null,t},g=function(){try{r=new ActiveXObject("htmlfile")}catch(t){}g="undefined"!=typeof document?document.domain&&r?p(r):function(){var e,t=c("iframe");return t.style.display="none",u.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(d("document.F=Object")),e.close(),e.F}():p(r);for(var e=a.length;e--;)delete g.prototype[a[e]];return g()};s[h]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(f.prototype=i(e),n=new f,f.prototype=null,n[h]=e):n=g(),void 0===t?n:o.f(n,t)}},function(e,t,n){var r=n(33).f,i=n(26),o=n(22)("toStringTag");e.exports=function(e,t,n){e&&!n&&(e=e.prototype),e&&!i(e,o)&&r(e,o,{configurable:!0,value:t})}},function(e,t,n){var r=n(10),i=n(48),o=n(24),a=/"/g,s=r("".replace);e.exports=function(e,t,n,r){var u=o(i(e)),c="<"+t;return""!==n&&(c+=" "+n+'="'+s(o(r),a,"&quot;")+'"'),c+">"+u+"</"+t+">"}},function(e,t,n){var r=n(9);e.exports=function(e){return r(function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3})}},function(e,t,n){"use strict";var r=n(434),i=Object.prototype.toString;function o(e){return"[object Array]"===i.call(e)}function a(e){return"undefined"===typeof e}function s(e){return null!==e&&"object"===typeof e}function u(e){if("[object Object]"!==i.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function c(e){return"[object Function]"===i.call(e)}function l(e,t){if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),o(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}e.exports={isArray:o,isArrayBuffer:function(e){return"[object ArrayBuffer]"===i.call(e)},isBuffer:function(e){return null!==e&&!a(e)&&null!==e.constructor&&!a(e.constructor)&&"function"===typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!==typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"===typeof e},isNumber:function(e){return"number"===typeof e},isObject:s,isPlainObject:u,isUndefined:a,isDate:function(e){return"[object Date]"===i.call(e)},isFile:function(e){return"[object File]"===i.call(e)},isBlob:function(e){return"[object Blob]"===i.call(e)},isFunction:c,isStream:function(e){return s(e)&&c(e.pipe)},isURLSearchParams:function(e){return"undefined"!==typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"===typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!==typeof window&&"undefined"!==typeof document},forEach:l,merge:function e(){var t={};function n(n,r){u(t[r])&&u(n)?t[r]=e(t[r],n):u(n)?t[r]=e({},n):o(n)?t[r]=n.slice():t[r]=n}for(var r=0,i=arguments.length;r<i;r++)l(arguments[r],n);return t},extend:function(e,t,n){return l(t,function(t,i){e[i]=n&&"function"===typeof t?r(t,n):t}),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}}},function(e,t,n){"use strict";n.d(t,"b",function(){return o});var r=n(5),i={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},o={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function a(e){return"".concat(Math.round(e),"ms")}t.a={easing:i,duration:o,create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.duration,s=void 0===n?o.standard:n,u=t.easing,c=void 0===u?i.easeInOut:u,l=t.delay,h=void 0===l?0:l;Object(r.a)(t,["duration","easing","delay"]);return(Array.isArray(e)?e:[e]).map(function(e){return"".concat(e," ").concat("string"===typeof s?s:a(s)," ").concat(c," ").concat("string"===typeof h?h:a(h))}).join(",")},getAutoHeightDuration:function(e){if(!e)return 0;var t=e/36;return Math.round(10*(4+15*Math.pow(t,.25)+t/5))}}},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(0),i=n(135);function o(){return r.useContext(i.a)}},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=!0,i="Invariant failed";function o(e,t){if(!e){if(r)throw new Error(i);var n="function"===typeof t?t():t;throw new Error(n?i+": "+n:i)}}},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(3),i=n(0),o=n.n(i),a=n(168);function s(e,t){var n=o.a.memo(o.a.forwardRef(function(t,n){return o.a.createElement(a.a,Object(r.a)({ref:n},t),e)}));return n.muiName=a.a.muiName,n}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){var r=n(10);e.exports=r({}.isPrototypeOf)},function(e,t,n){var r=n(172),i=Function.prototype,o=i.apply,a=i.call;e.exports="object"==typeof Reflect&&Reflect.apply||(r?a.bind(o):function(){return a.apply(o,arguments)})},function(e,t,n){var r=n(26),i=n(23),o=n(32),a=n(209),s=n(278),u=a("IE_PROTO"),c=Object,l=c.prototype;e.exports=s?c.getPrototypeOf:function(e){var t=o(e);if(r(t,u))return t[u];var n=t.constructor;return i(n)&&t instanceof n?n.prototype:t instanceof c?l:null}},function(e,t,n){"use strict";function r(e){var t=e.props,n=e.states,r=e.muiFormControl;return n.reduce(function(e,n){return e[n]=t[n],r&&"undefined"===typeof t[n]&&(e[n]=r[n]),e},{})}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";n.d(t,"a",function(){return E}),n.d(t,"b",function(){return k}),n.d(t,"c",function(){return y}),n.d(t,"d",function(){return x}),n.d(t,"e",function(){return g}),n.d(t,"f",function(){return T}),n.d(t,"g",function(){return D}),n.d(t,"h",function(){return M});var r=n(25),i=n(0),o=n.n(i),a=(n(7),n(83)),s=n(471),u=n(75),c=n(3),l=n(322),h=n.n(l),f=(n(813),n(31)),d=n(64),p=n.n(d),g=function(e){var t=Object(s.a)();return t.displayName=e,t}("Router"),y=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={location:t.history.location},n._isMounted=!1,n._pendingLocation=null,t.staticContext||(n.unlisten=t.history.listen(function(e){n._isMounted?n.setState({location:e}):n._pendingLocation=e})),n}Object(r.a)(t,e),t.computeRootMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}};var n=t.prototype;return n.componentDidMount=function(){this._isMounted=!0,this._pendingLocation&&this.setState({location:this._pendingLocation})},n.componentWillUnmount=function(){this.unlisten&&this.unlisten()},n.render=function(){return o.a.createElement(g.Provider,{children:this.props.children||null,value:{history:this.props.history,location:this.state.location,match:t.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}})},t}(o.a.Component);o.a.Component;var v=function(e){function t(){return e.apply(this,arguments)||this}Object(r.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){this.props.onMount&&this.props.onMount.call(this,this)},n.componentDidUpdate=function(e){this.props.onUpdate&&this.props.onUpdate.call(this,this,e)},n.componentWillUnmount=function(){this.props.onUnmount&&this.props.onUnmount.call(this,this)},n.render=function(){return null},t}(o.a.Component);var m={},b=1e4,_=0;function w(e,t){return void 0===e&&(e="/"),void 0===t&&(t={}),"/"===e?e:function(e){if(m[e])return m[e];var t=h.a.compile(e);return _<b&&(m[e]=t,_++),t}(e)(t,{pretty:!0})}function E(e){var t=e.computedMatch,n=e.to,r=e.push,i=void 0!==r&&r;return o.a.createElement(g.Consumer,null,function(e){e||Object(u.a)(!1);var r=e.history,s=e.staticContext,l=i?r.push:r.replace,h=Object(a.c)(t?"string"===typeof n?w(n,t.params):Object(c.a)({},n,{pathname:w(n.pathname,t.params)}):n);return s?(l(h),null):o.a.createElement(v,{onMount:function(){l(h)},onUpdate:function(e,t){var n=Object(a.c)(t.to);Object(a.f)(n,Object(c.a)({},h,{key:n.key}))||l(h)},to:n})})}var S={},C=1e4,O=0;function T(e,t){void 0===t&&(t={}),("string"===typeof t||Array.isArray(t))&&(t={path:t});var n=t,r=n.path,i=n.exact,o=void 0!==i&&i,a=n.strict,s=void 0!==a&&a,u=n.sensitive,c=void 0!==u&&u;return[].concat(r).reduce(function(t,n){if(!n&&""!==n)return null;if(t)return t;var r=function(e,t){var n=""+t.end+t.strict+t.sensitive,r=S[n]||(S[n]={});if(r[e])return r[e];var i=[],o={regexp:h()(e,i,t),keys:i};return O<C&&(r[e]=o,O++),o}(n,{end:o,strict:s,sensitive:c}),i=r.regexp,a=r.keys,u=i.exec(e);if(!u)return null;var l=u[0],f=u.slice(1),d=e===l;return o&&!d?null:{path:n,url:"/"===n&&""===l?"/":l,isExact:d,params:a.reduce(function(e,t,n){return e[t.name]=f[n],e},{})}},null)}var k=function(e){function t(){return e.apply(this,arguments)||this}return Object(r.a)(t,e),t.prototype.render=function(){var e=this;return o.a.createElement(g.Consumer,null,function(t){t||Object(u.a)(!1);var n=e.props.location||t.location,r=e.props.computedMatch?e.props.computedMatch:e.props.path?T(n.pathname,e.props):t.match,i=Object(c.a)({},t,{location:n,match:r}),a=e.props,s=a.children,l=a.component,h=a.render;return Array.isArray(s)&&0===s.length&&(s=null),o.a.createElement(g.Provider,{value:i},i.match?s?"function"===typeof s?s(i):s:l?o.a.createElement(l,i):h?h(i):null:"function"===typeof s?s(i):null)})},t}(o.a.Component);function I(e){return"/"===e.charAt(0)?e:"/"+e}function A(e,t){if(!e)return t;var n=I(e);return 0!==t.pathname.indexOf(n)?t:Object(c.a)({},t,{pathname:t.pathname.substr(n.length)})}function N(e){return"string"===typeof e?e:Object(a.e)(e)}function R(e){return function(){Object(u.a)(!1)}}function P(){}o.a.Component;var x=function(e){function t(){return e.apply(this,arguments)||this}return Object(r.a)(t,e),t.prototype.render=function(){var e=this;return o.a.createElement(g.Consumer,null,function(t){t||Object(u.a)(!1);var n,r,i=e.props.location||t.location;return o.a.Children.forEach(e.props.children,function(e){if(null==r&&o.a.isValidElement(e)){n=e;var a=e.props.path||e.props.from;r=a?T(i.pathname,Object(c.a)({},e.props,{path:a})):t.match}}),r?o.a.cloneElement(n,{location:i,computedMatch:r}):null})},t}(o.a.Component);function M(e){var t="withRouter("+(e.displayName||e.name)+")",n=function(t){var n=t.wrappedComponentRef,r=Object(f.a)(t,["wrappedComponentRef"]);return o.a.createElement(g.Consumer,null,function(t){return t||Object(u.a)(!1),o.a.createElement(e,Object(c.a)({},r,t,{ref:n}))})};return n.displayName=t,n.WrappedComponent=e,p()(n,e)}var L=o.a.useContext;function D(){return L(g).history}},function(e,t,n){"use strict";var r=n(3);function i(e){return"/"===e.charAt(0)}function o(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}var a=function(e,t){void 0===t&&(t="");var n,r=e&&e.split("/")||[],a=t&&t.split("/")||[],s=e&&i(e),u=t&&i(t),c=s||u;if(e&&i(e)?a=r:r.length&&(a.pop(),a=a.concat(r)),!a.length)return"/";if(a.length){var l=a[a.length-1];n="."===l||".."===l||""===l}else n=!1;for(var h=0,f=a.length;f>=0;f--){var d=a[f];"."===d?o(a,f):".."===d?(o(a,f),h++):h&&(o(a,f),h--)}if(!c)for(;h--;h)a.unshift("..");!c||""===a[0]||a[0]&&i(a[0])||a.unshift("");var p=a.join("/");return n&&"/"!==p.substr(-1)&&(p+="/"),p};function s(e){return e.valueOf?e.valueOf():Object.prototype.valueOf.call(e)}var u=function e(t,n){if(t===n)return!0;if(null==t||null==n)return!1;if(Array.isArray(t))return Array.isArray(n)&&t.length===n.length&&t.every(function(t,r){return e(t,n[r])});if("object"===typeof t||"object"===typeof n){var r=s(t),i=s(n);return r!==t||i!==n?e(r,i):Object.keys(Object.assign({},t,n)).every(function(r){return e(t[r],n[r])})}return!1},c=n(75);function l(e){return"/"===e.charAt(0)?e:"/"+e}function h(e){return"/"===e.charAt(0)?e.substr(1):e}function f(e,t){return function(e,t){return 0===e.toLowerCase().indexOf(t.toLowerCase())&&-1!=="/?#".indexOf(e.charAt(t.length))}(e,t)?e.substr(t.length):e}function d(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function p(e){var t=e.pathname,n=e.search,r=e.hash,i=t||"/";return n&&"?"!==n&&(i+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(i+="#"===r.charAt(0)?r:"#"+r),i}function g(e,t,n,i){var o;"string"===typeof e?(o=function(e){var t=e||"/",n="",r="",i=t.indexOf("#");-1!==i&&(r=t.substr(i),t=t.substr(0,i));var o=t.indexOf("?");return-1!==o&&(n=t.substr(o),t=t.substr(0,o)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}(e)).state=t:(void 0===(o=Object(r.a)({},e)).pathname&&(o.pathname=""),o.search?"?"!==o.search.charAt(0)&&(o.search="?"+o.search):o.search="",o.hash?"#"!==o.hash.charAt(0)&&(o.hash="#"+o.hash):o.hash="",void 0!==t&&void 0===o.state&&(o.state=t));try{o.pathname=decodeURI(o.pathname)}catch(s){throw s instanceof URIError?new URIError('Pathname "'+o.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):s}return n&&(o.key=n),i?o.pathname?"/"!==o.pathname.charAt(0)&&(o.pathname=a(o.pathname,i.pathname)):o.pathname=i.pathname:o.pathname||(o.pathname="/"),o}function y(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash&&e.key===t.key&&u(e.state,t.state)}function v(){var e=null;var t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,r,i){if(null!=e){var o="function"===typeof e?e(t,n):e;"string"===typeof o?"function"===typeof r?r(o,i):i(!0):i(!1!==o)}else i(!0)},appendListener:function(e){var n=!0;function r(){n&&e.apply(void 0,arguments)}return t.push(r),function(){n=!1,t=t.filter(function(e){return e!==r})}},notifyListeners:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.forEach(function(e){return e.apply(void 0,n)})}}}n.d(t,"a",function(){return S}),n.d(t,"b",function(){return A}),n.d(t,"d",function(){return R}),n.d(t,"c",function(){return g}),n.d(t,"f",function(){return y}),n.d(t,"e",function(){return p});var m=!("undefined"===typeof window||!window.document||!window.document.createElement);function b(e,t){t(window.confirm(e))}var _="popstate",w="hashchange";function E(){try{return window.history.state||{}}catch(e){return{}}}function S(e){void 0===e&&(e={}),m||Object(c.a)(!1);var t=window.history,n=function(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history}(),i=!(-1===window.navigator.userAgent.indexOf("Trident")),o=e,a=o.forceRefresh,s=void 0!==a&&a,u=o.getUserConfirmation,h=void 0===u?b:u,y=o.keyLength,S=void 0===y?6:y,C=e.basename?d(l(e.basename)):"";function O(e){var t=e||{},n=t.key,r=t.state,i=window.location,o=i.pathname+i.search+i.hash;return C&&(o=f(o,C)),g(o,r,n)}function T(){return Math.random().toString(36).substr(2,S)}var k=v();function I(e){Object(r.a)(H,e),H.length=t.length,k.notifyListeners(H.location,H.action)}function A(e){(function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")})(e)||P(O(e.state))}function N(){P(O(E()))}var R=!1;function P(e){if(R)R=!1,I();else{k.confirmTransitionTo(e,"POP",h,function(t){t?I({action:"POP",location:e}):function(e){var t=H.location,n=M.indexOf(t.key);-1===n&&(n=0);var r=M.indexOf(e.key);-1===r&&(r=0);var i=n-r;i&&(R=!0,D(i))}(e)})}}var x=O(E()),M=[x.key];function L(e){return C+p(e)}function D(e){t.go(e)}var j=0;function U(e){1===(j+=e)&&1===e?(window.addEventListener(_,A),i&&window.addEventListener(w,N)):0===j&&(window.removeEventListener(_,A),i&&window.removeEventListener(w,N))}var F=!1;var H={length:t.length,action:"POP",location:x,createHref:L,push:function(e,r){var i=g(e,r,T(),H.location);k.confirmTransitionTo(i,"PUSH",h,function(e){if(e){var r=L(i),o=i.key,a=i.state;if(n)if(t.pushState({key:o,state:a},null,r),s)window.location.href=r;else{var u=M.indexOf(H.location.key),c=M.slice(0,u+1);c.push(i.key),M=c,I({action:"PUSH",location:i})}else window.location.href=r}})},replace:function(e,r){var i=g(e,r,T(),H.location);k.confirmTransitionTo(i,"REPLACE",h,function(e){if(e){var r=L(i),o=i.key,a=i.state;if(n)if(t.replaceState({key:o,state:a},null,r),s)window.location.replace(r);else{var u=M.indexOf(H.location.key);-1!==u&&(M[u]=i.key),I({action:"REPLACE",location:i})}else window.location.replace(r)}})},go:D,goBack:function(){D(-1)},goForward:function(){D(1)},block:function(e){void 0===e&&(e=!1);var t=k.setPrompt(e);return F||(U(1),F=!0),function(){return F&&(F=!1,U(-1)),t()}},listen:function(e){var t=k.appendListener(e);return U(1),function(){U(-1),t()}}};return H}var C="hashchange",O={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+h(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:h,decodePath:l},slash:{encodePath:l,decodePath:l}};function T(e){var t=e.indexOf("#");return-1===t?e:e.slice(0,t)}function k(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)}function I(e){window.location.replace(T(window.location.href)+"#"+e)}function A(e){void 0===e&&(e={}),m||Object(c.a)(!1);var t=window.history,n=(window.navigator.userAgent.indexOf("Firefox"),e),i=n.getUserConfirmation,o=void 0===i?b:i,a=n.hashType,s=void 0===a?"slash":a,u=e.basename?d(l(e.basename)):"",h=O[s],y=h.encodePath,_=h.decodePath;function w(){var e=_(k());return u&&(e=f(e,u)),g(e)}var E=v();function S(e){Object(r.a)(H,e),H.length=t.length,E.notifyListeners(H.location,H.action)}var A=!1,N=null;function R(){var e,t,n=k(),r=y(n);if(n!==r)I(r);else{var i=w(),a=H.location;if(!A&&(t=i,(e=a).pathname===t.pathname&&e.search===t.search&&e.hash===t.hash))return;if(N===p(i))return;N=null,function(e){if(A)A=!1,S();else{E.confirmTransitionTo(e,"POP",o,function(t){t?S({action:"POP",location:e}):function(e){var t=H.location,n=L.lastIndexOf(p(t));-1===n&&(n=0);var r=L.lastIndexOf(p(e));-1===r&&(r=0);var i=n-r;i&&(A=!0,D(i))}(e)})}}(i)}}var P=k(),x=y(P);P!==x&&I(x);var M=w(),L=[p(M)];function D(e){t.go(e)}var j=0;function U(e){1===(j+=e)&&1===e?window.addEventListener(C,R):0===j&&window.removeEventListener(C,R)}var F=!1;var H={length:t.length,action:"POP",location:M,createHref:function(e){var t=document.querySelector("base"),n="";return t&&t.getAttribute("href")&&(n=T(window.location.href)),n+"#"+y(u+p(e))},push:function(e,t){var n=g(e,void 0,void 0,H.location);E.confirmTransitionTo(n,"PUSH",o,function(e){if(e){var t=p(n),r=y(u+t);if(k()!==r){N=t,function(e){window.location.hash=e}(r);var i=L.lastIndexOf(p(H.location)),o=L.slice(0,i+1);o.push(t),L=o,S({action:"PUSH",location:n})}else S()}})},replace:function(e,t){var n=g(e,void 0,void 0,H.location);E.confirmTransitionTo(n,"REPLACE",o,function(e){if(e){var t=p(n),r=y(u+t);k()!==r&&(N=t,I(r));var i=L.indexOf(p(H.location));-1!==i&&(L[i]=t),S({action:"REPLACE",location:n})}})},go:D,goBack:function(){D(-1)},goForward:function(){D(1)},block:function(e){void 0===e&&(e=!1);var t=E.setPrompt(e);return F||(U(1),F=!0),function(){return F&&(F=!1,U(-1)),t()}},listen:function(e){var t=E.appendListener(e);return U(1),function(){U(-1),t()}}};return H}function N(e,t,n){return Math.min(Math.max(e,t),n)}function R(e){void 0===e&&(e={});var t=e,n=t.getUserConfirmation,i=t.initialEntries,o=void 0===i?["/"]:i,a=t.initialIndex,s=void 0===a?0:a,u=t.keyLength,c=void 0===u?6:u,l=v();function h(e){Object(r.a)(_,e),_.length=_.entries.length,l.notifyListeners(_.location,_.action)}function f(){return Math.random().toString(36).substr(2,c)}var d=N(s,0,o.length-1),y=o.map(function(e){return g(e,void 0,"string"===typeof e?f():e.key||f())}),m=p;function b(e){var t=N(_.index+e,0,_.entries.length-1),r=_.entries[t];l.confirmTransitionTo(r,"POP",n,function(e){e?h({action:"POP",location:r,index:t}):h()})}var _={length:y.length,action:"POP",location:y[d],index:d,entries:y,createHref:m,push:function(e,t){var r=g(e,t,f(),_.location);l.confirmTransitionTo(r,"PUSH",n,function(e){if(e){var t=_.index+1,n=_.entries.slice(0);n.length>t?n.splice(t,n.length-t,r):n.push(r),h({action:"PUSH",location:r,index:t,entries:n})}})},replace:function(e,t){var r=g(e,t,f(),_.location);l.confirmTransitionTo(r,"REPLACE",n,function(e){e&&(_.entries[_.index]=r,h({action:"REPLACE",location:r}))})},go:b,goBack:function(){b(-1)},goForward:function(){b(1)},canGo:function(e){var t=_.index+e;return t>=0&&t<_.entries.length},block:function(e){return void 0===e&&(e=!1),l.setPrompt(e)},listen:function(e){return l.appendListener(e)}};return _}},function(e,t,n){var r=n(10),i=n(49),o=n(172),a=r(r.bind);e.exports=function(e,t){return i(e),void 0===t?e:o?a(e,t):function(){return e.apply(t,arguments)}}},function(e,t,n){var r=n(22),i=n(68),o=n(33).f,a=r("unscopables"),s=Array.prototype;void 0==s[a]&&o(s,a,{configurable:!0,value:i(null)}),e.exports=function(e){s[a][e]=!0}},function(e,t){var n=e.exports={version:"2.6.12"};"number"==typeof __e&&(__e=n)},function(e,t,n){var r=n(307)("wks"),i=n(241),o=n(95).Symbol,a="function"==typeof o;(e.exports=function(e){return r[e]||(r[e]=a&&o[e]||(a?o:i)("Symbol."+e))}).store=r},function(e,t,n){"use strict";n.d(t,"b",function(){return o}),n.d(t,"a",function(){return a});var r=n(3),i=n(5),o=["xs","sm","md","lg","xl"];function a(e){var t=e.values,n=void 0===t?{xs:0,sm:600,md:960,lg:1280,xl:1920}:t,a=e.unit,s=void 0===a?"px":a,u=e.step,c=void 0===u?5:u,l=Object(i.a)(e,["values","unit","step"]);function h(e){var t="number"===typeof n[e]?n[e]:e;return"@media (min-width:".concat(t).concat(s,")")}function f(e,t){var r=o.indexOf(t);return r===o.length-1?h(e):"@media (min-width:".concat("number"===typeof n[e]?n[e]:e).concat(s,") and ")+"(max-width:".concat((-1!==r&&"number"===typeof n[o[r+1]]?n[o[r+1]]:t)-c/100).concat(s,")")}return Object(r.a)({keys:o,values:n,up:h,down:function(e){var t=o.indexOf(e)+1,r=n[o[t]];return t===o.length?h("xs"):"@media (max-width:".concat(("number"===typeof r&&t>0?r:e)-c/100).concat(s,")")},between:f,only:function(e){return f(e,e)},width:function(e){return n[e]}},l)}},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",function(){return r})},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"===typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(0),i="undefined"!==typeof window?r.useLayoutEffect:r.useEffect;function o(e){var t=r.useRef(e);return i(function(){t.current=e}),r.useCallback(function(){return t.current.apply(void 0,arguments)},[])}},function(e,t,n){var r=n(10),i=n(18),o=n(373);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=r(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(n,[]),t=n instanceof Array}catch(a){}return function(n,r){return i(n),o(r),t?e(n,r):n.__proto__=r,n}}():void 0)},function(e,t,n){var r=n(84),i=n(19),o=n(18),a=n(128),s=n(280),u=n(36),c=n(78),l=n(215),h=n(182),f=n(376),d=TypeError,p=function(e,t){this.stopped=e,this.result=t},g=p.prototype;e.exports=function(e,t,n){var y,v,m,b,_,w,E,S=n&&n.that,C=!(!n||!n.AS_ENTRIES),O=!(!n||!n.IS_RECORD),T=!(!n||!n.IS_ITERATOR),k=!(!n||!n.INTERRUPTED),I=r(t,S),A=function(e){return y&&f(y,"normal",e),new p(!0,e)},N=function(e){return C?(o(e),k?I(e[0],e[1],A):I(e[0],e[1])):k?I(e,A):I(e)};if(O)y=e.iterator;else if(T)y=e;else{if(!(v=h(e)))throw d(a(e)+" is not iterable");if(s(v)){for(m=0,b=u(e);b>m;m++)if((_=N(e[m]))&&c(g,_))return _;return new p(!1)}y=l(e,v)}for(w=O?e.next:y.next;!(E=i(w,y)).done;){try{_=N(E.value)}catch(R){f(y,"throw",R)}if("object"==typeof _&&_&&c(g,_))return _}return new p(!1)}},function(e,t,n){var r=n(78),i=TypeError;e.exports=function(e,t){if(r(t,e))return e;throw i("Incorrect invocation")}},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t,n){e.exports=!n(163)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t,n){"use strict";var r=n(3),i=n(47),o=n(25),a=n(331),s=n(166);function u(e,t,n){return(u=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&Object(s.a)(i,n.prototype),i}).apply(null,arguments)}function c(e){var t="function"===typeof Map?new Map:void 0;return(c=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return u(e,arguments,Object(a.a)(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),Object(s.a)(r,e)})(e)}n.d(t,"a",function(){return V}),n.d(t,"b",function(){return x});var l=function(e){function t(t){var n;return n=e.call(this,"An error occurred. See https://github.com/styled-components/polished/blob/master/src/internalHelpers/errors.md#"+t+" for more information.")||this,Object(i.a)(n)}return Object(o.a)(t,e),t}(c(Error));function h(e){return Math.round(255*e)}function f(e,t,n){return h(e)+","+h(t)+","+h(n)}function d(e,t,n,r){if(void 0===r&&(r=f),0===t)return r(n,n,n);var i=(e%360+360)%360/60,o=(1-Math.abs(2*n-1))*t,a=o*(1-Math.abs(i%2-1)),s=0,u=0,c=0;i>=0&&i<1?(s=o,u=a):i>=1&&i<2?(s=a,u=o):i>=2&&i<3?(u=o,c=a):i>=3&&i<4?(u=a,c=o):i>=4&&i<5?(s=a,c=o):i>=5&&i<6&&(s=o,c=a);var l=n-o/2;return r(s+l,u+l,c+l)}var p={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"639",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"};var g=/^#[a-fA-F0-9]{6}$/,y=/^#[a-fA-F0-9]{8}$/,v=/^#[a-fA-F0-9]{3}$/,m=/^#[a-fA-F0-9]{4}$/,b=/^rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)$/i,_=/^rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*([-+]?[0-9]*[.]?[0-9]+)\s*\)$/i,w=/^hsl\(\s*(\d{0,3}[.]?[0-9]+)\s*,\s*(\d{1,3}[.]?[0-9]?)%\s*,\s*(\d{1,3}[.]?[0-9]?)%\s*\)$/i,E=/^hsla\(\s*(\d{0,3}[.]?[0-9]+)\s*,\s*(\d{1,3}[.]?[0-9]?)%\s*,\s*(\d{1,3}[.]?[0-9]?)%\s*,\s*([-+]?[0-9]*[.]?[0-9]+)\s*\)$/i;function S(e){if("string"!==typeof e)throw new l(3);var t=function(e){if("string"!==typeof e)return e;var t=e.toLowerCase();return p[t]?"#"+p[t]:e}(e);if(t.match(g))return{red:parseInt(""+t[1]+t[2],16),green:parseInt(""+t[3]+t[4],16),blue:parseInt(""+t[5]+t[6],16)};if(t.match(y)){var n=parseFloat((parseInt(""+t[7]+t[8],16)/255).toFixed(2));return{red:parseInt(""+t[1]+t[2],16),green:parseInt(""+t[3]+t[4],16),blue:parseInt(""+t[5]+t[6],16),alpha:n}}if(t.match(v))return{red:parseInt(""+t[1]+t[1],16),green:parseInt(""+t[2]+t[2],16),blue:parseInt(""+t[3]+t[3],16)};if(t.match(m)){var r=parseFloat((parseInt(""+t[4]+t[4],16)/255).toFixed(2));return{red:parseInt(""+t[1]+t[1],16),green:parseInt(""+t[2]+t[2],16),blue:parseInt(""+t[3]+t[3],16),alpha:r}}var i=b.exec(t);if(i)return{red:parseInt(""+i[1],10),green:parseInt(""+i[2],10),blue:parseInt(""+i[3],10)};var o=_.exec(t);if(o)return{red:parseInt(""+o[1],10),green:parseInt(""+o[2],10),blue:parseInt(""+o[3],10),alpha:parseFloat(""+o[4])};var a=w.exec(t);if(a){var s="rgb("+d(parseInt(""+a[1],10),parseInt(""+a[2],10)/100,parseInt(""+a[3],10)/100)+")",u=b.exec(s);if(!u)throw new l(4,t,s);return{red:parseInt(""+u[1],10),green:parseInt(""+u[2],10),blue:parseInt(""+u[3],10)}}var c=E.exec(t);if(c){var h="rgb("+d(parseInt(""+c[1],10),parseInt(""+c[2],10)/100,parseInt(""+c[3],10)/100)+")",f=b.exec(h);if(!f)throw new l(4,t,h);return{red:parseInt(""+f[1],10),green:parseInt(""+f[2],10),blue:parseInt(""+f[3],10),alpha:parseFloat(""+c[4])}}throw new l(5)}function C(e){return function(e){var t,n=e.red/255,r=e.green/255,i=e.blue/255,o=Math.max(n,r,i),a=Math.min(n,r,i),s=(o+a)/2;if(o===a)return void 0!==e.alpha?{hue:0,saturation:0,lightness:s,alpha:e.alpha}:{hue:0,saturation:0,lightness:s};var u=o-a,c=s>.5?u/(2-o-a):u/(o+a);switch(o){case n:t=(r-i)/u+(r<i?6:0);break;case r:t=(i-n)/u+2;break;default:t=(n-r)/u+4}return t*=60,void 0!==e.alpha?{hue:t,saturation:c,lightness:s,alpha:e.alpha}:{hue:t,saturation:c,lightness:s}}(S(e))}var O=function(e){return 7===e.length&&e[1]===e[2]&&e[3]===e[4]&&e[5]===e[6]?"#"+e[1]+e[3]+e[5]:e};function T(e){var t=e.toString(16);return 1===t.length?"0"+t:t}function k(e){return T(Math.round(255*e))}function I(e,t,n){return O("#"+k(e)+k(t)+k(n))}function A(e,t,n){return d(e,t,n,I)}function N(e,t,n){if("number"===typeof e&&"number"===typeof t&&"number"===typeof n)return A(e,t,n);if("object"===typeof e&&void 0===t&&void 0===n)return A(e.hue,e.saturation,e.lightness);throw new l(1)}function R(e,t,n,r){if("number"===typeof e&&"number"===typeof t&&"number"===typeof n&&"number"===typeof r)return r>=1?A(e,t,n):"rgba("+d(e,t,n)+","+r+")";if("object"===typeof e&&void 0===t&&void 0===n&&void 0===r)return e.alpha>=1?A(e.hue,e.saturation,e.lightness):"rgba("+d(e.hue,e.saturation,e.lightness)+","+e.alpha+")";throw new l(2)}function P(e,t,n){if("number"===typeof e&&"number"===typeof t&&"number"===typeof n)return O("#"+T(e)+T(t)+T(n));if("object"===typeof e&&void 0===t&&void 0===n)return O("#"+T(e.red)+T(e.green)+T(e.blue));throw new l(6)}function x(e,t,n,r){if("string"===typeof e&&"number"===typeof t){var i=S(e);return"rgba("+i.red+","+i.green+","+i.blue+","+t+")"}if("number"===typeof e&&"number"===typeof t&&"number"===typeof n&&"number"===typeof r)return r>=1?P(e,t,n):"rgba("+e+","+t+","+n+","+r+")";if("object"===typeof e&&void 0===t&&void 0===n&&void 0===r)return e.alpha>=1?P(e.red,e.green,e.blue):"rgba("+e.red+","+e.green+","+e.blue+","+e.alpha+")";throw new l(7)}var M=function(e){return"number"===typeof e.red&&"number"===typeof e.green&&"number"===typeof e.blue&&("number"!==typeof e.alpha||"undefined"===typeof e.alpha)},L=function(e){return"number"===typeof e.red&&"number"===typeof e.green&&"number"===typeof e.blue&&"number"===typeof e.alpha},D=function(e){return"number"===typeof e.hue&&"number"===typeof e.saturation&&"number"===typeof e.lightness&&("number"!==typeof e.alpha||"undefined"===typeof e.alpha)},j=function(e){return"number"===typeof e.hue&&"number"===typeof e.saturation&&"number"===typeof e.lightness&&"number"===typeof e.alpha};function U(e){if("object"!==typeof e)throw new l(8);if(L(e))return x(e);if(M(e))return P(e);if(j(e))return R(e);if(D(e))return N(e);throw new l(8)}function F(e){return function e(t,n,r){return function(){var i=r.concat(Array.prototype.slice.call(arguments));return i.length>=n?t.apply(this,i):e(t,n,i)}}(e,e.length,[])}function H(e,t,n){return Math.max(e,Math.min(t,n))}function B(e,t){if("transparent"===t)return t;var n=C(t);return U(Object(r.a)({},n,{lightness:H(0,1,n.lightness-parseFloat(e))}))}var V=F(B)},function(e,t,n){"use strict";var r,i=n(12),o=(n(422),n(815),n(423),n(38)),a=n(2),s=n(34);n(51);(r=o.e).prototype.loadBundle=o.t,r.prototype.namedQuery=o.l;var u=n(1),c=n(35),l={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},h=function(e){function t(n,r,i){var o=e.call(this,r)||this;return Object.setPrototypeOf(o,t.prototype),o.code=n,o.details=i,o}return Object(u.__extends)(t,e),t}(Error);var f=function(){function e(e,t){var n=this;this.auth=null,this.messaging=null,this.auth=e.getImmediate({optional:!0}),this.messaging=t.getImmediate({optional:!0}),this.auth||e.get().then(function(e){return n.auth=e},function(){}),this.messaging||t.get().then(function(e){return n.messaging=e},function(){})}return e.prototype.getAuthToken=function(){return Object(u.__awaiter)(this,void 0,void 0,function(){var e;return Object(u.__generator)(this,function(t){switch(t.label){case 0:if(!this.auth)return[2,void 0];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this.auth.getToken()];case 2:return(e=t.sent())?[2,e.accessToken]:[2,void 0];case 3:return t.sent(),[2,void 0];case 4:return[2]}})})},e.prototype.getInstanceIdToken=function(){return Object(u.__awaiter)(this,void 0,void 0,function(){return Object(u.__generator)(this,function(e){switch(e.label){case 0:if(!this.messaging||!("Notification"in self)||"granted"!==Notification.permission)return[2,void 0];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.messaging.getToken()];case 2:return[2,e.sent()];case 3:return e.sent(),[2,void 0];case 4:return[2]}})})},e.prototype.getContext=function(){return Object(u.__awaiter)(this,void 0,void 0,function(){var e,t;return Object(u.__generator)(this,function(n){switch(n.label){case 0:return[4,this.getAuthToken()];case 1:return e=n.sent(),[4,this.getInstanceIdToken()];case 2:return t=n.sent(),[2,{authToken:e,instanceIdToken:t}]}})})},e}();function d(e,t){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=t(e[r]));return n}var p=function(){function e(){}return e.prototype.encode=function(e){var t=this;if(null==e)return null;if(e instanceof Number&&(e=e.valueOf()),"number"===typeof e&&isFinite(e))return e;if(!0===e||!1===e)return e;if("[object String]"===Object.prototype.toString.call(e))return e;if(e instanceof Date)return e.toISOString();if(Array.isArray(e))return e.map(function(e){return t.encode(e)});if("function"===typeof e||"object"===typeof e)return d(e,function(e){return t.encode(e)});throw new Error("Data cannot be encoded in JSON: "+e)},e.prototype.decode=function(e){var t=this;if(null==e)return e;if(e["@type"])switch(e["@type"]){case"type.googleapis.com/google.protobuf.Int64Value":case"type.googleapis.com/google.protobuf.UInt64Value":var n=Number(e.value);if(isNaN(n))throw new Error("Data cannot be decoded from JSON: "+e);return n;default:throw new Error("Data cannot be decoded from JSON: "+e)}return Array.isArray(e)?e.map(function(e){return t.decode(e)}):"function"===typeof e||"object"===typeof e?d(e,function(e){return t.decode(e)}):e},e}();var g=function(){function e(e,t,n,r,i,o){var a=this;void 0===i&&(i="us-central1"),this.app_=e,this.appCheckProvider=r,this.fetchImpl=o,this.serializer=new p,this.emulatorOrigin=null,this.INTERNAL={delete:function(){return Promise.resolve(a.deleteService())}},this.contextProvider=new f(t,n),this.cancelAllRequests=new Promise(function(e){a.deleteService=function(){return e()}});try{var s=new URL(i);this.customDomain=s.origin,this.region="us-central1"}catch(u){this.customDomain=null,this.region=i}}return Object.defineProperty(e.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),e.prototype._url=function(e){var t=this.app_.options.projectId;return null!==this.emulatorOrigin?this.emulatorOrigin+"/"+t+"/"+this.region+"/"+e:null!==this.customDomain?this.customDomain+"/"+e:"https://"+this.region+"-"+t+".cloudfunctions.net/"+e},e.prototype.useEmulator=function(e,t){this.emulatorOrigin="http://"+e+":"+t},e.prototype.useFunctionsEmulator=function(e){this.emulatorOrigin=e},e.prototype.httpsCallable=function(e,t){var n=this;return function(r){return n.call(e,r,t||{})}},e.prototype.postJSON=function(e,t,n){return Object(u.__awaiter)(this,void 0,void 0,function(){var r,i,o;return Object(u.__generator)(this,function(a){switch(a.label){case 0:return n["Content-Type"]="application/json",[4,this.getAppCheckToken()];case 1:null!==(r=a.sent())&&(n["X-Firebase-AppCheck"]=r),a.label=2;case 2:return a.trys.push([2,4,,5]),[4,this.fetchImpl(e,{method:"POST",body:JSON.stringify(t),headers:n})];case 3:return i=a.sent(),[3,5];case 4:return a.sent(),[2,{status:0,json:null}];case 5:o=null,a.label=6;case 6:return a.trys.push([6,8,,9]),[4,i.json()];case 7:return o=a.sent(),[3,9];case 8:return a.sent(),[3,9];case 9:return[2,{status:i.status,json:o}]}})})},e.prototype.getAppCheckToken=function(){return Object(u.__awaiter)(this,void 0,void 0,function(){var e;return Object(u.__generator)(this,function(t){switch(t.label){case 0:return(e=this.appCheckProvider.getImmediate({optional:!0}))?[4,e.getToken()]:[3,2];case 1:return[2,t.sent().token];case 2:return[2,null]}})})},e.prototype.call=function(e,t,n){return Object(u.__awaiter)(this,void 0,void 0,function(){var r,i,o,a,s,c,f,d,p,g,v;return Object(u.__generator)(this,function(u){switch(u.label){case 0:return r=this._url(e),t=this.serializer.encode(t),i={data:t},o={},[4,this.contextProvider.getContext()];case 1:return(a=u.sent()).authToken&&(o.Authorization="Bearer "+a.authToken),a.instanceIdToken&&(o["Firebase-Instance-ID-Token"]=a.instanceIdToken),s=n.timeout||7e4,c=function(e){var t,n=new Promise(function(n,r){t=setTimeout(function(){r(new h("deadline-exceeded","deadline-exceeded"))},e)});return{timer:t,promise:n}}(s),f=c.timer,d=c.promise,[4,Promise.race([y(f,this.postJSON(r,i,o)),d,y(f,this.cancelAllRequests)])];case 2:if(!(p=u.sent()))throw new h("cancelled","Firebase Functions instance was deleted.");if(g=function(e,t,n){var r=function(e){if(e>=200&&e<300)return"ok";switch(e){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}(e),i=r,o=void 0;try{var a=t&&t.error;if(a){var s=a.status;if("string"===typeof s){if(!l[s])return new h("internal","internal");r=l[s],i=s}var u=a.message;"string"===typeof u&&(i=u),void 0!==(o=a.details)&&(o=n.decode(o))}}catch(c){}return"ok"===r?null:new h(r,i,o)}(p.status,p.json,this.serializer))throw g;if(!p.json)throw new h("internal","Response is not valid JSON object.");if("undefined"===typeof(v=p.json.data)&&(v=p.json.result),"undefined"===typeof v)throw new h("internal","Response is missing data field.");return[2,{data:this.serializer.decode(v)}]}})})},e}();function y(e,t){return Object(u.__awaiter)(this,void 0,void 0,function(){var n;return Object(u.__generator)(this,function(r){switch(r.label){case 0:return[4,t];case 1:return n=r.sent(),clearTimeout(e),[2,n]}})})}var v="functions";!function(e,t){var n={Functions:g};e.INTERNAL.registerComponent(new c.Component(v,function(e,n){var r=n.instanceIdentifier,i=e.getProvider("app").getImmediate(),o=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal"),s=e.getProvider("messaging");return new g(i,o,s,a,r,t)},"PUBLIC").setServiceProps(n).setMultipleInstances(!0))}(i.default,fetch.bind(self)),i.default.registerVersion("@firebase/functions","0.6.16");var m,b=n(123),_="@firebase/installations",w="0.4.32",E=1e4,S="w:"+w,C="FIS_v2",O="https://firebaseinstallations.googleapis.com/v1",T=36e5,k=((m={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',m["not-registered"]="Firebase Installation is not registered.",m["installation-not-found"]="Firebase Installation not found.",m["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',m["app-offline"]="Could not process request. Application offline.",m["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",m),I=new a.ErrorFactory("installations","Installations",k);function A(e){return e instanceof a.FirebaseError&&e.code.includes("request-failed")}function N(e){var t=e.projectId;return O+"/projects/"+t+"/installations"}function R(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}function P(e,t){return Object(u.__awaiter)(this,void 0,void 0,function(){var n,r;return Object(u.__generator)(this,function(i){switch(i.label){case 0:return[4,t.json()];case 1:return n=i.sent(),r=n.error,[2,I.create("request-failed",{requestName:e,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})]}})})}function x(e){var t=e.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function M(e,t){var n=t.refreshToken,r=x(e);return r.append("Authorization",function(e){return C+" "+e}(n)),r}function L(e){return Object(u.__awaiter)(this,void 0,void 0,function(){var t;return Object(u.__generator)(this,function(n){switch(n.label){case 0:return[4,e()];case 1:return(t=n.sent()).status>=500&&t.status<600?[2,e()]:[2,t]}})})}function D(e,t){var n=t.fid;return Object(u.__awaiter)(this,void 0,void 0,function(){var t,r,i,o,a,s;return Object(u.__generator)(this,function(u){switch(u.label){case 0:return t=N(e),r=x(e),i={fid:n,authVersion:C,appId:e.appId,sdkVersion:S},o={method:"POST",headers:r,body:JSON.stringify(i)},[4,L(function(){return fetch(t,o)})];case 1:return(a=u.sent()).ok?[4,a.json()]:[3,3];case 2:return s=u.sent(),[2,{fid:s.fid||n,registrationStatus:2,refreshToken:s.refreshToken,authToken:R(s.authToken)}];case 3:return[4,P("Create Installation",a)];case 4:throw u.sent()}})})}function j(e){return new Promise(function(t){setTimeout(t,e)})}var U=/^[cdef][\w-]{21}$/,F="";function H(){try{var e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;var t=function(e){return(t=e,btoa(String.fromCharCode.apply(String,Object(u.__spreadArray)([],Object(u.__read)(t)))).replace(/\+/g,"-").replace(/\//g,"_")).substr(0,22);var t}(e);return U.test(t)?t:F}catch(n){return F}}function B(e){return e.appName+"!"+e.appId}var V=new Map;function q(e,t){var n=B(e);G(n,t),function(e,t){var n=W();n&&n.postMessage({key:e,fid:t});K()}(n,t)}function G(e,t){var n,r,i=V.get(e);if(i)try{for(var o=Object(u.__values)(i),a=o.next();!a.done;a=o.next()){(0,a.value)(t)}}catch(s){n={error:s}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}var z=null;function W(){return!z&&"BroadcastChannel"in self&&((z=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(e){G(e.data.key,e.data.fid)}),z}function K(){0===V.size&&z&&(z.close(),z=null)}var Y,Q,$="firebase-installations-database",X=1,J="firebase-installations-store",Z=null;function ee(){return Z||(Z=Object(b.openDb)($,X,function(e){switch(e.oldVersion){case 0:e.createObjectStore(J)}})),Z}function te(e,t){return Object(u.__awaiter)(this,void 0,void 0,function(){var n,r,i,o,a;return Object(u.__generator)(this,function(s){switch(s.label){case 0:return n=B(e),[4,ee()];case 1:return r=s.sent(),i=r.transaction(J,"readwrite"),[4,(o=i.objectStore(J)).get(n)];case 2:return a=s.sent(),[4,o.put(t,n)];case 3:return s.sent(),[4,i.complete];case 4:return s.sent(),a&&a.fid===t.fid||q(e,t.fid),[2,t]}})})}function ne(e){return Object(u.__awaiter)(this,void 0,void 0,function(){var t,n,r;return Object(u.__generator)(this,function(i){switch(i.label){case 0:return t=B(e),[4,ee()];case 1:return n=i.sent(),[4,(r=n.transaction(J,"readwrite")).objectStore(J).delete(t)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}})})}function re(e,t){return Object(u.__awaiter)(this,void 0,void 0,function(){var n,r,i,o,a,s;return Object(u.__generator)(this,function(u){switch(u.label){case 0:return n=B(e),[4,ee()];case 1:return r=u.sent(),i=r.transaction(J,"readwrite"),[4,(o=i.objectStore(J)).get(n)];case 2:return a=u.sent(),void 0!==(s=t(a))?[3,4]:[4,o.delete(n)];case 3:return u.sent(),[3,6];case 4:return[4,o.put(s,n)];case 5:u.sent(),u.label=6;case 6:return[4,i.complete];case 7:return u.sent(),!s||a&&a.fid===s.fid||q(e,s.fid),[2,s]}})})}function ie(e){return Object(u.__awaiter)(this,void 0,void 0,function(){var t,n,r;return Object(u.__generator)(this,function(i){switch(i.label){case 0:return[4,re(e,function(n){var r=function(e){return se(e||{fid:H(),registrationStatus:0})}(n),i=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine){var n=Promise.reject(I.create("app-offline"));return{installationEntry:t,registrationPromise:n}}var r={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},i=function(e,t){return Object(u.__awaiter)(this,void 0,void 0,function(){var n,r;return Object(u.__generator)(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,7]),[4,D(e,t)];case 1:return n=i.sent(),[2,te(e,n)];case 2:return A(r=i.sent())&&409===r.customData.serverCode?[4,ne(e)]:[3,4];case 3:return i.sent(),[3,6];case 4:return[4,te(e,{fid:t.fid,registrationStatus:0})];case 5:i.sent(),i.label=6;case 6:throw r;case 7:return[2]}})})}(e,r);return{installationEntry:r,registrationPromise:i}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:oe(e)}:{installationEntry:t}}(e,r);return t=i.registrationPromise,i.installationEntry})];case 1:return(n=i.sent()).fid!==F?[3,3]:(r={},[4,t]);case 2:return[2,(r.installationEntry=i.sent(),r)];case 3:return[2,{installationEntry:n,registrationPromise:t}]}})})}function oe(e){return Object(u.__awaiter)(this,void 0,void 0,function(){var t,n,r,i;return Object(u.__generator)(this,function(o){switch(o.label){case 0:return[4,ae(e)];case 1:t=o.sent(),o.label=2;case 2:return 1!==t.registrationStatus?[3,5]:[4,j(100)];case 3:return o.sent(),[4,ae(e)];case 4:return t=o.sent(),[3,2];case 5:return 0!==t.registrationStatus?[3,7]:[4,ie(e)];case 6:return n=o.sent(),r=n.installationEntry,(i=n.registrationPromise)?[2,i]:[2,r];case 7:return[2,t]}})})}function ae(e){return re(e,function(e){if(!e)throw I.create("installation-not-found");return se(e)})}function se(e){return 1===(t=e).registrationStatus&&t.registrationTime+E<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}function ue(e,t){var n=e.appConfig,r=e.platformLoggerProvider;return Object(u.__awaiter)(this,void 0,void 0,function(){var e,i,o,a,s,c,l;return Object(u.__generator)(this,function(u){switch(u.label){case 0:return e=function(e,t){var n=t.fid;return N(e)+"/"+n+"/authTokens:generate"}(n,t),i=M(n,t),(o=r.getImmediate({optional:!0}))&&i.append("x-firebase-client",o.getPlatformInfoString()),a={installation:{sdkVersion:S}},s={method:"POST",headers:i,body:JSON.stringify(a)},[4,L(function(){return fetch(e,s)})];case 1:return(c=u.sent()).ok?[4,c.json()]:[3,3];case 2:return l=u.sent(),[2,R(l)];case 3:return[4,P("Generate Auth Token",c)];case 4:throw u.sent()}})})}function ce(e,t){return void 0===t&&(t=!1),Object(u.__awaiter)(this,void 0,void 0,function(){var n,r,i;return Object(u.__generator)(this,function(o){switch(o.label){case 0:return[4,re(e.appConfig,function(r){if(!he(r))throw I.create("not-registered");var i,o=r.authToken;if(t||2!==(i=o).requestStatus||function(e){var t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+T}(i)){if(1===o.requestStatus)return n=function(e,t){return Object(u.__awaiter)(this,void 0,void 0,function(){var n,r;return Object(u.__generator)(this,function(i){switch(i.label){case 0:return[4,le(e.appConfig)];case 1:n=i.sent(),i.label=2;case 2:return 1!==n.authToken.requestStatus?[3,5]:[4,j(100)];case 3:return i.sent(),[4,le(e.appConfig)];case 4:return n=i.sent(),[3,2];case 5:return 0===(r=n.authToken).requestStatus?[2,ce(e,t)]:[2,r]}})})}(e,t),r;if(!navigator.onLine)throw I.create("app-offline");var a=function(e){var t={requestStatus:1,requestTime:Date.now()};return Object(u.__assign)(Object(u.__assign)({},e),{authToken:t})}(r);return n=function(e,t){return Object(u.__awaiter)(this,void 0,void 0,function(){var n,r,i;return Object(u.__generator)(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,8]),[4,ue(e,t)];case 1:return n=o.sent(),i=Object(u.__assign)(Object(u.__assign)({},t),{authToken:n}),[4,te(e.appConfig,i)];case 2:return o.sent(),[2,n];case 3:return!A(r=o.sent())||401!==r.customData.serverCode&&404!==r.customData.serverCode?[3,5]:[4,ne(e.appConfig)];case 4:return o.sent(),[3,7];case 5:return i=Object(u.__assign)(Object(u.__assign)({},t),{authToken:{requestStatus:0}}),[4,te(e.appConfig,i)];case 6:o.sent(),o.label=7;case 7:throw r;case 8:return[2]}})})}(e,a),a}return r})];case 1:return r=o.sent(),n?[4,n]:[3,3];case 2:return i=o.sent(),[3,4];case 3:i=r.authToken,o.label=4;case 4:return[2,i]}})})}function le(e){return re(e,function(e){if(!he(e))throw I.create("not-registered");var t,n=e.authToken;return 1===(t=n).requestStatus&&t.requestTime+E<Date.now()?Object(u.__assign)(Object(u.__assign)({},e),{authToken:{requestStatus:0}}):e})}function he(e){return void 0!==e&&2===e.registrationStatus}function fe(e){return Object(u.__awaiter)(this,void 0,void 0,function(){var t;return Object(u.__generator)(this,function(n){switch(n.label){case 0:return[4,ie(e)];case 1:return(t=n.sent().registrationPromise)?[4,t]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}})})}function de(e,t){return Object(u.__awaiter)(this,void 0,void 0,function(){var n,r,i,o;return Object(u.__generator)(this,function(a){switch(a.label){case 0:return n=function(e,t){var n=t.fid;return N(e)+"/"+n}(e,t),r=M(e,t),i={method:"DELETE",headers:r},[4,L(function(){return fetch(n,i)})];case 1:return(o=a.sent()).ok?[3,3]:[4,P("Delete Installation",o)];case 2:throw a.sent();case 3:return[2]}})})}function pe(e,t){var n=e.appConfig;return function(e,t){W();var n=B(e),r=V.get(n);r||(r=new Set,V.set(n,r)),r.add(t)}(n,t),function(){!function(e,t){var n=B(e),r=V.get(n);r&&(r.delete(t),0===r.size&&V.delete(n),K())}(n,t)}}function ge(e){return I.create("missing-app-config-values",{valueName:e})}(Y=i.default).INTERNAL.registerComponent(new c.Component("installations",function(e){var t=e.getProvider("app").getImmediate(),n={appConfig:function(e){var t,n;if(!e||!e.options)throw ge("App Configuration");if(!e.name)throw ge("App Name");try{for(var r=Object(u.__values)(["projectId","apiKey","appId"]),i=r.next();!i.done;i=r.next()){var o=i.value;if(!e.options[o])throw ge(o)}}catch(a){t={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t),platformLoggerProvider:e.getProvider("platform-logger")};return{app:t,getId:function(){return function(e){return Object(u.__awaiter)(this,void 0,void 0,function(){var t,n,r;return Object(u.__generator)(this,function(i){switch(i.label){case 0:return[4,ie(e.appConfig)];case 1:return t=i.sent(),n=t.installationEntry,(r=t.registrationPromise)?r.catch(console.error):ce(e).catch(console.error),[2,n.fid]}})})}(n)},getToken:function(e){return function(e,t){return void 0===t&&(t=!1),Object(u.__awaiter)(this,void 0,void 0,function(){return Object(u.__generator)(this,function(n){switch(n.label){case 0:return[4,fe(e.appConfig)];case 1:return n.sent(),[4,ce(e,t)];case 2:return[2,n.sent().token]}})})}(n,e)},delete:function(){return function(e){return Object(u.__awaiter)(this,void 0,void 0,function(){var t,n;return Object(u.__generator)(this,function(r){switch(r.label){case 0:return[4,re(t=e.appConfig,function(e){if(!e||0!==e.registrationStatus)return e})];case 1:if(!(n=r.sent()))return[3,6];if(1!==n.registrationStatus)return[3,2];throw I.create("delete-pending-registration");case 2:if(2!==n.registrationStatus)return[3,6];if(navigator.onLine)return[3,3];throw I.create("app-offline");case 3:return[4,de(t,n)];case 4:return r.sent(),[4,ne(t)];case 5:r.sent(),r.label=6;case 6:return[2]}})})}(n)},onIdChange:function(e){return pe(n,e)}}},"PUBLIC")),Y.registerVersion(_,w);var ye,ve=((Q={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',Q["only-available-in-window"]="This method is available in a Window context.",Q["only-available-in-sw"]="This method is available in a service worker context.",Q["permission-default"]="The notification permission was not granted and dismissed instead.",Q["permission-blocked"]="The notification permission was not granted and blocked instead.",Q["unsupported-browser"]="This browser doesn't support the API's required to use the firebase SDK.",Q["failed-service-worker-registration"]="We are unable to register the default service worker. {$browserErrorMessage}",Q["token-subscribe-failed"]="A problem occurred while subscribing the user to FCM: {$errorInfo}",Q["token-subscribe-no-token"]="FCM returned no token when subscribing the user to push.",Q["token-unsubscribe-failed"]="A problem occurred while unsubscribing the user from FCM: {$errorInfo}",Q["token-update-failed"]="A problem occurred while updating the user from FCM: {$errorInfo}",Q["token-update-no-token"]="FCM returned no token when updating the user to push.",Q["use-sw-after-get-token"]="The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",Q["invalid-sw-registration"]="The input to useServiceWorker() must be a ServiceWorkerRegistration.",Q["invalid-bg-handler"]="The input to setBackgroundMessageHandler() must be a function.",Q["invalid-vapid-key"]="The public VAPID key must be a string.",Q["use-vapid-key-after-get-token"]="The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used.",Q),me=new a.ErrorFactory("messaging","Messaging",ve),be="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",_e="https://fcmregistrations.googleapis.com/v1",we="FCM_MSG",Ee="google.c.a.c_id";function Se(e){var t=new Uint8Array(e);return btoa(String.fromCharCode.apply(String,Object(u.__spreadArray)([],Object(u.__read)(t)))).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Ce(e){for(var t=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(t),r=new Uint8Array(n.length),i=0;i<n.length;++i)r[i]=n.charCodeAt(i);return r}!function(e){e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked"}(ye||(ye={}));var Oe="fcm_token_details_db",Te=5,ke="fcm_token_object_Store";function Ie(e){return Object(u.__awaiter)(this,void 0,void 0,function(){var t,n,r=this;return Object(u.__generator)(this,function(i){switch(i.label){case 0:return"databases"in indexedDB?[4,indexedDB.databases()]:[3,2];case 1:if(t=i.sent(),!t.map(function(e){return e.name}).includes(Oe))return[2,null];i.label=2;case 2:return n=null,[4,Object(b.openDb)(Oe,Te,function(t){return Object(u.__awaiter)(r,void 0,void 0,function(){var r,i,o,a;return Object(u.__generator)(this,function(s){switch(s.label){case 0:return t.oldVersion<2?[2]:t.objectStoreNames.contains(ke)?[4,(r=t.transaction.objectStore(ke)).index("fcmSenderId").get(e)]:[2];case 1:return i=s.sent(),[4,r.clear()];case 2:if(s.sent(),!i)return[2];if(2===t.oldVersion){if(!(o=i).auth||!o.p256dh||!o.endpoint)return[2];n={token:o.fcmToken,createTime:null!==(a=o.createTime)&&void 0!==a?a:Date.now(),subscriptionOptions:{auth:o.auth,p256dh:o.p256dh,endpoint:o.endpoint,swScope:o.swScope,vapidKey:"string"===typeof o.vapidKey?o.vapidKey:Se(o.vapidKey)}}}else 3===t.oldVersion?n={token:(o=i).fcmToken,createTime:o.createTime,subscriptionOptions:{auth:Se(o.auth),p256dh:Se(o.p256dh),endpoint:o.endpoint,swScope:o.swScope,vapidKey:Se(o.vapidKey)}}:4===t.oldVersion&&(n={token:(o=i).fcmToken,createTime:o.createTime,subscriptionOptions:{auth:Se(o.auth),p256dh:Se(o.p256dh),endpoint:o.endpoint,swScope:o.swScope,vapidKey:Se(o.vapidKey)}});return[2]}})})})];case 3:return i.sent().close(),[4,Object(b.deleteDb)(Oe)];case 4:return i.sent(),[4,Object(b.deleteDb)("fcm_vapid_details_db")];case 5:return i.sent(),[4,Object(b.deleteDb)("undefined")];case 6:return i.sent(),[2,Ae(n)?n:null]}})})}function Ae(e){if(!e||!e.subscriptionOptions)return!1;var t=e.subscriptionOptions;return"number"===typeof e.createTime&&e.createTime>0&&"string"===typeof e.token&&e.token.length>0&&"string"===typeof t.auth&&t.auth.length>0&&"string"===typeof t.p256dh&&t.p256dh.length>0&&"string"===typeof t.endpoint&&t.endpoint.length>0&&"string"===typeof t.swScope&&t.swScope.length>0&&"string"===typeof t.vapidKey&&t.vapidKey.length>0}var Ne="firebase-messaging-database",Re=1,Pe="firebase-messaging-store",xe=null;function Me(){return xe||(xe=Object(b.openDb)(Ne,Re,function(e){switch(e.oldVersion){case 0:e.createObjectStore(Pe)}})),xe}function Le(e){return Object(u.__awaiter)(this,void 0,void 0,function(){var t,n,r;return Object(u.__generator)(this,function(i){switch(i.label){case 0:return t=Ue(e),[4,Me()];case 1:return[4,i.sent().transaction(Pe).objectStore(Pe).get(t)];case 2:return(n=i.sent())?[2,n]:[3,3];case 3:return[4,Ie(e.appConfig.senderId)];case 4:return(r=i.sent())?[4,De(e,r)]:[3,6];case 5:return i.sent(),[2,r];case 6:return[2]}})})}function De(e,t){return Object(u.__awaiter)(this,void 0,void 0,function(){var n,r,i;return Object(u.__generator)(this,function(o){switch(o.label){case 0:return n=Ue(e),[4,Me()];case 1:return r=o.sent(),[4,(i=r.transaction(Pe,"readwrite")).objectStore(Pe).put(t,n)];case 2:return o.sent(),[4,i.complete];case 3:return o.sent(),[2,t]}})})}function je(e){return Object(u.__awaiter)(this,void 0,void 0,function(){var t,n,r;return Object(u.__generator)(this,function(i){switch(i.label){case 0:return t=Ue(e),[4,Me()];case 1:return n=i.sent(),[4,(r=n.transaction(Pe,"readwrite")).objectStore(Pe).delete(t)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}})})}function Ue(e){return e.appConfig.appId}function Fe(e,t){return Object(u.__awaiter)(this,void 0,void 0,function(){var n,r,i,o,a,s;return Object(u.__generator)(this,function(u){switch(u.label){case 0:return[4,qe(e)];case 1:n=u.sent(),r=Ge(t),i={method:"POST",headers:n,body:JSON.stringify(r)},u.label=2;case 2:return u.trys.push([2,5,,6]),[4,fetch(Ve(e.appConfig),i)];case 3:return[4,u.sent().json()];case 4:return o=u.sent(),[3,6];case 5:throw a=u.sent(),me.create("token-subscribe-failed",{errorInfo:a});case 6:if(o.error)throw s=o.error.message,me.create("token-subscribe-failed",{errorInfo:s});if(!o.token)throw me.create("token-subscribe-no-token");return[2,o.token]}})})}function He(e,t){return Object(u.__awaiter)(this,void 0,void 0,function(){var n,r,i,o,a,s;return Object(u.__generator)(this,function(u){switch(u.label){case 0:return[4,qe(e)];case 1:n=u.sent(),r=Ge(t.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)},u.label=2;case 2:return u.trys.push([2,5,,6]),[4,fetch(Ve(e.appConfig)+"/"+t.token,i)];case 3:return[4,u.sent().json()];case 4:return o=u.sent(),[3,6];case 5:throw a=u.sent(),me.create("token-update-failed",{errorInfo:a});case 6:if(o.error)throw s=o.error.message,me.create("token-update-failed",{errorInfo:s});if(!o.token)throw me.create("token-update-no-token");return[2,o.token]}})})}function Be(e,t){return Object(u.__awaiter)(this,void 0,void 0,function(){var n,r,i,o,a;return Object(u.__generator)(this,function(s){switch(s.label){case 0:return[4,qe(e)];case 1:n=s.sent(),r={method:"DELETE",headers:n},s.label=2;case 2:return s.trys.push([2,5,,6]),[4,fetch(Ve(e.appConfig)+"/"+t,r)];case 3:return[4,s.sent().json()];case 4:if((i=s.sent()).error)throw o=i.error.message,me.create("token-unsubscribe-failed",{errorInfo:o});return[3,6];case 5:throw a=s.sent(),me.create("token-unsubscribe-failed",{errorInfo:a});case 6:return[2]}})})}function Ve(e){var t=e.projectId;return _e+"/projects/"+t+"/registrations"}function qe(e){var t=e.appConfig,n=e.installations;return Object(u.__awaiter)(this,void 0,void 0,function(){var e;return Object(u.__generator)(this,function(r){switch(r.label){case 0:return[4,n.getToken()];case 1:return e=r.sent(),[2,new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":"FIS "+e})]}})})}function Ge(e){var t=e.p256dh,n=e.auth,r=e.endpoint,i=e.vapidKey,o={web:{endpoint:r,auth:n,p256dh:t}};return i!==be&&(o.web.applicationPubKey=i),o}var ze=6048e5;function We(e,t,n){return Object(u.__awaiter)(this,void 0,void 0,function(){var r,i,o,a;return Object(u.__generator)(this,function(s){switch(s.label){case 0:if("granted"!==Notification.permission)throw me.create("permission-blocked");return[4,$e(t,n)];case 1:return r=s.sent(),[4,Le(e)];case 2:return i=s.sent(),o={vapidKey:n,swScope:t.scope,endpoint:r.endpoint,auth:Se(r.getKey("auth")),p256dh:Se(r.getKey("p256dh"))},i?[3,3]:[2,Qe(e,o)];case 3:if(function(e,t){var n=t.vapidKey===e.vapidKey,r=t.endpoint===e.endpoint,i=t.auth===e.auth,o=t.p256dh===e.p256dh;return n&&r&&i&&o}(i.subscriptionOptions,o))return[3,8];s.label=4;case 4:return s.trys.push([4,6,,7]),[4,Be(e,i.token)];case 5:return s.sent(),[3,7];case 6:return a=s.sent(),console.warn(a),[3,7];case 7:return[2,Qe(e,o)];case 8:return Date.now()>=i.createTime+ze?[2,Ye({token:i.token,createTime:Date.now(),subscriptionOptions:o},e,t)]:[2,i.token];case 9:return[2]}})})}function Ke(e,t){return Object(u.__awaiter)(this,void 0,void 0,function(){var n,r;return Object(u.__generator)(this,function(i){switch(i.label){case 0:return[4,Le(e)];case 1:return(n=i.sent())?[4,Be(e,n.token)]:[3,4];case 2:return i.sent(),[4,je(e)];case 3:i.sent(),i.label=4;case 4:return[4,t.pushManager.getSubscription()];case 5:return(r=i.sent())?[2,r.unsubscribe()]:[2,!0]}})})}function Ye(e,t,n){return Object(u.__awaiter)(this,void 0,void 0,function(){var r,i,o;return Object(u.__generator)(this,function(a){switch(a.label){case 0:return a.trys.push([0,3,,5]),[4,He(t,e)];case 1:return r=a.sent(),i=Object(u.__assign)(Object(u.__assign)({},e),{token:r,createTime:Date.now()}),[4,De(t,i)];case 2:return a.sent(),[2,r];case 3:return o=a.sent(),[4,Ke(t,n)];case 4:throw a.sent(),o;case 5:return[2]}})})}function Qe(e,t){return Object(u.__awaiter)(this,void 0,void 0,function(){var n,r;return Object(u.__generator)(this,function(i){switch(i.label){case 0:return[4,Fe(e,t)];case 1:return n=i.sent(),r={token:n,createTime:Date.now(),subscriptionOptions:t},[4,De(e,r)];case 2:return i.sent(),[2,r.token]}})})}function $e(e,t){return Object(u.__awaiter)(this,void 0,void 0,function(){var n;return Object(u.__generator)(this,function(r){switch(r.label){case 0:return[4,e.pushManager.getSubscription()];case 1:return(n=r.sent())?[2,n]:[2,e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Ce(t)})]}})})}function Xe(e){return"object"===typeof e&&!!e&&Ee in e}function Je(e){return new Promise(function(t){setTimeout(t,e)})}var Ze=function(){function e(e){var t=this;this.firebaseDependencies=e,this.isOnBackgroundMessageUsed=null,this.vapidKey=null,this.bgMessageHandler=null,self.addEventListener("push",function(e){e.waitUntil(t.onPush(e))}),self.addEventListener("pushsubscriptionchange",function(e){e.waitUntil(t.onSubChange(e))}),self.addEventListener("notificationclick",function(e){e.waitUntil(t.onNotificationClick(e))})}return Object.defineProperty(e.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),e.prototype.setBackgroundMessageHandler=function(e){if(this.isOnBackgroundMessageUsed=!1,!e||"function"!==typeof e)throw me.create("invalid-bg-handler");this.bgMessageHandler=e},e.prototype.onBackgroundMessage=function(e){var t=this;return this.isOnBackgroundMessageUsed=!0,this.bgMessageHandler=e,function(){t.bgMessageHandler=null}},e.prototype.getToken=function(){var e,t;return Object(u.__awaiter)(this,void 0,void 0,function(){var n;return Object(u.__generator)(this,function(r){switch(r.label){case 0:return this.vapidKey?[3,2]:[4,Le(this.firebaseDependencies)];case 1:n=r.sent(),this.vapidKey=null!==(t=null===(e=null===n||void 0===n?void 0:n.subscriptionOptions)||void 0===e?void 0:e.vapidKey)&&void 0!==t?t:be,r.label=2;case 2:return[2,We(this.firebaseDependencies,self.registration,this.vapidKey)]}})})},e.prototype.deleteToken=function(){return Ke(this.firebaseDependencies,self.registration)},e.prototype.requestPermission=function(){throw me.create("only-available-in-window")},e.prototype.usePublicVapidKey=function(e){if(null!==this.vapidKey)throw me.create("use-vapid-key-after-get-token");if("string"!==typeof e||0===e.length)throw me.create("invalid-vapid-key");this.vapidKey=e},e.prototype.useServiceWorker=function(){throw me.create("only-available-in-window")},e.prototype.onMessage=function(){throw me.create("only-available-in-window")},e.prototype.onTokenRefresh=function(){throw me.create("only-available-in-window")},e.prototype.onPush=function(e){return Object(u.__awaiter)(this,void 0,void 0,function(){var t,n,r,i;return Object(u.__generator)(this,function(o){switch(o.label){case 0:return(t=function(e){var t=e.data;if(!t)return null;try{return t.json()}catch(n){return null}}(e))?[4,rt()]:(console.debug("FirebaseMessaging: failed to get parsed MessagePayload from the PushEvent. Skip handling the push."),[2]);case 1:return function(e){return e.some(function(e){return"visible"===e.visibilityState&&!e.url.startsWith("chrome-extension://")})}(n=o.sent())?[2,nt(n,t)]:(r=!1,t.notification?[4,it(et(t))]:[3,3]);case 2:o.sent(),r=!0,o.label=3;case 3:return!0===r&&!1===this.isOnBackgroundMessageUsed?[2]:(this.bgMessageHandler&&(i=function(e){var t={from:e.from,collapseKey:e.collapse_key,messageId:e.fcm_message_id};return function(e,t){if(t.notification){e.notification={};var n=t.notification.title;n&&(e.notification.title=n);var r=t.notification.body;r&&(e.notification.body=r);var i=t.notification.image;i&&(e.notification.image=i)}}(t,e),function(e,t){t.data&&(e.data=t.data)}(t,e),function(e,t){if(t.fcmOptions){e.fcmOptions={};var n=t.fcmOptions.link;n&&(e.fcmOptions.link=n);var r=t.fcmOptions.analytics_label;r&&(e.fcmOptions.analyticsLabel=r)}}(t,e),t}(t),"function"===typeof this.bgMessageHandler?this.bgMessageHandler(i):this.bgMessageHandler.next(i)),[4,Je(1e3)]);case 4:return o.sent(),[2]}})})},e.prototype.onSubChange=function(e){var t,n;return Object(u.__awaiter)(this,void 0,void 0,function(){var r;return Object(u.__generator)(this,function(i){switch(i.label){case 0:return e.newSubscription?[3,2]:[4,Ke(this.firebaseDependencies,self.registration)];case 1:return i.sent(),[2];case 2:return[4,Le(this.firebaseDependencies)];case 3:return r=i.sent(),[4,Ke(this.firebaseDependencies,self.registration)];case 4:return i.sent(),[4,We(this.firebaseDependencies,self.registration,null!==(n=null===(t=null===r||void 0===r?void 0:r.subscriptionOptions)||void 0===t?void 0:t.vapidKey)&&void 0!==n?n:be)];case 5:return i.sent(),[2]}})})},e.prototype.onNotificationClick=function(e){var t,n;return Object(u.__awaiter)(this,void 0,void 0,function(){var r,i,o,a,s;return Object(u.__generator)(this,function(u){switch(u.label){case 0:return(r=null===(n=null===(t=e.notification)||void 0===t?void 0:t.data)||void 0===n?void 0:n[we])?e.action?[2]:(e.stopImmediatePropagation(),e.notification.close(),(i=function(e){var t,n,r,i=null!==(n=null===(t=e.fcmOptions)||void 0===t?void 0:t.link)&&void 0!==n?n:null===(r=e.notification)||void 0===r?void 0:r.click_action;if(i)return i;return Xe(e.data)?self.location.origin:null}(r))?(o=new URL(i,self.location.href),a=new URL(self.location.origin),o.host!==a.host?[2]:[4,tt(o)]):[2]):[2];case 1:return(s=u.sent())?[3,4]:[4,self.clients.openWindow(i)];case 2:return s=u.sent(),[4,Je(3e3)];case 3:return u.sent(),[3,6];case 4:return[4,s.focus()];case 5:s=u.sent(),u.label=6;case 6:return s?(r.messageType=ye.NOTIFICATION_CLICKED,r.isFirebaseMessaging=!0,[2,s.postMessage(r)]):[2]}})})},e}();function et(e){var t,n=Object(u.__assign)({},e.notification);return n.data=((t={})[we]=e,t),n}function tt(e){return Object(u.__awaiter)(this,void 0,void 0,function(){var t,n,r,i,o,a,s;return Object(u.__generator)(this,function(c){switch(c.label){case 0:return[4,rt()];case 1:t=c.sent();try{for(n=Object(u.__values)(t),r=n.next();!r.done;r=n.next())if(i=r.value,o=new URL(i.url,self.location.href),e.host===o.host)return[2,i]}catch(l){a={error:l}}finally{try{r&&!r.done&&(s=n.return)&&s.call(n)}finally{if(a)throw a.error}}return[2,null]}})})}function nt(e,t){var n,r;t.isFirebaseMessaging=!0,t.messageType=ye.PUSH_RECEIVED;try{for(var i=Object(u.__values)(e),o=i.next();!o.done;o=i.next()){o.value.postMessage(t)}}catch(a){n={error:a}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}function rt(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function it(e){var t,n=e.actions,r=Notification.maxActions;return n&&r&&n.length>r&&console.warn("This browser only supports "+r+" actions. The remaining actions will not be displayed."),self.registration.showNotification(null!==(t=e.title)&&void 0!==t?t:"",e)}var ot=function(){function e(e){var t=this;this.firebaseDependencies=e,this.vapidKey=null,this.onMessageCallback=null,navigator.serviceWorker.addEventListener("message",function(e){return t.messageEventListener(e)})}return Object.defineProperty(e.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),e.prototype.messageEventListener=function(e){return Object(u.__awaiter)(this,void 0,void 0,function(){var t,n;return Object(u.__generator)(this,function(r){switch(r.label){case 0:return(t=e.data).isFirebaseMessaging?(this.onMessageCallback&&t.messageType===ye.PUSH_RECEIVED&&("function"===typeof this.onMessageCallback?this.onMessageCallback(function(e){return delete e.messageType,delete e.isFirebaseMessaging,e}(Object.assign({},t))):this.onMessageCallback.next(Object.assign({},t))),Xe(n=t.data)&&"1"===n["google.c.a.e"]?[4,this.logEvent(t.messageType,n)]:[3,2]):[2];case 1:r.sent(),r.label=2;case 2:return[2]}})})},e.prototype.getVapidKey=function(){return this.vapidKey},e.prototype.getSwReg=function(){return this.swRegistration},e.prototype.getToken=function(e){return Object(u.__awaiter)(this,void 0,void 0,function(){return Object(u.__generator)(this,function(t){switch(t.label){case 0:return"default"!==Notification.permission?[3,2]:[4,Notification.requestPermission()];case 1:t.sent(),t.label=2;case 2:if("granted"!==Notification.permission)throw me.create("permission-blocked");return[4,this.updateVapidKey(null===e||void 0===e?void 0:e.vapidKey)];case 3:return t.sent(),[4,this.updateSwReg(null===e||void 0===e?void 0:e.serviceWorkerRegistration)];case 4:return t.sent(),[2,We(this.firebaseDependencies,this.swRegistration,this.vapidKey)]}})})},e.prototype.updateVapidKey=function(e){return Object(u.__awaiter)(this,void 0,void 0,function(){return Object(u.__generator)(this,function(t){return e?this.vapidKey=e:this.vapidKey||(this.vapidKey=be),[2]})})},e.prototype.updateSwReg=function(e){return Object(u.__awaiter)(this,void 0,void 0,function(){return Object(u.__generator)(this,function(t){switch(t.label){case 0:return e||this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:t.sent(),t.label=2;case 2:if(!e&&this.swRegistration)return[2];if(!(e instanceof ServiceWorkerRegistration))throw me.create("invalid-sw-registration");return this.swRegistration=e,[2]}})})},e.prototype.registerDefaultSw=function(){return Object(u.__awaiter)(this,void 0,void 0,function(){var e,t;return Object(u.__generator)(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),e=this,[4,navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/firebase-cloud-messaging-push-scope"})];case 1:return e.swRegistration=n.sent(),this.swRegistration.update().catch(function(){}),[3,3];case 2:throw t=n.sent(),me.create("failed-service-worker-registration",{browserErrorMessage:t.message});case 3:return[2]}})})},e.prototype.deleteToken=function(){return Object(u.__awaiter)(this,void 0,void 0,function(){return Object(u.__generator)(this,function(e){switch(e.label){case 0:return this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:e.sent(),e.label=2;case 2:return[2,Ke(this.firebaseDependencies,this.swRegistration)]}})})},e.prototype.requestPermission=function(){return Object(u.__awaiter)(this,void 0,void 0,function(){var e;return Object(u.__generator)(this,function(t){switch(t.label){case 0:return"granted"===Notification.permission?[2]:[4,Notification.requestPermission()];case 1:if("granted"===(e=t.sent()))return[2];throw"denied"===e?me.create("permission-blocked"):me.create("permission-default")}})})},e.prototype.usePublicVapidKey=function(e){if(null!==this.vapidKey)throw me.create("use-vapid-key-after-get-token");if("string"!==typeof e||0===e.length)throw me.create("invalid-vapid-key");this.vapidKey=e},e.prototype.useServiceWorker=function(e){if(!(e instanceof ServiceWorkerRegistration))throw me.create("invalid-sw-registration");if(this.swRegistration)throw me.create("use-sw-after-get-token");this.swRegistration=e},e.prototype.onMessage=function(e){var t=this;return this.onMessageCallback=e,function(){t.onMessageCallback=null}},e.prototype.setBackgroundMessageHandler=function(){throw me.create("only-available-in-sw")},e.prototype.onBackgroundMessage=function(){throw me.create("only-available-in-sw")},e.prototype.onTokenRefresh=function(){return function(){}},e.prototype.logEvent=function(e,t){return Object(u.__awaiter)(this,void 0,void 0,function(){var n;return Object(u.__generator)(this,function(r){switch(r.label){case 0:return n=function(e){switch(e){case ye.NOTIFICATION_CLICKED:return"notification_open";case ye.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(e),[4,this.firebaseDependencies.analyticsProvider.get()];case 1:return r.sent().logEvent(n,{message_id:t[Ee],message_name:t["google.c.a.c_l"],message_time:t["google.c.a.ts"],message_device_time:Math.floor(Date.now()/1e3)}),[2]}})})},e}();function at(e){return me.create("missing-app-config-values",{valueName:e})}var st={isSupported:ut};function ut(){return self&&"ServiceWorkerGlobalScope"in self?"indexedDB"in self&&null!==indexedDB&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey"):"indexedDB"in window&&null!==indexedDB&&navigator.cookieEnabled&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}i.default.INTERNAL.registerComponent(new c.Component("messaging",function(e){var t=e.getProvider("app").getImmediate(),n={app:t,appConfig:function(e){var t,n;if(!e||!e.options)throw at("App Configuration Object");if(!e.name)throw at("App Name");var r=e.options;try{for(var i=Object(u.__values)(["projectId","apiKey","appId","messagingSenderId"]),o=i.next();!o.done;o=i.next()){var a=o.value;if(!r[a])throw at(a)}}catch(s){t={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return{appName:e.name,projectId:r.projectId,apiKey:r.apiKey,appId:r.appId,senderId:r.messagingSenderId}}(t),installations:e.getProvider("installations").getImmediate(),analyticsProvider:e.getProvider("analytics-internal")};if(!ut())throw me.create("unsupported-browser");return self&&"ServiceWorkerGlobalScope"in self?new Ze(n):new ot(n)},"PUBLIC").setServiceProps(st));var ct="firebasestorage.googleapis.com",lt="storageBucket",ht=12e4,ft=6e5,dt=function(e){function t(n,r){var i=e.call(this,pt(n),"Firebase Storage: "+r+" ("+pt(n)+")")||this;return i.customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(i,t.prototype),i}return Object(u.__extends)(t,e),t.prototype._codeEquals=function(e){return pt(e)===this.code},Object.defineProperty(t.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=this._baseMessage+"\n"+this.customData.serverResponse:this.message=this._baseMessage},enumerable:!1,configurable:!0}),t}(a.FirebaseError);function pt(e){return"storage/"+e}function gt(){return new dt("unknown","An unknown error occurred, please check the error payload for server response.")}function yt(){return new dt("canceled","User canceled the upload/download.")}function vt(){return new dt("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function mt(e){return new dt("invalid-argument",e)}function bt(){return new dt("app-deleted","The Firebase app was deleted.")}function _t(e){return new dt("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function wt(e,t){return new dt("invalid-format","String does not match format '"+e+"': "+t)}function Et(e){throw new dt("internal-error","Internal error: "+e)}var St={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},Ct=function(){return function(e,t){this.data=e,this.contentType=t||null}}();function Ot(e,t){switch(e){case St.RAW:return new Ct(Tt(t));case St.BASE64:case St.BASE64URL:return new Ct(kt(e,t));case St.DATA_URL:return new Ct(function(e){var t=new It(e);return t.base64?kt(St.BASE64,t.rest):function(e){var t;try{t=decodeURIComponent(e)}catch(n){throw wt(St.DATA_URL,"Malformed data URL.")}return Tt(t)}(t.rest)}(t),new It(t).contentType)}throw gt()}function Tt(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r))if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1)))r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r);else t.push(239,191,189);else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function kt(e,t){switch(e){case St.BASE64:var n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw wt(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case St.BASE64URL:var i=-1!==t.indexOf("+"),o=-1!==t.indexOf("/");if(i||o)throw wt(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}var a;try{a=atob(t)}catch(c){throw wt(e,"Invalid character found")}for(var s=new Uint8Array(a.length),u=0;u<a.length;u++)s[u]=a.charCodeAt(u);return s}var It=function(){return function(e){this.base64=!1,this.contentType=null;var t=e.match(/^data:([^,]+)?,/);if(null===t)throw wt(St.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n=t[1]||null;null!=n&&(this.base64=(r=n,i=";base64",r.length>=i.length&&r.substring(r.length-i.length)===i),this.contentType=this.base64?n.substring(0,n.length-";base64".length):n),this.rest=e.substring(e.indexOf(",")+1);var r,i}}();var At,Nt={STATE_CHANGED:"state_changed"},Rt={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Pt(e){switch(e){case"running":case"pausing":case"canceling":return Rt.RUNNING;case"paused":return Rt.PAUSED;case"success":return Rt.SUCCESS;case"canceled":return Rt.CANCELED;case"error":default:return Rt.ERROR}}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(At||(At={}));var xt=function(){function e(){var e=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=At.NO_ERROR,this.sendPromise_=new Promise(function(t){e.xhr_.addEventListener("abort",function(){e.errorCode_=At.ABORT,t()}),e.xhr_.addEventListener("error",function(){e.errorCode_=At.NETWORK_ERROR,t()}),e.xhr_.addEventListener("load",function(){t()})})}return e.prototype.send=function(e,t,n,r){if(this.sent_)throw Et("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},e.prototype.getErrorCode=function(){if(!this.sent_)throw Et("cannot .getErrorCode() before sending");return this.errorCode_},e.prototype.getStatus=function(){if(!this.sent_)throw Et("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}},e.prototype.getResponseText=function(){if(!this.sent_)throw Et("cannot .getResponseText() before sending");return this.xhr_.responseText},e.prototype.abort=function(){this.xhr_.abort()},e.prototype.getResponseHeader=function(e){return this.xhr_.getResponseHeader(e)},e.prototype.addUploadProgressListener=function(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)},e.prototype.removeUploadProgressListener=function(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)},e}();var Mt=function(){function e(){}return e.prototype.createConnection=function(){return new xt},e}(),Lt=function(){function e(e,t){this.bucket=e,this.path_=t}return Object.defineProperty(e.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),e.prototype.fullServerUrl=function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)},e.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},e.makeFromBucketSpec=function(t,n){var r;try{r=e.makeFromUrl(t,n)}catch(i){return new e(t,"")}if(""===r.path)return r;throw new dt("invalid-default-bucket","Invalid default bucket '"+t+"'.")},e.makeFromUrl=function(t,n){var r=null;var i=new RegExp("^gs://([A-Za-z0-9.\\-_]+)(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}for(var a=n.replace(/[.]/g,"\\."),s=[{regex:i,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+a+"/v[A-Za-z0-9_]+/b/([A-Za-z0-9.\\-_]+)/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://"+(n===ct?"(?:storage.googleapis.com|storage.cloud.google.com)":n)+"/([A-Za-z0-9.\\-_]+)/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:o}],u=0;u<s.length;u++){var c=s[u],l=c.regex.exec(t);if(l){var h=l[c.indices.bucket],f=l[c.indices.path];f||(f=""),r=new e(h,f),c.postModify(r);break}}if(null==r)throw function(e){return new dt("invalid-url","Invalid URL '"+e+"'.")}(t);return r},e}(),Dt=function(){function e(e){this.promise_=Promise.reject(e)}return e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(e){},e}();function jt(e){return"string"===typeof e||e instanceof String}function Ut(e){return Ft()&&e instanceof Blob}function Ft(){return"undefined"!==typeof Blob}function Ht(e,t,n,r){if(r<t)throw mt("Invalid value for '"+e+"'. Expected "+t+" or greater.");if(r>n)throw mt("Invalid value for '"+e+"'. Expected "+n+" or less.")}function Bt(e,t){var n=t.match(/^(\w+):\/\/.+/),r=t;return null==(null===n||void 0===n?void 0:n[1])&&(r="https://"+t),r+"/v0"+e}function Vt(e){var t=encodeURIComponent,n="?";for(var r in e){if(e.hasOwnProperty(r))n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1)}var qt=function(){function e(e,t,n,r,i,o,a,s,u,c,l){var h=this;this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=a,this.errorCallback_=s,this.progressCallback_=c,this.timeout_=u,this.pool_=l,this.promise_=new Promise(function(e,t){h.resolve_=e,h.reject_=t,h.start_()})}return e.prototype.start_=function(){var e=this;function t(t,n){var r,i=e.resolve_,o=e.reject_,a=n.connection;if(n.wasSuccessCode)try{var s=e.callback_(a,a.getResponseText());void 0!==s?i(s):i()}catch(u){o(u)}else null!==a?((r=gt()).serverResponse=a.getResponseText(),e.errorCallback_?o(e.errorCallback_(a,r)):o(r)):n.canceled?o(r=e.appDelete_?bt():yt()):o(r=new dt("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}this.canceled_?t(0,new Gt(!1,null,!0)):this.backoffId_=function(e,t,n){var r=1,i=null,o=!1,a=0;function s(){return 2===a}var c=!1;function l(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];c||(c=!0,t.apply(null,e))}function h(t){i=setTimeout(function(){i=null,e(f,s())},t)}function f(e){for(var t,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];c||(e?l.call.apply(l,Object(u.__spreadArray)([null,e],n)):s()||o?l.call.apply(l,Object(u.__spreadArray)([null,e],n)):(r<64&&(r*=2),1===a?(a=2,t=0):t=1e3*(r+Math.random()),h(t)))}var d=!1;function p(e){d||(d=!0,c||(null!==i?(e||(a=2),clearTimeout(i),h(0)):e||(a=1)))}return h(0),setTimeout(function(){o=!0,p(!0)},n),p}(function(t,n){if(n)t(!1,new Gt(!1,null,!0));else{var r=e.pool_.createConnection();e.pendingConnection_=r,null!==e.progressCallback_&&r.addUploadProgressListener(i),r.send(e.url_,e.method_,e.body_,e.headers_).then(function(){null!==e.progressCallback_&&r.removeUploadProgressListener(i),e.pendingConnection_=null;var n=r.getErrorCode()===At.NO_ERROR,o=r.getStatus();if(n&&!e.isRetryStatusCode_(o)){var a=-1!==e.successCodes_.indexOf(o);t(!0,new Gt(a,r))}else{var s=r.getErrorCode()===At.ABORT;t(!1,new Gt(!1,null,s))}})}function i(t){var n=t.loaded,r=t.lengthComputable?t.total:-1;null!==e.progressCallback_&&e.progressCallback_(n,r)}},t,this.timeout_)},e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()},e.prototype.isRetryStatusCode_=function(e){var t=e>=500&&e<600,n=-1!==[408,429].indexOf(e),r=-1!==this.additionalRetryCodes_.indexOf(e);return t||n||r},e}(),Gt=function(){return function(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}();function zt(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}var Wt=function(){function e(e,t){var n=0,r="";Ut(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}return e.prototype.size=function(){return this.size_},e.prototype.type=function(){return this.type_},e.prototype.slice=function(t,n){if(Ut(this.data_)){var r=this.data_,i=(a=t,s=n,(o=r).webkitSlice?o.webkitSlice(a,s):o.mozSlice?o.mozSlice(a,s):o.slice?o.slice(a,s):null);return null===i?null:new e(i)}var o,a,s;return new e(new Uint8Array(this.data_.buffer,t,n-t),!0)},e.getBlob=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(Ft()){var r=t.map(function(t){return t instanceof e?t.data_:t});return new e(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=zt();if(void 0!==n){for(var r=new n,i=0;i<e.length;i++)r.append(e[i]);return r.getBlob()}if(Ft())return new Blob(e);throw new dt("unsupported-environment","This browser doesn't seem to support creating Blobs")}.apply(null,r))}var i=t.map(function(e){return jt(e)?Ot(St.RAW,e).data:e.data_}),o=0;i.forEach(function(e){o+=e.byteLength});var a=new Uint8Array(o),s=0;return i.forEach(function(e){for(var t=0;t<e.length;t++)a[s++]=e[t]}),new e(a,!0)},e.prototype.uploadData=function(){return this.data_},e}();function Kt(e){var t,n;try{t=JSON.parse(e)}catch(r){return null}return"object"!==typeof(n=t)||Array.isArray(n)?null:t}function Yt(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function Qt(e,t){return t}var $t=function(){return function(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||Qt}}(),Xt=null;function Jt(){if(Xt)return Xt;var e=[];e.push(new $t("bucket")),e.push(new $t("generation")),e.push(new $t("metageneration")),e.push(new $t("name","fullPath",!0));var t=new $t("name");t.xform=function(e,t){return function(e){return!jt(e)||e.length<2?e:Yt(e)}(t)},e.push(t);var n=new $t("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new $t("timeCreated")),e.push(new $t("updated")),e.push(new $t("md5Hash",null,!0)),e.push(new $t("cacheControl",null,!0)),e.push(new $t("contentDisposition",null,!0)),e.push(new $t("contentEncoding",null,!0)),e.push(new $t("contentLanguage",null,!0)),e.push(new $t("contentType",null,!0)),e.push(new $t("metadata","customMetadata",!0)),Xt=e}function Zt(e,t,n){for(var r={type:"file"},i=n.length,o=0;o<i;o++){var a=n[o];r[a.local]=a.xform(r,t[a.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){var n=e.bucket,r=e.fullPath,i=new Lt(n,r);return t._makeStorageReference(i)}})}(r,e),r}function en(e,t,n){var r=Kt(t);return null===r?null:Zt(e,r,n)}function tn(e,t){for(var n={},r=t.length,i=0;i<r;i++){var o=t[i];o.writable&&(n[o.server]=e[o.local])}return JSON.stringify(n)}var nn="prefixes",rn="items";function on(e,t,n){var r=Kt(n);return null===r?null:function(e,t,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[nn])for(var i=0,o=n[nn];i<o.length;i++){var a=o[i].replace(/\/$/,""),s=e._makeStorageReference(new Lt(t,a));r.prefixes.push(s)}if(n[rn])for(var u=0,c=n[rn];u<c.length;u++){var l=c[u];s=e._makeStorageReference(new Lt(t,l.name)),r.items.push(s)}return r}(e,t,r)}var an=function(){return function(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}();function sn(e){if(!e)throw gt()}function un(e,t){return function(n,r){var i=en(e,r,t);return sn(null!==i),i}}function cn(e,t){return function(n,r){var i=en(e,r,t);return sn(null!==i),function(e,t,n){var r=Kt(t);if(null===r)return null;if(!jt(r.downloadTokens))return null;var i=r.downloadTokens;if(0===i.length)return null;var o=encodeURIComponent;return i.split(",").map(function(t){var r=e.bucket,i=e.fullPath;return Bt("/b/"+o(r)+"/o/"+o(i),n)+Vt({alt:"media",token:t})})[0]}(i,r,e.host)}}function ln(e){return function(t,n){var r,i,o;return 401===t.getStatus()?r=t.getResponseText().includes("Firebase App Check token is invalid")?new dt("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new dt("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(o=e.bucket,r=new dt("quota-exceeded","Quota for bucket '"+o+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new dt("unauthorized","User does not have permission to access '"+i+"'.")):r=n,r.serverResponse=n.serverResponse,r}}function hn(e){var t=ln(e);return function(n,r){var i,o=t(n,r);return 404===n.getStatus()&&(i=e.path,o=new dt("object-not-found","Object '"+i+"' does not exist.")),o.serverResponse=r.serverResponse,o}}function fn(e,t,n){var r=Bt(t.fullServerUrl(),e.host),i=e.maxOperationRetryTime,o=new an(r,"GET",un(e,n),i);return o.errorHandler=hn(t),o}function dn(e,t,n,r,i){var o={};t.isRoot?o.prefix="":o.prefix=t.path+"/",n&&n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),i&&(o.maxResults=i);var a=Bt(t.bucketOnlyServerUrl(),e.host),s=e.maxOperationRetryTime,u=new an(a,"GET",function(e,t){return function(n,r){var i=on(e,t,r);return sn(null!==i),i}}(e,t.bucket),s);return u.urlParams=o,u.errorHandler=ln(t),u}function pn(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}var gn=function(){return function(e,t,n,r){this.current=e,this.total=t,this.finalized=!!n,this.metadata=r||null}}();function yn(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(r){sn(!1)}return sn(!!n&&-1!==(t||["active"]).indexOf(n)),n}function vn(e,t,n,r,i,o,a,s){var u=new gn(0,0);if(a?(u.current=a.current,u.total=a.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw new dt("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var c=u.total-u.current,l=c;i>0&&(l=Math.min(l,i));var h=u.current,f=h+l,d={"X-Goog-Upload-Command":l===c?"upload, finalize":"upload","X-Goog-Upload-Offset":""+u.current},p=r.slice(h,f);if(null===p)throw vt();var g=t.maxUploadRetryTime,y=new an(n,"POST",function(e,n){var i,a=yn(e,["active","final"]),s=u.current+l,c=r.size();return i="final"===a?un(t,o)(e,n):null,new gn(s,c,"final"===a,i)},g);return y.headers=d,y.body=p.uploadData(),y.progressCallback=s||null,y.errorHandler=ln(e),y}var mn=function(){return function(e,t,n){if("function"===typeof e||null!=t||null!=n)this.next=e,this.error=t,this.complete=n;else{var r=e;this.next=r.next,this.error=r.error,this.complete=r.complete}}}();function bn(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];Promise.resolve().then(function(){return e.apply(void 0,t)})}}var _n=function(){function e(e,t,n){var r=this;void 0===n&&(n=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=n,this._mappings=Jt(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(e){r._request=void 0,r._chunkMultiplier=1,e._codeEquals("canceled")?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=e,r._transition("error"))},this._metadataErrorHandler=function(e){r._request=void 0,e._codeEquals("canceled")?r.completeTransitions_():(r._error=e,r._transition("error"))},this._promise=new Promise(function(e,t){r._resolve=e,r._reject=t,r._start()}),this._promise.then(null,function(){})}return e.prototype._makeProgressCallback=function(){var e=this,t=this._transferred;return function(n){return e._updateProgress(t+n)}},e.prototype._shouldDoResumable=function(e){return e.size()>262144},e.prototype._start=function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},e.prototype._resolveToken=function(e){var t=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(function(n){var r=n[0],i=n[1];switch(t._state){case"running":e(r,i);break;case"canceling":t._transition("canceled");break;case"pausing":t._transition("paused")}})},e.prototype._createResumable=function(){var e=this;this._resolveToken(function(t,n){var r=function(e,t,n,r,i){var o=t.bucketOnlyServerUrl(),a=pn(t,r,i),s={name:a.fullPath},u=Bt(o,e.host),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":""+r.size(),"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},l=tn(a,n),h=e.maxUploadRetryTime,f=new an(u,"POST",function(e){var t;yn(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(n){sn(!1)}return sn(jt(t)),t},h);return f.urlParams=s,f.headers=c,f.body=l,f.errorHandler=ln(t),f}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,t,n);e._request=i,i.getPromise().then(function(t){e._request=void 0,e._uploadUrl=t,e._needToFetchStatus=!1,e.completeTransitions_()},e._errorHandler)})},e.prototype._fetchStatus=function(){var e=this,t=this._uploadUrl;this._resolveToken(function(n,r){var i=function(e,t,n,r){var i=e.maxUploadRetryTime,o=new an(n,"POST",function(e){var t=yn(e,["active","final"]),n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(o){sn(!1)}n||sn(!1);var i=Number(n);return sn(!isNaN(i)),new gn(i,r.size(),"final"===t)},i);return o.headers={"X-Goog-Upload-Command":"query"},o.errorHandler=ln(t),o}(e._ref.storage,e._ref._location,t,e._blob),o=e._ref.storage._makeRequest(i,n,r);e._request=o,o.getPromise().then(function(t){t=t,e._request=void 0,e._updateProgress(t.current),e._needToFetchStatus=!1,t.finalized&&(e._needToFetchMetadata=!0),e.completeTransitions_()},e._errorHandler)})},e.prototype._continueUpload=function(){var e=this,t=262144*this._chunkMultiplier,n=new gn(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken(function(i,o){var a;try{a=vn(e._ref._location,e._ref.storage,r,e._blob,t,e._mappings,n,e._makeProgressCallback())}catch(u){return e._error=u,void e._transition("error")}var s=e._ref.storage._makeRequest(a,i,o);e._request=s,s.getPromise().then(function(t){e._increaseMultiplier(),e._request=void 0,e._updateProgress(t.current),t.finalized?(e._metadata=t.metadata,e._transition("success")):e.completeTransitions_()},e._errorHandler)})},e.prototype._increaseMultiplier=function(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)},e.prototype._fetchMetadata=function(){var e=this;this._resolveToken(function(t,n){var r=fn(e._ref.storage,e._ref._location,e._mappings),i=e._ref.storage._makeRequest(r,t,n);e._request=i,i.getPromise().then(function(t){e._request=void 0,e._metadata=t,e._transition("success")},e._metadataErrorHandler)})},e.prototype._oneShotUpload=function(){var e=this;this._resolveToken(function(t,n){var r=function(e,t,n,r,i){var o=t.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"},s=function(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();a["Content-Type"]="multipart/related; boundary="+s;var u=pn(t,r,i),c="--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+tn(u,n)+"\r\n--"+s+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",l="\r\n--"+s+"--",h=Wt.getBlob(c,r,l);if(null===h)throw vt();var f={name:u.fullPath},d=Bt(o,e.host),p=e.maxUploadRetryTime,g=new an(d,"POST",un(e,n),p);return g.urlParams=f,g.headers=a,g.body=h.uploadData(),g.errorHandler=ln(t),g}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,t,n);e._request=i,i.getPromise().then(function(t){e._request=void 0,e._metadata=t,e._updateProgress(e._blob.size()),e._transition("success")},e._errorHandler)})},e.prototype._updateProgress=function(e){var t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()},e.prototype._transition=function(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":var t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=yt(),this._state=e,this._notifyObservers();break;case"error":case"success":this._state=e,this._notifyObservers()}},e.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}},Object.defineProperty(e.prototype,"snapshot",{get:function(){var e=Pt(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),e.prototype.on=function(e,t,n,r){var i=this,o=new mn(t,n,r);return this._addObserver(o),function(){i._removeObserver(o)}},e.prototype.then=function(e,t){return this._promise.then(e,t)},e.prototype.catch=function(e){return this.then(null,e)},e.prototype._addObserver=function(e){this._observers.push(e),this._notifyObserver(e)},e.prototype._removeObserver=function(e){var t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)},e.prototype._notifyObservers=function(){var e=this;this._finishPromise(),this._observers.slice().forEach(function(t){e._notifyObserver(t)})},e.prototype._finishPromise=function(){if(void 0!==this._resolve){var e=!0;switch(Pt(this._state)){case Rt.SUCCESS:bn(this._resolve.bind(null,this.snapshot))();break;case Rt.CANCELED:case Rt.ERROR:bn(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}},e.prototype._notifyObserver=function(e){switch(Pt(this._state)){case Rt.RUNNING:case Rt.PAUSED:e.next&&bn(e.next.bind(e,this.snapshot))();break;case Rt.SUCCESS:e.complete&&bn(e.complete.bind(e))();break;case Rt.CANCELED:case Rt.ERROR:e.error&&bn(e.error.bind(e,this._error))();break;default:e.error&&bn(e.error.bind(e,this._error))()}},e.prototype.resume=function(){var e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e},e.prototype.pause=function(){var e="running"===this._state;return e&&this._transition("pausing"),e},e.prototype.cancel=function(){var e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e},e}(),wn=function(){function e(e,t){this._service=e,this._location=t instanceof Lt?t:Lt.makeFromUrl(t,e.host)}return e.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},e.prototype._newRef=function(t,n){return new e(t,n)},Object.defineProperty(e.prototype,"root",{get:function(){var e=new Lt(this._location.bucket,"");return this._newRef(this._service,e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return Yt(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=function(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===t)return null;var n=new Lt(this._location.bucket,t);return new e(this._service,n)},enumerable:!1,configurable:!0}),e.prototype._throwIfRoot=function(e){if(""===this._location.path)throw _t(e)},e}();function En(e){var t={prefixes:[],items:[]};return function e(t,n,r){return Object(u.__awaiter)(this,void 0,void 0,function(){var i,o,a;return Object(u.__generator)(this,function(s){switch(s.label){case 0:return[4,Sn(t,{pageToken:r})];case 1:return i=s.sent(),(o=n.prefixes).push.apply(o,i.prefixes),(a=n.items).push.apply(a,i.items),null==i.nextPageToken?[3,3]:[4,e(t,n,i.nextPageToken)];case 2:s.sent(),s.label=3;case 3:return[2]}})})}(e,t).then(function(){return t})}function Sn(e,t){return Object(u.__awaiter)(this,void 0,void 0,function(){var n,r;return Object(u.__generator)(this,function(i){switch(i.label){case 0:return null!=t&&"number"===typeof t.maxResults&&Ht("options.maxResults",1,1e3,t.maxResults),n=t||{},r=dn(e.storage,e._location,"/",n.pageToken,n.maxResults),[4,e.storage.makeRequestWithTokens(r)];case 1:return[2,i.sent().getPromise()]}})})}function Cn(e,t){return Object(u.__awaiter)(this,void 0,void 0,function(){var n;return Object(u.__generator)(this,function(r){switch(r.label){case 0:return e._throwIfRoot("updateMetadata"),n=function(e,t,n,r){var i=Bt(t.fullServerUrl(),e.host),o=tn(n,r),a=e.maxOperationRetryTime,s=new an(i,"PATCH",un(e,r),a);return s.headers={"Content-Type":"application/json; charset=utf-8"},s.body=o,s.errorHandler=hn(t),s}(e.storage,e._location,t,Jt()),[4,e.storage.makeRequestWithTokens(n)];case 1:return[2,r.sent().getPromise()]}})})}function On(e){return Object(u.__awaiter)(this,void 0,void 0,function(){var t;return Object(u.__generator)(this,function(n){switch(n.label){case 0:return e._throwIfRoot("getDownloadURL"),t=function(e,t,n){var r=Bt(t.fullServerUrl(),e.host),i=e.maxOperationRetryTime,o=new an(r,"GET",cn(e,n),i);return o.errorHandler=hn(t),o}(e.storage,e._location,Jt()),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise().then(function(e){if(null===e)throw new dt("no-download-url","The given file does not have any download URLs.");return e})]}})})}function Tn(e){return Object(u.__awaiter)(this,void 0,void 0,function(){var t;return Object(u.__generator)(this,function(n){switch(n.label){case 0:return e._throwIfRoot("deleteObject"),t=function(e,t){var n=Bt(t.fullServerUrl(),e.host),r=e.maxOperationRetryTime,i=new an(n,"DELETE",function(e,t){},r);return i.successCodes=[200,204],i.errorHandler=hn(t),i}(e.storage,e._location),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise()]}})})}function kn(e,t){var n=function(e,t){var n=t.split("/").filter(function(e){return e.length>0}).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new Lt(e._location.bucket,n);return new wn(e.storage,r)}function In(e){return/^[A-Za-z]+:\/\//.test(e)}function An(e,t){if(e instanceof Pn){var n=e;if(null==n._bucket)throw new dt("no-default-bucket","No default bucket found. Did you set the '"+lt+"' property when initializing the app?");var r=new wn(n,n._bucket);return null!=t?An(r,t):r}return void 0!==t?kn(e,t):e}function Nn(e,t){if(t&&In(t)){if(e instanceof Pn)return new wn(e,t);throw mt("To use ref(service, url), the first argument must be a Storage instance.")}return An(e,t)}function Rn(e,t){var n=null===t||void 0===t?void 0:t[lt];return null==n?null:Lt.makeFromBucketSpec(n,e)}var Pn=function(){function e(e,t,n,r,i,o){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._pool=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=ct,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=ht,this._maxUploadRetryTime=ft,this._requests=new Set,this._bucket=null!=i?Lt.makeFromBucketSpec(i,this._host):Rn(this._host,this.app.options)}return Object.defineProperty(e.prototype,"host",{get:function(){return this._host},set:function(e){this._host=e,null!=this._url?this._bucket=Lt.makeFromBucketSpec(this._url,e):this._bucket=Rn(e,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(e){Ht("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(e){Ht("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e},enumerable:!1,configurable:!0}),e.prototype._getAuthToken=function(){return Object(u.__awaiter)(this,void 0,void 0,function(){var e,t;return Object(u.__generator)(this,function(n){switch(n.label){case 0:return this._overrideAuthToken?[2,this._overrideAuthToken]:(e=this._authProvider.getImmediate({optional:!0}))?[4,e.getToken()]:[3,2];case 1:if(null!==(t=n.sent()))return[2,t.accessToken];n.label=2;case 2:return[2,null]}})})},e.prototype._getAppCheckToken=function(){return Object(u.__awaiter)(this,void 0,void 0,function(){var e;return Object(u.__generator)(this,function(t){switch(t.label){case 0:return(e=this._appCheckProvider.getImmediate({optional:!0}))?[4,e.getToken()]:[3,2];case 1:return[2,t.sent().token];case 2:return[2,null]}})})},e.prototype._delete=function(){return this._deleted||(this._deleted=!0,this._requests.forEach(function(e){return e.cancel()}),this._requests.clear()),Promise.resolve()},e.prototype._makeStorageReference=function(e){return new wn(this,e)},e.prototype._makeRequest=function(e,t,n){var r=this;if(this._deleted)return new Dt(bt());var i=function(e,t,n,r,i,o){var a=Vt(e.urlParams),s=e.url+a,u=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(u,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(u,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(u,o),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(u,r),new qt(s,e.method,u,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i)}(e,this._appId,t,n,this._pool,this._firebaseVersion);return this._requests.add(i),i.getPromise().then(function(){return r._requests.delete(i)},function(){return r._requests.delete(i)}),i},e.prototype.makeRequestWithTokens=function(e){return Object(u.__awaiter)(this,void 0,void 0,function(){var t,n,r;return Object(u.__generator)(this,function(i){switch(i.label){case 0:return[4,Promise.all([this._getAuthToken(),this._getAppCheckToken()])];case 1:return t=i.sent(),n=t[0],r=t[1],[2,this._makeRequest(e,n,r)]}})})},e}();function xn(e,t,n){return function(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new _n(e,new Wt(t),n)}(e=Object(a.getModularInstance)(e),t,n)}function Mn(e){return function(e){return Object(u.__awaiter)(this,void 0,void 0,function(){var t;return Object(u.__generator)(this,function(n){switch(n.label){case 0:return e._throwIfRoot("getMetadata"),t=fn(e.storage,e._location,Jt()),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise()]}})})}(e=Object(a.getModularInstance)(e))}function Ln(e,t){return Nn(e=Object(a.getModularInstance)(e),t)}function Dn(e,t,n,r){void 0===r&&(r={}),function(e,t,n,r){void 0===r&&(r={}),e.host="http://"+t+":"+n;var i=r.mockUserToken;i&&(e._overrideAuthToken="string"===typeof i?i:Object(a.createMockUserToken)(i,e.app.options.projectId))}(e,t,n,r)}var jn=function(){function e(e,t,n){this._delegate=e,this.task=t,this.ref=n}return Object.defineProperty(e.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),e}(),Un=function(){function e(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(e.prototype,"snapshot",{get:function(){return new jn(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),e.prototype.then=function(e,t){var n=this;return this._delegate.then(function(t){if(e)return e(new jn(t,n,n._ref))},t)},e.prototype.on=function(e,t,n,r){var i=this,o=void 0;return t&&(o="function"===typeof t?function(e){return t(new jn(e,i,i._ref))}:{next:t.next?function(e){return t.next(new jn(e,i,i._ref))}:void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,o,n||void 0,r||void 0)},e}(),Fn=function(){function e(e,t){this._delegate=e,this._service=t}return Object.defineProperty(e.prototype,"prefixes",{get:function(){var e=this;return this._delegate.prefixes.map(function(t){return new Hn(t,e._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"items",{get:function(){var e=this;return this._delegate.items.map(function(t){return new Hn(t,e._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),e}(),Hn=function(){function e(e,t){this._delegate=e,this.storage=t}return Object.defineProperty(e.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),e.prototype.toString=function(){return this._delegate.toString()},e.prototype.child=function(t){return new e(function(e,t){return kn(e,t)}(this._delegate,t),this.storage)},Object.defineProperty(e.prototype,"root",{get:function(){return new e(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return null==t?null:new e(t,this.storage)},enumerable:!1,configurable:!0}),e.prototype.put=function(e,t){return this._throwIfRoot("put"),new Un(xn(this._delegate,e,t),this)},e.prototype.putString=function(e,t,n){void 0===t&&(t=St.RAW),this._throwIfRoot("putString");var r=Ot(t,e),i=Object(u.__assign)({},n);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new Un(new _n(this._delegate,new Wt(r.data,!0),i),this)},e.prototype.listAll=function(){var e,t=this;return(e=this._delegate,En(e=Object(a.getModularInstance)(e))).then(function(e){return new Fn(e,t.storage)})},e.prototype.list=function(e){var t=this;return function(e,t){return Sn(e=Object(a.getModularInstance)(e),t)}(this._delegate,e||void 0).then(function(e){return new Fn(e,t.storage)})},e.prototype.getMetadata=function(){return Mn(this._delegate)},e.prototype.updateMetadata=function(e){return function(e,t){return Cn(e=Object(a.getModularInstance)(e),t)}(this._delegate,e)},e.prototype.getDownloadURL=function(){return e=this._delegate,On(e=Object(a.getModularInstance)(e));var e},e.prototype.delete=function(){return this._throwIfRoot("delete"),e=this._delegate,Tn(e=Object(a.getModularInstance)(e));var e},e.prototype._throwIfRoot=function(e){if(""===this._delegate._location.path)throw _t(e)},e}(),Bn=function(){function e(e,t){this.app=e,this._delegate=t}return Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),e.prototype.ref=function(e){if(In(e))throw mt("ref() expected a child path but got a URL, use refFromURL instead.");return new Hn(Ln(this._delegate,e),this)},e.prototype.refFromURL=function(e){if(!In(e))throw mt("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Lt.makeFromUrl(e,this._delegate.host)}catch(t){throw mt("refFromUrl() expected a valid full URL but got an invalid one.")}return new Hn(Ln(this._delegate,e),this)},e.prototype.setMaxUploadRetryTime=function(e){this._delegate.maxUploadRetryTime=e},e.prototype.setMaxOperationRetryTime=function(e){this._delegate.maxOperationRetryTime=e},e.prototype.useEmulator=function(e,t,n){void 0===n&&(n={}),Dn(this._delegate,e,t,n)},e}(),Vn="@firebase/storage",qn="0.7.1",Gn="storage";function zn(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),o=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return new Bn(r,new Pn(r,o,a,new Mt,n,i.default.SDK_VERSION))}!function(e){var t={TaskState:Rt,TaskEvent:Nt,StringFormat:St,Storage:Pn,Reference:Hn};e.INTERNAL.registerComponent(new c.Component(Gn,zn,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion(Vn,qn)}(i.default);var Wn,Kn,Yn,Qn="@firebase/performance",$n="0.4.18",Xn=$n,Jn="FB-PERF-TRACE-START",Zn="FB-PERF-TRACE-STOP",er="FB-PERF-TRACE-MEASURE",tr="_wt_",nr="@firebase/performance/config",rr="@firebase/performance/configexpire",ir=((Wn={})["trace started"]="Trace {$traceName} was started before.",Wn["trace stopped"]="Trace {$traceName} is not running.",Wn["nonpositive trace startTime"]="Trace {$traceName} startTime should be positive.",Wn["nonpositive trace duration"]="Trace {$traceName} duration should be positive.",Wn["no window"]="Window is not available.",Wn["no app id"]="App id is not available.",Wn["no project id"]="Project id is not available.",Wn["no api key"]="Api key is not available.",Wn["invalid cc log"]="Attempted to queue invalid cc event",Wn["FB not default"]="Performance can only start when Firebase app instance is the default one.",Wn["RC response not ok"]="RC response is not ok",Wn["invalid attribute name"]="Attribute name {$attributeName} is invalid.",Wn["invalid attribute value"]="Attribute value {$attributeValue} is invalid.",Wn["invalid custom metric name"]="Custom metric name {$customMetricName} is invalid",Wn["invalid String merger input"]="Input for String merger is invalid, contact support team to resolve.",Wn),or=new a.ErrorFactory("performance","Performance",ir),ar=new s.Logger("Performance");ar.logLevel=s.LogLevel.INFO;var sr,ur=function(){function e(e){if(this.window=e,!e)throw or.create("no window");this.performance=e.performance,this.PerformanceObserver=e.PerformanceObserver,this.windowLocation=e.location,this.navigator=e.navigator,this.document=e.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=e.localStorage),e.perfMetrics&&e.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=e.perfMetrics.onFirstInputDelay)}return e.prototype.getUrl=function(){return this.windowLocation.href.split("?")[0]},e.prototype.mark=function(e){this.performance&&this.performance.mark&&this.performance.mark(e)},e.prototype.measure=function(e,t,n){this.performance&&this.performance.measure&&this.performance.measure(e,t,n)},e.prototype.getEntriesByType=function(e){return this.performance&&this.performance.getEntriesByType?this.performance.getEntriesByType(e):[]},e.prototype.getEntriesByName=function(e){return this.performance&&this.performance.getEntriesByName?this.performance.getEntriesByName(e):[]},e.prototype.getTimeOrigin=function(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)},e.prototype.requiredApisAvailable=function(){return fetch&&Promise&&this.navigator&&this.navigator.cookieEnabled?!!Object(a.isIndexedDBAvailable)()||(ar.info("IndexedDB is not supported by current browswer"),!1):(ar.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1)},e.prototype.setupObserver=function(e,t){this.PerformanceObserver&&new this.PerformanceObserver(function(e){for(var n=0,r=e.getEntries();n<r.length;n++){var i=r[n];t(i)}}).observe({entryTypes:[e]})},e.getInstance=function(){return void 0===Kn&&(Kn=new e(Yn)),Kn},e}();function cr(e,t){var n=e.length-t.length;if(n<0||n>1)throw or.create("invalid String merger input");for(var r=[],i=0;i<e.length;i++)r.push(e.charAt(i)),t.length>i&&r.push(t.charAt(i));return r.join("")}var lr,hr,fr=function(){function e(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=cr("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=cr("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}return e.prototype.getAppId=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.appId;if(!e)throw or.create("no app id");return e},e.prototype.getProjectId=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.projectId;if(!e)throw or.create("no project id");return e},e.prototype.getApiKey=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.apiKey;if(!e)throw or.create("no api key");return e},e.prototype.getFlTransportFullUrl=function(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)},e.getInstance=function(){return void 0===sr&&(sr=new e),sr},e}();function dr(){return lr}!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.VISIBLE=1]="VISIBLE",e[e.HIDDEN=2]="HIDDEN"}(hr||(hr={}));var pr=["firebase_","google_","ga_"],gr=new RegExp("^[a-zA-Z]\\w*$"),yr=40,vr=100;function mr(){var e=ur.getInstance().navigator;return"serviceWorker"in e?e.serviceWorker.controller?2:3:1}function br(){switch(ur.getInstance().document.visibilityState){case"visible":return hr.VISIBLE;case"hidden":return hr.HIDDEN;default:return hr.UNKNOWN}}function _r(){var e=ur.getInstance().navigator.connection;switch(e&&e.effectiveType){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}var wr="0.0.1",Er={loggingEnabled:!0},Sr="FIREBASE_INSTALLATIONS_AUTH";function Cr(e){var t=function(){var e=ur.getInstance().localStorage;if(!e)return;var t=e.getItem(rr);if(!t||(n=t,!(Number(n)>Date.now())))return;var n;var r=e.getItem(nr);if(!r)return;try{var i=JSON.parse(r);return i}catch(o){return}}();return t?(Tr(t),Promise.resolve()):function(e){return function(){var e=fr.getInstance().installationsService.getToken();return e.then(function(e){}),e}().then(function(t){var n=fr.getInstance().getProjectId(),r="https://firebaseremoteconfig.googleapis.com/v1/projects/"+n+"/namespaces/fireperf:fetch?key="+fr.getInstance().getApiKey(),i=new Request(r,{method:"POST",headers:{Authorization:Sr+" "+t},body:JSON.stringify({app_instance_id:e,app_instance_id_token:t,app_id:fr.getInstance().getAppId(),app_version:Xn,sdk_version:wr})});return fetch(i).then(function(e){if(e.ok)return e.json();throw or.create("RC response not ok")})}).catch(function(){ar.info(Or)})}(e).then(Tr).then(function(e){return function(e){var t=ur.getInstance().localStorage;if(!e||!t)return;t.setItem(nr,JSON.stringify(e)),t.setItem(rr,String(Date.now()+60*fr.getInstance().configTimeToLive*60*1e3))}(e)},function(){})}var Or="Could not fetch config, will use default configs";function Tr(e){if(!e)return e;var t=fr.getInstance(),n=e.entries||{};return void 0!==n.fpr_enabled?t.loggingEnabled="true"===String(n.fpr_enabled):t.loggingEnabled=Er.loggingEnabled,n.fpr_log_source&&(t.logSource=Number(n.fpr_log_source)),n.fpr_log_endpoint_url&&(t.logEndPointUrl=n.fpr_log_endpoint_url),n.fpr_log_transport_key&&(t.transportKey=n.fpr_log_transport_key),void 0!==n.fpr_vc_network_request_sampling_rate&&(t.networkRequestsSamplingRate=Number(n.fpr_vc_network_request_sampling_rate)),void 0!==n.fpr_vc_trace_sampling_rate&&(t.tracesSamplingRate=Number(n.fpr_vc_trace_sampling_rate)),t.logTraceAfterSampling=kr(t.tracesSamplingRate),t.logNetworkAfterSampling=kr(t.networkRequestsSamplingRate),e}function kr(e){return Math.random()<=e}var Ir,Ar=1;function Nr(){return Ar=2,Ir=Ir||function(){var e=ur.getInstance().document;return new Promise(function(t){e&&"complete"!==e.readyState?e.addEventListener("readystatechange",function n(){"complete"===e.readyState&&(e.removeEventListener("readystatechange",n),t())}):t()})}().then(function(){return function(){var e=fr.getInstance().installationsService.getId();return e.then(function(e){lr=e}),e}()}).then(function(e){return Cr(e)}).then(function(){return Rr()},function(){return Rr()})}function Rr(){Ar=3}var Pr,xr=1e4,Mr=5500,Lr=3,Dr=1e3,jr=Lr,Ur=[],Fr=!1;function Hr(e){setTimeout(function(){if(0!==jr)return Ur.length?void function(){var e=Ur.splice(0,Dr),t=e.map(function(e){return{source_extension_json_proto3:e.message,event_time_ms:String(e.eventTime)}});(function(e,t){return function(e){var t=fr.getInstance().getFlTransportFullUrl();return fetch(t,{method:"POST",body:JSON.stringify(e)})}(e).then(function(e){return e.ok||ar.info("Call to Firebase backend failed."),e.json()}).then(function(e){var n=Number(e.nextRequestWaitMillis),r=xr;isNaN(n)||(r=Math.max(n,r));var i=e.logResponseDetails;Array.isArray(i)&&i.length>0&&"RETRY_REQUEST_LATER"===i[0].responseAction&&(Ur=Object(u.__spreadArray)(Object(u.__spreadArray)([],t),Ur),ar.info("Retry transport request later.")),jr=Lr,Hr(r)})})({request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:fr.getInstance().logSource,log_event:t},e).catch(function(){Ur=Object(u.__spreadArray)(Object(u.__spreadArray)([],e),Ur),jr--,ar.info("Tries left: "+jr+"."),Hr(xr)})}():Hr(xr)},e)}function Br(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];!function(e){if(!e.eventTime||!e.message)throw or.create("invalid cc log");Ur=Object(u.__spreadArray)(Object(u.__spreadArray)([],Ur),[e])}({message:e.apply(void 0,t),eventTime:Date.now()})}}function Vr(e,t){Pr||(Pr=Br(zr)),Pr(e,t)}function qr(e){var t=fr.getInstance();!t.instrumentationEnabled&&e.isAuto||(t.dataCollectionEnabled||e.isAuto)&&ur.getInstance().requiredApisAvailable()&&(e.isAuto&&br()!==hr.VISIBLE||(3===Ar?Gr(e):Nr().then(function(){return Gr(e)},function(){return Gr(e)})))}function Gr(e){if(dr()){var t=fr.getInstance();t.loggingEnabled&&t.logTraceAfterSampling&&setTimeout(function(){return Vr(e,1)},0)}}function zr(e,t){return 0===t?function(e){var t={url:e.url,http_method:e.httpMethod||0,http_response_code:200,response_payload_bytes:e.responsePayloadBytes,client_start_time_us:e.startTimeUs,time_to_response_initiated_us:e.timeToResponseInitiatedUs,time_to_response_completed_us:e.timeToResponseCompletedUs},n={application_info:Wr(),network_request_metric:t};return JSON.stringify(n)}(e):function(e){var t={name:e.name,is_auto:e.isAuto,client_start_time_us:e.startTimeUs,duration_us:e.durationUs};0!==Object.keys(e.counters).length&&(t.counters=e.counters);var n=e.getAttributes();0!==Object.keys(n).length&&(t.custom_attributes=n);var r={application_info:Wr(),trace_metric:t};return JSON.stringify(r)}(e)}function Wr(){return{google_app_id:fr.getInstance().getAppId(),app_instance_id:dr(),web_app_info:{sdk_version:Xn,page_url:ur.getInstance().getUrl(),service_worker_status:mr(),visibility_state:br(),effective_connection_type:_r()},application_process_state:0}}var Kr=100,Yr="_",Qr=["_fp","_fcp","_fid"];var $r=function(){function e(e,t,n){void 0===t&&(t=!1),this.name=e,this.isAuto=t,this.state=1,this.customAttributes={},this.counters={},this.api=ur.getInstance(),this.randomId=Math.floor(1e6*Math.random()),this.isAuto||(this.traceStartMark=Jn+"-"+this.randomId+"-"+this.name,this.traceStopMark=Zn+"-"+this.randomId+"-"+this.name,this.traceMeasure=n||er+"-"+this.randomId+"-"+this.name,n&&this.calculateTraceMetrics())}return e.prototype.start=function(){if(1!==this.state)throw or.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2},e.prototype.stop=function(){if(2!==this.state)throw or.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),qr(this)},e.prototype.record=function(e,t,n){if(e<=0)throw or.create("nonpositive trace startTime",{traceName:this.name});if(t<=0)throw or.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(1e3*t),this.startTimeUs=Math.floor(1e3*e),n&&n.attributes&&(this.customAttributes=Object(u.__assign)({},n.attributes)),n&&n.metrics)for(var r=0,i=Object.keys(n.metrics);r<i.length;r++){var o=i[r];isNaN(Number(n.metrics[o]))||(this.counters[o]=Number(Math.floor(n.metrics[o])))}qr(this)},e.prototype.incrementMetric=function(e,t){void 0===t&&(t=1),void 0===this.counters[e]?this.putMetric(e,t):this.putMetric(e,this.counters[e]+t)},e.prototype.putMetric=function(e,t){if(n=e,r=this.name,0===n.length||n.length>Kr||!(r&&r.startsWith(tr)&&Qr.indexOf(n)>-1)&&n.startsWith(Yr))throw or.create("invalid custom metric name",{customMetricName:e});var n,r;this.counters[e]=function(e){var t=Math.floor(e);return t<e&&ar.info("Metric value should be an Integer, setting the value as : "+t+"."),t}(t)},e.prototype.getMetric=function(e){return this.counters[e]||0},e.prototype.putAttribute=function(e,t){var n,r=!(0===(n=e).length||n.length>yr)&&!pr.some(function(e){return n.startsWith(e)})&&!!n.match(gr),i=function(e){return 0!==e.length&&e.length<=vr}(t);if(r&&i)this.customAttributes[e]=t;else{if(!r)throw or.create("invalid attribute name",{attributeName:e});if(!i)throw or.create("invalid attribute value",{attributeValue:t})}},e.prototype.getAttribute=function(e){return this.customAttributes[e]},e.prototype.removeAttribute=function(e){void 0!==this.customAttributes[e]&&delete this.customAttributes[e]},e.prototype.getAttributes=function(){return Object(u.__assign)({},this.customAttributes)},e.prototype.setStartTime=function(e){this.startTimeUs=e},e.prototype.setDuration=function(e){this.durationUs=e},e.prototype.calculateTraceMetrics=function(){var e=this.api.getEntriesByName(this.traceMeasure),t=e&&e[0];t&&(this.durationUs=Math.floor(1e3*t.duration),this.startTimeUs=Math.floor(1e3*(t.startTime+this.api.getTimeOrigin())))},e.createOobTrace=function(t,n,r){var i=ur.getInstance().getUrl();if(i){var o=new e(tr+i,!0),a=Math.floor(1e3*ur.getInstance().getTimeOrigin());o.setStartTime(a),t&&t[0]&&(o.setDuration(Math.floor(1e3*t[0].duration)),o.putMetric("domInteractive",Math.floor(1e3*t[0].domInteractive)),o.putMetric("domContentLoadedEventEnd",Math.floor(1e3*t[0].domContentLoadedEventEnd)),o.putMetric("loadEventEnd",Math.floor(1e3*t[0].loadEventEnd)));if(n){var s=n.find(function(e){return"first-paint"===e.name});s&&s.startTime&&o.putMetric("_fp",Math.floor(1e3*s.startTime));var u=n.find(function(e){return"first-contentful-paint"===e.name});u&&u.startTime&&o.putMetric("_fcp",Math.floor(1e3*u.startTime)),r&&o.putMetric("_fid",Math.floor(1e3*r))}qr(o)}},e.createUserTimingTrace=function(t){qr(new e(t,!1,t))},e}();function Xr(e){var t=e;if(t&&void 0!==t.responseStart){var n=ur.getInstance().getTimeOrigin(),r=Math.floor(1e3*(t.startTime+n)),i=t.responseStart?Math.floor(1e3*(t.responseStart-t.startTime)):void 0,o=Math.floor(1e3*(t.responseEnd-t.startTime));!function(e){var t=fr.getInstance();if(t.instrumentationEnabled){var n=e.url,r=t.logEndPointUrl.split("?")[0],i=t.flTransportEndpointUrl.split("?")[0];n!==r&&n!==i&&t.loggingEnabled&&t.logNetworkAfterSampling&&setTimeout(function(){return Vr(e,0)},0)}}({url:t.name&&t.name.split("?")[0],responsePayloadBytes:t.transferSize,startTimeUs:r,timeToResponseInitiatedUs:i,timeToResponseCompletedUs:o})}}var Jr=5e3;function Zr(){dr()&&(setTimeout(function(){return function(){var e=ur.getInstance(),t=e.getEntriesByType("navigation"),n=e.getEntriesByType("paint");if(e.onFirstInputDelay){var r=setTimeout(function(){$r.createOobTrace(t,n),r=void 0},Jr);e.onFirstInputDelay(function(e){r&&(clearTimeout(r),$r.createOobTrace(t,n,e))})}else $r.createOobTrace(t,n)}()},0),setTimeout(function(){return function(){for(var e=ur.getInstance(),t=e.getEntriesByType("resource"),n=0,r=t;n<r.length;n++){var i=r[n];Xr(i)}e.setupObserver("resource",Xr)}()},0),setTimeout(function(){return function(){for(var e=ur.getInstance(),t=e.getEntriesByType("measure"),n=0,r=t;n<r.length;n++){var i=r[n];ei(i)}e.setupObserver("measure",ei)}()},0))}function ei(e){var t=e.name;t.substring(0,er.length)!==er&&$r.createUserTimingTrace(t)}var ti=function(){function e(e){this.app=e,ur.getInstance().requiredApisAvailable()&&Object(a.validateIndexedDBOpenable)().then(function(e){e&&(Fr||(Hr(Mr),Fr=!0),Nr().then(Zr,Zr))}).catch(function(e){ar.info("Environment doesn't support IndexedDB: "+e)})}return e.prototype.trace=function(e){return new $r(e)},Object.defineProperty(e.prototype,"instrumentationEnabled",{get:function(){return fr.getInstance().instrumentationEnabled},set:function(e){fr.getInstance().instrumentationEnabled=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dataCollectionEnabled",{get:function(){return fr.getInstance().dataCollectionEnabled},set:function(e){fr.getInstance().dataCollectionEnabled=e},enumerable:!1,configurable:!0}),e}(),ni="[DEFAULT]";!function(e){var t=function(e,t){if(e.name!==ni)throw or.create("FB not default");if("undefined"===typeof window)throw or.create("no window");return function(e){Yn=e}(window),fr.getInstance().firebaseAppInstance=e,fr.getInstance().installationsService=t,new ti(e)};e.INTERNAL.registerComponent(new c.Component("performance",function(e){var n=e.getProvider("app").getImmediate(),r=e.getProvider("installations").getImmediate();return t(n,r)},"PUBLIC")),e.registerVersion(Qn,$n)}(i.default);var ri,ii,oi="firebase_id",ai="origin",si=6e4,ui="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",ci="https://www.googletagmanager.com/gtag/js";!function(e){e.EVENT="event",e.SET="set",e.CONFIG="config"}(ri||(ri={})),function(e){e.ADD_SHIPPING_INFO="add_shipping_info",e.ADD_PAYMENT_INFO="add_payment_info",e.ADD_TO_CART="add_to_cart",e.ADD_TO_WISHLIST="add_to_wishlist",e.BEGIN_CHECKOUT="begin_checkout",e.CHECKOUT_PROGRESS="checkout_progress",e.EXCEPTION="exception",e.GENERATE_LEAD="generate_lead",e.LOGIN="login",e.PAGE_VIEW="page_view",e.PURCHASE="purchase",e.REFUND="refund",e.REMOVE_FROM_CART="remove_from_cart",e.SCREEN_VIEW="screen_view",e.SEARCH="search",e.SELECT_CONTENT="select_content",e.SELECT_ITEM="select_item",e.SELECT_PROMOTION="select_promotion",e.SET_CHECKOUT_OPTION="set_checkout_option",e.SHARE="share",e.SIGN_UP="sign_up",e.TIMING_COMPLETE="timing_complete",e.VIEW_CART="view_cart",e.VIEW_ITEM="view_item",e.VIEW_ITEM_LIST="view_item_list",e.VIEW_PROMOTION="view_promotion",e.VIEW_SEARCH_RESULTS="view_search_results"}(ii||(ii={}));var li,hi=new s.Logger("@firebase/analytics");function fi(e,t,n,r,i,o){return Object(u.__awaiter)(this,void 0,void 0,function(){var a,s,c,l;return Object(u.__generator)(this,function(u){switch(u.label){case 0:a=r[i],u.label=1;case 1:return u.trys.push([1,7,,8]),a?[4,t[a]]:[3,3];case 2:return u.sent(),[3,6];case 3:return[4,Promise.all(n)];case 4:return s=u.sent(),(c=s.find(function(e){return e.measurementId===i}))?[4,t[c.appId]]:[3,6];case 5:u.sent(),u.label=6;case 6:return[3,8];case 7:return l=u.sent(),hi.error(l),[3,8];case 8:return e(ri.CONFIG,i,o),[2]}})})}function di(e,t,n,r,i){return Object(u.__awaiter)(this,void 0,void 0,function(){var o,a,s,c,l,h,f,d;return Object(u.__generator)(this,function(u){switch(u.label){case 0:return u.trys.push([0,4,,5]),o=[],i&&i.send_to?(a=i.send_to,Array.isArray(a)||(a=[a]),[4,Promise.all(n)]):[3,2];case 1:for(s=u.sent(),c=function(e){var n=s.find(function(t){return t.measurementId===e}),r=n&&t[n.appId];if(!r)return o=[],"break";o.push(r)},l=0,h=a;l<h.length&&(f=h[l],"break"!==c(f));l++);u.label=2;case 2:return 0===o.length&&(o=Object.values(t)),[4,Promise.all(o)];case 3:return u.sent(),e(ri.EVENT,r,i||{}),[3,5];case 4:return d=u.sent(),hi.error(d),[3,5];case 5:return[2]}})})}function pi(e,t,n,r,i){var o=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];window[r].push(arguments)};return window[i]&&"function"===typeof window[i]&&(o=window[i]),window[i]=function(e,t,n,r){return function(i,o,a){return Object(u.__awaiter)(this,void 0,void 0,function(){var s;return Object(u.__generator)(this,function(u){switch(u.label){case 0:return u.trys.push([0,6,,7]),i!==ri.EVENT?[3,2]:[4,di(e,t,n,o,a)];case 1:return u.sent(),[3,5];case 2:return i!==ri.CONFIG?[3,4]:[4,fi(e,t,n,r,o,a)];case 3:return u.sent(),[3,5];case 4:e(ri.SET,o),u.label=5;case 5:return[3,7];case 6:return s=u.sent(),hi.error(s),[3,7];case 7:return[2]}})})}}(o,e,t,n),{gtagCore:o,wrappedGtag:window[i]}}var gi=((li={})["already-exists"]="A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",li["already-initialized"]="Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",li["interop-component-reg-failed"]="Firebase Analytics Interop Component failed to instantiate: {$reason}",li["invalid-analytics-context"]="Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",li["indexeddb-unavailable"]="IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",li["fetch-throttle"]="The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",li["config-fetch-failed"]="Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",li["no-api-key"]='The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',li["no-app-id"]='The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',li),yi=new a.ErrorFactory("analytics","Analytics",gi),vi=30,mi=1e3,bi=new(function(){function e(e,t){void 0===e&&(e={}),void 0===t&&(t=mi),this.throttleMetadata=e,this.intervalMillis=t}return e.prototype.getThrottleMetadata=function(e){return this.throttleMetadata[e]},e.prototype.setThrottleMetadata=function(e,t){this.throttleMetadata[e]=t},e.prototype.deleteThrottleMetadata=function(e){delete this.throttleMetadata[e]},e}());function _i(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}function wi(e){var t;return Object(u.__awaiter)(this,void 0,void 0,function(){var n,r,i,o,a,s,c;return Object(u.__generator)(this,function(u){switch(u.label){case 0:return n=e.appId,r=e.apiKey,i={method:"GET",headers:_i(r)},o=ui.replace("{app-id}",n),[4,fetch(o,i)];case 1:if(200===(a=u.sent()).status||304===a.status)return[3,6];s="",u.label=2;case 2:return u.trys.push([2,4,,5]),[4,a.json()];case 3:return c=u.sent(),(null===(t=c.error)||void 0===t?void 0:t.message)&&(s=c.error.message),[3,5];case 4:return u.sent(),[3,5];case 5:throw yi.create("config-fetch-failed",{httpStatus:a.status,responseMessage:s});case 6:return[2,a.json()]}})})}function Ei(e,t,n,r){var i=t.throttleEndTimeMillis,o=t.backoffCount;return void 0===r&&(r=bi),Object(u.__awaiter)(this,void 0,void 0,function(){var t,s,c,l,h,f,d;return Object(u.__generator)(this,function(u){switch(u.label){case 0:t=e.appId,s=e.measurementId,u.label=1;case 1:return u.trys.push([1,3,,4]),[4,Si(n,i)];case 2:return u.sent(),[3,4];case 3:if(c=u.sent(),s)return hi.warn("Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID "+s+' provided in the "measurementId" field in the local Firebase config. ['+c.message+"]"),[2,{appId:t,measurementId:s}];throw c;case 4:return u.trys.push([4,6,,7]),[4,wi(e)];case 5:return l=u.sent(),r.deleteThrottleMetadata(t),[2,l];case 6:if(!function(e){if(!(e instanceof a.FirebaseError)||!e.customData)return!1;var t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(h=u.sent())){if(r.deleteThrottleMetadata(t),s)return hi.warn("Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID "+s+' provided in the "measurementId" field in the local Firebase config. ['+h.message+"]"),[2,{appId:t,measurementId:s}];throw h}return f=503===Number(h.customData.httpStatus)?Object(a.calculateBackoffMillis)(o,r.intervalMillis,vi):Object(a.calculateBackoffMillis)(o,r.intervalMillis),d={throttleEndTimeMillis:Date.now()+f,backoffCount:o+1},r.setThrottleMetadata(t,d),hi.debug("Calling attemptFetch again in "+f+" millis"),[2,Ei(e,d,n,r)];case 7:return[2]}})})}function Si(e,t){return new Promise(function(n,r){var i=Math.max(t-Date.now(),0),o=setTimeout(n,i);e.addEventListener(function(){clearTimeout(o),r(yi.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}var Ci=function(){function e(){this.listeners=[]}return e.prototype.addEventListener=function(e){this.listeners.push(e)},e.prototype.abort=function(){this.listeners.forEach(function(e){return e()})},e}();function Oi(e,t,n,r,i,o){return Object(u.__awaiter)(this,void 0,void 0,function(){var s,c,l,h,f,d,p;return Object(u.__generator)(this,function(g){switch(g.label){case 0:return(s=function(e,t,n){return void 0===t&&(t=bi),Object(u.__awaiter)(this,void 0,void 0,function(){var r,i,o,a,s,c,l=this;return Object(u.__generator)(this,function(h){if(r=e.options,i=r.appId,o=r.apiKey,a=r.measurementId,!i)throw yi.create("no-app-id");if(!o){if(a)return[2,{measurementId:a,appId:i}];throw yi.create("no-api-key")}return s=t.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},c=new Ci,setTimeout(function(){return Object(u.__awaiter)(l,void 0,void 0,function(){return Object(u.__generator)(this,function(e){return c.abort(),[2]})})},void 0!==n?n:si),[2,Ei({appId:i,apiKey:o,measurementId:a},s,c,t)]})})}(e)).then(function(t){n[t.measurementId]=t.appId,e.options.measurementId&&t.measurementId!==e.options.measurementId&&hi.warn("The measurement ID in the local Firebase config ("+e.options.measurementId+") does not match the measurement ID fetched from the server ("+t.measurementId+"). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")}).catch(function(e){return hi.error(e)}),t.push(s),c=function(){return Object(u.__awaiter)(this,void 0,void 0,function(){var e;return Object(u.__generator)(this,function(t){switch(t.label){case 0:return Object(a.isIndexedDBAvailable)()?[3,1]:(hi.warn(yi.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),[2,!1]);case 1:return t.trys.push([1,3,,4]),[4,Object(a.validateIndexedDBOpenable)()];case 2:return t.sent(),[3,4];case 3:return e=t.sent(),hi.warn(yi.create("indexeddb-unavailable",{errorInfo:e}).message),[2,!1];case 4:return[2,!0]}})})}().then(function(e){return e?r.getId():void 0}),[4,Promise.all([s,c])];case 1:return l=g.sent(),h=l[0],f=l[1],function(){for(var e=window.document.getElementsByTagName("script"),t=0,n=Object.values(e);t<n.length;t++){var r=n[t];if(r.src&&r.src.includes(ci))return r}return null}()||function(e,t){var n=document.createElement("script");n.src=ci+"?l="+e+"&id="+t,n.async=!0,document.head.appendChild(n)}(o,h.measurementId),i("js",new Date),(p={})[ai]="firebase",p.update=!0,d=p,null!=f&&(d[oi]=f),i(ri.CONFIG,h.measurementId,d),[2,h.measurementId]}})})}var Ti,ki,Ii={},Ai=[],Ni={},Ri="dataLayer",Pi="gtag",xi=!1;function Mi(e){if(xi)throw yi.create("already-initialized");e.dataLayerName&&(Ri=e.dataLayerName),e.gtagName&&(Pi=e.gtagName)}function Li(e,t){!function(){var e=[];if(Object(a.isBrowserExtension)()&&e.push("This is a browser extension environment."),Object(a.areCookiesEnabled)()||e.push("Cookies are not available."),e.length>0){var t=e.map(function(e,t){return"("+(t+1)+") "+e}).join(" "),n=yi.create("invalid-analytics-context",{errorInfo:t});hi.warn(n.message)}}();var n=e.options.appId;if(!n)throw yi.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw yi.create("no-api-key");hi.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID '+e.options.measurementId+' provided in the "measurementId" field in the local Firebase config.')}if(null!=Ii[n])throw yi.create("already-exists",{id:n});if(!xi){!function(e){var t=[];Array.isArray(window[e])?t=window[e]:window[e]=t}(Ri);var r=pi(Ii,Ai,Ni,Ri,Pi),i=r.wrappedGtag,o=r.gtagCore;ki=i,Ti=o,xi=!0}return Ii[n]=Oi(e,Ai,Ni,t,Ti,Ri),{app:e,logEvent:function(e,t,r){(function(e,t,n,r,i){return Object(u.__awaiter)(this,void 0,void 0,function(){var o,a;return Object(u.__generator)(this,function(s){switch(s.label){case 0:return i&&i.global?(e(ri.EVENT,n,r),[2]):[3,1];case 1:return[4,t];case 2:o=s.sent(),a=Object(u.__assign)(Object(u.__assign)({},r),{send_to:o}),e(ri.EVENT,n,a),s.label=3;case 3:return[2]}})})})(ki,Ii[n],e,t,r).catch(function(e){return hi.error(e)})},setCurrentScreen:function(e,t){(function(e,t,n,r){return Object(u.__awaiter)(this,void 0,void 0,function(){var i;return Object(u.__generator)(this,function(o){switch(o.label){case 0:return r&&r.global?(e(ri.SET,{screen_name:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,t];case 2:i=o.sent(),e(ri.CONFIG,i,{update:!0,screen_name:n}),o.label=3;case 3:return[2]}})})})(ki,Ii[n],e,t).catch(function(e){return hi.error(e)})},setUserId:function(e,t){(function(e,t,n,r){return Object(u.__awaiter)(this,void 0,void 0,function(){var i;return Object(u.__generator)(this,function(o){switch(o.label){case 0:return r&&r.global?(e(ri.SET,{user_id:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,t];case 2:i=o.sent(),e(ri.CONFIG,i,{update:!0,user_id:n}),o.label=3;case 3:return[2]}})})})(ki,Ii[n],e,t).catch(function(e){return hi.error(e)})},setUserProperties:function(e,t){(function(e,t,n,r){return Object(u.__awaiter)(this,void 0,void 0,function(){var i,o,a,s,c;return Object(u.__generator)(this,function(u){switch(u.label){case 0:if(!r||!r.global)return[3,1];for(i={},o=0,a=Object.keys(n);o<a.length;o++)s=a[o],i["user_properties."+s]=n[s];return e(ri.SET,i),[2,Promise.resolve()];case 1:return[4,t];case 2:c=u.sent(),e(ri.CONFIG,c,{update:!0,user_properties:n}),u.label=3;case 3:return[2]}})})})(ki,Ii[n],e,t).catch(function(e){return hi.error(e)})},setAnalyticsCollectionEnabled:function(e){(function(e,t){return Object(u.__awaiter)(this,void 0,void 0,function(){var n;return Object(u.__generator)(this,function(r){switch(r.label){case 0:return[4,e];case 1:return n=r.sent(),window["ga-disable-"+n]=!t,[2]}})})})(Ii[n],e).catch(function(e){return hi.error(e)})},INTERNAL:{delete:function(){return delete Ii[n],Promise.resolve()}}}}var Di="@firebase/analytics",ji="0.6.18",Ui="analytics";function Fi(){return Object(u.__awaiter)(this,void 0,void 0,function(){return Object(u.__generator)(this,function(e){switch(e.label){case 0:if(Object(a.isBrowserExtension)())return[2,!1];if(!Object(a.areCookiesEnabled)())return[2,!1];if(!Object(a.isIndexedDBAvailable)())return[2,!1];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,Object(a.validateIndexedDBOpenable)()];case 2:return[2,e.sent()];case 3:return e.sent(),[2,!1];case 4:return[2]}})})}!function(e){e.INTERNAL.registerComponent(new c.Component(Ui,function(e){return Li(e.getProvider("app").getImmediate(),e.getProvider("installations").getImmediate())},"PUBLIC").setServiceProps({settings:Mi,EventName:ii,isSupported:Fi})),e.INTERNAL.registerComponent(new c.Component("analytics-internal",function(e){try{var t=e.getProvider(Ui).getImmediate();return{logEvent:t.logEvent}}catch(n){throw yi.create("interop-component-reg-failed",{reason:n})}},"PRIVATE")),e.registerVersion(Di,ji)}(i.default);var Hi,Bi=function(){function e(e,t,n,r){this.client=e,this.storage=t,this.storageCache=n,this.logger=r}return e.prototype.isCachedDataFresh=function(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;var n=Date.now()-t,r=n<=e;return this.logger.debug("Config fetch cache check. Cache age millis: "+n+". Cache max age millis (minimumFetchIntervalMillis setting): "+e+". Is cache hit: "+r+"."),r},e.prototype.fetch=function(e){return Object(u.__awaiter)(this,void 0,void 0,function(){var t,n,r,i,o;return Object(u.__generator)(this,function(a){switch(a.label){case 0:return[4,Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()])];case 1:return t=a.sent(),n=t[0],(r=t[1])&&this.isCachedDataFresh(e.cacheMaxAgeMillis,n)?[2,r]:(e.eTag=r&&r.eTag,[4,this.client.fetch(e)]);case 2:return i=a.sent(),o=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())],200===i.status&&o.push(this.storage.setLastSuccessfulFetchResponse(i)),[4,Promise.all(o)];case 3:return a.sent(),[2,i]}})})},e}(),Vi=((Hi={})["registration-window"]="Undefined window object. This SDK only supports usage in a browser environment.",Hi["registration-project-id"]="Undefined project identifier. Check Firebase app initialization.",Hi["registration-api-key"]="Undefined API key. Check Firebase app initialization.",Hi["registration-app-id"]="Undefined app identifier. Check Firebase app initialization.",Hi["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",Hi["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",Hi["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",Hi["storage-delete"]="Error thrown when deleting from storage. Original error: {$originalErrorMessage}.",Hi["fetch-client-network"]="Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",Hi["fetch-timeout"]='The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',Hi["fetch-throttle"]='The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',Hi["fetch-client-parse"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",Hi["fetch-status"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",Hi),qi=new a.ErrorFactory("remoteconfig","Remote Config",Vi);var Gi=function(){function e(e,t,n,r,i,o){this.firebaseInstallations=e,this.sdkVersion=t,this.namespace=n,this.projectId=r,this.apiKey=i,this.appId=o}return e.prototype.fetch=function(e){return Object(u.__awaiter)(this,void 0,void 0,function(){var t,n,r,i,o,a,s,c,l,h,f,d,p,g,y,v,m,b,_;return Object(u.__generator)(this,function(u){switch(u.label){case 0:return[4,Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()])];case 1:t=u.sent(),n=t[0],r=t[1],i=window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com",o=i+"/v1/projects/"+this.projectId+"/namespaces/"+this.namespace+":fetch?key="+this.apiKey,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},s={sdk_version:this.sdkVersion,app_instance_id:n,app_instance_id_token:r,app_id:this.appId,language_code:(void 0===w&&(w=navigator),w.languages&&w.languages[0]||w.language)},c={method:"POST",headers:a,body:JSON.stringify(s)},l=fetch(o,c),h=new Promise(function(t,n){e.signal.addEventListener(function(){var e=new Error("The operation was aborted.");e.name="AbortError",n(e)})}),u.label=2;case 2:return u.trys.push([2,5,,6]),[4,Promise.race([l,h])];case 3:return u.sent(),[4,l];case 4:return f=u.sent(),[3,6];case 5:throw d=u.sent(),p="fetch-client-network","AbortError"===d.name&&(p="fetch-timeout"),qi.create(p,{originalErrorMessage:d.message});case 6:if(g=f.status,y=f.headers.get("ETag")||void 0,200!==f.status)return[3,11];b=void 0,u.label=7;case 7:return u.trys.push([7,9,,10]),[4,f.json()];case 8:return b=u.sent(),[3,10];case 9:throw _=u.sent(),qi.create("fetch-client-parse",{originalErrorMessage:_.message});case 10:v=b.entries,m=b.state,u.label=11;case 11:if("INSTANCE_STATE_UNSPECIFIED"===m?g=500:"NO_CHANGE"===m?g=304:"NO_TEMPLATE"!==m&&"EMPTY_CONFIG"!==m||(v={}),304!==g&&200!==g)throw qi.create("fetch-status",{httpStatus:g});return[2,{status:g,eTag:y,config:v}]}var w})})},e}(),zi=function(){function e(){this.listeners=[]}return e.prototype.addEventListener=function(e){this.listeners.push(e)},e.prototype.abort=function(){this.listeners.forEach(function(e){return e()})},e}(),Wi="",Ki=["1","true","t","yes","y","on"],Yi=function(){function e(e,t){void 0===t&&(t=Wi),this._source=e,this._value=t}return e.prototype.asString=function(){return this._value},e.prototype.asBoolean=function(){return"static"!==this._source&&Ki.indexOf(this._value.toLowerCase())>=0},e.prototype.asNumber=function(){if("static"===this._source)return 0;var e=Number(this._value);return isNaN(e)&&(e=0),e},e.prototype.getSource=function(){return this._source},e}(),Qi=6e4,$i=432e5,Xi=function(){function e(e,t,n,r,i){this.app=e,this._client=t,this._storageCache=n,this._storage=r,this._logger=i,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:Qi,minimumFetchIntervalMillis:$i},this.defaultConfig={}}return e.prototype.setLogLevel=function(e){switch(e){case"debug":this._logger.logLevel=s.LogLevel.DEBUG;break;case"silent":this._logger.logLevel=s.LogLevel.SILENT;break;default:this._logger.logLevel=s.LogLevel.ERROR}},Object.defineProperty(e.prototype,"fetchTimeMillis",{get:function(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastFetchStatus",{get:function(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"},enumerable:!1,configurable:!0}),e.prototype.activate=function(){return Object(u.__awaiter)(this,void 0,void 0,function(){var e,t,n;return Object(u.__generator)(this,function(r){switch(r.label){case 0:return[4,Promise.all([this._storage.getLastSuccessfulFetchResponse(),this._storage.getActiveConfigEtag()])];case 1:return e=r.sent(),t=e[0],n=e[1],t&&t.config&&t.eTag&&t.eTag!==n?[4,Promise.all([this._storageCache.setActiveConfig(t.config),this._storage.setActiveConfigEtag(t.eTag)])]:[2,!1];case 2:return r.sent(),[2,!0]}})})},e.prototype.ensureInitialized=function(){var e=this;return this._initializePromise||(this._initializePromise=this._storageCache.loadFromStorage().then(function(){e._isInitializationComplete=!0})),this._initializePromise},e.prototype.fetch=function(){return Object(u.__awaiter)(this,void 0,void 0,function(){var e,t,n,r=this;return Object(u.__generator)(this,function(i){switch(i.label){case 0:e=new zi,setTimeout(function(){return Object(u.__awaiter)(r,void 0,void 0,function(){return Object(u.__generator)(this,function(t){return e.abort(),[2]})})},this.settings.fetchTimeoutMillis),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,this._client.fetch({cacheMaxAgeMillis:this.settings.minimumFetchIntervalMillis,signal:e})];case 2:return i.sent(),[4,this._storageCache.setLastFetchStatus("success")];case 3:return i.sent(),[3,6];case 4:return t=i.sent(),s="fetch-throttle",n=(o=t)instanceof a.FirebaseError&&-1!==o.code.indexOf(s)?"throttle":"failure",[4,this._storageCache.setLastFetchStatus(n)];case 5:throw i.sent(),t;case 6:return[2]}var o,s})})},e.prototype.fetchAndActivate=function(){return Object(u.__awaiter)(this,void 0,void 0,function(){return Object(u.__generator)(this,function(e){switch(e.label){case 0:return[4,this.fetch()];case 1:return e.sent(),[2,this.activate()]}})})},e.prototype.getAll=function(){var e=this;return function(e,t){void 0===e&&(e={});void 0===t&&(t={});return Object.keys(Object(u.__assign)(Object(u.__assign)({},e),t))}(this._storageCache.getActiveConfig(),this.defaultConfig).reduce(function(t,n){return t[n]=e.getValue(n),t},{})},e.prototype.getBoolean=function(e){return this.getValue(e).asBoolean()},e.prototype.getNumber=function(e){return this.getValue(e).asNumber()},e.prototype.getString=function(e){return this.getValue(e).asString()},e.prototype.getValue=function(e){this._isInitializationComplete||this._logger.debug('A value was requested for key "'+e+'" before SDK initialization completed. Await on ensureInitialized if the intent was to get a previously activated value.');var t=this._storageCache.getActiveConfig();return t&&void 0!==t[e]?new Yi("remote",t[e]):this.defaultConfig&&void 0!==this.defaultConfig[e]?new Yi("default",String(this.defaultConfig[e])):(this._logger.debug('Returning static value for key "'+e+'". Define a default or remote value if this is unintentional.'),new Yi("static"))},e}();function Ji(e,t){var n=e.target.error||void 0;return qi.create(t,{originalErrorMessage:n&&n.message})}var Zi="app_namespace_store",eo="firebase_remote_config",to=1;var no=function(){function e(e,t,n,r){void 0===r&&(r=new Promise(function(e,t){var n=indexedDB.open(eo,to);n.onerror=function(e){t(Ji(e,"storage-open"))},n.onsuccess=function(t){e(t.target.result)},n.onupgradeneeded=function(e){var t=e.target.result;switch(e.oldVersion){case 0:t.createObjectStore(Zi,{keyPath:"compositeKey"})}}})),this.appId=e,this.appName=t,this.namespace=n,this.openDbPromise=r}return e.prototype.getLastFetchStatus=function(){return this.get("last_fetch_status")},e.prototype.setLastFetchStatus=function(e){return this.set("last_fetch_status",e)},e.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.get("last_successful_fetch_timestamp_millis")},e.prototype.setLastSuccessfulFetchTimestampMillis=function(e){return this.set("last_successful_fetch_timestamp_millis",e)},e.prototype.getLastSuccessfulFetchResponse=function(){return this.get("last_successful_fetch_response")},e.prototype.setLastSuccessfulFetchResponse=function(e){return this.set("last_successful_fetch_response",e)},e.prototype.getActiveConfig=function(){return this.get("active_config")},e.prototype.setActiveConfig=function(e){return this.set("active_config",e)},e.prototype.getActiveConfigEtag=function(){return this.get("active_config_etag")},e.prototype.setActiveConfigEtag=function(e){return this.set("active_config_etag",e)},e.prototype.getThrottleMetadata=function(){return this.get("throttle_metadata")},e.prototype.setThrottleMetadata=function(e){return this.set("throttle_metadata",e)},e.prototype.deleteThrottleMetadata=function(){return this.delete("throttle_metadata")},e.prototype.get=function(e){return Object(u.__awaiter)(this,void 0,void 0,function(){var t,n=this;return Object(u.__generator)(this,function(r){switch(r.label){case 0:return[4,this.openDbPromise];case 1:return t=r.sent(),[2,new Promise(function(r,i){var o=t.transaction([Zi],"readonly").objectStore(Zi),a=n.createCompositeKey(e);try{var s=o.get(a);s.onerror=function(e){i(Ji(e,"storage-get"))},s.onsuccess=function(e){var t=e.target.result;r(t?t.value:void 0)}}catch(u){i(qi.create("storage-get",{originalErrorMessage:u&&u.message}))}})]}})})},e.prototype.set=function(e,t){return Object(u.__awaiter)(this,void 0,void 0,function(){var n,r=this;return Object(u.__generator)(this,function(i){switch(i.label){case 0:return[4,this.openDbPromise];case 1:return n=i.sent(),[2,new Promise(function(i,o){var a=n.transaction([Zi],"readwrite").objectStore(Zi),s=r.createCompositeKey(e);try{var u=a.put({compositeKey:s,value:t});u.onerror=function(e){o(Ji(e,"storage-set"))},u.onsuccess=function(){i()}}catch(c){o(qi.create("storage-set",{originalErrorMessage:c&&c.message}))}})]}})})},e.prototype.delete=function(e){return Object(u.__awaiter)(this,void 0,void 0,function(){var t,n=this;return Object(u.__generator)(this,function(r){switch(r.label){case 0:return[4,this.openDbPromise];case 1:return t=r.sent(),[2,new Promise(function(r,i){var o=t.transaction([Zi],"readwrite").objectStore(Zi),a=n.createCompositeKey(e);try{var s=o.delete(a);s.onerror=function(e){i(Ji(e,"storage-delete"))},s.onsuccess=function(){r()}}catch(u){i(qi.create("storage-delete",{originalErrorMessage:u&&u.message}))}})]}})})},e.prototype.createCompositeKey=function(e){return[this.appId,this.appName,this.namespace,e].join()},e}(),ro=function(){function e(e){this.storage=e}return e.prototype.getLastFetchStatus=function(){return this.lastFetchStatus},e.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.lastSuccessfulFetchTimestampMillis},e.prototype.getActiveConfig=function(){return this.activeConfig},e.prototype.loadFromStorage=function(){return Object(u.__awaiter)(this,void 0,void 0,function(){var e,t,n,r,i,o;return Object(u.__generator)(this,function(a){switch(a.label){case 0:return e=this.storage.getLastFetchStatus(),t=this.storage.getLastSuccessfulFetchTimestampMillis(),n=this.storage.getActiveConfig(),[4,e];case 1:return(r=a.sent())&&(this.lastFetchStatus=r),[4,t];case 2:return(i=a.sent())&&(this.lastSuccessfulFetchTimestampMillis=i),[4,n];case 3:return(o=a.sent())&&(this.activeConfig=o),[2]}})})},e.prototype.setLastFetchStatus=function(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)},e.prototype.setLastSuccessfulFetchTimestampMillis=function(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)},e.prototype.setActiveConfig=function(e){return this.activeConfig=e,this.storage.setActiveConfig(e)},e}();function io(e,t){return new Promise(function(n,r){var i=Math.max(t-Date.now(),0),o=setTimeout(n,i);e.addEventListener(function(){clearTimeout(o),r(qi.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}var oo,ao=function(){function e(e,t){this.client=e,this.storage=t}return e.prototype.fetch=function(e){return Object(u.__awaiter)(this,void 0,void 0,function(){var t;return Object(u.__generator)(this,function(n){switch(n.label){case 0:return[4,this.storage.getThrottleMetadata()];case 1:return t=n.sent()||{backoffCount:0,throttleEndTimeMillis:Date.now()},[2,this.attemptFetch(e,t)]}})})},e.prototype.attemptFetch=function(e,t){var n=t.throttleEndTimeMillis,r=t.backoffCount;return Object(u.__awaiter)(this,void 0,void 0,function(){var t,i,o;return Object(u.__generator)(this,function(s){switch(s.label){case 0:return[4,io(e.signal,n)];case 1:s.sent(),s.label=2;case 2:return s.trys.push([2,5,,7]),[4,this.client.fetch(e)];case 3:return t=s.sent(),[4,this.storage.deleteThrottleMetadata()];case 4:return s.sent(),[2,t];case 5:if(!function(e){if(!(e instanceof a.FirebaseError)||!e.customData)return!1;var t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(i=s.sent()))throw i;return o={throttleEndTimeMillis:Date.now()+Object(a.calculateBackoffMillis)(r),backoffCount:r+1},[4,this.storage.setThrottleMetadata(o)];case 6:return s.sent(),[2,this.attemptFetch(e,o)];case 7:return[2]}})})},e}(),so="@firebase/remote-config",uo="0.1.43";(oo=i.default).INTERNAL.registerComponent(new c.Component("remoteConfig",function(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("installations").getImmediate();if("undefined"===typeof window)throw qi.create("registration-window");var o=r.options,a=o.projectId,u=o.apiKey,c=o.appId;if(!a)throw qi.create("registration-project-id");if(!u)throw qi.create("registration-api-key");if(!c)throw qi.create("registration-app-id");n=n||"firebase";var l=new no(c,r.name,n),h=new ro(l),f=new s.Logger(so);f.logLevel=s.LogLevel.ERROR;var d=new Gi(i,oo.SDK_VERSION,n,a,u,c),p=new ao(d,l),g=new Bi(p,l,h,f),y=new Xi(r,g,h,l,f);return y.ensureInitialized(),y},"PUBLIC").setMultipleInstances(!0)),oo.registerVersion(so,uo);n(816);n.d(t,"a",function(){return i.default});i.default.registerVersion("firebase","8.10.1","app"),i.default.SDK_VERSION="8.10.1";console.warn("\nIt looks like you're using the development build of the Firebase JS SDK.\nWhen deploying Firebase apps to production, it is advisable to only import\nthe individual SDK components you intend to use.\n\nFor the module builds, these are available in the following manner\n(replace <PACKAGE> with the name of a component - i.e. auth, database, etc):\n\nCommonJS Modules:\nconst firebase = require('firebase/app');\nrequire('firebase/<PACKAGE>');\n\nES Modules:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n\nTypescript:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n"),i.default.registerVersion("firebase","8.10.1")},function(e,t,n){"use strict";n.d(t,"a",function(){return h}),n.d(t,"b",function(){return f}),n.d(t,"c",function(){return m}),n.d(t,"d",function(){return w});var r=n(82),i=n(25),o=n(0),a=n.n(o),s=n(83),u=(n(7),n(3)),c=n(31),l=n(75),h=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).history=Object(s.a)(t.props),t}return Object(i.a)(t,e),t.prototype.render=function(){return a.a.createElement(r.c,{history:this.history,children:this.props.children})},t}(a.a.Component);var f=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).history=Object(s.b)(t.props),t}return Object(i.a)(t,e),t.prototype.render=function(){return a.a.createElement(r.c,{history:this.history,children:this.props.children})},t}(a.a.Component);var d=function(e,t){return"function"===typeof e?e(t):e},p=function(e,t){return"string"===typeof e?Object(s.c)(e,null,null,t):e},g=function(e){return e},y=a.a.forwardRef;"undefined"===typeof y&&(y=g);var v=y(function(e,t){var n=e.innerRef,r=e.navigate,i=e.onClick,o=Object(c.a)(e,["innerRef","navigate","onClick"]),s=o.target,l=Object(u.a)({},o,{onClick:function(e){try{i&&i(e)}catch(t){throw e.preventDefault(),t}e.defaultPrevented||0!==e.button||s&&"_self"!==s||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)||(e.preventDefault(),r())}});return l.ref=g!==y&&t||n,a.a.createElement("a",l)});var m=y(function(e,t){var n=e.component,i=void 0===n?v:n,o=e.replace,s=e.to,h=e.innerRef,f=Object(c.a)(e,["component","replace","to","innerRef"]);return a.a.createElement(r.e.Consumer,null,function(e){e||Object(l.a)(!1);var n=e.history,r=p(d(s,e.location),e.location),c=r?n.createHref(r):"",v=Object(u.a)({},f,{href:c,navigate:function(){var t=d(s,e.location);(o?n.replace:n.push)(t)}});return g!==y?v.ref=t||h:v.innerRef=h,a.a.createElement(i,v)})}),b=function(e){return e},_=a.a.forwardRef;"undefined"===typeof _&&(_=b);var w=_(function(e,t){var n=e["aria-current"],i=void 0===n?"page":n,o=e.activeClassName,s=void 0===o?"active":o,h=e.activeStyle,f=e.className,g=e.exact,y=e.isActive,v=e.location,w=e.strict,E=e.style,S=e.to,C=e.innerRef,O=Object(c.a)(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","strict","style","to","innerRef"]);return a.a.createElement(r.e.Consumer,null,function(e){e||Object(l.a)(!1);var n=v||e.location,o=p(d(S,n),n),c=o.pathname,T=c&&c.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),k=T?Object(r.f)(n.pathname,{path:T,exact:g,strict:w}):null,I=!!(y?y(k,n):k),A=I?function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(function(e){return e}).join(" ")}(f,s):f,N=I?Object(u.a)({},E,{},h):E,R=Object(u.a)({"aria-current":I&&i||null,className:A,style:N,to:o},O);return b!==_?R.ref=t||C:R.innerRef=C,a.a.createElement(m,R)})})},function(e,t,n){"use strict";function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}n.d(t,"a",function(){return r})},function(e,t,n){var r,i,o=n(14),a=n(102),s=o.process,u=o.Deno,c=s&&s.versions||u&&u.version,l=c&&c.v8;l&&(i=(r=l.split("."))[0]>0&&r[0]<4?1:+(r[0]+r[1])),!i&&a&&(!(r=a.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=a.match(/Chrome\/(\d+)/))&&(i=+r[1]),e.exports=i},function(e,t,n){var r=n(37);e.exports=r("navigator","userAgent")||""},function(e,t,n){var r=n(49);e.exports=function(e,t){var n=e[t];return null==n?void 0:r(n)}},function(e,t,n){var r=n(50),i=Math.max,o=Math.min;e.exports=function(e,t){var n=r(e);return n<0?i(n+t,0):o(n,t)}},function(e,t,n){"use strict";var r=n(113),i=n(33),o=n(77);e.exports=function(e,t,n){var a=r(t);a in e?i.f(e,a,o(0,n)):e[a]=n}},function(e,t,n){var r=n(273),i=n(23),o=n(66),a=n(22)("toStringTag"),s=Object,u="Arguments"==o(function(){return arguments}());e.exports=r?o:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(n){}}(t=s(e),a))?n:u?o(t):"Object"==(r=o(t))&&i(t.callee)?"Arguments":r}},function(e,t,n){"use strict";var r=n(9);e.exports=function(e,t){var n=[][e];return!!n&&r(function(){n.call(null,t||function(){return 1},1)})}},function(e,t,n){"use strict";var r=n(4),i=n(14),o=n(19),a=n(17),s=n(297),u=n(27),c=n(221),l=n(94),h=n(77),f=n(62),d=n(290),p=n(67),g=n(387),y=n(409),v=n(113),m=n(26),b=n(106),_=n(21),w=n(127),E=n(68),S=n(78),C=n(92),O=n(114).f,T=n(410),k=n(53).forEach,I=n(157),A=n(33),N=n(55),R=n(46),P=n(156),x=R.get,M=R.set,L=R.enforce,D=A.f,j=N.f,U=Math.round,F=i.RangeError,H=c.ArrayBuffer,B=H.prototype,V=c.DataView,q=u.NATIVE_ARRAY_BUFFER_VIEWS,G=u.TYPED_ARRAY_TAG,z=u.TypedArray,W=u.TypedArrayPrototype,K=u.aTypedArrayConstructor,Y=u.isTypedArray,Q=function(e,t){K(e);for(var n=0,r=t.length,i=new e(r);r>n;)i[n]=t[n++];return i},$=function(e,t){D(e,t,{get:function(){return x(this)[t]}})},X=function(e){var t;return S(B,e)||"ArrayBuffer"==(t=b(e))||"SharedArrayBuffer"==t},J=function(e,t){return Y(e)&&!w(t)&&t in e&&d(+t)&&t>=0},Z=function(e,t){return t=v(t),J(e,t)?h(2,e[t]):j(e,t)},ee=function(e,t,n){return t=v(t),!(J(e,t)&&_(n)&&m(n,"value"))||m(n,"get")||m(n,"set")||n.configurable||m(n,"writable")&&!n.writable||m(n,"enumerable")&&!n.enumerable?D(e,t,n):(e[t]=n.value,e)};a?(q||(N.f=Z,A.f=ee,$(W,"buffer"),$(W,"byteOffset"),$(W,"byteLength"),$(W,"length")),r({target:"Object",stat:!0,forced:!q},{getOwnPropertyDescriptor:Z,defineProperty:ee}),e.exports=function(e,t,n){var a=e.match(/\d+$/)[0]/8,u=e+(n?"Clamped":"")+"Array",c="get"+e,h="set"+e,d=i[u],v=d,m=v&&v.prototype,b={},w=function(e,t){D(e,t,{get:function(){return function(e,t){var n=x(e);return n.view[c](t*a+n.byteOffset,!0)}(this,t)},set:function(e){return function(e,t,r){var i=x(e);n&&(r=(r=U(r))<0?0:r>255?255:255&r),i.view[h](t*a+i.byteOffset,r,!0)}(this,t,e)},enumerable:!0})};q?s&&(v=t(function(e,t,n,r){return l(e,m),P(_(t)?X(t)?void 0!==r?new d(t,y(n,a),r):void 0!==n?new d(t,y(n,a)):new d(t):Y(t)?Q(v,t):o(T,v,t):new d(g(t)),e,v)}),C&&C(v,z),k(O(d),function(e){e in v||f(v,e,d[e])}),v.prototype=m):(v=t(function(e,t,n,r){l(e,m);var i,s,u,c=0,h=0;if(_(t)){if(!X(t))return Y(t)?Q(v,t):o(T,v,t);i=t,h=y(n,a);var f=t.byteLength;if(void 0===r){if(f%a)throw F("Wrong length");if((s=f-h)<0)throw F("Wrong length")}else if((s=p(r)*a)+h>f)throw F("Wrong length");u=s/a}else u=g(t),i=new H(s=u*a);for(M(e,{buffer:i,byteOffset:h,byteLength:s,length:u,view:new V(i)});c<u;)w(e,c++)}),C&&C(v,z),m=v.prototype=E(W)),m.constructor!==v&&f(m,"constructor",v),L(m).TypedArrayConstructor=v,G&&f(m,G,u);var S=v!=d;b[u]=v,r({global:!0,constructor:!0,forced:S,sham:!q},b),"BYTES_PER_ELEMENT"in v||f(v,"BYTES_PER_ELEMENT",a),"BYTES_PER_ELEMENT"in m||f(m,"BYTES_PER_ELEMENT",a),I(u)}):e.exports=function(){}},function(e,t,n){var r=n(95),i=n(86),o=n(162),a=n(117),s=n(133),u=function e(t,n,u){var c,l,h,f=t&e.F,d=t&e.G,p=t&e.S,g=t&e.P,y=t&e.B,v=t&e.W,m=d?i:i[n]||(i[n]={}),b=m.prototype,_=d?r:p?r[n]:(r[n]||{}).prototype;for(c in d&&(u=n),u)(l=!f&&_&&void 0!==_[c])&&s(m,c)||(h=l?_[c]:u[c],m[c]=d&&"function"!=typeof _[c]?u[c]:y&&l?o(h,r):v&&_[c]==h?function(e){var t=function(t,n,r){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,r)}return e.apply(this,arguments)};return t.prototype=e.prototype,t}(h):g&&"function"==typeof h?o(Function.call,h):h,g&&((m.virtual||(m.virtual={}))[c]=h,t&e.R&&b&&!b[c]&&a(b,c,h)))};u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,e.exports=u},function(e,t,n){var r=n(118),i=n(443),o=n(300),a=Object.defineProperty;t.f=n(96)?Object.defineProperty:function(e,t,n){if(r(e),t=o(t,!0),r(n),i)try{return a(e,t,n)}catch(s){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t){e.exports=function(e){return"object"===typeof e?null!==e:"function"===typeof e}},function(e,t,n){"use strict";var r=n(3),i=n(5),o=n(0),a=(n(7),n(6)),s=n(8),u=n(13),c={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p"},l=o.forwardRef(function(e,t){var n=e.align,s=void 0===n?"inherit":n,l=e.classes,h=e.className,f=e.color,d=void 0===f?"initial":f,p=e.component,g=e.display,y=void 0===g?"initial":g,v=e.gutterBottom,m=void 0!==v&&v,b=e.noWrap,_=void 0!==b&&b,w=e.paragraph,E=void 0!==w&&w,S=e.variant,C=void 0===S?"body1":S,O=e.variantMapping,T=void 0===O?c:O,k=Object(i.a)(e,["align","classes","className","color","component","display","gutterBottom","noWrap","paragraph","variant","variantMapping"]),I=p||(E?"p":T[C]||c[C])||"span";return o.createElement(I,Object(r.a)({className:Object(a.a)(l.root,h,"inherit"!==C&&l[C],"initial"!==d&&l["color".concat(Object(u.a)(d))],_&&l.noWrap,m&&l.gutterBottom,E&&l.paragraph,"inherit"!==s&&l["align".concat(Object(u.a)(s))],"initial"!==y&&l["display".concat(Object(u.a)(y))]),ref:t},k))});t.a=Object(s.a)(function(e){return{root:{margin:0},body2:e.typography.body2,body1:e.typography.body1,caption:e.typography.caption,button:e.typography.button,h1:e.typography.h1,h2:e.typography.h2,h3:e.typography.h3,h4:e.typography.h4,h5:e.typography.h5,h6:e.typography.h6,subtitle1:e.typography.subtitle1,subtitle2:e.typography.subtitle2,overline:e.typography.overline,srOnly:{position:"absolute",height:1,width:1,overflow:"hidden"},alignLeft:{textAlign:"left"},alignCenter:{textAlign:"center"},alignRight:{textAlign:"right"},alignJustify:{textAlign:"justify"},noWrap:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},gutterBottom:{marginBottom:"0.35em"},paragraph:{marginBottom:16},colorInherit:{color:"inherit"},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},colorTextPrimary:{color:e.palette.text.primary},colorTextSecondary:{color:e.palette.text.secondary},colorError:{color:e.palette.error.main},displayInline:{display:"inline"},displayBlock:{display:"block"}}},{name:"MuiTypography"})(l)},function(e,t,n){var r=n(206),i=n(127);e.exports=function(e){var t=r(e,"string");return i(t)?t:t+""}},function(e,t,n){var r=n(343),i=n(272).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},function(e,t,n){var r=n(66),i=n(14);e.exports="process"==r(i.process)},function(e,t){var n=TypeError;e.exports=function(e,t){if(e<t)throw n("Not enough arguments");return e}},function(e,t,n){var r=n(110),i=n(238);e.exports=n(96)?function(e,t,n){return r.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var r=n(111);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t,n){"use strict";var r=n(0),i=r.createContext({});t.a=i},function(e,t,n){"use strict";function r(e,t){"function"===typeof e?e(t):e&&(e.current=t)}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";var r=n(0),i=n.n(r),o=(n(7),i.a.createContext(null));var a=function(e){e()},s=function(){return a},u={notify:function(){}};var c=function(){function e(e,t){this.store=e,this.parentSub=t,this.unsubscribe=null,this.listeners=u,this.handleChangeWrapper=this.handleChangeWrapper.bind(this)}var t=e.prototype;return t.addNestedSub=function(e){return this.trySubscribe(),this.listeners.subscribe(e)},t.notifyNestedSubs=function(){this.listeners.notify()},t.handleChangeWrapper=function(){this.onStateChange&&this.onStateChange()},t.isSubscribed=function(){return Boolean(this.unsubscribe)},t.trySubscribe=function(){this.unsubscribe||(this.unsubscribe=this.parentSub?this.parentSub.addNestedSub(this.handleChangeWrapper):this.store.subscribe(this.handleChangeWrapper),this.listeners=function(){var e=s(),t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e(function(){for(var e=t;e;)e.callback(),e=e.next})},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var r=!0,i=n={callback:e,next:null,prev:n};return i.prev?i.prev.next=i:t=i,function(){r&&null!==t&&(r=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}())},t.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null,this.listeners.clear(),this.listeners=u)},e}();var l=function(e){var t=e.store,n=e.context,a=e.children,s=Object(r.useMemo)(function(){var e=new c(t);return e.onStateChange=e.notifyNestedSubs,{store:t,subscription:e}},[t]),u=Object(r.useMemo)(function(){return t.getState()},[t]);Object(r.useEffect)(function(){var e=s.subscription;return e.trySubscribe(),u!==t.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=null}},[s,u]);var l=n||o;return i.a.createElement(l.Provider,{value:s},a)},h=n(3),f=n(31),d=n(64),p=n.n(d),g=n(463),y="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement?r.useLayoutEffect:r.useEffect,v=[],m=[null,null];function b(e,t){var n=e[1];return[t.payload,n+1]}function _(e,t,n){y(function(){return e.apply(void 0,t)},n)}function w(e,t,n,r,i,o,a){e.current=r,t.current=i,n.current=!1,o.current&&(o.current=null,a())}function E(e,t,n,r,i,o,a,s,u,c){if(e){var l=!1,h=null,f=function(){if(!l){var e,n,f=t.getState();try{e=r(f,i.current)}catch(d){n=d,h=d}n||(h=null),e===o.current?a.current||u():(o.current=e,s.current=e,a.current=!0,c({type:"STORE_UPDATED",payload:{error:n}}))}};n.onStateChange=f,n.trySubscribe(),f();return function(){if(l=!0,n.tryUnsubscribe(),n.onStateChange=null,h)throw h}}}var S=function(){return[null,0]};function C(e,t){void 0===t&&(t={});var n=t,a=n.getDisplayName,s=void 0===a?function(e){return"ConnectAdvanced("+e+")"}:a,u=n.methodName,l=void 0===u?"connectAdvanced":u,d=n.renderCountProp,y=void 0===d?void 0:d,C=n.shouldHandleStateChanges,O=void 0===C||C,T=n.storeKey,k=void 0===T?"store":T,I=(n.withRef,n.forwardRef),A=void 0!==I&&I,N=n.context,R=void 0===N?o:N,P=Object(f.a)(n,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"]),x=R;return function(t){var n=t.displayName||t.name||"Component",o=s(n),a=Object(h.a)({},P,{getDisplayName:s,methodName:l,renderCountProp:y,shouldHandleStateChanges:O,storeKey:k,displayName:o,wrappedComponentName:n,WrappedComponent:t}),u=P.pure;var d=u?r.useMemo:function(e){return e()};function C(n){var o=Object(r.useMemo)(function(){var e=n.forwardedRef,t=Object(f.a)(n,["forwardedRef"]);return[n.context,e,t]},[n]),s=o[0],u=o[1],l=o[2],p=Object(r.useMemo)(function(){return s&&s.Consumer&&Object(g.isContextConsumer)(i.a.createElement(s.Consumer,null))?s:x},[s,x]),y=Object(r.useContext)(p),C=Boolean(n.store)&&Boolean(n.store.getState)&&Boolean(n.store.dispatch);Boolean(y)&&Boolean(y.store);var T=C?n.store:y.store,k=Object(r.useMemo)(function(){return function(t){return e(t.dispatch,a)}(T)},[T]),I=Object(r.useMemo)(function(){if(!O)return m;var e=new c(T,C?null:y.subscription),t=e.notifyNestedSubs.bind(e);return[e,t]},[T,C,y]),A=I[0],N=I[1],R=Object(r.useMemo)(function(){return C?y:Object(h.a)({},y,{subscription:A})},[C,y,A]),P=Object(r.useReducer)(b,v,S),M=P[0][0],L=P[1];if(M&&M.error)throw M.error;var D=Object(r.useRef)(),j=Object(r.useRef)(l),U=Object(r.useRef)(),F=Object(r.useRef)(!1),H=d(function(){return U.current&&l===j.current?U.current:k(T.getState(),l)},[T,M,l]);_(w,[j,D,F,l,H,U,N]),_(E,[O,T,A,k,j,D,F,U,N,L],[T,A,k]);var B=Object(r.useMemo)(function(){return i.a.createElement(t,Object(h.a)({},H,{ref:u}))},[u,t,H]);return Object(r.useMemo)(function(){return O?i.a.createElement(p.Provider,{value:R},B):B},[p,B,R])}var T=u?i.a.memo(C):C;if(T.WrappedComponent=t,T.displayName=o,A){var I=i.a.forwardRef(function(e,t){return i.a.createElement(T,Object(h.a)({},e,{forwardedRef:t}))});return I.displayName=o,I.WrappedComponent=t,p()(I,t)}return p()(T,t)}}function O(e,t){return e===t?0!==e||0!==t||1/e===1/t:e!==e&&t!==t}function T(e,t){if(O(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!O(e[n[i]],t[n[i]]))return!1;return!0}var k=n(167);function I(e){return function(t,n){var r=e(t,n);function i(){return r}return i.dependsOnOwnProps=!1,i}}function A(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function N(e,t){return function(t,n){n.displayName;var r=function(e,t){return r.dependsOnOwnProps?r.mapToProps(e,t):r.mapToProps(e)};return r.dependsOnOwnProps=!0,r.mapToProps=function(t,n){r.mapToProps=e,r.dependsOnOwnProps=A(e);var i=r(t,n);return"function"===typeof i&&(r.mapToProps=i,r.dependsOnOwnProps=A(i),i=r(t,n)),i},r}}var R=[function(e){return"function"===typeof e?N(e):void 0},function(e){return e?void 0:I(function(e){return{dispatch:e}})},function(e){return e&&"object"===typeof e?I(function(t){return Object(k.a)(e,t)}):void 0}];var P=[function(e){return"function"===typeof e?N(e):void 0},function(e){return e?void 0:I(function(){return{}})}];function x(e,t,n){return Object(h.a)({},n,{},e,{},t)}var M=[function(e){return"function"===typeof e?function(e){return function(t,n){n.displayName;var r,i=n.pure,o=n.areMergedPropsEqual,a=!1;return function(t,n,s){var u=e(t,n,s);return a?i&&o(u,r)||(r=u):(a=!0,r=u),r}}}(e):void 0},function(e){return e?void 0:function(){return x}}];function L(e,t,n,r){return function(i,o){return n(e(i,o),t(r,o),o)}}function D(e,t,n,r,i){var o,a,s,u,c,l=i.areStatesEqual,h=i.areOwnPropsEqual,f=i.areStatePropsEqual,d=!1;function p(i,d){var p=!h(d,a),g=!l(i,o);return o=i,a=d,p&&g?(s=e(o,a),t.dependsOnOwnProps&&(u=t(r,a)),c=n(s,u,a)):p?(e.dependsOnOwnProps&&(s=e(o,a)),t.dependsOnOwnProps&&(u=t(r,a)),c=n(s,u,a)):g?function(){var t=e(o,a),r=!f(t,s);return s=t,r&&(c=n(s,u,a)),c}():c}return function(i,l){return d?p(i,l):(s=e(o=i,a=l),u=t(r,a),c=n(s,u,a),d=!0,c)}}function j(e,t){var n=t.initMapStateToProps,r=t.initMapDispatchToProps,i=t.initMergeProps,o=Object(f.a)(t,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]),a=n(e,o),s=r(e,o),u=i(e,o);return(o.pure?D:L)(a,s,u,e,o)}function U(e,t,n){for(var r=t.length-1;r>=0;r--){var i=t[r](e);if(i)return i}return function(t,r){throw new Error("Invalid value of type "+typeof e+" for "+n+" argument when connecting component "+r.wrappedComponentName+".")}}function F(e,t){return e===t}function H(e){var t=void 0===e?{}:e,n=t.connectHOC,r=void 0===n?C:n,i=t.mapStateToPropsFactories,o=void 0===i?P:i,a=t.mapDispatchToPropsFactories,s=void 0===a?R:a,u=t.mergePropsFactories,c=void 0===u?M:u,l=t.selectorFactory,d=void 0===l?j:l;return function(e,t,n,i){void 0===i&&(i={});var a=i,u=a.pure,l=void 0===u||u,p=a.areStatesEqual,g=void 0===p?F:p,y=a.areOwnPropsEqual,v=void 0===y?T:y,m=a.areStatePropsEqual,b=void 0===m?T:m,_=a.areMergedPropsEqual,w=void 0===_?T:_,E=Object(f.a)(a,["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"]),S=U(e,o,"mapStateToProps"),C=U(t,s,"mapDispatchToProps"),O=U(n,c,"mergeProps");return r(d,Object(h.a)({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:S,initMapDispatchToProps:C,initMergeProps:O,pure:l,areStatesEqual:g,areOwnPropsEqual:v,areStatePropsEqual:b,areMergedPropsEqual:w},E))}}var B=H();var V,q=n(30);n.d(t,"a",function(){return l}),n.d(t,"b",function(){return B}),V=q.unstable_batchedUpdates,a=V},function(e,t,n){"use strict";var r=n(495);t.a=function(e,t){return t?Object(r.a)(e,t,{clone:!1}):e}},function(e,t,n){!function(e){"use strict";function t(e){return new Promise(function(t,n){e.onsuccess=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function n(e,n,r){var i,o=new Promise(function(o,a){t(i=e[n].apply(e,r)).then(o,a)});return o.request=i,o}function r(e,t,n){n.forEach(function(n){Object.defineProperty(e.prototype,n,{get:function(){return this[t][n]},set:function(e){this[t][n]=e}})})}function i(e,t,r,i){i.forEach(function(i){i in r.prototype&&(e.prototype[i]=function(){return n(this[t],i,arguments)})})}function o(e,t,n,r){r.forEach(function(r){r in n.prototype&&(e.prototype[r]=function(){return this[t][r].apply(this[t],arguments)})})}function a(e,t,r,i){i.forEach(function(i){i in r.prototype&&(e.prototype[i]=function(){return function(e,t,r){var i=n(e,t,r);return i.then(function(e){if(e)return new u(e,i.request)})}(this[t],i,arguments)})})}function s(e){this._index=e}function u(e,t){this._cursor=e,this._request=t}function c(e){this._store=e}function l(e){this._tx=e,this.complete=new Promise(function(t,n){e.oncomplete=function(){t()},e.onerror=function(){n(e.error)},e.onabort=function(){n(e.error)}})}function h(e,t,n){this._db=e,this.oldVersion=t,this.transaction=new l(n)}function f(e){this._db=e}r(s,"_index",["name","keyPath","multiEntry","unique"]),i(s,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),a(s,"_index",IDBIndex,["openCursor","openKeyCursor"]),r(u,"_cursor",["direction","key","primaryKey","value"]),i(u,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(e){e in IDBCursor.prototype&&(u.prototype[e]=function(){var n=this,r=arguments;return Promise.resolve().then(function(){return n._cursor[e].apply(n._cursor,r),t(n._request).then(function(e){if(e)return new u(e,n._request)})})})}),c.prototype.createIndex=function(){return new s(this._store.createIndex.apply(this._store,arguments))},c.prototype.index=function(){return new s(this._store.index.apply(this._store,arguments))},r(c,"_store",["name","keyPath","indexNames","autoIncrement"]),i(c,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),a(c,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),o(c,"_store",IDBObjectStore,["deleteIndex"]),l.prototype.objectStore=function(){return new c(this._tx.objectStore.apply(this._tx,arguments))},r(l,"_tx",["objectStoreNames","mode"]),o(l,"_tx",IDBTransaction,["abort"]),h.prototype.createObjectStore=function(){return new c(this._db.createObjectStore.apply(this._db,arguments))},r(h,"_db",["name","version","objectStoreNames"]),o(h,"_db",IDBDatabase,["deleteObjectStore","close"]),f.prototype.transaction=function(){return new l(this._db.transaction.apply(this._db,arguments))},r(f,"_db",["name","version","objectStoreNames"]),o(f,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(e){[c,s].forEach(function(t){e in t.prototype&&(t.prototype[e.replace("open","iterate")]=function(){var t,n=(t=arguments,Array.prototype.slice.call(t)),r=n[n.length-1],i=this._store||this._index,o=i[e].apply(i,n.slice(0,-1));o.onsuccess=function(){r(o.result)}})})}),[s,c].forEach(function(e){e.prototype.getAll||(e.prototype.getAll=function(e,t){var n=this,r=[];return new Promise(function(i){n.iterateCursor(e,function(e){e?(r.push(e.value),void 0===t||r.length!=t?e.continue():i(r)):i(r)})})})}),e.openDb=function(e,t,r){var i=n(indexedDB,"open",[e,t]),o=i.request;return o&&(o.onupgradeneeded=function(e){r&&r(new h(o.result,e.oldVersion,o.transaction))}),i.then(function(e){return new f(e)})},e.deleteDb=function(e){return n(indexedDB,"deleteDatabase",[e])},Object.defineProperty(e,"__esModule",{value:!0})}(t)},function(e,t,n){t.__esModule=!0,t.Helmet=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=h(n(0)),a=h(n(7)),s=h(n(805)),u=h(n(806)),c=n(807),l=n(418);function h(e){return e&&e.__esModule?e:{default:e}}function f(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}var d=function(e){var t,n;return n=t=function(t){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,t.apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,t),n.prototype.shouldComponentUpdate=function(e){return!(0,u.default)(this.props,e)},n.prototype.mapNestedChildrenToProps=function(e,t){if(!t)return null;switch(e.type){case l.TAG_NAMES.SCRIPT:case l.TAG_NAMES.NOSCRIPT:return{innerHTML:t};case l.TAG_NAMES.STYLE:return{cssText:t}}throw new Error("<"+e.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},n.prototype.flattenArrayTypeChildren=function(e){var t,n=e.child,i=e.arrayTypeChildren,o=e.newChildProps,a=e.nestedChildren;return r({},i,((t={})[n.type]=[].concat(i[n.type]||[],[r({},o,this.mapNestedChildrenToProps(n,a))]),t))},n.prototype.mapObjectTypeChildren=function(e){var t,n,i=e.child,o=e.newProps,a=e.newChildProps,s=e.nestedChildren;switch(i.type){case l.TAG_NAMES.TITLE:return r({},o,((t={})[i.type]=s,t.titleAttributes=r({},a),t));case l.TAG_NAMES.BODY:return r({},o,{bodyAttributes:r({},a)});case l.TAG_NAMES.HTML:return r({},o,{htmlAttributes:r({},a)})}return r({},o,((n={})[i.type]=r({},a),n))},n.prototype.mapArrayTypeChildrenToProps=function(e,t){var n=r({},t);return Object.keys(e).forEach(function(t){var i;n=r({},n,((i={})[t]=e[t],i))}),n},n.prototype.warnOnInvalidChildren=function(e,t){return!0},n.prototype.mapChildrenToProps=function(e,t){var n=this,r={};return o.default.Children.forEach(e,function(e){if(e&&e.props){var i=e.props,o=i.children,a=f(i,["children"]),s=(0,c.convertReactPropstoHtmlAttributes)(a);switch(n.warnOnInvalidChildren(e,o),e.type){case l.TAG_NAMES.LINK:case l.TAG_NAMES.META:case l.TAG_NAMES.NOSCRIPT:case l.TAG_NAMES.SCRIPT:case l.TAG_NAMES.STYLE:r=n.flattenArrayTypeChildren({child:e,arrayTypeChildren:r,newChildProps:s,nestedChildren:o});break;default:t=n.mapObjectTypeChildren({child:e,newProps:t,newChildProps:s,nestedChildren:o})}}}),t=this.mapArrayTypeChildrenToProps(r,t)},n.prototype.render=function(){var t=this.props,n=t.children,i=f(t,["children"]),a=r({},i);return n&&(a=this.mapChildrenToProps(n,a)),o.default.createElement(e,a)},i(n,null,[{key:"canUseDOM",set:function(t){e.canUseDOM=t}}]),n}(o.default.Component),t.propTypes={base:a.default.object,bodyAttributes:a.default.object,children:a.default.oneOfType([a.default.arrayOf(a.default.node),a.default.node]),defaultTitle:a.default.string,defer:a.default.bool,encodeSpecialCharacters:a.default.bool,htmlAttributes:a.default.object,link:a.default.arrayOf(a.default.object),meta:a.default.arrayOf(a.default.object),noscript:a.default.arrayOf(a.default.object),onChangeClientState:a.default.func,script:a.default.arrayOf(a.default.object),style:a.default.arrayOf(a.default.object),title:a.default.string,titleAttributes:a.default.object,titleTemplate:a.default.string},t.defaultProps={defer:!0,encodeSpecialCharacters:!0},t.peek=e.peek,t.rewind=function(){var t=e.rewind();return t||(t=(0,c.mapStateOnServer)({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),t},n}((0,s.default)(c.reducePropsToState,c.handleClientStateChange,c.mapStateOnServer)(function(){return null}));d.renderStatic=d.rewind,t.Helmet=d,t.default=d},,function(e,t,n){e.exports=n(842)},function(e,t,n){var r=n(37),i=n(23),o=n(78),a=n(338),s=Object;e.exports=a?function(e){return"symbol"==typeof e}:function(e){var t=r("Symbol");return i(t)&&o(t.prototype,s(e))}},function(e,t){var n=String;e.exports=function(e){try{return n(e)}catch(t){return"Object"}}},function(e,t,n){var r=n(66);e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,t,n){var r=n(10);e.exports=r([].slice)},function(e,t,n){var r=n(4),i=n(10),o=n(173),a=n(21),s=n(26),u=n(33).f,c=n(114),l=n(275),h=n(224),f=n(153),d=n(185),p=!1,g=f("meta"),y=0,v=function(e){u(e,g,{value:{objectID:"O"+y++,weakData:{}}})},m=e.exports={enable:function(){m.enable=function(){},p=!0;var e=c.f,t=i([].splice),n={};n[g]=1,e(n).length&&(c.f=function(n){for(var r=e(n),i=0,o=r.length;i<o;i++)if(r[i]===g){t(r,i,1);break}return r},r({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:l.f}))},fastKey:function(e,t){if(!a(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!s(e,g)){if(!h(e))return"F";if(!t)return"E";v(e)}return e[g].objectID},getWeakData:function(e,t){if(!s(e,g)){if(!h(e))return!0;if(!t)return!1;v(e)}return e[g].weakData},onFreeze:function(e){return d&&p&&h(e)&&!s(e,g)&&v(e),e}};o[g]=!0},function(e,t,n){"use strict";var r=n(49),i=function(e){var t,n;this.promise=new e(function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r}),this.resolve=r(t),this.reject=r(n)};e.exports.f=function(e){return new i(e)}},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";n.d(t,"b",function(){return o});var r=n(0),i=r.createContext();function o(){return r.useContext(i)}t.a=i},function(e,t,n){"use strict";function r(e){return null!=e&&!(Array.isArray(e)&&0===e.length)}function i(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e&&(r(e.value)&&""!==e.value||t&&r(e.defaultValue)&&""!==e.defaultValue)}function o(e){return e.startAdornment}n.d(t,"b",function(){return i}),n.d(t,"a",function(){return o})},,function(e,t,n){"use strict";var r=n(3),i=n(5),o=n(0),a=(n(7),n(6)),s=n(500),u=n(924),c=n(930),l=n(926),h=n(925),f=n(928),d=n(929),p=n(8),g={standard:s.a,filled:u.a,outlined:c.a},y=o.forwardRef(function(e,t){var n=e.autoComplete,s=e.autoFocus,u=void 0!==s&&s,c=e.children,p=e.classes,y=e.className,v=e.color,m=void 0===v?"primary":v,b=e.defaultValue,_=e.disabled,w=void 0!==_&&_,E=e.error,S=void 0!==E&&E,C=e.FormHelperTextProps,O=e.fullWidth,T=void 0!==O&&O,k=e.helperText,I=e.hiddenLabel,A=e.id,N=e.InputLabelProps,R=e.inputProps,P=e.InputProps,x=e.inputRef,M=e.label,L=e.multiline,D=void 0!==L&&L,j=e.name,U=e.onBlur,F=e.onChange,H=e.onFocus,B=e.placeholder,V=e.required,q=void 0!==V&&V,G=e.rows,z=e.rowsMax,W=e.select,K=void 0!==W&&W,Y=e.SelectProps,Q=e.type,$=e.value,X=e.variant,J=void 0===X?"standard":X,Z=Object(i.a)(e,["autoComplete","autoFocus","children","classes","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","hiddenLabel","id","InputLabelProps","inputProps","InputProps","inputRef","label","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","rowsMax","select","SelectProps","type","value","variant"]);var ee={};"outlined"===J&&(N&&"undefined"!==typeof N.shrink&&(ee.notched=N.shrink),M&&(ee.label=o.createElement(o.Fragment,null,M,q&&"\xa0*"))),K&&(Y&&Y.native||(ee.id=void 0),ee["aria-describedby"]=void 0);var te=k&&A?"".concat(A,"-helper-text"):void 0,ne=M&&A?"".concat(A,"-label"):void 0,re=g[J],ie=o.createElement(re,Object(r.a)({"aria-describedby":te,autoComplete:n,autoFocus:u,defaultValue:b,fullWidth:T,multiline:D,name:j,rows:G,rowsMax:z,type:Q,value:$,id:A,inputRef:x,onBlur:U,onChange:F,onFocus:H,placeholder:B,inputProps:R},ee,P));return o.createElement(h.a,Object(r.a)({className:Object(a.a)(p.root,y),disabled:w,error:S,fullWidth:T,hiddenLabel:I,ref:t,required:q,color:m,variant:J},Z),M&&o.createElement(l.a,Object(r.a)({htmlFor:A,id:ne},N),M),K?o.createElement(d.a,Object(r.a)({"aria-describedby":te,id:A,labelId:ne,value:$,input:ie},Y),c):ie,k&&o.createElement(f.a,Object(r.a)({id:te},C),k))});t.a=Object(p.a)({root:{}},{name:"MuiTextField"})(y)},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(3),i=n(0),o=n.n(i),a=n(168);function s(e,t){var n=o.a.memo(o.a.forwardRef(function(t,n){return o.a.createElement(a.a,Object(r.a)({ref:n},t),e)}));return n.muiName=a.a.muiName,n}},,,function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}n.d(t,"a",function(){return i})},function(e,t,n){"use strict";function r(e){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";function r(e){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return(i="function"===typeof Symbol&&"symbol"===r(Symbol.iterator)?function(e){return r(e)}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":r(e)})(e)}var o=n(42);function a(e,t){return!t||"object"!==i(t)&&"function"!==typeof t?Object(o.a)(e):t}n.d(t,"a",function(){return a})},function(e,t,n){"use strict";function r(e,t){return(r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}n.d(t,"a",function(){return i})},function(e,t,n){"use strict";var r=n(419);var i=n(247),o=n(420);function a(e,t){return Object(r.a)(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||Object(i.a)(e,t)||Object(o.a)()}n.d(t,"a",function(){return a})},function(e,t,n){"use strict";var r=n(323),i=Object(r.a)();t.a=i},function(e,t){var n,r,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"===typeof setTimeout?setTimeout:o}catch(e){n=o}try{r="function"===typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var u,c=[],l=!1,h=-1;function f(){l&&u&&(l=!1,u.length?c=u.concat(c):h=-1,c.length&&d())}function d(){if(!l){var e=s(f);l=!0;for(var t=c.length;t;){for(u=c,c=[];++h<t;)u&&u[h].run();h=-1,t=c.length}u=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function g(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new p(e,t)),1!==c.length||l||s(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=g,i.addListener=g,i.once=g,i.off=g,i.removeListener=g,i.removeAllListeners=g,i.emit=g,i.prependListener=g,i.prependOnceListener=g,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,n){var r=n(10),i=n(9),o=n(66),a=Object,s=r("".split);e.exports=i(function(){return!a("z").propertyIsEnumerable(0)})?function(e){return"String"==o(e)?s(e,""):a(e)}:a},function(e,t,n){var r=n(101),i=n(9);e.exports=!!Object.getOwnPropertySymbols&&!i(function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&r&&r<41})},function(e,t,n){var r=n(44),i=n(268);(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.24.0",mode:r?"pure":"global",copyright:"\xa9 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.24.0/LICENSE",source:"https://github.com/zloirock/core-js"})},function(e,t,n){var r=n(10),i=0,o=Math.random(),a=r(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+a(++i+o,36)}},function(e,t,n){var r=n(17),i=n(26),o=Function.prototype,a=r&&Object.getOwnPropertyDescriptor,s=i(o,"name"),u=s&&"something"===function(){}.name,c=s&&(!r||r&&a(o,"name").configurable);e.exports={EXISTS:s,PROPER:u,CONFIGURABLE:c}},function(e,t,n){var r=n(10),i=n(9),o=n(23),a=n(106),s=n(37),u=n(208),c=function(){},l=[],h=s("Reflect","construct"),f=/^\s*(?:class|function)\b/,d=r(f.exec),p=!f.exec(c),g=function(e){if(!o(e))return!1;try{return h(c,l,e),!0}catch(t){return!1}},y=function(e){if(!o(e))return!1;switch(a(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return p||!!d(f,u(e))}catch(t){return!0}};y.sham=!0,e.exports=!h||i(function(){var e;return g(g.call)||!g(Object)||!g(function(){e=!0})||e})?y:g},function(e,t,n){var r=n(23),i=n(21),o=n(92);e.exports=function(e,t,n){var a,s;return o&&r(a=t.constructor)&&a!==n&&i(s=a.prototype)&&s!==n.prototype&&o(e,s),e}},function(e,t,n){"use strict";var r=n(37),i=n(33),o=n(22),a=n(17),s=o("species");e.exports=function(e){var t=r(e),n=i.f;a&&t&&!t[s]&&n(t,s,{configurable:!0,get:function(){return this}})}},function(e,t,n){var r=n(18),i=n(286),o=n(22)("species");e.exports=function(e,t){var n,a=r(e).constructor;return void 0===a||void 0==(n=r(a)[o])?t:i(n)}},function(e,t,n){var r=n(10),i=n(48),o=n(24),a=n(227),s=r("".replace),u="["+a+"]",c=RegExp("^"+u+u+"*"),l=RegExp(u+u+"*$"),h=function(e){return function(t){var n=o(i(t));return 1&e&&(n=s(n,c,"")),2&e&&(n=s(n,l,"")),n}};e.exports={start:h(1),end:h(2),trim:h(3)}},function(e,t,n){var r=n(14);e.exports=r.Promise},function(e,t,n){"use strict";var r=n(54);function i(e,t,n,r,i){Error.call(this),this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}r.inherits(i,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var o=i.prototype,a={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach(function(e){a[e]={value:e}}),Object.defineProperties(i,a),Object.defineProperty(o,"isAxiosError",{value:!0}),i.from=function(e,t,n,a,s,u){var c=Object.create(o);return r.toFlatObject(e,c,function(e){return e!==Error.prototype}),i.call(c,e.message,t,n,a,s),c.name=e.name,u&&Object.assign(c,u),c},e.exports=i},function(e,t,n){var r=n(442);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports=function(e){try{return!!e()}catch(t){return!0}}},function(e,t,n){var r=n(301),i=n(303);e.exports=function(e){return r(i(e))}},function(e,t,n){"use strict";function r(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function r(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var a=this;clearTimeout(t),t=setTimeout(function(){e.apply(a,i)},n)}return r.clear=function(){clearTimeout(t)},r}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";function r(e,t){return(r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";n.d(t,"a",function(){return h}),n.d(t,"b",function(){return c}),n.d(t,"c",function(){return s});var r=n(320),i=function(){return Math.random().toString(36).substring(7).split("").join(".")},o={INIT:"@@redux/INIT"+i(),REPLACE:"@@redux/REPLACE"+i(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+i()}};function a(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function s(e,t,n){var i;if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error("It looks like you are passing several store enhancers to createStore(). This is not supported. Instead, compose them together to a single function.");if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error("Expected the enhancer to be a function.");return n(s)(e,t)}if("function"!==typeof e)throw new Error("Expected the reducer to be a function.");var u=e,c=t,l=[],h=l,f=!1;function d(){h===l&&(h=l.slice())}function p(){if(f)throw new Error("You may not call store.getState() while the reducer is executing. The reducer has already received the state as an argument. Pass it down from the top reducer instead of reading it from the store.");return c}function g(e){if("function"!==typeof e)throw new Error("Expected the listener to be a function.");if(f)throw new Error("You may not call store.subscribe() while the reducer is executing. If you would like to be notified after the store has been updated, subscribe from a component and invoke store.getState() in the callback to access the latest state. See https://redux.js.org/api-reference/store#subscribelistener for more details.");var t=!0;return d(),h.push(e),function(){if(t){if(f)throw new Error("You may not unsubscribe from a store listener while the reducer is executing. See https://redux.js.org/api-reference/store#subscribelistener for more details.");t=!1,d();var n=h.indexOf(e);h.splice(n,1),l=null}}}function y(e){if(!a(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if("undefined"===typeof e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(f)throw new Error("Reducers may not dispatch actions.");try{f=!0,c=u(c,e)}finally{f=!1}for(var t=l=h,n=0;n<t.length;n++){(0,t[n])()}return e}return y({type:o.INIT}),(i={dispatch:y,subscribe:g,getState:p,replaceReducer:function(e){if("function"!==typeof e)throw new Error("Expected the nextReducer to be a function.");u=e,y({type:o.REPLACE})}})[r.a]=function(){var e,t=g;return(e={subscribe:function(e){if("object"!==typeof e||null===e)throw new TypeError("Expected the observer to be an object.");function n(){e.next&&e.next(p())}return n(),{unsubscribe:t(n)}}})[r.a]=function(){return this},e},i}function u(e,t){var n=t&&t.type;return"Given "+(n&&'action "'+String(n)+'"'||"an action")+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function c(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];0,"function"===typeof e[i]&&(n[i]=e[i])}var a,s=Object.keys(n);try{!function(e){Object.keys(e).forEach(function(t){var n=e[t];if("undefined"===typeof n(void 0,{type:o.INIT}))throw new Error('Reducer "'+t+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if("undefined"===typeof n(void 0,{type:o.PROBE_UNKNOWN_ACTION()}))throw new Error('Reducer "'+t+"\" returned undefined when probed with a random type. Don't try to handle "+o.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')})}(n)}catch(c){a=c}return function(e,t){if(void 0===e&&(e={}),a)throw a;for(var r=!1,i={},o=0;o<s.length;o++){var c=s[o],l=n[c],h=e[c],f=l(h,t);if("undefined"===typeof f){var d=u(c,t);throw new Error(d)}i[c]=f,r=r||f!==h}return(r=r||s.length!==Object.keys(e).length)?i:e}}function l(e,t){return function(){return t(e.apply(this,arguments))}}function h(e,t){if("function"===typeof e)return l(e,t);if("object"!==typeof e||null===e)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":typeof e)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');var n={};for(var r in e){var i=e[r];"function"===typeof i&&(n[r]=l(i,t))}return n}},function(e,t,n){"use strict";var r=n(3),i=n(5),o=n(0),a=(n(7),n(6)),s=n(8),u=n(13),c=o.forwardRef(function(e,t){var n=e.children,s=e.classes,c=e.className,l=e.color,h=void 0===l?"inherit":l,f=e.component,d=void 0===f?"svg":f,p=e.fontSize,g=void 0===p?"default":p,y=e.htmlColor,v=e.titleAccess,m=e.viewBox,b=void 0===m?"0 0 24 24":m,_=Object(i.a)(e,["children","classes","className","color","component","fontSize","htmlColor","titleAccess","viewBox"]);return o.createElement(d,Object(r.a)({className:Object(a.a)(s.root,c,"inherit"!==h&&s["color".concat(Object(u.a)(h))],"default"!==g&&s["fontSize".concat(Object(u.a)(g))]),focusable:"false",viewBox:b,color:y,"aria-hidden":v?void 0:"true",role:v?"img":void 0,ref:t},_),n,v?o.createElement("title",null,v):null)});c.muiName="SvgIcon",t.a=Object(s.a)(function(e){return{root:{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,fontSize:e.typography.pxToRem(24),transition:e.transitions.create("fill",{duration:e.transitions.duration.shorter})},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},colorAction:{color:e.palette.action.active},colorError:{color:e.palette.error.main},colorDisabled:{color:e.palette.action.disabled},fontSizeInherit:{fontSize:"inherit"},fontSizeSmall:{fontSize:e.typography.pxToRem(20)},fontSizeLarge:{fontSize:e.typography.pxToRem(35)}}},{name:"MuiSvgIcon"})(c)},function(e,t,n){"use strict";var r=n(0),i=n.n(r);t.a=i.a.createContext(null)},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(0);function i(e,t){return r.isValidElement(e)&&-1!==t.indexOf(e.type.muiName)}},function(e,t,n){"use strict";function r(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(function(e,t){return null==t?e:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r),t.apply(this,r)}},function(){})}n.d(t,"a",function(){return r})},function(e,t,n){var r=n(9);e.exports=!r(function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")})},function(e,t){e.exports={}},function(e,t,n){var r=n(61),i=n(104),o=n(36),a=function(e){return function(t,n,a){var s,u=r(t),c=o(u),l=i(a,c);if(e&&n!=n){for(;c>l;)if((s=u[l++])!=s)return!0}else for(;c>l;l++)if((e||l in u)&&u[l]===n)return e||l||0;return!e&&-1}};e.exports={includes:a(!0),indexOf:a(!1)}},function(e,t,n){var r=n(9),i=n(23),o=/#|\.prototype\./,a=function(e,t){var n=u[s(e)];return n==l||n!=c&&(i(t)?r(t):!!t)},s=a.normalize=function(e){return String(e).replace(o,".").toLowerCase()},u=a.data={},c=a.NATIVE="N",l=a.POLYFILL="P";e.exports=a},function(e,t){var n=TypeError;e.exports=function(e){if(e>9007199254740991)throw n("Maximum allowed index exceeded");return e}},function(e,t,n){var r=n(519);e.exports=function(e,t){return new(r(e))(0===t?0:t)}},function(e,t,n){var r=n(9),i=n(22),o=n(101),a=i("species");e.exports=function(e){return o>=51||!r(function(){var t=[];return(t.constructor={})[a]=function(){return{foo:1}},1!==t[e](Boolean).foo})}},function(e,t,n){var r=n(343),i=n(272);e.exports=Object.keys||function(e){return r(e,i)}},function(e,t,n){var r=n(104),i=n(36),o=n(105),a=Array,s=Math.max;e.exports=function(e,t,n){for(var u=i(e),c=r(t,u),l=r(void 0===n?u:n,u),h=a(s(l-c,0)),f=0;c<l;c++,f++)o(h,f,e[c]);return h.length=f,h}},function(e,t){e.exports={}},function(e,t,n){var r=n(106),i=n(103),o=n(181),a=n(22)("iterator");e.exports=function(e){if(void 0!=e)return i(e,a)||i(e,"@@iterator")||o[r(e)]}},function(e,t,n){var r=n(24);e.exports=function(e,t){return void 0===e?arguments.length<2?"":t:r(e)}},function(e,t,n){var r=n(39);e.exports=function(e,t,n){for(var i in t)r(e,i,t[i],n);return e}},function(e,t,n){var r=n(9);e.exports=!r(function(){return Object.isExtensible(Object.preventExtensions({}))})},function(e,t){e.exports=function(e){try{return{error:!1,value:e()}}catch(t){return{error:!0,value:t}}}},function(e,t,n){var r=n(14),i=n(160),o=n(23),a=n(175),s=n(208),u=n(22),c=n(399),l=n(400),h=n(44),f=n(101),d=i&&i.prototype,p=u("species"),g=!1,y=o(r.PromiseRejectionEvent),v=a("Promise",function(){var e=s(i),t=e!==String(i);if(!t&&66===f)return!0;if(h&&(!d.catch||!d.finally))return!0;if(f<51||!/native code/.test(e)){var n=new i(function(e){e(1)}),r=function(e){e(function(){},function(){})};if((n.constructor={})[p]=r,!(g=n.then(function(){})instanceof r))return!0}return!t&&(c||l)&&!y});e.exports={CONSTRUCTOR:v,REJECTION_EVENT:y,SUBCLASSING:g}},function(e,t,n){var r=n(21),i=n(66),o=n(22)("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[o])?!!t:"RegExp"==i(e))}},function(e,t,n){var r=n(19),i=n(26),o=n(78),a=n(291),s=RegExp.prototype;e.exports=function(e){var t=e.flags;return void 0!==t||"flags"in s||i(e,"flags")||!o(s,e)?t:r(a,e)}},function(e,t,n){var r=n(270),i=n(33);e.exports=function(e,t,n){return n.get&&r(n.get,t,{getter:!0}),n.set&&r(n.set,t,{setter:!0}),i.f(e,t,n)}},function(e,t,n){var r=n(19),i=n(18),o=n(23),a=n(66),s=n(231),u=TypeError;e.exports=function(e,t){var n=e.exec;if(o(n)){var c=r(n,e,t);return null!==c&&i(c),c}if("RegExp"===a(e))return r(s,e,t);throw u("RegExp#exec called on incompatible receiver")}},function(e,t){e.exports={}},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(63);function i(e){return Object(r.a)(e).defaultView||window}},function(e,t,n){"use strict";n.d(t,"b",function(){return ye}),n.d(t,"c",function(){return ge}),n.d(t,"a",function(){return $});var r=n(3),i=n(58),o=(n(43),n(41)),a=n(25),s=n(47),u=n(31),c={}.constructor;function l(e){if(null==e||"object"!==typeof e)return e;if(Array.isArray(e))return e.map(l);if(e.constructor!==c)return e;var t={};for(var n in e)t[n]=l(e[n]);return t}function h(e,t,n){void 0===e&&(e="unnamed");var r=n.jss,i=l(t),o=r.plugins.onCreateRule(e,i,n);return o||(e[0],null)}var f=function(e,t){for(var n="",r=0;r<e.length&&"!important"!==e[r];r++)n&&(n+=t),n+=e[r];return n};function d(e,t){if(void 0===t&&(t=!1),!Array.isArray(e))return e;var n="";if(Array.isArray(e[0]))for(var r=0;r<e.length&&"!important"!==e[r];r++)n&&(n+=", "),n+=f(e[r]," ");else n=f(e,", ");return t||"!important"!==e[e.length-1]||(n+=" !important"),n}function p(e,t){for(var n="",r=0;r<t;r++)n+="  ";return n+e}function g(e,t,n){void 0===n&&(n={});var r="";if(!t)return r;var i=n.indent,o=void 0===i?0:i,a=t.fallbacks;if(e&&o++,a)if(Array.isArray(a))for(var s=0;s<a.length;s++){var u=a[s];for(var c in u){var l=u[c];null!=l&&(r&&(r+="\n"),r+=""+p(c+": "+d(l)+";",o))}}else for(var h in a){var f=a[h];null!=f&&(r&&(r+="\n"),r+=""+p(h+": "+d(f)+";",o))}for(var g in t){var y=t[g];null!=y&&"fallbacks"!==g&&(r&&(r+="\n"),r+=""+p(g+": "+d(y)+";",o))}return(r||n.allowEmpty)&&e?(r&&(r="\n"+r+"\n"),p(e+" {"+r,--o)+p("}",o)):r}var y=/([[\].#*$><+~=|^:(),"'`\s])/g,v="undefined"!==typeof CSS&&CSS.escape,m=function(e){return v?v(e):e.replace(y,"\\$1")},b=function(){function e(e,t,n){this.type="style",this.key=void 0,this.isProcessed=!1,this.style=void 0,this.renderer=void 0,this.renderable=void 0,this.options=void 0;var r=n.sheet,i=n.Renderer;this.key=e,this.options=n,this.style=t,r?this.renderer=r.renderer:i&&(this.renderer=new i)}return e.prototype.prop=function(e,t,n){if(void 0===t)return this.style[e];var r=!!n&&n.force;if(!r&&this.style[e]===t)return this;var i=t;n&&!1===n.process||(i=this.options.jss.plugins.onChangeValue(t,e,this));var o=null==i||!1===i,a=e in this.style;if(o&&!a&&!r)return this;var s=o&&a;if(s?delete this.style[e]:this.style[e]=i,this.renderable&&this.renderer)return s?this.renderer.removeProperty(this.renderable,e):this.renderer.setProperty(this.renderable,e,i),this;var u=this.options.sheet;return u&&u.attached,this},e}(),_=function(e){function t(t,n,r){var i;(i=e.call(this,t,n,r)||this).selectorText=void 0,i.id=void 0,i.renderable=void 0;var o=r.selector,a=r.scoped,u=r.sheet,c=r.generateId;return o?i.selectorText=o:!1!==a&&(i.id=c(Object(s.a)(Object(s.a)(i)),u),i.selectorText="."+m(i.id)),i}Object(a.a)(t,e);var n=t.prototype;return n.applyTo=function(e){var t=this.renderer;if(t){var n=this.toJSON();for(var r in n)t.setProperty(e,r,n[r])}return this},n.toJSON=function(){var e={};for(var t in this.style){var n=this.style[t];"object"!==typeof n?e[t]=n:Array.isArray(n)&&(e[t]=d(n))}return e},n.toString=function(e){var t=this.options.sheet,n=!!t&&t.options.link?Object(r.a)({},e,{allowEmpty:!0}):e;return g(this.selectorText,this.style,n)},Object(o.a)(t,[{key:"selector",set:function(e){if(e!==this.selectorText){this.selectorText=e;var t=this.renderer,n=this.renderable;if(n&&t)t.setSelector(n,e)||t.replaceRule(n,this)}},get:function(){return this.selectorText}}]),t}(b),w={onCreateRule:function(e,t,n){return"@"===e[0]||n.parent&&"keyframes"===n.parent.type?null:new _(e,t,n)}},E={indent:1,children:!0},S=/@([\w-]+)/,C=function(){function e(e,t,n){this.type="conditional",this.at=void 0,this.key=void 0,this.query=void 0,this.rules=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0,this.key=e,this.query=n.name;var i=e.match(S);for(var o in this.at=i?i[1]:"unknown",this.options=n,this.rules=new K(Object(r.a)({},n,{parent:this})),t)this.rules.add(o,t[o]);this.rules.process()}var t=e.prototype;return t.getRule=function(e){return this.rules.get(e)},t.indexOf=function(e){return this.rules.indexOf(e)},t.addRule=function(e,t,n){var r=this.rules.add(e,t,n);return r?(this.options.jss.plugins.onProcessRule(r),r):null},t.toString=function(e){if(void 0===e&&(e=E),null==e.indent&&(e.indent=E.indent),null==e.children&&(e.children=E.children),!1===e.children)return this.query+" {}";var t=this.rules.toString(e);return t?this.query+" {\n"+t+"\n}":""},e}(),O=/@media|@supports\s+/,T={onCreateRule:function(e,t,n){return O.test(e)?new C(e,t,n):null}},k={indent:1,children:!0},I=/@keyframes\s+([\w-]+)/,A=function(){function e(e,t,n){this.type="keyframes",this.at="@keyframes",this.key=void 0,this.name=void 0,this.id=void 0,this.rules=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0;var i=e.match(I);i&&i[1]?this.name=i[1]:this.name="noname",this.key=this.type+"-"+this.name,this.options=n;var o=n.scoped,a=n.sheet,s=n.generateId;for(var u in this.id=!1===o?this.name:m(s(this,a)),this.rules=new K(Object(r.a)({},n,{parent:this})),t)this.rules.add(u,t[u],Object(r.a)({},n,{parent:this}));this.rules.process()}return e.prototype.toString=function(e){if(void 0===e&&(e=k),null==e.indent&&(e.indent=k.indent),null==e.children&&(e.children=k.children),!1===e.children)return this.at+" "+this.id+" {}";var t=this.rules.toString(e);return t&&(t="\n"+t+"\n"),this.at+" "+this.id+" {"+t+"}"},e}(),N=/@keyframes\s+/,R=/\$([\w-]+)/g,P=function(e,t){return"string"===typeof e?e.replace(R,function(e,n){return n in t?t[n]:e}):e},x=function(e,t,n){var r=e[t],i=P(r,n);i!==r&&(e[t]=i)},M={onCreateRule:function(e,t,n){return"string"===typeof e&&N.test(e)?new A(e,t,n):null},onProcessStyle:function(e,t,n){return"style"===t.type&&n?("animation-name"in e&&x(e,"animation-name",n.keyframes),"animation"in e&&x(e,"animation",n.keyframes),e):e},onChangeValue:function(e,t,n){var r=n.options.sheet;if(!r)return e;switch(t){case"animation":case"animation-name":return P(e,r.keyframes);default:return e}}},L=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).renderable=void 0,t}return Object(a.a)(t,e),t.prototype.toString=function(e){var t=this.options.sheet,n=!!t&&t.options.link?Object(r.a)({},e,{allowEmpty:!0}):e;return g(this.key,this.style,n)},t}(b),D={onCreateRule:function(e,t,n){return n.parent&&"keyframes"===n.parent.type?new L(e,t,n):null}},j=function(){function e(e,t,n){this.type="font-face",this.at="@font-face",this.key=void 0,this.style=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0,this.key=e,this.style=t,this.options=n}return e.prototype.toString=function(e){if(Array.isArray(this.style)){for(var t="",n=0;n<this.style.length;n++)t+=g(this.at,this.style[n]),this.style[n+1]&&(t+="\n");return t}return g(this.at,this.style,e)},e}(),U=/@font-face/,F={onCreateRule:function(e,t,n){return U.test(e)?new j(e,t,n):null}},H=function(){function e(e,t,n){this.type="viewport",this.at="@viewport",this.key=void 0,this.style=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0,this.key=e,this.style=t,this.options=n}return e.prototype.toString=function(e){return g(this.key,this.style,e)},e}(),B={onCreateRule:function(e,t,n){return"@viewport"===e||"@-ms-viewport"===e?new H(e,t,n):null}},V=function(){function e(e,t,n){this.type="simple",this.key=void 0,this.value=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0,this.key=e,this.value=t,this.options=n}return e.prototype.toString=function(e){if(Array.isArray(this.value)){for(var t="",n=0;n<this.value.length;n++)t+=this.key+" "+this.value[n]+";",this.value[n+1]&&(t+="\n");return t}return this.key+" "+this.value+";"},e}(),q={"@charset":!0,"@import":!0,"@namespace":!0},G=[w,T,M,D,F,B,{onCreateRule:function(e,t,n){return e in q?new V(e,t,n):null}}],z={process:!0},W={force:!0,process:!0},K=function(){function e(e){this.map={},this.raw={},this.index=[],this.counter=0,this.options=void 0,this.classes=void 0,this.keyframes=void 0,this.options=e,this.classes=e.classes,this.keyframes=e.keyframes}var t=e.prototype;return t.add=function(e,t,n){var i=this.options,o=i.parent,a=i.sheet,s=i.jss,u=i.Renderer,c=i.generateId,l=i.scoped,f=Object(r.a)({classes:this.classes,parent:o,sheet:a,jss:s,Renderer:u,generateId:c,scoped:l,name:e},n),d=e;e in this.raw&&(d=e+"-d"+this.counter++),this.raw[d]=t,d in this.classes&&(f.selector="."+m(this.classes[d]));var p=h(d,t,f);if(!p)return null;this.register(p);var g=void 0===f.index?this.index.length:f.index;return this.index.splice(g,0,p),p},t.get=function(e){return this.map[e]},t.remove=function(e){this.unregister(e),delete this.raw[e.key],this.index.splice(this.index.indexOf(e),1)},t.indexOf=function(e){return this.index.indexOf(e)},t.process=function(){var e=this.options.jss.plugins;this.index.slice(0).forEach(e.onProcessRule,e)},t.register=function(e){this.map[e.key]=e,e instanceof _?(this.map[e.selector]=e,e.id&&(this.classes[e.key]=e.id)):e instanceof A&&this.keyframes&&(this.keyframes[e.name]=e.id)},t.unregister=function(e){delete this.map[e.key],e instanceof _?(delete this.map[e.selector],delete this.classes[e.key]):e instanceof A&&delete this.keyframes[e.name]},t.update=function(){var e,t,n;if("string"===typeof(arguments.length<=0?void 0:arguments[0])?(e=arguments.length<=0?void 0:arguments[0],t=arguments.length<=1?void 0:arguments[1],n=arguments.length<=2?void 0:arguments[2]):(t=arguments.length<=0?void 0:arguments[0],n=arguments.length<=1?void 0:arguments[1],e=null),e)this.updateOne(this.map[e],t,n);else for(var r=0;r<this.index.length;r++)this.updateOne(this.index[r],t,n)},t.updateOne=function(t,n,r){void 0===r&&(r=z);var i=this.options,o=i.jss.plugins,a=i.sheet;if(t.rules instanceof e)t.rules.update(n,r);else{var s=t,u=s.style;if(o.onUpdate(n,t,a,r),r.process&&u&&u!==s.style){for(var c in o.onProcessStyle(s.style,s,a),s.style){var l=s.style[c];l!==u[c]&&s.prop(c,l,W)}for(var h in u){var f=s.style[h],d=u[h];null==f&&f!==d&&s.prop(h,null,W)}}}},t.toString=function(e){for(var t="",n=this.options.sheet,r=!!n&&n.options.link,i=0;i<this.index.length;i++){var o=this.index[i].toString(e);(o||r)&&(t&&(t+="\n"),t+=o)}return t},e}(),Y=function(){function e(e,t){for(var n in this.options=void 0,this.deployed=void 0,this.attached=void 0,this.rules=void 0,this.renderer=void 0,this.classes=void 0,this.keyframes=void 0,this.queue=void 0,this.attached=!1,this.deployed=!1,this.classes={},this.keyframes={},this.options=Object(r.a)({},t,{sheet:this,parent:this,classes:this.classes,keyframes:this.keyframes}),t.Renderer&&(this.renderer=new t.Renderer(this)),this.rules=new K(this.options),e)this.rules.add(n,e[n]);this.rules.process()}var t=e.prototype;return t.attach=function(){return this.attached?this:(this.renderer&&this.renderer.attach(),this.attached=!0,this.deployed||this.deploy(),this)},t.detach=function(){return this.attached?(this.renderer&&this.renderer.detach(),this.attached=!1,this):this},t.addRule=function(e,t,n){var r=this.queue;this.attached&&!r&&(this.queue=[]);var i=this.rules.add(e,t,n);return i?(this.options.jss.plugins.onProcessRule(i),this.attached?this.deployed?(r?r.push(i):(this.insertRule(i),this.queue&&(this.queue.forEach(this.insertRule,this),this.queue=void 0)),i):i:(this.deployed=!1,i)):null},t.insertRule=function(e){this.renderer&&this.renderer.insertRule(e)},t.addRules=function(e,t){var n=[];for(var r in e){var i=this.addRule(r,e[r],t);i&&n.push(i)}return n},t.getRule=function(e){return this.rules.get(e)},t.deleteRule=function(e){var t="object"===typeof e?e:this.rules.get(e);return!!t&&(this.rules.remove(t),!(this.attached&&t.renderable&&this.renderer)||this.renderer.deleteRule(t.renderable))},t.indexOf=function(e){return this.rules.indexOf(e)},t.deploy=function(){return this.renderer&&this.renderer.deploy(),this.deployed=!0,this},t.update=function(){var e;return(e=this.rules).update.apply(e,arguments),this},t.updateOne=function(e,t,n){return this.rules.updateOne(e,t,n),this},t.toString=function(e){return this.rules.toString(e)},e}(),Q=function(){function e(){this.plugins={internal:[],external:[]},this.registry=void 0}var t=e.prototype;return t.onCreateRule=function(e,t,n){for(var r=0;r<this.registry.onCreateRule.length;r++){var i=this.registry.onCreateRule[r](e,t,n);if(i)return i}return null},t.onProcessRule=function(e){if(!e.isProcessed){for(var t=e.options.sheet,n=0;n<this.registry.onProcessRule.length;n++)this.registry.onProcessRule[n](e,t);e.style&&this.onProcessStyle(e.style,e,t),e.isProcessed=!0}},t.onProcessStyle=function(e,t,n){for(var r=0;r<this.registry.onProcessStyle.length;r++)t.style=this.registry.onProcessStyle[r](t.style,t,n)},t.onProcessSheet=function(e){for(var t=0;t<this.registry.onProcessSheet.length;t++)this.registry.onProcessSheet[t](e)},t.onUpdate=function(e,t,n,r){for(var i=0;i<this.registry.onUpdate.length;i++)this.registry.onUpdate[i](e,t,n,r)},t.onChangeValue=function(e,t,n){for(var r=e,i=0;i<this.registry.onChangeValue.length;i++)r=this.registry.onChangeValue[i](r,t,n);return r},t.use=function(e,t){void 0===t&&(t={queue:"external"});var n=this.plugins[t.queue];-1===n.indexOf(e)&&(n.push(e),this.registry=[].concat(this.plugins.external,this.plugins.internal).reduce(function(e,t){for(var n in t)n in e&&e[n].push(t[n]);return e},{onCreateRule:[],onProcessRule:[],onProcessStyle:[],onProcessSheet:[],onChangeValue:[],onUpdate:[]}))},e}(),$=function(){function e(){this.registry=[]}var t=e.prototype;return t.add=function(e){var t=this.registry,n=e.options.index;if(-1===t.indexOf(e))if(0===t.length||n>=this.index)t.push(e);else for(var r=0;r<t.length;r++)if(t[r].options.index>n)return void t.splice(r,0,e)},t.reset=function(){this.registry=[]},t.remove=function(e){var t=this.registry.indexOf(e);this.registry.splice(t,1)},t.toString=function(e){for(var t=void 0===e?{}:e,n=t.attached,r=Object(u.a)(t,["attached"]),i="",o=0;o<this.registry.length;o++){var a=this.registry[o];null!=n&&a.attached!==n||(i&&(i+="\n"),i+=a.toString(r))}return i},Object(o.a)(e,[{key:"index",get:function(){return 0===this.registry.length?0:this.registry[this.registry.length-1].options.index}}]),e}(),X=new $,J="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),Z="2f1acc6c3a606b082e5eef5e54414ffb";null==J[Z]&&(J[Z]=0);var ee=J[Z]++,te=function(e){void 0===e&&(e={});var t=0;return function(n,r){t+=1;var i="",o="";return r&&(r.options.classNamePrefix&&(o=r.options.classNamePrefix),null!=r.options.jss.id&&(i=String(r.options.jss.id))),e.minify?""+(o||"c")+ee+i+t:o+n.key+"-"+ee+(i?"-"+i:"")+"-"+t}},ne=function(e){var t;return function(){return t||(t=e()),t}};function re(e,t){try{return e.attributeStyleMap?e.attributeStyleMap.get(t):e.style.getPropertyValue(t)}catch(n){return""}}function ie(e,t,n){try{var r=n;if(Array.isArray(n)&&(r=d(n,!0),"!important"===n[n.length-1]))return e.style.setProperty(t,r,"important"),!0;e.attributeStyleMap?e.attributeStyleMap.set(t,r):e.style.setProperty(t,r)}catch(i){return!1}return!0}function oe(e,t){try{e.attributeStyleMap?e.attributeStyleMap.delete(t):e.style.removeProperty(t)}catch(n){}}function ae(e,t){return e.selectorText=t,e.selectorText===t}var se=ne(function(){return document.querySelector("head")});function ue(e){var t=X.registry;if(t.length>0){var n=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.attached&&r.options.index>t.index&&r.options.insertionPoint===t.insertionPoint)return r}return null}(t,e);if(n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element};if((n=function(e,t){for(var n=e.length-1;n>=0;n--){var r=e[n];if(r.attached&&r.options.insertionPoint===t.insertionPoint)return r}return null}(t,e))&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element.nextSibling}}var r=e.insertionPoint;if(r&&"string"===typeof r){var i=function(e){for(var t=se(),n=0;n<t.childNodes.length;n++){var r=t.childNodes[n];if(8===r.nodeType&&r.nodeValue.trim()===e)return r}return null}(r);if(i)return{parent:i.parentNode,node:i.nextSibling}}return!1}var ce=ne(function(){var e=document.querySelector('meta[property="csp-nonce"]');return e?e.getAttribute("content"):null}),le=function(e,t,n){var r=e.cssRules.length;(void 0===n||n>r)&&(n=r);try{if("insertRule"in e)e.insertRule(t,n);else if("appendRule"in e){e.appendRule(t)}}catch(i){return!1}return e.cssRules[n]},he=function(){var e=document.createElement("style");return e.textContent="\n",e},fe=function(){function e(e){this.getPropertyValue=re,this.setProperty=ie,this.removeProperty=oe,this.setSelector=ae,this.element=void 0,this.sheet=void 0,this.hasInsertedRules=!1,e&&X.add(e),this.sheet=e;var t=this.sheet?this.sheet.options:{},n=t.media,r=t.meta,i=t.element;this.element=i||he(),this.element.setAttribute("data-jss",""),n&&this.element.setAttribute("media",n),r&&this.element.setAttribute("data-meta",r);var o=ce();o&&this.element.setAttribute("nonce",o)}var t=e.prototype;return t.attach=function(){if(!this.element.parentNode&&this.sheet){!function(e,t){var n=t.insertionPoint,r=ue(t);if(!1!==r&&r.parent)r.parent.insertBefore(e,r.node);else if(n&&"number"===typeof n.nodeType){var i=n,o=i.parentNode;o&&o.insertBefore(e,i.nextSibling)}else se().appendChild(e)}(this.element,this.sheet.options);var e=Boolean(this.sheet&&this.sheet.deployed);this.hasInsertedRules&&e&&(this.hasInsertedRules=!1,this.deploy())}},t.detach=function(){var e=this.element.parentNode;e&&e.removeChild(this.element)},t.deploy=function(){var e=this.sheet;e&&(e.options.link?this.insertRules(e.rules):this.element.textContent="\n"+e.toString()+"\n")},t.insertRules=function(e,t){for(var n=0;n<e.index.length;n++)this.insertRule(e.index[n],n,t)},t.insertRule=function(e,t,n){if(void 0===n&&(n=this.element.sheet),e.rules){var r=e,i=n;return("conditional"!==e.type&&"keyframes"!==e.type||!1!==(i=le(n,r.toString({children:!1}),t)))&&(this.insertRules(r.rules,i),i)}if(e.renderable&&e.renderable.parentStyleSheet===this.element.sheet)return e.renderable;var o=e.toString();if(!o)return!1;var a=le(n,o,t);return!1!==a&&(this.hasInsertedRules=!0,e.renderable=a,a)},t.deleteRule=function(e){var t=this.element.sheet,n=this.indexOf(e);return-1!==n&&(t.deleteRule(n),!0)},t.indexOf=function(e){for(var t=this.element.sheet.cssRules,n=0;n<t.length;n++)if(e===t[n])return n;return-1},t.replaceRule=function(e,t){var n=this.indexOf(e);return-1!==n&&(this.element.sheet.deleteRule(n),this.insertRule(t,n))},t.getRules=function(){return this.element.sheet.cssRules},e}(),de=0,pe=function(){function e(e){this.id=de++,this.version="10.1.1",this.plugins=new Q,this.options={id:{minify:!1},createGenerateId:te,Renderer:i.a?fe:null,plugins:[]},this.generateId=te({minify:!1});for(var t=0;t<G.length;t++)this.plugins.use(G[t],{queue:"internal"});this.setup(e)}var t=e.prototype;return t.setup=function(e){return void 0===e&&(e={}),e.createGenerateId&&(this.options.createGenerateId=e.createGenerateId),e.id&&(this.options.id=Object(r.a)({},this.options.id,e.id)),(e.createGenerateId||e.id)&&(this.generateId=this.options.createGenerateId(this.options.id)),null!=e.insertionPoint&&(this.options.insertionPoint=e.insertionPoint),"Renderer"in e&&(this.options.Renderer=e.Renderer),e.plugins&&this.use.apply(this,e.plugins),this},t.createStyleSheet=function(e,t){void 0===t&&(t={});var n=t.index;"number"!==typeof n&&(n=0===X.index?0:X.index+1);var i=new Y(e,Object(r.a)({},t,{jss:this,generateId:t.generateId||this.generateId,insertionPoint:this.options.insertionPoint,Renderer:this.options.Renderer,index:n}));return this.plugins.onProcessSheet(i),i},t.removeStyleSheet=function(e){return e.detach(),X.remove(e),this},t.createRule=function(e,t,n){if(void 0===t&&(t={}),void 0===n&&(n={}),"object"===typeof e)return this.createRule(void 0,e,t);var i=Object(r.a)({},n,{name:e,jss:this,Renderer:this.options.Renderer});i.generateId||(i.generateId=this.generateId),i.classes||(i.classes={}),i.keyframes||(i.keyframes={});var o=h(e,t,i);return o&&this.plugins.onProcessRule(o),o},t.use=function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.forEach(function(t){e.plugins.use(t)}),this},e}();function ge(e){var t=null;for(var n in e){var r=e[n],i=typeof r;if("function"===i)t||(t={}),t[n]=r;else if("object"===i&&null!==r&&!Array.isArray(r)){var o=ge(r);o&&(t||(t={}),t[n]=o)}}return t}"undefined"!==typeof CSS&&CSS&&CSS;var ye=function(e){return new pe(e)};ye()},function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";var r=n(5),i=n(3),o=n(0),a=(n(7),n(6)),s=n(8),u=o.forwardRef(function(e,t){var n=e.classes,s=e.className,u=e.component,c=void 0===u?"div":u,l=e.square,h=void 0!==l&&l,f=e.elevation,d=void 0===f?1:f,p=e.variant,g=void 0===p?"elevation":p,y=Object(r.a)(e,["classes","className","component","square","elevation","variant"]);return o.createElement(c,Object(i.a)({className:Object(a.a)(n.root,s,"outlined"===g?n.outlined:n["elevation".concat(d)],!h&&n.rounded),ref:t},y))});t.a=Object(s.a)(function(e){var t={};return e.shadows.forEach(function(e,n){t["elevation".concat(n)]={boxShadow:e}}),Object(i.a)({root:{backgroundColor:e.palette.background.paper,color:e.palette.text.primary,transition:e.transitions.create("box-shadow")},rounded:{borderRadius:e.shape.borderRadius},outlined:{border:"1px solid ".concat(e.palette.divider)}},t)},{name:"MuiPaper"})(u)},,,,,function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},,function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(0);function i(e){var t=e.controlled,n=e.default,i=(e.name,e.state,r.useRef(void 0!==t).current),o=r.useState(n),a=o[0],s=o[1];return[i?t:a,r.useCallback(function(e){i||s(e)},[])]}},function(e,t,n){"use strict";var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(e){r[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,t){for(var n,a,s=function(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),u=1;u<arguments.length;u++){for(var c in n=Object(arguments[u]))i.call(n,c)&&(s[c]=n[c]);if(r){a=r(n);for(var l=0;l<a.length;l++)o.call(n,a[l])&&(s[a[l]]=n[a[l]])}}return s}},function(e,t,n){"use strict";var r={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,o=i&&!r.call({1:2},1);t.f=o?function(e){var t=i(this,e);return!!t&&t.enumerable}:r},function(e,t,n){var r=n(19),i=n(21),o=n(127),a=n(103),s=n(339),u=n(22),c=TypeError,l=u("toPrimitive");e.exports=function(e,t){if(!i(e)||o(e))return e;var n,u=a(e,l);if(u){if(void 0===t&&(t="default"),n=r(u,e,t),!i(n)||o(n))return n;throw c("Can't convert object to primitive value")}return void 0===t&&(t="number"),s(e,t)}},function(e,t,n){var r=n(14),i=n(21),o=r.document,a=i(o)&&i(o.createElement);e.exports=function(e){return a?o.createElement(e):{}}},function(e,t,n){var r=n(10),i=n(23),o=n(268),a=r(Function.toString);i(o.inspectSource)||(o.inspectSource=function(e){return a(e)}),e.exports=o.inspectSource},function(e,t,n){var r=n(152),i=n(153),o=r("keys");e.exports=function(e){return o[e]||(o[e]=i(e))}},function(e,t,n){var r=n(26),i=n(271),o=n(55),a=n(33);e.exports=function(e,t,n){for(var s=i(t),u=a.f,c=o.f,l=0;l<s.length;l++){var h=s[l];r(e,h)||n&&r(n,h)||u(e,h,c(t,h))}}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){var r=n(14);e.exports=r},function(e,t,n){"use strict";var r=n(61),i=n(85),o=n(181),a=n(46),s=n(33).f,u=n(276),c=n(44),l=n(17),h=a.set,f=a.getterFor("Array Iterator");e.exports=u(Array,"Array",function(e,t){h(this,{type:"Array Iterator",target:r(e),index:0,kind:t})},function(){var e=f(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}},"values");var d=o.Arguments=o.Array;if(i("keys"),i("values"),i("entries"),!c&&l&&"values"!==d.name)try{s(d,"name",{value:"values"})}catch(p){}},function(e,t,n){var r=n(10),i=n(50),o=n(24),a=n(48),s=r("".charAt),u=r("".charCodeAt),c=r("".slice),l=function(e){return function(t,n){var r,l,h=o(a(t)),f=i(n),d=h.length;return f<0||f>=d?e?"":void 0:(r=u(h,f))<55296||r>56319||f+1===d||(l=u(h,f+1))<56320||l>57343?e?s(h,f):r:e?c(h,f,f+2):l-56320+(r-55296<<10)+65536}};e.exports={codeAt:l(!1),charAt:l(!0)}},function(e,t,n){var r=n(19),i=n(49),o=n(18),a=n(128),s=n(182),u=TypeError;e.exports=function(e,t){var n=arguments.length<2?s(e):t;if(i(n))return o(r(n,e));throw u(a(e)+" is not iterable")}},function(e,t,n){var r=n(22)("iterator"),i=!1;try{var o=0,a={next:function(){return{done:!!o++}},return:function(){i=!0}};a[r]=function(){return this},Array.from(a,function(){throw 2})}catch(s){}e.exports=function(e,t){if(!t&&!i)return!1;var n=!1;try{var o={};o[r]=function(){return{next:function(){return{done:n=!0}}}},e(o)}catch(s){}return n}},function(e,t,n){var r=n(10),i=Error,o=r("".replace),a=String(i("zxcasd").stack),s=/\n\s*at [^:]*:[^\n]*/,u=s.test(a);e.exports=function(e,t){if(u&&"string"==typeof e&&!i.prepareStackTrace)for(;t--;)e=o(e,s,"");return e}},function(e,t,n){"use strict";var r=n(128),i=TypeError;e.exports=function(e,t){if(!delete e[t])throw i("Cannot delete property "+r(t)+" of "+r(e))}},function(e,t,n){var r=n(84),i=n(150),o=n(32),a=n(36),s=function(e){var t=1==e;return function(n,s,u){for(var c,l=o(n),h=i(l),f=r(s,u),d=a(h);d-- >0;)if(f(c=h[d],d,l))switch(e){case 0:return c;case 1:return d}return t?-1:void 0}};e.exports={findLast:s(0),findLastIndex:s(1)}},function(e,t,n){var r=n(49),i=n(32),o=n(150),a=n(36),s=TypeError,u=function(e){return function(t,n,u,c){r(n);var l=i(t),h=o(l),f=a(l),d=e?f-1:0,p=e?-1:1;if(u<2)for(;;){if(d in h){c=h[d],d+=p;break}if(d+=p,e?d<0:f<=d)throw s("Reduce of empty array with no initial value")}for(;e?d>=0:f>d;d+=p)d in h&&(c=n(c,h[d],d,l));return c}};e.exports={left:u(!1),right:u(!0)}},function(e,t,n){"use strict";var r=n(14),i=n(10),o=n(17),a=n(285),s=n(154),u=n(62),c=n(184),l=n(9),h=n(94),f=n(50),d=n(67),p=n(387),g=n(578),y=n(80),v=n(92),m=n(114).f,b=n(33).f,_=n(282),w=n(180),E=n(69),S=n(46),C=s.PROPER,O=s.CONFIGURABLE,T=S.get,k=S.set,I=r.ArrayBuffer,A=I,N=A&&A.prototype,R=r.DataView,P=R&&R.prototype,x=Object.prototype,M=r.Array,L=r.RangeError,D=i(_),j=i([].reverse),U=g.pack,F=g.unpack,H=function(e){return[255&e]},B=function(e){return[255&e,e>>8&255]},V=function(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]},q=function(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]},G=function(e){return U(e,23,4)},z=function(e){return U(e,52,8)},W=function(e,t){b(e.prototype,t,{get:function(){return T(this)[t]}})},K=function(e,t,n,r){var i=p(n),o=T(e);if(i+t>o.byteLength)throw L("Wrong index");var a=T(o.buffer).bytes,s=i+o.byteOffset,u=w(a,s,s+t);return r?u:j(u)},Y=function(e,t,n,r,i,o){var a=p(n),s=T(e);if(a+t>s.byteLength)throw L("Wrong index");for(var u=T(s.buffer).bytes,c=a+s.byteOffset,l=r(+i),h=0;h<t;h++)u[c+h]=l[o?h:t-h-1]};if(a){var Q=C&&"ArrayBuffer"!==I.name;if(l(function(){I(1)})&&l(function(){new I(-1)})&&!l(function(){return new I,new I(1.5),new I(NaN),Q&&!O}))Q&&O&&u(I,"name","ArrayBuffer");else{(A=function(e){return h(this,N),new I(p(e))}).prototype=N;for(var $,X=m(I),J=0;X.length>J;)($=X[J++])in A||u(A,$,I[$]);N.constructor=A}v&&y(P)!==x&&v(P,x);var Z=new R(new A(2)),ee=i(P.setInt8);Z.setInt8(0,2147483648),Z.setInt8(1,2147483649),!Z.getInt8(0)&&Z.getInt8(1)||c(P,{setInt8:function(e,t){ee(this,e,t<<24>>24)},setUint8:function(e,t){ee(this,e,t<<24>>24)}},{unsafe:!0})}else N=(A=function(e){h(this,N);var t=p(e);k(this,{bytes:D(M(t),0),byteLength:t}),o||(this.byteLength=t)}).prototype,P=(R=function(e,t,n){h(this,P),h(e,N);var r=T(e).byteLength,i=f(t);if(i<0||i>r)throw L("Wrong offset");if(i+(n=void 0===n?r-i:d(n))>r)throw L("Wrong length");k(this,{buffer:e,byteLength:n,byteOffset:i}),o||(this.buffer=e,this.byteLength=n,this.byteOffset=i)}).prototype,o&&(W(A,"byteLength"),W(R,"buffer"),W(R,"byteLength"),W(R,"byteOffset")),c(P,{getInt8:function(e){return K(this,1,e)[0]<<24>>24},getUint8:function(e){return K(this,1,e)[0]},getInt16:function(e){var t=K(this,2,e,arguments.length>1?arguments[1]:void 0);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=K(this,2,e,arguments.length>1?arguments[1]:void 0);return t[1]<<8|t[0]},getInt32:function(e){return q(K(this,4,e,arguments.length>1?arguments[1]:void 0))},getUint32:function(e){return q(K(this,4,e,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(e){return F(K(this,4,e,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(e){return F(K(this,8,e,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(e,t){Y(this,1,e,H,t)},setUint8:function(e,t){Y(this,1,e,H,t)},setInt16:function(e,t){Y(this,2,e,B,t,arguments.length>2?arguments[2]:void 0)},setUint16:function(e,t){Y(this,2,e,B,t,arguments.length>2?arguments[2]:void 0)},setInt32:function(e,t){Y(this,4,e,V,t,arguments.length>2?arguments[2]:void 0)},setUint32:function(e,t){Y(this,4,e,V,t,arguments.length>2?arguments[2]:void 0)},setFloat32:function(e,t){Y(this,4,e,G,t,arguments.length>2?arguments[2]:void 0)},setFloat64:function(e,t){Y(this,8,e,z,t,arguments.length>2?arguments[2]:void 0)}});E(A,"ArrayBuffer"),E(R,"DataView"),e.exports={ArrayBuffer:A,DataView:R}},function(e,t,n){"use strict";var r=n(50),i=n(24),o=n(48),a=RangeError;e.exports=function(e){var t=i(o(this)),n="",s=r(e);if(s<0||s==1/0)throw a("Wrong number of repetitions");for(;s>0;(s>>>=1)&&(t+=t))1&s&&(n+=t);return n}},function(e,t,n){"use strict";var r=n(4),i=n(14),o=n(10),a=n(175),s=n(39),u=n(131),c=n(93),l=n(94),h=n(23),f=n(21),d=n(9),p=n(216),g=n(69),y=n(156);e.exports=function(e,t,n){var v=-1!==e.indexOf("Map"),m=-1!==e.indexOf("Weak"),b=v?"set":"add",_=i[e],w=_&&_.prototype,E=_,S={},C=function(e){var t=o(w[e]);s(w,e,"add"==e?function(e){return t(this,0===e?0:e),this}:"delete"==e?function(e){return!(m&&!f(e))&&t(this,0===e?0:e)}:"get"==e?function(e){return m&&!f(e)?void 0:t(this,0===e?0:e)}:"has"==e?function(e){return!(m&&!f(e))&&t(this,0===e?0:e)}:function(e,n){return t(this,0===e?0:e,n),this})};if(a(e,!h(_)||!(m||w.forEach&&!d(function(){(new _).entries().next()}))))E=n.getConstructor(t,e,v,b),u.enable();else if(a(e,!0)){var O=new E,T=O[b](m?{}:-0,1)!=O,k=d(function(){O.has(1)}),I=p(function(e){new _(e)}),A=!m&&d(function(){for(var e=new _,t=5;t--;)e[b](t,t);return!e.has(-0)});I||((E=t(function(e,t){l(e,w);var n=y(new _,e,E);return void 0!=t&&c(t,n[b],{that:n,AS_ENTRIES:v}),n})).prototype=w,w.constructor=E),(k||A)&&(C("delete"),C("has"),v&&C("get")),(A||T)&&C(b),m&&w.clear&&delete w.clear}return S[e]=E,r({global:!0,constructor:!0,forced:E!=_},S),g(E,e),m||n.setStrong(E,e,v),E}},function(e,t,n){var r=n(9),i=n(21),o=n(66),a=n(288),s=Object.isExtensible,u=r(function(){s(1)});e.exports=u||a?function(e){return!!i(e)&&((!a||"ArrayBuffer"!=o(e))&&(!s||s(e)))}:s},function(e,t){var n=Math.expm1,r=Math.exp;e.exports=!n||n(10)>22025.465794806718||n(10)<22025.465794806718||-2e-17!=n(-2e-17)?function(e){var t=+e;return 0==t?t:t>-1e-6&&t<1e-6?t+t*t/2:r(t)-1}:n},function(e,t,n){var r=n(10);e.exports=r(1..valueOf)},function(e,t){e.exports="\t\n\v\f\r \xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff"},function(e,t,n){"use strict";var r=n(44),i=n(14),o=n(9),a=n(284);e.exports=r||!o(function(){if(!(a&&a<535)){var e=Math.random();__defineSetter__.call(null,e,function(){}),delete i[e]}})},function(e,t,n){var r,i,o,a,s=n(14),u=n(79),c=n(84),l=n(23),h=n(26),f=n(9),d=n(347),p=n(130),g=n(207),y=n(116),v=n(397),m=n(115),b=s.setImmediate,_=s.clearImmediate,w=s.process,E=s.Dispatch,S=s.Function,C=s.MessageChannel,O=s.String,T=0,k={};try{r=s.location}catch(P){}var I=function(e){if(h(k,e)){var t=k[e];delete k[e],t()}},A=function(e){return function(){I(e)}},N=function(e){I(e.data)},R=function(e){s.postMessage(O(e),r.protocol+"//"+r.host)};b&&_||(b=function(e){y(arguments.length,1);var t=l(e)?e:S(e),n=p(arguments,1);return k[++T]=function(){u(t,void 0,n)},i(T),T},_=function(e){delete k[e]},m?i=function(e){w.nextTick(A(e))}:E&&E.now?i=function(e){E.now(A(e))}:C&&!v?(a=(o=new C).port2,o.port1.onmessage=N,i=c(a.postMessage,a)):s.addEventListener&&l(s.postMessage)&&!s.importScripts&&r&&"file:"!==r.protocol&&!f(R)?(i=R,s.addEventListener("message",N,!1)):i="onreadystatechange"in g("script")?function(e){d.appendChild(g("script")).onreadystatechange=function(){d.removeChild(this),I(e)}}:function(e){setTimeout(A(e),0)}),e.exports={set:b,clear:_}},function(e,t,n){var r=n(9),i=n(14).RegExp,o=r(function(){var e=i("a","y");return e.lastIndex=2,null!=e.exec("abcd")}),a=o||r(function(){return!i("a","y").sticky}),s=o||r(function(){var e=i("^r","gy");return e.lastIndex=2,null!=e.exec("str")});e.exports={BROKEN_CARET:s,MISSED_STICKY:a,UNSUPPORTED_Y:o}},function(e,t,n){"use strict";var r=n(19),i=n(10),o=n(24),a=n(291),s=n(230),u=n(152),c=n(68),l=n(46).get,h=n(292),f=n(404),d=u("native-string-replace",String.prototype.replace),p=RegExp.prototype.exec,g=p,y=i("".charAt),v=i("".indexOf),m=i("".replace),b=i("".slice),_=function(){var e=/a/,t=/b*/g;return r(p,e,"a"),r(p,t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),w=s.BROKEN_CARET,E=void 0!==/()??/.exec("")[1];(_||E||w||h||f)&&(g=function(e){var t,n,i,s,u,h,f,S=this,C=l(S),O=o(e),T=C.raw;if(T)return T.lastIndex=S.lastIndex,t=r(g,T,O),S.lastIndex=T.lastIndex,t;var k=C.groups,I=w&&S.sticky,A=r(a,S),N=S.source,R=0,P=O;if(I&&(A=m(A,"y",""),-1===v(A,"g")&&(A+="g"),P=b(O,S.lastIndex),S.lastIndex>0&&(!S.multiline||S.multiline&&"\n"!==y(O,S.lastIndex-1))&&(N="(?: "+N+")",P=" "+P,R++),n=new RegExp("^(?:"+N+")",A)),E&&(n=new RegExp("^"+N+"$(?!\\s)",A)),_&&(i=S.lastIndex),s=r(p,I?n:S,P),I?s?(s.input=b(s.input,R),s[0]=b(s[0],R),s.index=S.lastIndex,S.lastIndex+=s[0].length):S.lastIndex=0:_&&s&&(S.lastIndex=S.global?s.index+s[0].length:i),E&&s&&s.length>1&&r(d,s[0],n,function(){for(u=1;u<arguments.length-2;u++)void 0===arguments[u]&&(s[u]=void 0)}),s&&k)for(s.groups=h=c(null),u=0;u<k.length;u++)h[(f=k[u])[0]]=s[f[1]];return s}),e.exports=g},function(e,t,n){"use strict";n(293);var r=n(10),i=n(39),o=n(231),a=n(9),s=n(22),u=n(62),c=s("species"),l=RegExp.prototype;e.exports=function(e,t,n,h){var f=s(e),d=!a(function(){var t={};return t[f]=function(){return 7},7!=""[e](t)}),p=d&&!a(function(){var t=!1,n=/a/;return"split"===e&&((n={}).constructor={},n.constructor[c]=function(){return n},n.flags="",n[f]=/./[f]),n.exec=function(){return t=!0,null},n[f](""),!t});if(!d||!p||n){var g=r(/./[f]),y=t(f,""[e],function(e,t,n,i,a){var s=r(e),u=t.exec;return u===o||u===l.exec?d&&!a?{done:!0,value:g(t,n,i)}:{done:!0,value:s(n,t,i)}:{done:!1}});i(String.prototype,e,y[0]),i(l,f,y[1])}h&&u(l[f],"sham",!0)}},function(e,t,n){"use strict";var r=n(214).charAt;e.exports=function(e,t,n){return t+(n?r(e,t).length:1)}},function(e,t,n){var r=n(27),i=n(158),o=r.aTypedArrayConstructor,a=r.getTypedArrayConstructor;e.exports=function(e){return o(i(e,a(e)))}},function(e,t,n){"use strict";n.d(t,"b",function(){return c});var r=n(60),i=n(3),o=n(134),a=(n(7),n(122)),s={xs:0,sm:600,md:960,lg:1280,xl:1920},u={keys:["xs","sm","md","lg","xl"],up:function(e){return"@media (min-width:".concat(s[e],"px)")}};function c(e,t,n){if(Array.isArray(t)){var r=e.theme.breakpoints||u;return t.reduce(function(e,i,o){return e[r.up(r.keys[o])]=n(t[o]),e},{})}if("object"===Object(o.a)(t)){var i=e.theme.breakpoints||u;return Object.keys(t).reduce(function(e,r){return e[i.up(r)]=n(t[r]),e},{})}return n(t)}t.a=function(e){var t=function(t){var n=e(t),r=t.theme.breakpoints||u,o=r.keys.reduce(function(n,o){return t[o]&&((n=n||{})[r.up(o)]=e(Object(i.a)({theme:t.theme},t[o]))),n},null);return Object(a.a)(n,o)};return t.propTypes={},t.filterProps=["xs","sm","md","lg","xl"].concat(Object(r.a)(e.filterProps)),t}},function(e,t,n){"use strict";function r(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise(function(i,o){var a=e.apply(t,n);function s(e){r(a,i,o,s,u,"next",e)}function u(e){r(a,i,o,s,u,"throw",e)}s(void 0)})}}n.d(t,"a",function(){return i})},function(e,t,n){"use strict";var r=n(161);function i(e){r.call(this,null==e?"canceled":e,r.ERR_CANCELED),this.name="CanceledError"}n(54).inherits(i,r,{__CANCEL__:!0}),e.exports=i},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){var r=n(445),i=n(308);e.exports=Object.keys||function(e){return r(e,i)}},function(e,t){e.exports=!0},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,n){var r=n(303);e.exports=function(e){return Object(r(e))}},function(e,t,n){var r=n(118),i=n(878),o=n(308),a=n(306)("IE_PROTO"),s=function(){},u=function(){var e,t=n(444)("iframe"),r=o.length;for(t.style.display="none",n(879).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),u=e.F;r--;)delete u.prototype[o[r]];return u()};e.exports=Object.create||function(e,t){var n;return null!==e?(s.prototype=r(e),n=new s,s.prototype=null,n[a]=e):n=u(),void 0===t?n:i(n,t)}},function(e,t,n){var r=n(110).f,i=n(133),o=n(87)("toStringTag");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,o)&&r(e,o,{configurable:!0,value:t})}},function(e,t,n){var r=n(162),i=n(903),o=n(904),a=n(118),s=n(304),u=n(448),c={},l={};(t=e.exports=function(e,t,n,h,f){var d,p,g,y,v=f?function(){return e}:u(e),m=r(n,h,t?2:1),b=0;if("function"!=typeof v)throw TypeError(e+" is not iterable!");if(o(v)){for(d=s(e.length);d>b;b++)if((y=t?m(a(p=e[b])[0],p[1]):m(e[b]))===c||y===l)return y}else for(g=v.call(e);!(p=g.next()).done;)if((y=i(g,m,p.value,t))===c||y===l)return y}).BREAK=c,t.RETURN=l},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(195);function i(e,t){if(e){if("string"===typeof e)return Object(r.a)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Object(r.a)(e,t):void 0}}},function(e,t,n){"use strict";n.d(t,"a",function(){return p});var r=n(0),i=n(30),o=!0,a=!1,s=null,u={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function c(e){e.metaKey||e.altKey||e.ctrlKey||(o=!0)}function l(){o=!1}function h(){"hidden"===this.visibilityState&&a&&(o=!0)}function f(e){var t=e.target;try{return t.matches(":focus-visible")}catch(n){}return o||function(e){var t=e.type,n=e.tagName;return!("INPUT"!==n||!u[t]||e.readOnly)||"TEXTAREA"===n&&!e.readOnly||!!e.isContentEditable}(t)}function d(){a=!0,window.clearTimeout(s),s=window.setTimeout(function(){a=!1},100)}function p(){return{isFocusVisible:f,onBlurVisible:d,ref:r.useCallback(function(e){var t,n=i.findDOMNode(e);null!=n&&((t=n.ownerDocument).addEventListener("keydown",c,!0),t.addEventListener("mousedown",l,!0),t.addEventListener("pointerdown",l,!0),t.addEventListener("touchstart",l,!0),t.addEventListener("visibilitychange",h,!0))},[])}}},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(89);function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),i.forEach(function(t){Object(r.a)(e,t,n[t])})}return e}},function(e,t,n){"use strict";t.a={mobileStepper:1e3,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500}},function(e,t,n){"use strict";var r=n(0),i=n.n(r).a.createContext(null);t.a=i},function(e,t,n){"use strict";var r="function"===typeof Symbol&&Symbol.for;t.a=r?Symbol.for("mui.nested"):"__THEME_NESTED__"},function(e,t,n){"use strict";function r(){var e=document.createElement("div");e.style.width="99px",e.style.height="99px",e.style.position="absolute",e.style.top="-9999px",e.style.overflow="scroll",document.body.appendChild(e);var t=e.offsetWidth-e.clientWidth;return document.body.removeChild(e),t}n.d(t,"a",function(){return r})},,function(e,t,n){"use strict";t.a={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"}},function(e,t,n){"use strict";t.a={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#d5d5d5",A200:"#aaaaaa",A400:"#303030",A700:"#616161"}},function(e,t,n){"use strict";t.a={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"}},function(e,t,n){"use strict";t.a={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",A100:"#8c9eff",A200:"#536dfe",A400:"#3d5afe",A700:"#304ffe"}},function(e,t,n){"use strict";t.a={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"}},function(e,t,n){"use strict";t.a={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",A100:"#ff80ab",A200:"#ff4081",A400:"#f50057",A700:"#c51162"}},function(e,t,n){"use strict";t.a={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"}},function(e,t,n){"use strict";var r=n(31),i=n(25),o=(n(7),n(0)),a=n.n(o),s=n(30),u=n.n(s),c=!1,l=n(169),h="unmounted",f="exited",d="entering",p="entered",g=function(e){function t(t,n){var r;r=e.call(this,t,n)||this;var i,o=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?o?(i=f,r.appearStatus=d):i=p:i=t.unmountOnExit||t.mountOnEnter?h:f,r.state={status:i},r.nextCallback=null,r}Object(i.a)(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===h?{status:f}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==d&&n!==p&&(t=d):n!==d&&n!==p||(t="exiting")}this.updateStatus(!1,t)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},n.updateStatus=function(e,t){void 0===e&&(e=!1),null!==t?(this.cancelNextCallback(),t===d?this.performEnter(e):this.performExit()):this.props.unmountOnExit&&this.state.status===f&&this.setState({status:h})},n.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,i=this.props.nodeRef?[r]:[u.a.findDOMNode(this),r],o=i[0],a=i[1],s=this.getTimeouts(),l=r?s.appear:s.enter;!e&&!n||c?this.safeSetState({status:p},function(){t.props.onEntered(o)}):(this.props.onEnter(o,a),this.safeSetState({status:d},function(){t.props.onEntering(o,a),t.onTransitionEnd(l,function(){t.safeSetState({status:p},function(){t.props.onEntered(o,a)})})}))},n.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:u.a.findDOMNode(this);t&&!c?(this.props.onExit(r),this.safeSetState({status:"exiting"},function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,function(){e.safeSetState({status:f},function(){e.props.onExited(r)})})})):this.safeSetState({status:f},function(){e.props.onExited(r)})},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},n.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:u.a.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],o=i[0],a=i[1];this.props.addEndListener(o,a)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},n.render=function(){var e=this.state.status;if(e===h)return null;var t=this.props,n=t.children,i=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,Object(r.a)(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return a.a.createElement(l.a.Provider,{value:null},"function"===typeof n?n(e,i):a.a.cloneElement(a.a.Children.only(n),i))},t}(a.a.Component);function y(){}g.contextType=l.a,g.propTypes={},g.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:y,onEntering:y,onEntered:y,onExit:y,onExiting:y,onExited:y},g.UNMOUNTED=h,g.EXITED=f,g.ENTERING=d,g.ENTERED=p,g.EXITING="exiting";t.a=g},function(e,t,n){"use strict";var r=n(3),i=n(5),o=n(0),a=(n(7),n(30)),s=n(6),u=n(28),c=n(91),l=n(8),h=n(248),f=n(60),d=n(997),p="undefined"===typeof window?o.useEffect:o.useLayoutEffect;var g=function(e){var t=e.classes,n=e.pulsate,r=void 0!==n&&n,i=e.rippleX,a=e.rippleY,u=e.rippleSize,l=e.in,h=e.onExited,f=void 0===h?function(){}:h,d=e.timeout,g=o.useState(!1),y=g[0],v=g[1],m=Object(s.a)(t.ripple,t.rippleVisible,r&&t.ripplePulsate),b={width:u,height:u,top:-u/2+a,left:-u/2+i},_=Object(s.a)(t.child,y&&t.childLeaving,r&&t.childPulsate),w=Object(c.a)(f);return p(function(){if(!l){v(!0);var e=setTimeout(w,d);return function(){clearTimeout(e)}}},[w,l,d]),o.createElement("span",{className:m,style:b},o.createElement("span",{className:_}))},y=o.forwardRef(function(e,t){var n=e.center,a=void 0!==n&&n,u=e.classes,c=e.className,l=Object(i.a)(e,["center","classes","className"]),h=o.useState([]),p=h[0],y=h[1],v=o.useRef(0),m=o.useRef(null);o.useEffect(function(){m.current&&(m.current(),m.current=null)},[p]);var b=o.useRef(!1),_=o.useRef(null),w=o.useRef(null),E=o.useRef(null);o.useEffect(function(){return function(){clearTimeout(_.current)}},[]);var S=o.useCallback(function(e){var t=e.pulsate,n=e.rippleX,r=e.rippleY,i=e.rippleSize,a=e.cb;y(function(e){return[].concat(Object(f.a)(e),[o.createElement(g,{key:v.current,classes:u,timeout:550,pulsate:t,rippleX:n,rippleY:r,rippleSize:i})])}),v.current+=1,m.current=a},[u]),C=o.useCallback(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=t.pulsate,i=void 0!==r&&r,o=t.center,s=void 0===o?a||t.pulsate:o,u=t.fakeElement,c=void 0!==u&&u;if("mousedown"===e.type&&b.current)b.current=!1;else{"touchstart"===e.type&&(b.current=!0);var l,h,f,d=c?null:E.current,p=d?d.getBoundingClientRect():{width:0,height:0,left:0,top:0};if(s||0===e.clientX&&0===e.clientY||!e.clientX&&!e.touches)l=Math.round(p.width/2),h=Math.round(p.height/2);else{var g=e.clientX?e.clientX:e.touches[0].clientX,y=e.clientY?e.clientY:e.touches[0].clientY;l=Math.round(g-p.left),h=Math.round(y-p.top)}if(s)(f=Math.sqrt((2*Math.pow(p.width,2)+Math.pow(p.height,2))/3))%2===0&&(f+=1);else{var v=2*Math.max(Math.abs((d?d.clientWidth:0)-l),l)+2,m=2*Math.max(Math.abs((d?d.clientHeight:0)-h),h)+2;f=Math.sqrt(Math.pow(v,2)+Math.pow(m,2))}e.touches?null===w.current&&(w.current=function(){S({pulsate:i,rippleX:l,rippleY:h,rippleSize:f,cb:n})},_.current=setTimeout(function(){w.current&&(w.current(),w.current=null)},80)):S({pulsate:i,rippleX:l,rippleY:h,rippleSize:f,cb:n})}},[a,S]),O=o.useCallback(function(){C({},{pulsate:!0})},[C]),T=o.useCallback(function(e,t){if(clearTimeout(_.current),"touchend"===e.type&&w.current)return e.persist(),w.current(),w.current=null,void(_.current=setTimeout(function(){T(e,t)}));w.current=null,y(function(e){return e.length>0?e.slice(1):e}),m.current=t},[]);return o.useImperativeHandle(t,function(){return{pulsate:O,start:C,stop:T}},[O,C,T]),o.createElement("span",Object(r.a)({className:Object(s.a)(u.root,c),ref:E},l),o.createElement(d.a,{component:null,exit:!0},p))}),v=Object(l.a)(function(e){return{root:{overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"},ripple:{opacity:0,position:"absolute"},rippleVisible:{opacity:.3,transform:"scale(1)",animation:"$enter ".concat(550,"ms ").concat(e.transitions.easing.easeInOut)},ripplePulsate:{animationDuration:"".concat(e.transitions.duration.shorter,"ms")},child:{opacity:1,display:"block",width:"100%",height:"100%",borderRadius:"50%",backgroundColor:"currentColor"},childLeaving:{opacity:0,animation:"$exit ".concat(550,"ms ").concat(e.transitions.easing.easeInOut)},childPulsate:{position:"absolute",left:0,top:0,animation:"$pulsate 2500ms ".concat(e.transitions.easing.easeInOut," 200ms infinite")},"@keyframes enter":{"0%":{transform:"scale(0)",opacity:.1},"100%":{transform:"scale(1)",opacity:.3}},"@keyframes exit":{"0%":{opacity:1},"100%":{opacity:0}},"@keyframes pulsate":{"0%":{transform:"scale(1)"},"50%":{transform:"scale(0.92)"},"100%":{transform:"scale(1)"}}}},{flip:!1,name:"MuiTouchRipple"})(o.memo(y)),m=o.forwardRef(function(e,t){var n=e.action,l=e.buttonRef,f=e.centerRipple,d=void 0!==f&&f,p=e.children,g=e.classes,y=e.className,m=e.component,b=void 0===m?"button":m,_=e.disabled,w=void 0!==_&&_,E=e.disableRipple,S=void 0!==E&&E,C=e.disableTouchRipple,O=void 0!==C&&C,T=e.focusRipple,k=void 0!==T&&T,I=e.focusVisibleClassName,A=e.onBlur,N=e.onClick,R=e.onFocus,P=e.onFocusVisible,x=e.onKeyDown,M=e.onKeyUp,L=e.onMouseDown,D=e.onMouseLeave,j=e.onMouseUp,U=e.onTouchEnd,F=e.onTouchMove,H=e.onTouchStart,B=e.onDragLeave,V=e.tabIndex,q=void 0===V?0:V,G=e.TouchRippleProps,z=e.type,W=void 0===z?"button":z,K=Object(i.a)(e,["action","buttonRef","centerRipple","children","classes","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","onBlur","onClick","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","onDragLeave","tabIndex","TouchRippleProps","type"]),Y=o.useRef(null);var Q=o.useRef(null),$=o.useState(!1),X=$[0],J=$[1];w&&X&&J(!1);var Z=Object(h.a)(),ee=Z.isFocusVisible,te=Z.onBlurVisible,ne=Z.ref;function re(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:O;return Object(c.a)(function(r){return t&&t(r),!n&&Q.current&&Q.current[e](r),!0})}o.useImperativeHandle(n,function(){return{focusVisible:function(){J(!0),Y.current.focus()}}},[]),o.useEffect(function(){X&&k&&!S&&Q.current.pulsate()},[S,k,X]);var ie=re("start",L),oe=re("stop",B),ae=re("stop",j),se=re("stop",function(e){X&&e.preventDefault(),D&&D(e)}),ue=re("start",H),ce=re("stop",U),le=re("stop",F),he=re("stop",function(e){X&&(te(e),J(!1)),A&&A(e)},!1),fe=Object(c.a)(function(e){Y.current||(Y.current=e.currentTarget),ee(e)&&(J(!0),P&&P(e)),R&&R(e)}),de=function(){var e=a.findDOMNode(Y.current);return b&&"button"!==b&&!("A"===e.tagName&&e.href)},pe=o.useRef(!1),ge=Object(c.a)(function(e){k&&!pe.current&&X&&Q.current&&" "===e.key&&(pe.current=!0,e.persist(),Q.current.stop(e,function(){Q.current.start(e)})),e.target===e.currentTarget&&de()&&" "===e.key&&e.preventDefault(),x&&x(e),e.target===e.currentTarget&&de()&&"Enter"===e.key&&!w&&(e.preventDefault(),N&&N(e))}),ye=Object(c.a)(function(e){k&&" "===e.key&&Q.current&&X&&!e.defaultPrevented&&(pe.current=!1,e.persist(),Q.current.stop(e,function(){Q.current.pulsate(e)})),M&&M(e),N&&e.target===e.currentTarget&&de()&&" "===e.key&&!e.defaultPrevented&&N(e)}),ve=b;"button"===ve&&K.href&&(ve="a");var me={};"button"===ve?(me.type=W,me.disabled=w):("a"===ve&&K.href||(me.role="button"),me["aria-disabled"]=w);var be=Object(u.a)(l,t),_e=Object(u.a)(ne,Y),we=Object(u.a)(be,_e),Ee=o.useState(!1),Se=Ee[0],Ce=Ee[1];o.useEffect(function(){Ce(!0)},[]);var Oe=Se&&!S&&!w;return o.createElement(ve,Object(r.a)({className:Object(s.a)(g.root,y,X&&[g.focusVisible,I],w&&g.disabled),onBlur:he,onClick:N,onFocus:fe,onKeyDown:ge,onKeyUp:ye,onMouseDown:ie,onMouseLeave:se,onMouseUp:ae,onDragLeave:oe,onTouchEnd:ce,onTouchMove:le,onTouchStart:ue,ref:we,tabIndex:w?-1:q},me,K),p,Oe?o.createElement(v,Object(r.a)({ref:Q,center:d},G)):null)});t.a=Object(l.a)({root:{display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle","-moz-appearance":"none","-webkit-appearance":"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},"&$disabled":{pointerEvents:"none",cursor:"default"}},disabled:{},focusVisible:{}},{name:"MuiButtonBase"})(m)},function(e,t,n){"use strict";e.exports=n(841)},function(e,t,n){"use strict";var r=n(201);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=o.default.memo(o.default.forwardRef(function(t,n){return o.default.createElement(a.default,(0,i.default)({ref:n},t),e)}));0;return n.muiName=a.default.muiName,n};var i=r(n(488)),o=r(n(0)),a=r(n(266))},function(e,t,n){"use strict";n.r(t);var r=n(168);n.d(t,"default",function(){return r.a})},,function(e,t,n){var r=n(14),i=n(269),o=r["__core-js_shared__"]||i("__core-js_shared__",{});e.exports=o},function(e,t,n){var r=n(14),i=Object.defineProperty;e.exports=function(e,t){try{i(r,e,{value:t,configurable:!0,writable:!0})}catch(n){r[e]=t}return t}},function(e,t,n){var r=n(9),i=n(23),o=n(26),a=n(17),s=n(154).CONFIGURABLE,u=n(208),c=n(46),l=c.enforce,h=c.get,f=Object.defineProperty,d=a&&!r(function(){return 8!==f(function(){},"length",{value:8}).length}),p=String(String).split("String"),g=e.exports=function(e,t,n){"Symbol("===String(t).slice(0,7)&&(t="["+String(t).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),n&&n.getter&&(t="get "+t),n&&n.setter&&(t="set "+t),(!o(e,"name")||s&&e.name!==t)&&(a?f(e,"name",{value:t,configurable:!0}):e.name=t),d&&n&&o(n,"arity")&&e.length!==n.arity&&f(e,"length",{value:n.arity});try{n&&o(n,"constructor")&&n.constructor?a&&f(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(i){}var r=l(e);return o(r,"source")||(r.source=p.join("string"==typeof t?t:"")),e};Function.prototype.toString=g(function(){return i(this)&&h(this).source||u(this)},"toString")},function(e,t,n){var r=n(37),i=n(10),o=n(114),a=n(211),s=n(18),u=i([].concat);e.exports=r("Reflect","ownKeys")||function(e){var t=o.f(s(e)),n=a.f;return n?u(t,n(e)):t}},function(e,t){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(e,t,n){var r={};r[n(22)("toStringTag")]="z",e.exports="[object z]"===String(r)},function(e,t,n){var r=n(17),i=n(341),o=n(33),a=n(18),s=n(61),u=n(179);t.f=r&&!i?Object.defineProperties:function(e,t){a(e);for(var n,r=s(t),i=u(t),c=i.length,l=0;c>l;)o.f(e,n=i[l++],r[n]);return e}},function(e,t,n){var r=n(66),i=n(61),o=n(114).f,a=n(180),s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return s&&"Window"==r(e)?function(e){try{return o(e)}catch(t){return a(s)}}(e):o(i(e))}},function(e,t,n){"use strict";var r=n(4),i=n(19),o=n(44),a=n(154),s=n(23),u=n(277),c=n(80),l=n(92),h=n(69),f=n(62),d=n(39),p=n(22),g=n(181),y=n(372),v=a.PROPER,m=a.CONFIGURABLE,b=y.IteratorPrototype,_=y.BUGGY_SAFARI_ITERATORS,w=p("iterator"),E=function(){return this};e.exports=function(e,t,n,a,p,y,S){u(n,t,a);var C,O,T,k=function(e){if(e===p&&P)return P;if(!_&&e in N)return N[e];switch(e){case"keys":case"values":case"entries":return function(){return new n(this,e)}}return function(){return new n(this)}},I=t+" Iterator",A=!1,N=e.prototype,R=N[w]||N["@@iterator"]||p&&N[p],P=!_&&R||k(p),x="Array"==t&&N.entries||R;if(x&&(C=c(x.call(new e)))!==Object.prototype&&C.next&&(o||c(C)===b||(l?l(C,b):s(C[w])||d(C,w,E)),h(C,I,!0,!0),o&&(g[I]=E)),v&&"values"==p&&R&&"values"!==R.name&&(!o&&m?f(N,"name","values"):(A=!0,P=function(){return i(R,this)})),p)if(O={values:k("values"),keys:y?P:k("keys"),entries:k("entries")},S)for(T in O)!_&&!A&&T in N||d(N,T,O[T]);else r({target:t,proto:!0,forced:_||A},O);return o&&!S||N[w]===P||d(N,w,P,{name:p}),g[t]=P,O}},function(e,t,n){"use strict";var r=n(372).IteratorPrototype,i=n(68),o=n(77),a=n(69),s=n(181),u=function(){return this};e.exports=function(e,t,n,c){var l=t+" Iterator";return e.prototype=i(r,{next:o(+!c,n)}),a(e,l,!1,!0),s[l]=u,e}},function(e,t,n){var r=n(9);e.exports=!r(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype})},function(e,t,n){"use strict";var r=n(214).charAt,i=n(24),o=n(46),a=n(276),s=o.set,u=o.getterFor("String Iterator");a(String,"String",function(e){s(this,{type:"String Iterator",string:i(e),index:0})},function(){var e,t=u(this),n=t.string,i=t.index;return i>=n.length?{value:void 0,done:!0}:(e=r(n,i),t.index+=e.length,{value:e,done:!1})})},function(e,t,n){var r=n(22),i=n(181),o=r("iterator"),a=Array.prototype;e.exports=function(e){return void 0!==e&&(i.Array===e||a[o]===e)}},function(e,t,n){var r=n(9),i=n(77);e.exports=!r(function(){var e=Error("a");return!("stack"in e)||(Object.defineProperty(e,"stack",i(1,7)),7!==e.stack)})},function(e,t,n){"use strict";var r=n(32),i=n(104),o=n(36);e.exports=function(e){for(var t=r(this),n=o(t),a=arguments.length,s=i(a>1?arguments[1]:void 0,n),u=a>2?arguments[2]:void 0,c=void 0===u?n:i(u,n);c>s;)t[s++]=e;return t}},function(e,t,n){var r=n(180),i=Math.floor,o=function(e,t){for(var n,r,i=e.length,o=1;o<i;){for(r=o,n=e[o];r&&t(e[r-1],n)>0;)e[r]=e[--r];r!==o++&&(e[r]=n)}return e},a=function(e,t,n,r){for(var i=t.length,o=n.length,a=0,s=0;a<i||s<o;)e[a+s]=a<i&&s<o?r(t[a],n[s])<=0?t[a++]:n[s++]:a<i?t[a++]:n[s++];return e};e.exports=function e(t,n){var s=t.length,u=i(s/2);return s<8?o(t,n):a(t,e(r(t,0,u),n),e(r(t,u),n),n)}},function(e,t,n){var r=n(102).match(/AppleWebKit\/(\d+)\./);e.exports=!!r&&+r[1]},function(e,t){e.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},function(e,t,n){var r=n(155),i=n(128),o=TypeError;e.exports=function(e){if(r(e))return e;throw o(i(e)+" is not a constructor")}},function(e,t,n){var r=n(10),i=n(67),o=n(24),a=n(222),s=n(48),u=r(a),c=r("".slice),l=Math.ceil,h=function(e){return function(t,n,r){var a,h,f=o(s(t)),d=i(n),p=f.length,g=void 0===r?" ":o(r);return d<=p||""==g?f:((h=u(g,l((a=d-p)/g.length))).length>a&&(h=c(h,0,a)),e?f+h:h+f)}};e.exports={start:h(!1),end:h(!0)}},function(e,t,n){var r=n(9);e.exports=r(function(){if("function"==typeof ArrayBuffer){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}})},function(e,t){e.exports=Math.sign||function(e){var t=+e;return 0==t||t!=t?t:t<0?-1:1}},function(e,t,n){var r=n(21),i=Math.floor;e.exports=Number.isInteger||function(e){return!r(e)&&isFinite(e)&&i(e)===e}},function(e,t,n){"use strict";var r=n(18);e.exports=function(){var e=r(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.unicodeSets&&(t+="v"),e.sticky&&(t+="y"),t}},function(e,t,n){var r=n(9),i=n(14).RegExp;e.exports=r(function(){var e=i(".","s");return!(e.dotAll&&e.exec("\n")&&"s"===e.flags)})},function(e,t,n){"use strict";var r=n(4),i=n(231);r({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},function(e,t,n){var r=n(188),i=TypeError;e.exports=function(e){if(r(e))throw i("The method doesn't accept regular expressions");return e}},function(e,t,n){var r=n(22)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[r]=!1,"/./"[e](t)}catch(i){}}return!1}},function(e,t,n){var r=n(154).PROPER,i=n(9),o=n(227);e.exports=function(e){return i(function(){return!!o[e]()||"\u200b\x85\u180e"!=="\u200b\x85\u180e"[e]()||r&&o[e].name!==e})}},function(e,t,n){var r=n(14),i=n(9),o=n(216),a=n(27).NATIVE_ARRAY_BUFFER_VIEWS,s=r.ArrayBuffer,u=r.Int8Array;e.exports=!a||!i(function(){u(1)})||!i(function(){new u(-1)})||!o(function(e){new u,new u(null),new u(1.5),new u(e)},!0)||i(function(){return 1!==new u(new s(2),1,void 0).length})},function(e,t,n){"use strict";(function(t){var r=n(54),i=n(826),o=n(161),a=n(427),s=n(428),u={"Content-Type":"application/x-www-form-urlencoded"};function c(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var l={transitional:a,adapter:function(){var e;return"undefined"!==typeof XMLHttpRequest?e=n(429):"undefined"!==typeof t&&"[object process]"===Object.prototype.toString.call(t)&&(e=n(429)),e}(),transformRequest:[function(e,t){if(i(t,"Accept"),i(t,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e))return e;if(r.isArrayBufferView(e))return e.buffer;if(r.isURLSearchParams(e))return c(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString();var n,o=r.isObject(e),a=t&&t["Content-Type"];if((n=r.isFileList(e))||o&&"multipart/form-data"===a){var u=this.env&&this.env.FormData;return s(n?{"files[]":e}:e,u&&new u)}return o||"application/json"===a?(c(t,"application/json"),function(e,t,n){if(r.isString(e))try{return(t||JSON.parse)(e),r.trim(e)}catch(i){if("SyntaxError"!==i.name)throw i}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||l.transitional,n=t&&t.silentJSONParsing,i=t&&t.forcedJSONParsing,a=!n&&"json"===this.responseType;if(a||i&&r.isString(e)&&e.length)try{return JSON.parse(e)}catch(s){if(a){if("SyntaxError"===s.name)throw o.from(s,o.ERR_BAD_RESPONSE,this,null,this.response);throw s}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:n(834)},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};r.forEach(["delete","get","head"],function(e){l.headers[e]={}}),r.forEach(["post","put","patch"],function(e){l.headers[e]=r.merge(u)}),e.exports=l}).call(this,n(149))},function(e,t,n){"use strict";(function(t){var r=n(72),i=n(847),o=n(436),a={"Content-Type":"application/x-www-form-urlencoded"};function s(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var u={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:function(){var e;return"undefined"!==typeof XMLHttpRequest?e=n(437):"undefined"!==typeof t&&"[object process]"===Object.prototype.toString.call(t)&&(e=n(437)),e}(),transformRequest:[function(e,t){return i(t,"Accept"),i(t,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e)?e:r.isArrayBufferView(e)?e.buffer:r.isURLSearchParams(e)?(s(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):r.isObject(e)||t&&"application/json"===t["Content-Type"]?(s(t,"application/json"),function(e,t,n){if(r.isString(e))try{return(t||JSON.parse)(e),r.trim(e)}catch(i){if("SyntaxError"!==i.name)throw i}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional,n=t&&t.silentJSONParsing,i=t&&t.forcedJSONParsing,a=!n&&"json"===this.responseType;if(a||i&&r.isString(e)&&e.length)try{return JSON.parse(e)}catch(s){if(a){if("SyntaxError"===s.name)throw o(s,this,"E_JSON_PARSE");throw s}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};r.forEach(["delete","get","head"],function(e){u.headers[e]={}}),r.forEach(["post","put","patch"],function(e){u.headers[e]=r.merge(a)}),e.exports=u}).call(this,n(149))},function(e,t,n){var r=n(111);e.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},function(e,t,n){var r=n(302);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,n){var r=n(305),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t,n){var r=n(307)("keys"),i=n(241);e.exports=function(e){return r[e]||(r[e]=i(e))}},function(e,t,n){var r=n(86),i=n(95),o=i["__core-js_shared__"]||(i["__core-js_shared__"]={});(e.exports=function(e,t){return o[e]||(o[e]=void 0!==t?t:{})})("versions",[]).push({version:r.version,mode:n(240)?"pure":"global",copyright:"\xa9 2020 Denis Pushkarev (zloirock.ru)"})},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){n(875);for(var r=n(95),i=n(117),o=n(192),a=n(87)("toStringTag"),s="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),u=0;u<s.length;u++){var c=s[u],l=r[c],h=l&&l.prototype;h&&!h[a]&&i(h,a,c),o[c]=o.Array}},function(e,t,n){"use strict";var r=n(240),i=n(109),o=n(447),a=n(117),s=n(192),u=n(877),c=n(245),l=n(880),h=n(87)("iterator"),f=!([].keys&&"next"in[].keys()),d=function(){return this};e.exports=function(e,t,n,p,g,y,v){u(n,t,p);var m,b,_,w=function(e){if(!f&&e in O)return O[e];switch(e){case"keys":case"values":return function(){return new n(this,e)}}return function(){return new n(this,e)}},E=t+" Iterator",S="values"==g,C=!1,O=e.prototype,T=O[h]||O["@@iterator"]||g&&O[g],k=T||w(g),I=g?S?w("entries"):k:void 0,A="Array"==t&&O.entries||T;if(A&&(_=l(A.call(new e)))!==Object.prototype&&_.next&&(c(_,E,!0),r||"function"==typeof _[h]||a(_,h,d)),S&&T&&"values"!==T.name&&(C=!0,k=function(){return T.call(this)}),r&&!v||!f&&!C&&O[h]||a(O,h,k),s[t]=k,s[E]=d,g)if(m={values:S?k:w("values"),keys:y?k:w("keys"),entries:I},v)for(b in m)b in O||o(O,b,m[b]);else i(i.P+i.F*(f||C),t,m);return m}},function(e,t,n){"use strict";var r=n(881)(!0);n(311)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})})},function(e,t,n){t.f=n(87)},function(e,t,n){var r=n(241)("meta"),i=n(111),o=n(133),a=n(110).f,s=0,u=Object.isExtensible||function(){return!0},c=!n(163)(function(){return u(Object.preventExtensions({}))}),l=function(e){a(e,r,{value:{i:"O"+ ++s,w:{}}})},h=e.exports={KEY:r,NEED:!1,fastKey:function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!o(e,r)){if(!u(e))return"F";if(!t)return"E";l(e)}return e[r].i},getWeak:function(e,t){if(!o(e,r)){if(!u(e))return!0;if(!t)return!1;l(e)}return e[r].w},onFreeze:function(e){return c&&h.NEED&&u(e)&&!o(e,r)&&l(e),e}}},function(e,t,n){var r=n(95),i=n(86),o=n(240),a=n(313),s=n(110).f;e.exports=function(e){var t=i.Symbol||(i.Symbol=o?{}:r.Symbol||{});"_"==e.charAt(0)||e in t||s(t,e,{value:a.f(e)})}},function(e,t){e.exports=function(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var o=Object.keys(e),a=Object.keys(t);if(o.length!==a.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(t),u=0;u<o.length;u++){var c=o[u];if(!s(c))return!1;var l=e[c],h=t[c];if(!1===(i=n?n.call(r,l,h,c):void 0)||void 0===i&&l!==h)return!1}return!0}},function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(0),i=n.n(r),o=n(251);function a(){return i.a.useContext(o.a)}},function(e,t,n){"use strict";function r(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function i(e,t){if(t.length<e)throw new TypeError(e+" argument"+e>1?"s":" required, but only "+t.length+" present")}function o(e){i(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"===typeof e&&"[object Date]"===t?new Date(e.getTime()):"number"===typeof e||"[object Number]"===t?new Date(e):("string"!==typeof e&&"[object String]"!==t||"undefined"===typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn((new Error).stack)),new Date(NaN))}function a(e,t){i(2,arguments);var n=o(e),a=r(t);return n.setDate(n.getDate()+a),n}function s(e){i(1,arguments);var t=o(e),n=t.getFullYear(),r=t.getMonth(),a=new Date(0);return a.setFullYear(n,r+1,0),a.setHours(0,0,0,0),a.getDate()}function u(e,t){i(2,arguments);var n=o(e),a=r(t),u=n.getMonth()+a,c=new Date(0);c.setFullYear(n.getFullYear(),u,1),c.setHours(0,0,0,0);var l=s(c);return n.setMonth(u,Math.min(l,n.getDate())),n}function c(e,t){return i(2,arguments),u(e,12*r(t))}function l(e){i(1,arguments);var t=o(e);return t.setHours(23,59,59,999),t}function h(e,t){i(1,arguments);var n=t||{},a=n.locale,s=a&&a.options&&a.options.weekStartsOn,u=null==s?0:r(s),c=null==n.weekStartsOn?u:r(n.weekStartsOn);if(!(c>=0&&c<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var l=o(e),h=l.getDay(),f=6+(h<c?-7:0)-(h-c);return l.setDate(l.getDate()+f),l.setHours(23,59,59,999),l}function f(e){i(1,arguments);var t=o(e),n=t.getFullYear();return t.setFullYear(n+1,0,0),t.setHours(23,59,59,999),t}function d(e){i(1,arguments);var t=o(e);return!isNaN(t)}var p={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function g(e){return function(t){var n=t||{},r=n.width?String(n.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}var y={date:g({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:g({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:g({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},v={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function m(e){return function(t,n){var r,i=n||{};if("formatting"===(i.context?String(i.context):"standalone")&&e.formattingValues){var o=e.defaultFormattingWidth||e.defaultWidth,a=i.width?String(i.width):o;r=e.formattingValues[a]||e.formattingValues[o]}else{var s=e.defaultWidth,u=i.width?String(i.width):e.defaultWidth;r=e.values[u]||e.values[s]}return r[e.argumentCallback?e.argumentCallback(t):t]}}function b(e){return function(t,n){var r=String(t),i=n||{},o=i.width,a=o&&e.matchPatterns[o]||e.matchPatterns[e.defaultMatchWidth],s=r.match(a);if(!s)return null;var u,c=s[0],l=o&&e.parsePatterns[o]||e.parsePatterns[e.defaultParseWidth];return u="[object Array]"===Object.prototype.toString.call(l)?function(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n}(l,function(e){return e.test(r)}):function(e,t){for(var n in e)if(e.hasOwnProperty(n)&&t(e[n]))return n}(l,function(e){return e.test(r)}),u=e.valueCallback?e.valueCallback(u):u,{value:u=i.valueCallback?i.valueCallback(u):u,rest:r.slice(c.length)}}}var _,w={code:"en-US",formatDistance:function(e,t,n){var r;return n=n||{},r="string"===typeof p[e]?p[e]:1===t?p[e].one:p[e].other.replace("{{count}}",t),n.addSuffix?n.comparison>0?"in "+r:r+" ago":r},formatLong:y,formatRelative:function(e,t,n,r){return v[e]},localize:{ordinalNumber:function(e,t){var n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:m({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:m({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:function(e){return Number(e)-1}}),month:m({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:m({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:m({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:(_={matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:function(e){return parseInt(e,10)}},function(e,t){var n=String(e),r=t||{},i=n.match(_.matchPattern);if(!i)return null;var o=i[0],a=n.match(_.parsePattern);if(!a)return null;var s=_.valueCallback?_.valueCallback(a[0]):a[0];return{value:s=r.valueCallback?r.valueCallback(s):s,rest:n.slice(o.length)}}),era:b({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:b({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:b({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:b({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:b({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}};function E(e,t){return i(2,arguments),function(e,t){i(2,arguments);var n=o(e).getTime(),a=r(t);return new Date(n+a)}(e,-r(t))}function S(e,t){for(var n=e<0?"-":"",r=Math.abs(e).toString();r.length<t;)r="0"+r;return n+r}var C={y:function(e,t){var n=e.getUTCFullYear(),r=n>0?n:1-n;return S("yy"===t?r%100:r,t.length)},M:function(e,t){var n=e.getUTCMonth();return"M"===t?String(n+1):S(n+1,2)},d:function(e,t){return S(e.getUTCDate(),t.length)},a:function(e,t){var n=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":case"aaa":return n.toUpperCase();case"aaaaa":return n[0];case"aaaa":default:return"am"===n?"a.m.":"p.m."}},h:function(e,t){return S(e.getUTCHours()%12||12,t.length)},H:function(e,t){return S(e.getUTCHours(),t.length)},m:function(e,t){return S(e.getUTCMinutes(),t.length)},s:function(e,t){return S(e.getUTCSeconds(),t.length)},S:function(e,t){var n=t.length,r=e.getUTCMilliseconds();return S(Math.floor(r*Math.pow(10,n-3)),t.length)}},O=864e5;function T(e){i(1,arguments);var t=o(e),n=t.getUTCDay(),r=(n<1?7:0)+n-1;return t.setUTCDate(t.getUTCDate()-r),t.setUTCHours(0,0,0,0),t}function k(e){i(1,arguments);var t=o(e),n=t.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var a=T(r),s=new Date(0);s.setUTCFullYear(n,0,4),s.setUTCHours(0,0,0,0);var u=T(s);return t.getTime()>=a.getTime()?n+1:t.getTime()>=u.getTime()?n:n-1}var I=6048e5;function A(e){i(1,arguments);var t=o(e),n=T(t).getTime()-function(e){i(1,arguments);var t=k(e),n=new Date(0);return n.setUTCFullYear(t,0,4),n.setUTCHours(0,0,0,0),T(n)}(t).getTime();return Math.round(n/I)+1}function N(e,t){i(1,arguments);var n=t||{},a=n.locale,s=a&&a.options&&a.options.weekStartsOn,u=null==s?0:r(s),c=null==n.weekStartsOn?u:r(n.weekStartsOn);if(!(c>=0&&c<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var l=o(e),h=l.getUTCDay(),f=(h<c?7:0)+h-c;return l.setUTCDate(l.getUTCDate()-f),l.setUTCHours(0,0,0,0),l}function R(e,t){i(1,arguments);var n=o(e,t),a=n.getUTCFullYear(),s=t||{},u=s.locale,c=u&&u.options&&u.options.firstWeekContainsDate,l=null==c?1:r(c),h=null==s.firstWeekContainsDate?l:r(s.firstWeekContainsDate);if(!(h>=1&&h<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var f=new Date(0);f.setUTCFullYear(a+1,0,h),f.setUTCHours(0,0,0,0);var d=N(f,t),p=new Date(0);p.setUTCFullYear(a,0,h),p.setUTCHours(0,0,0,0);var g=N(p,t);return n.getTime()>=d.getTime()?a+1:n.getTime()>=g.getTime()?a:a-1}var P=6048e5;function x(e,t){i(1,arguments);var n=o(e),a=N(n,t).getTime()-function(e,t){i(1,arguments);var n=t||{},o=n.locale,a=o&&o.options&&o.options.firstWeekContainsDate,s=null==a?1:r(a),u=null==n.firstWeekContainsDate?s:r(n.firstWeekContainsDate),c=R(e,t),l=new Date(0);return l.setUTCFullYear(c,0,u),l.setUTCHours(0,0,0,0),N(l,t)}(n,t).getTime();return Math.round(a/P)+1}var M="midnight",L="noon",D="morning",j="afternoon",U="evening",F="night";function H(e,t){var n=e>0?"-":"+",r=Math.abs(e),i=Math.floor(r/60),o=r%60;if(0===o)return n+String(i);var a=t||"";return n+String(i)+a+S(o,2)}function B(e,t){return e%60===0?(e>0?"-":"+")+S(Math.abs(e)/60,2):V(e,t)}function V(e,t){var n=t||"",r=e>0?"-":"+",i=Math.abs(e);return r+S(Math.floor(i/60),2)+n+S(i%60,2)}var q={G:function(e,t,n){var r=e.getUTCFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if("yo"===t){var r=e.getUTCFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return C.y(e,t)},Y:function(e,t,n,r){var i=R(e,r),o=i>0?i:1-i;return"YY"===t?S(o%100,2):"Yo"===t?n.ordinalNumber(o,{unit:"year"}):S(o,t.length)},R:function(e,t){return S(k(e),t.length)},u:function(e,t){return S(e.getUTCFullYear(),t.length)},Q:function(e,t,n){var r=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return S(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){var r=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return S(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){var r=e.getUTCMonth();switch(t){case"M":case"MM":return C.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){var r=e.getUTCMonth();switch(t){case"L":return String(r+1);case"LL":return S(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){var i=x(e,r);return"wo"===t?n.ordinalNumber(i,{unit:"week"}):S(i,t.length)},I:function(e,t,n){var r=A(e);return"Io"===t?n.ordinalNumber(r,{unit:"week"}):S(r,t.length)},d:function(e,t,n){return"do"===t?n.ordinalNumber(e.getUTCDate(),{unit:"date"}):C.d(e,t)},D:function(e,t,n){var r=function(e){i(1,arguments);var t=o(e),n=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var r=n-t.getTime();return Math.floor(r/O)+1}(e);return"Do"===t?n.ordinalNumber(r,{unit:"dayOfYear"}):S(r,t.length)},E:function(e,t,n){var r=e.getUTCDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){var i=e.getUTCDay(),o=(i-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return S(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){var i=e.getUTCDay(),o=(i-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return S(o,t.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,n){var r=e.getUTCDay(),i=0===r?7:r;switch(t){case"i":return String(i);case"ii":return S(i,t.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){var r=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(e,t,n){var r,i=e.getUTCHours();switch(r=12===i?L:0===i?M:i/12>=1?"pm":"am",t){case"b":case"bb":case"bbb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbbbb":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(e,t,n){var r,i=e.getUTCHours();switch(r=i>=17?U:i>=12?j:i>=4?D:F,t){case"B":case"BB":case"BBB":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(e,t,n){if("ho"===t){var r=e.getUTCHours()%12;return 0===r&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return C.h(e,t)},H:function(e,t,n){return"Ho"===t?n.ordinalNumber(e.getUTCHours(),{unit:"hour"}):C.H(e,t)},K:function(e,t,n){var r=e.getUTCHours()%12;return"Ko"===t?n.ordinalNumber(r,{unit:"hour"}):S(r,t.length)},k:function(e,t,n){var r=e.getUTCHours();return 0===r&&(r=24),"ko"===t?n.ordinalNumber(r,{unit:"hour"}):S(r,t.length)},m:function(e,t,n){return"mo"===t?n.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):C.m(e,t)},s:function(e,t,n){return"so"===t?n.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):C.s(e,t)},S:function(e,t){return C.S(e,t)},X:function(e,t,n,r){var i=(r._originalDate||e).getTimezoneOffset();if(0===i)return"Z";switch(t){case"X":return B(i);case"XXXX":case"XX":return V(i);case"XXXXX":case"XXX":default:return V(i,":")}},x:function(e,t,n,r){var i=(r._originalDate||e).getTimezoneOffset();switch(t){case"x":return B(i);case"xxxx":case"xx":return V(i);case"xxxxx":case"xxx":default:return V(i,":")}},O:function(e,t,n,r){var i=(r._originalDate||e).getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+H(i,":");case"OOOO":default:return"GMT"+V(i,":")}},z:function(e,t,n,r){var i=(r._originalDate||e).getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+H(i,":");case"zzzz":default:return"GMT"+V(i,":")}},t:function(e,t,n,r){var i=r._originalDate||e;return S(Math.floor(i.getTime()/1e3),t.length)},T:function(e,t,n,r){return S((r._originalDate||e).getTime(),t.length)}};function G(e,t){switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}}function z(e,t){switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}}var W={p:z,P:function(e,t){var n,r=e.match(/(P+)(p+)?/),i=r[1],o=r[2];if(!o)return G(e,t);switch(i){case"P":n=t.dateTime({width:"short"});break;case"PP":n=t.dateTime({width:"medium"});break;case"PPP":n=t.dateTime({width:"long"});break;case"PPPP":default:n=t.dateTime({width:"full"})}return n.replace("{{date}}",G(i,t)).replace("{{time}}",z(o,t))}},K=6e4;function Y(e){var t=new Date(e.getTime()),n=Math.ceil(t.getTimezoneOffset());t.setSeconds(0,0);var r=t.getTime()%K;return n*K+r}var Q=["D","DD"],$=["YY","YYYY"];function X(e){return-1!==Q.indexOf(e)}function J(e){return-1!==$.indexOf(e)}function Z(e){if("YYYY"===e)throw new RangeError("Use `yyyy` instead of `YYYY` for formatting years; see: https://git.io/fxCyr");if("YY"===e)throw new RangeError("Use `yy` instead of `YY` for formatting years; see: https://git.io/fxCyr");if("D"===e)throw new RangeError("Use `d` instead of `D` for formatting days of the month; see: https://git.io/fxCyr");if("DD"===e)throw new RangeError("Use `dd` instead of `DD` for formatting days of the month; see: https://git.io/fxCyr")}var ee=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,te=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,ne=/^'([^]*?)'?$/,re=/''/g,ie=/[a-zA-Z]/;function oe(e,t,n){i(2,arguments);var a=String(t),s=n||{},u=s.locale||w,c=u.options&&u.options.firstWeekContainsDate,l=null==c?1:r(c),h=null==s.firstWeekContainsDate?l:r(s.firstWeekContainsDate);if(!(h>=1&&h<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var f=u.options&&u.options.weekStartsOn,p=null==f?0:r(f),g=null==s.weekStartsOn?p:r(s.weekStartsOn);if(!(g>=0&&g<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!u.localize)throw new RangeError("locale must contain localize property");if(!u.formatLong)throw new RangeError("locale must contain formatLong property");var y=o(e);if(!d(y))throw new RangeError("Invalid time value");var v=E(y,Y(y)),m={firstWeekContainsDate:h,weekStartsOn:g,locale:u,_originalDate:y};return a.match(te).map(function(e){var t=e[0];return"p"===t||"P"===t?(0,W[t])(e,u.formatLong,m):e}).join("").match(ee).map(function(e){if("''"===e)return"'";var t=e[0];if("'"===t)return e.match(ne)[1].replace(re,"'");var n=q[t];if(n)return!s.useAdditionalWeekYearTokens&&J(e)&&Z(e),!s.useAdditionalDayOfYearTokens&&X(e)&&Z(e),n(v,e,u.localize,m);if(t.match(ie))throw new RangeError("Format string contains an unescaped latin alphabet character `"+t+"`");return e}).join("")}function ae(e,t){i(2,arguments);var n=o(e),r=o(t);return n.getTime()>r.getTime()}function se(e,t){i(2,arguments);var n=o(e),r=o(t);return n.getTime()<r.getTime()}function ue(e){i(1,arguments);var t=o(e);return t.setHours(0,0,0,0),t}function ce(e){i(1,arguments);var t=o(e);return t.setMinutes(0,0,0),t}function le(e,t){if(null==e)throw new TypeError("assign requires that input parameter not be null or undefined");for(var n in t=t||{})t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function he(e,t,n){i(2,arguments);var a=n||{},s=a.locale,u=s&&s.options&&s.options.weekStartsOn,c=null==u?0:r(u),l=null==a.weekStartsOn?c:r(a.weekStartsOn);if(!(l>=0&&l<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=o(e),f=r(t),d=((f%7+7)%7<l?7:0)+f-h.getUTCDay();return h.setUTCDate(h.getUTCDate()+d),h}var fe=36e5,de=6e4,pe=1e3,ge={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},ye=/^([+-])(\d{2})(\d{2})?|Z/,ve=/^([+-])(\d{2})(\d{2})|Z/,me=/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,be=/^([+-])(\d{2}):(\d{2})|Z/,_e=/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/;function we(e,t,n){var r=t.match(e);if(!r)return null;var i=parseInt(r[0],10);return{value:n?n(i):i,rest:t.slice(r[0].length)}}function Ee(e,t){var n=t.match(e);if(!n)return null;if("Z"===n[0])return{value:0,rest:t.slice(1)};var r="+"===n[1]?1:-1,i=n[2]?parseInt(n[2],10):0,o=n[3]?parseInt(n[3],10):0,a=n[5]?parseInt(n[5],10):0;return{value:r*(i*fe+o*de+a*pe),rest:t.slice(n[0].length)}}function Se(e,t){return we(ge.anyDigitsSigned,e,t)}function Ce(e,t,n){switch(e){case 1:return we(ge.singleDigit,t,n);case 2:return we(ge.twoDigits,t,n);case 3:return we(ge.threeDigits,t,n);case 4:return we(ge.fourDigits,t,n);default:return we(new RegExp("^\\d{1,"+e+"}"),t,n)}}function Oe(e,t,n){switch(e){case 1:return we(ge.singleDigitSigned,t,n);case 2:return we(ge.twoDigitsSigned,t,n);case 3:return we(ge.threeDigitsSigned,t,n);case 4:return we(ge.fourDigitsSigned,t,n);default:return we(new RegExp("^-?\\d{1,"+e+"}"),t,n)}}function Te(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function ke(e,t){var n,r=t>0,i=r?t:1-t;if(i<=50)n=e||100;else{var o=i+50;n=e+100*Math.floor(o/100)-(e>=o%100?100:0)}return r?n:1-n}var Ie=[31,28,31,30,31,30,31,31,30,31,30,31],Ae=[31,29,31,30,31,30,31,31,30,31,30,31];function Ne(e){return e%400===0||e%4===0&&e%100!==0}var Re={G:{priority:140,parse:function(e,t,n,r){switch(t){case"G":case"GG":case"GGG":return n.era(e,{width:"abbreviated"})||n.era(e,{width:"narrow"});case"GGGGG":return n.era(e,{width:"narrow"});case"GGGG":default:return n.era(e,{width:"wide"})||n.era(e,{width:"abbreviated"})||n.era(e,{width:"narrow"})}},set:function(e,t,n,r){return t.era=n,e.setUTCFullYear(n,0,1),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["R","u","t","T"]},y:{priority:130,parse:function(e,t,n,r){var i=function(e){return{year:e,isTwoDigitYear:"yy"===t}};switch(t){case"y":return Ce(4,e,i);case"yo":return n.ordinalNumber(e,{unit:"year",valueCallback:i});default:return Ce(t.length,e,i)}},validate:function(e,t,n){return t.isTwoDigitYear||t.year>0},set:function(e,t,n,r){var i=e.getUTCFullYear();if(n.isTwoDigitYear){var o=ke(n.year,i);return e.setUTCFullYear(o,0,1),e.setUTCHours(0,0,0,0),e}var a="era"in t&&1!==t.era?1-n.year:n.year;return e.setUTCFullYear(a,0,1),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["Y","R","u","w","I","i","e","c","t","T"]},Y:{priority:130,parse:function(e,t,n,r){var i=function(e){return{year:e,isTwoDigitYear:"YY"===t}};switch(t){case"Y":return Ce(4,e,i);case"Yo":return n.ordinalNumber(e,{unit:"year",valueCallback:i});default:return Ce(t.length,e,i)}},validate:function(e,t,n){return t.isTwoDigitYear||t.year>0},set:function(e,t,n,r){var i=R(e,r);if(n.isTwoDigitYear){var o=ke(n.year,i);return e.setUTCFullYear(o,0,r.firstWeekContainsDate),e.setUTCHours(0,0,0,0),N(e,r)}var a="era"in t&&1!==t.era?1-n.year:n.year;return e.setUTCFullYear(a,0,r.firstWeekContainsDate),e.setUTCHours(0,0,0,0),N(e,r)},incompatibleTokens:["y","R","u","Q","q","M","L","I","d","D","i","t","T"]},R:{priority:130,parse:function(e,t,n,r){return Oe("R"===t?4:t.length,e)},set:function(e,t,n,r){var i=new Date(0);return i.setUTCFullYear(n,0,4),i.setUTCHours(0,0,0,0),T(i)},incompatibleTokens:["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]},u:{priority:130,parse:function(e,t,n,r){return Oe("u"===t?4:t.length,e)},set:function(e,t,n,r){return e.setUTCFullYear(n,0,1),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["G","y","Y","R","w","I","i","e","c","t","T"]},Q:{priority:120,parse:function(e,t,n,r){switch(t){case"Q":case"QQ":return Ce(t.length,e);case"Qo":return n.ordinalNumber(e,{unit:"quarter"});case"QQQ":return n.quarter(e,{width:"abbreviated",context:"formatting"})||n.quarter(e,{width:"narrow",context:"formatting"});case"QQQQQ":return n.quarter(e,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(e,{width:"wide",context:"formatting"})||n.quarter(e,{width:"abbreviated",context:"formatting"})||n.quarter(e,{width:"narrow",context:"formatting"})}},validate:function(e,t,n){return t>=1&&t<=4},set:function(e,t,n,r){return e.setUTCMonth(3*(n-1),1),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]},q:{priority:120,parse:function(e,t,n,r){switch(t){case"q":case"qq":return Ce(t.length,e);case"qo":return n.ordinalNumber(e,{unit:"quarter"});case"qqq":return n.quarter(e,{width:"abbreviated",context:"standalone"})||n.quarter(e,{width:"narrow",context:"standalone"});case"qqqqq":return n.quarter(e,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(e,{width:"wide",context:"standalone"})||n.quarter(e,{width:"abbreviated",context:"standalone"})||n.quarter(e,{width:"narrow",context:"standalone"})}},validate:function(e,t,n){return t>=1&&t<=4},set:function(e,t,n,r){return e.setUTCMonth(3*(n-1),1),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]},M:{priority:110,parse:function(e,t,n,r){var i=function(e){return e-1};switch(t){case"M":return we(ge.month,e,i);case"MM":return Ce(2,e,i);case"Mo":return n.ordinalNumber(e,{unit:"month",valueCallback:i});case"MMM":return n.month(e,{width:"abbreviated",context:"formatting"})||n.month(e,{width:"narrow",context:"formatting"});case"MMMMM":return n.month(e,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(e,{width:"wide",context:"formatting"})||n.month(e,{width:"abbreviated",context:"formatting"})||n.month(e,{width:"narrow",context:"formatting"})}},validate:function(e,t,n){return t>=0&&t<=11},set:function(e,t,n,r){return e.setUTCMonth(n,1),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]},L:{priority:110,parse:function(e,t,n,r){var i=function(e){return e-1};switch(t){case"L":return we(ge.month,e,i);case"LL":return Ce(2,e,i);case"Lo":return n.ordinalNumber(e,{unit:"month",valueCallback:i});case"LLL":return n.month(e,{width:"abbreviated",context:"standalone"})||n.month(e,{width:"narrow",context:"standalone"});case"LLLLL":return n.month(e,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(e,{width:"wide",context:"standalone"})||n.month(e,{width:"abbreviated",context:"standalone"})||n.month(e,{width:"narrow",context:"standalone"})}},validate:function(e,t,n){return t>=0&&t<=11},set:function(e,t,n,r){return e.setUTCMonth(n,1),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]},w:{priority:100,parse:function(e,t,n,r){switch(t){case"w":return we(ge.week,e);case"wo":return n.ordinalNumber(e,{unit:"week"});default:return Ce(t.length,e)}},validate:function(e,t,n){return t>=1&&t<=53},set:function(e,t,n,a){return N(function(e,t,n){i(2,arguments);var a=o(e),s=r(t),u=x(a,n)-s;return a.setUTCDate(a.getUTCDate()-7*u),a}(e,n,a),a)},incompatibleTokens:["y","R","u","q","Q","M","L","I","d","D","i","t","T"]},I:{priority:100,parse:function(e,t,n,r){switch(t){case"I":return we(ge.week,e);case"Io":return n.ordinalNumber(e,{unit:"week"});default:return Ce(t.length,e)}},validate:function(e,t,n){return t>=1&&t<=53},set:function(e,t,n,a){return T(function(e,t){i(2,arguments);var n=o(e),a=r(t),s=A(n)-a;return n.setUTCDate(n.getUTCDate()-7*s),n}(e,n,a),a)},incompatibleTokens:["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]},d:{priority:90,parse:function(e,t,n,r){switch(t){case"d":return we(ge.date,e);case"do":return n.ordinalNumber(e,{unit:"date"});default:return Ce(t.length,e)}},validate:function(e,t,n){var r=Ne(e.getUTCFullYear()),i=e.getUTCMonth();return r?t>=1&&t<=Ae[i]:t>=1&&t<=Ie[i]},set:function(e,t,n,r){return e.setUTCDate(n),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["Y","R","q","Q","w","I","D","i","e","c","t","T"]},D:{priority:90,parse:function(e,t,n,r){switch(t){case"D":case"DD":return we(ge.dayOfYear,e);case"Do":return n.ordinalNumber(e,{unit:"date"});default:return Ce(t.length,e)}},validate:function(e,t,n){return Ne(e.getUTCFullYear())?t>=1&&t<=366:t>=1&&t<=365},set:function(e,t,n,r){return e.setUTCMonth(0,n),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]},E:{priority:90,parse:function(e,t,n,r){switch(t){case"E":case"EE":case"EEE":return n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"EEEEE":return n.day(e,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"EEEE":default:return n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"})}},validate:function(e,t,n){return t>=0&&t<=6},set:function(e,t,n,r){return(e=he(e,n,r)).setUTCHours(0,0,0,0),e},incompatibleTokens:["D","i","e","c","t","T"]},e:{priority:90,parse:function(e,t,n,r){var i=function(e){var t=7*Math.floor((e-1)/7);return(e+r.weekStartsOn+6)%7+t};switch(t){case"e":case"ee":return Ce(t.length,e,i);case"eo":return n.ordinalNumber(e,{unit:"day",valueCallback:i});case"eee":return n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"eeeee":return n.day(e,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"eeee":default:return n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"})}},validate:function(e,t,n){return t>=0&&t<=6},set:function(e,t,n,r){return(e=he(e,n,r)).setUTCHours(0,0,0,0),e},incompatibleTokens:["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]},c:{priority:90,parse:function(e,t,n,r){var i=function(e){var t=7*Math.floor((e-1)/7);return(e+r.weekStartsOn+6)%7+t};switch(t){case"c":case"cc":return Ce(t.length,e,i);case"co":return n.ordinalNumber(e,{unit:"day",valueCallback:i});case"ccc":return n.day(e,{width:"abbreviated",context:"standalone"})||n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"});case"ccccc":return n.day(e,{width:"narrow",context:"standalone"});case"cccccc":return n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"});case"cccc":default:return n.day(e,{width:"wide",context:"standalone"})||n.day(e,{width:"abbreviated",context:"standalone"})||n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"})}},validate:function(e,t,n){return t>=0&&t<=6},set:function(e,t,n,r){return(e=he(e,n,r)).setUTCHours(0,0,0,0),e},incompatibleTokens:["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]},i:{priority:90,parse:function(e,t,n,r){var i=function(e){return 0===e?7:e};switch(t){case"i":case"ii":return Ce(t.length,e);case"io":return n.ordinalNumber(e,{unit:"day"});case"iii":return n.day(e,{width:"abbreviated",context:"formatting",valueCallback:i})||n.day(e,{width:"short",context:"formatting",valueCallback:i})||n.day(e,{width:"narrow",context:"formatting",valueCallback:i});case"iiiii":return n.day(e,{width:"narrow",context:"formatting",valueCallback:i});case"iiiiii":return n.day(e,{width:"short",context:"formatting",valueCallback:i})||n.day(e,{width:"narrow",context:"formatting",valueCallback:i});case"iiii":default:return n.day(e,{width:"wide",context:"formatting",valueCallback:i})||n.day(e,{width:"abbreviated",context:"formatting",valueCallback:i})||n.day(e,{width:"short",context:"formatting",valueCallback:i})||n.day(e,{width:"narrow",context:"formatting",valueCallback:i})}},validate:function(e,t,n){return t>=1&&t<=7},set:function(e,t,n,a){return(e=function(e,t){i(2,arguments);var n=r(t);n%7===0&&(n-=7);var a=o(e),s=((n%7+7)%7<1?7:0)+n-a.getUTCDay();return a.setUTCDate(a.getUTCDate()+s),a}(e,n,a)).setUTCHours(0,0,0,0),e},incompatibleTokens:["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]},a:{priority:80,parse:function(e,t,n,r){switch(t){case"a":case"aa":case"aaa":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaaa":return n.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}},set:function(e,t,n,r){return e.setUTCHours(Te(n),0,0,0),e},incompatibleTokens:["b","B","H","K","k","t","T"]},b:{priority:80,parse:function(e,t,n,r){switch(t){case"b":case"bb":case"bbb":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbbb":return n.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}},set:function(e,t,n,r){return e.setUTCHours(Te(n),0,0,0),e},incompatibleTokens:["a","B","H","K","k","t","T"]},B:{priority:80,parse:function(e,t,n,r){switch(t){case"B":case"BB":case"BBB":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBBB":return n.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}},set:function(e,t,n,r){return e.setUTCHours(Te(n),0,0,0),e},incompatibleTokens:["a","b","t","T"]},h:{priority:70,parse:function(e,t,n,r){switch(t){case"h":return we(ge.hour12h,e);case"ho":return n.ordinalNumber(e,{unit:"hour"});default:return Ce(t.length,e)}},validate:function(e,t,n){return t>=1&&t<=12},set:function(e,t,n,r){var i=e.getUTCHours()>=12;return i&&n<12?e.setUTCHours(n+12,0,0,0):i||12!==n?e.setUTCHours(n,0,0,0):e.setUTCHours(0,0,0,0),e},incompatibleTokens:["H","K","k","t","T"]},H:{priority:70,parse:function(e,t,n,r){switch(t){case"H":return we(ge.hour23h,e);case"Ho":return n.ordinalNumber(e,{unit:"hour"});default:return Ce(t.length,e)}},validate:function(e,t,n){return t>=0&&t<=23},set:function(e,t,n,r){return e.setUTCHours(n,0,0,0),e},incompatibleTokens:["a","b","h","K","k","t","T"]},K:{priority:70,parse:function(e,t,n,r){switch(t){case"K":return we(ge.hour11h,e);case"Ko":return n.ordinalNumber(e,{unit:"hour"});default:return Ce(t.length,e)}},validate:function(e,t,n){return t>=0&&t<=11},set:function(e,t,n,r){return e.getUTCHours()>=12&&n<12?e.setUTCHours(n+12,0,0,0):e.setUTCHours(n,0,0,0),e},incompatibleTokens:["a","b","h","H","k","t","T"]},k:{priority:70,parse:function(e,t,n,r){switch(t){case"k":return we(ge.hour24h,e);case"ko":return n.ordinalNumber(e,{unit:"hour"});default:return Ce(t.length,e)}},validate:function(e,t,n){return t>=1&&t<=24},set:function(e,t,n,r){var i=n<=24?n%24:n;return e.setUTCHours(i,0,0,0),e},incompatibleTokens:["a","b","h","H","K","t","T"]},m:{priority:60,parse:function(e,t,n,r){switch(t){case"m":return we(ge.minute,e);case"mo":return n.ordinalNumber(e,{unit:"minute"});default:return Ce(t.length,e)}},validate:function(e,t,n){return t>=0&&t<=59},set:function(e,t,n,r){return e.setUTCMinutes(n,0,0),e},incompatibleTokens:["t","T"]},s:{priority:50,parse:function(e,t,n,r){switch(t){case"s":return we(ge.second,e);case"so":return n.ordinalNumber(e,{unit:"second"});default:return Ce(t.length,e)}},validate:function(e,t,n){return t>=0&&t<=59},set:function(e,t,n,r){return e.setUTCSeconds(n,0),e},incompatibleTokens:["t","T"]},S:{priority:30,parse:function(e,t,n,r){return Ce(t.length,e,function(e){return Math.floor(e*Math.pow(10,3-t.length))})},set:function(e,t,n,r){return e.setUTCMilliseconds(n),e},incompatibleTokens:["t","T"]},X:{priority:10,parse:function(e,t,n,r){switch(t){case"X":return Ee(ye,e);case"XX":return Ee(ve,e);case"XXXX":return Ee(me,e);case"XXXXX":return Ee(_e,e);case"XXX":default:return Ee(be,e)}},set:function(e,t,n,r){return t.timestampIsSet?e:new Date(e.getTime()-n)},incompatibleTokens:["t","T","x"]},x:{priority:10,parse:function(e,t,n,r){switch(t){case"x":return Ee(ye,e);case"xx":return Ee(ve,e);case"xxxx":return Ee(me,e);case"xxxxx":return Ee(_e,e);case"xxx":default:return Ee(be,e)}},set:function(e,t,n,r){return t.timestampIsSet?e:new Date(e.getTime()-n)},incompatibleTokens:["t","T","X"]},t:{priority:40,parse:function(e,t,n,r){return Se(e)},set:function(e,t,n,r){return[new Date(1e3*n),{timestampIsSet:!0}]},incompatibleTokens:"*"},T:{priority:20,parse:function(e,t,n,r){return Se(e)},set:function(e,t,n,r){return[new Date(n),{timestampIsSet:!0}]},incompatibleTokens:"*"}},Pe=10,xe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Me=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Le=/^'([^]*?)'?$/,De=/''/g,je=/\S/,Ue=/[a-zA-Z]/;function Fe(e,t){if(t.timestampIsSet)return e;var n=new Date(0);return n.setFullYear(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()),n.setHours(e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds()),n}function He(e){i(1,arguments);var t=o(e);return t.setDate(1),t.setHours(0,0,0,0),t}function Be(e){i(1,arguments);var t=o(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function Ve(e,t){i(1,arguments);var n=t||{},a=n.locale,s=a&&a.options&&a.options.weekStartsOn,u=null==s?0:r(s),c=null==n.weekStartsOn?u:r(n.weekStartsOn);if(!(c>=0&&c<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var l=o(e),h=l.getDay(),f=(h<c?7:0)+h-c;return l.setDate(l.getDate()-f),l.setHours(0,0,0,0),l}function qe(e){i(1,arguments);var t=o(e),n=new Date(0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}var Ge=function(){function e(e){var t=(void 0===e?{}:e).locale;this.yearFormat="yyyy",this.yearMonthFormat="MMMM yyyy",this.dateTime12hFormat="MMMM do hh:mm aaaa",this.dateTime24hFormat="MMMM do HH:mm",this.time12hFormat="hh:mm a",this.time24hFormat="HH:mm",this.dateFormat="MMMM do",this.locale=t}return e.prototype.addDays=function(e,t){return a(e,t)},e.prototype.isValid=function(e){return d(this.date(e))},e.prototype.getDiff=function(e,t){return function(e,t){i(2,arguments);var n=o(e),r=o(t);return n.getTime()-r.getTime()}(e,this.date(t))},e.prototype.isAfter=function(e,t){return ae(e,t)},e.prototype.isBefore=function(e,t){return se(e,t)},e.prototype.startOfDay=function(e){return ue(e)},e.prototype.endOfDay=function(e){return l(e)},e.prototype.getHours=function(e){return function(e){return i(1,arguments),o(e).getHours()}(e)},e.prototype.setHours=function(e,t){return function(e,t){i(2,arguments);var n=o(e),a=r(t);return n.setHours(a),n}(e,t)},e.prototype.setMinutes=function(e,t){return function(e,t){i(2,arguments);var n=o(e),a=r(t);return n.setMinutes(a),n}(e,t)},e.prototype.getSeconds=function(e){return function(e){return i(1,arguments),o(e).getSeconds()}(e)},e.prototype.setSeconds=function(e,t){return function(e,t){i(2,arguments);var n=o(e),a=r(t);return n.setSeconds(a),n}(e,t)},e.prototype.isSameDay=function(e,t){return function(e,t){i(2,arguments);var n=ue(e),r=ue(t);return n.getTime()===r.getTime()}(e,t)},e.prototype.isSameMonth=function(e,t){return function(e,t){i(2,arguments);var n=o(e),r=o(t);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}(e,t)},e.prototype.isSameYear=function(e,t){return function(e,t){i(2,arguments);var n=o(e),r=o(t);return n.getFullYear()===r.getFullYear()}(e,t)},e.prototype.isSameHour=function(e,t){return function(e,t){i(2,arguments);var n=ce(e),r=ce(t);return n.getTime()===r.getTime()}(e,t)},e.prototype.startOfMonth=function(e){return He(e)},e.prototype.endOfMonth=function(e){return Be(e)},e.prototype.getYear=function(e){return function(e){return i(1,arguments),o(e).getFullYear()}(e)},e.prototype.setYear=function(e,t){return function(e,t){i(2,arguments);var n=o(e),a=r(t);return isNaN(n)?new Date(NaN):(n.setFullYear(a),n)}(e,t)},e.prototype.date=function(e){return"undefined"===typeof e?new Date:null===e?null:new Date(e)},e.prototype.parse=function(e,t){return""===e?null:function(e,t,n,a){i(3,arguments);var s=String(e),u=String(t),c=a||{},l=c.locale||w;if(!l.match)throw new RangeError("locale must contain match property");var h=l.options&&l.options.firstWeekContainsDate,f=null==h?1:r(h),d=null==c.firstWeekContainsDate?f:r(c.firstWeekContainsDate);if(!(d>=1&&d<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var p=l.options&&l.options.weekStartsOn,g=null==p?0:r(p),y=null==c.weekStartsOn?g:r(c.weekStartsOn);if(!(y>=0&&y<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(""===u)return""===s?o(n):new Date(NaN);var v,m={firstWeekContainsDate:d,weekStartsOn:y,locale:l},b=[{priority:Pe,set:Fe,index:0}],_=u.match(Me).map(function(e){var t=e[0];return"p"===t||"P"===t?(0,W[t])(e,l.formatLong,m):e}).join("").match(xe),S=[];for(v=0;v<_.length;v++){var C=_[v];!c.useAdditionalWeekYearTokens&&J(C)&&Z(C),!c.useAdditionalDayOfYearTokens&&X(C)&&Z(C);var O=C[0],T=Re[O];if(T){var k=T.incompatibleTokens;if(Array.isArray(k)){for(var I=void 0,A=0;A<S.length;A++){var N=S[A].token;if(-1!==k.indexOf(N)||N===O){I=S[A];break}}if(I)throw new RangeError("The format string mustn't contain `".concat(I.fullToken,"` and `").concat(C,"` at the same time"))}else if("*"===T.incompatibleTokens&&S.length)throw new RangeError("The format string mustn't contain `".concat(C,"` and any other token at the same time"));S.push({token:O,fullToken:C});var R=T.parse(s,C,l.match,m);if(!R)return new Date(NaN);b.push({priority:T.priority,set:T.set,validate:T.validate,value:R.value,index:b.length}),s=R.rest}else{if(O.match(Ue))throw new RangeError("Format string contains an unescaped latin alphabet character `"+O+"`");if("''"===C?C="'":"'"===O&&(C=C.match(Le)[1].replace(De,"'")),0!==s.indexOf(C))return new Date(NaN);s=s.slice(C.length)}}if(s.length>0&&je.test(s))return new Date(NaN);var P=b.map(function(e){return e.priority}).sort(function(e,t){return t-e}).filter(function(e,t,n){return n.indexOf(e)===t}).map(function(e){return b.filter(function(t){return t.priority===e}).reverse()}).map(function(e){return e[0]}),x=o(n);if(isNaN(x))return new Date(NaN);var M=E(x,Y(x)),L={};for(v=0;v<P.length;v++){var D=P[v];if(D.validate&&!D.validate(M,D.value,m))return new Date(NaN);var j=D.set(M,L,D.value,m);j[0]?(M=j[0],le(L,j[1])):M=j}return M}(e,t,new Date,{locale:this.locale})},e.prototype.format=function(e,t){return oe(e,t,{locale:this.locale})},e.prototype.isEqual=function(e,t){return null===e&&null===t||function(e,t){i(2,arguments);var n=o(e),r=o(t);return n.getTime()===r.getTime()}(e,t)},e.prototype.isNull=function(e){return null===e},e.prototype.isAfterDay=function(e,t){return ae(e,l(t))},e.prototype.isBeforeDay=function(e,t){return se(e,ue(t))},e.prototype.isBeforeYear=function(e,t){return se(e,qe(t))},e.prototype.isAfterYear=function(e,t){return ae(e,f(t))},e.prototype.formatNumber=function(e){return e},e.prototype.getMinutes=function(e){return e.getMinutes()},e.prototype.getMonth=function(e){return e.getMonth()},e.prototype.setMonth=function(e,t){return function(e,t){i(2,arguments);var n=o(e),a=r(t),u=n.getFullYear(),c=n.getDate(),l=new Date(0);l.setFullYear(u,a,15),l.setHours(0,0,0,0);var h=s(l);return n.setMonth(a,Math.min(c,h)),n}(e,t)},e.prototype.getMeridiemText=function(e){return"am"===e?"AM":"PM"},e.prototype.getNextMonth=function(e){return u(e,1)},e.prototype.getPreviousMonth=function(e){return u(e,-1)},e.prototype.getMonthArray=function(e){for(var t=[qe(e)];t.length<12;){var n=t[t.length-1];t.push(this.getNextMonth(n))}return t},e.prototype.mergeDateAndTime=function(e,t){return this.setMinutes(this.setHours(e,this.getHours(t)),this.getMinutes(t))},e.prototype.getWeekdays=function(){var e=this,t=new Date;return function(e,t){i(1,arguments);var n=e||{},r=o(n.start),a=o(n.end).getTime();if(!(r.getTime()<=a))throw new RangeError("Invalid interval");var s=[],u=r;u.setHours(0,0,0,0);var c=t&&"step"in t?Number(t.step):1;if(c<1||isNaN(c))throw new RangeError("`options.step` must be a number greater than 1");for(;u.getTime()<=a;)s.push(o(u)),u.setDate(u.getDate()+c),u.setHours(0,0,0,0);return s}({start:Ve(t,{locale:this.locale}),end:h(t,{locale:this.locale})}).map(function(t){return e.format(t,"EEEEEE")})},e.prototype.getWeekArray=function(e){for(var t=Ve(He(e),{locale:this.locale}),n=h(Be(e),{locale:this.locale}),r=0,i=t,o=[];se(i,n);){var s=Math.floor(r/7);o[s]=o[s]||[],o[s].push(i),i=a(i,1),r+=1}return o},e.prototype.getYearRange=function(e,t){for(var n=qe(e),r=f(t),i=[],o=n;se(o,r);)i.push(o),o=c(o,1);return i},e.prototype.getCalendarHeaderText=function(e){return this.format(e,this.yearMonthFormat)},e.prototype.getYearText=function(e){return this.format(e,"yyyy")},e.prototype.getDatePickerHeaderText=function(e){return this.format(e,"EEE, MMM d")},e.prototype.getDateTimePickerHeaderText=function(e){return this.format(e,"MMM d")},e.prototype.getMonthText=function(e){return this.format(e,"MMMM")},e.prototype.getDayText=function(e){return this.format(e,"d")},e.prototype.getHourText=function(e,t){return this.format(e,t?"hh":"HH")},e.prototype.getMinuteText=function(e){return this.format(e,"mm")},e.prototype.getSecondText=function(e){return this.format(e,"ss")},e}();t.a=Ge},function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";(function(e,r){var i,o=n(464);i="undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof e?e:r;var a=Object(o.a)(i);t.a=a}).call(this,n(90),n(417)(e))},function(e,t,n){"use strict";e.exports=n(808)},function(e,t,n){var r=n(812);e.exports=d,e.exports.parse=o,e.exports.compile=function(e,t){return s(o(e,t),t)},e.exports.tokensToFunction=s,e.exports.tokensToRegExp=f;var i=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function o(e,t){for(var n,r=[],o=0,a=0,s="",l=t&&t.delimiter||"/";null!=(n=i.exec(e));){var h=n[0],f=n[1],d=n.index;if(s+=e.slice(a,d),a=d+h.length,f)s+=f[1];else{var p=e[a],g=n[2],y=n[3],v=n[4],m=n[5],b=n[6],_=n[7];s&&(r.push(s),s="");var w=null!=g&&null!=p&&p!==g,E="+"===b||"*"===b,S="?"===b||"*"===b,C=n[2]||l,O=v||m;r.push({name:y||o++,prefix:g||"",delimiter:C,optional:S,repeat:E,partial:w,asterisk:!!_,pattern:O?c(O):_?".*":"[^"+u(C)+"]+?"})}}return a<e.length&&(s+=e.substr(a)),s&&r.push(s),r}function a(e){return encodeURI(e).replace(/[\/?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function s(e,t){for(var n=new Array(e.length),i=0;i<e.length;i++)"object"===typeof e[i]&&(n[i]=new RegExp("^(?:"+e[i].pattern+")$",h(t)));return function(t,i){for(var o="",s=t||{},u=(i||{}).pretty?a:encodeURIComponent,c=0;c<e.length;c++){var l=e[c];if("string"!==typeof l){var h,f=s[l.name];if(null==f){if(l.optional){l.partial&&(o+=l.prefix);continue}throw new TypeError('Expected "'+l.name+'" to be defined')}if(r(f)){if(!l.repeat)throw new TypeError('Expected "'+l.name+'" to not repeat, but received `'+JSON.stringify(f)+"`");if(0===f.length){if(l.optional)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var d=0;d<f.length;d++){if(h=u(f[d]),!n[c].test(h))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'", but received `'+JSON.stringify(h)+"`");o+=(0===d?l.prefix:l.delimiter)+h}}else{if(h=l.asterisk?encodeURI(f).replace(/[?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}):u(f),!n[c].test(h))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but received "'+h+'"');o+=l.prefix+h}}else o+=l}return o}}function u(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function c(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function l(e,t){return e.keys=t,e}function h(e){return e&&e.sensitive?"":"i"}function f(e,t,n){r(t)||(n=t||n,t=[]);for(var i=(n=n||{}).strict,o=!1!==n.end,a="",s=0;s<e.length;s++){var c=e[s];if("string"===typeof c)a+=u(c);else{var f=u(c.prefix),d="(?:"+c.pattern+")";t.push(c),c.repeat&&(d+="(?:"+f+d+")*"),a+=d=c.optional?c.partial?f+"("+d+")?":"(?:"+f+"("+d+"))?":f+"("+d+")"}}var p=u(n.delimiter||"/"),g=a.slice(-p.length)===p;return i||(a=(g?a.slice(0,-p.length):a)+"(?:"+p+"(?=$))?"),a+=o?"$":i&&g?"":"(?="+p+"|$)",l(new RegExp("^"+a,h(n)),t)}function d(e,t,n){return r(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return l(e,t)}(e,t):r(e)?function(e,t,n){for(var r=[],i=0;i<e.length;i++)r.push(d(e[i],t,n).source);return l(new RegExp("(?:"+r.join("|")+")",h(n)),t)}(e,t,n):function(e,t,n){return f(o(e,n),t,n)}(e,t,n)}},function(e,t,n){"use strict";var r=n(52),i=n(5),o=n(495),a=n(88),s=n(3);function u(e,t,n){var i;return Object(s.a)({gutters:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(s.a)({paddingLeft:t(2),paddingRight:t(2)},n,Object(r.a)({},e.up("sm"),Object(s.a)({paddingLeft:t(3),paddingRight:t(3)},n[e.up("sm")])))},toolbar:(i={minHeight:56},Object(r.a)(i,"".concat(e.up("xs")," and (orientation: landscape)"),{minHeight:48}),Object(r.a)(i,e.up("sm"),{minHeight:64}),i)},n)}var c={black:"#000",white:"#fff"},l=n(256),h=n(258),f=n(260),d=n(259),p=n(261),g=n(255),y=n(257),v=n(20),m={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)",hint:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:c.white,default:l.a[50]},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},b={text:{primary:c.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",hint:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:l.a[800],default:"#303030"},action:{active:c.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function _(e,t,n,r){e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=Object(v.e)(e.main,r):"dark"===t&&(e.dark=Object(v.a)(e.main,1.5*r)))}function w(e){return Math.round(1e5*e)/1e5}var E={textTransform:"uppercase"},S='"Roboto", "Helvetica", "Arial", sans-serif';function C(e,t){var n="function"===typeof t?t(e):t,r=n.fontFamily,a=void 0===r?S:r,u=n.fontSize,c=void 0===u?14:u,l=n.fontWeightLight,h=void 0===l?300:l,f=n.fontWeightRegular,d=void 0===f?400:f,p=n.fontWeightMedium,g=void 0===p?500:p,y=n.fontWeightBold,v=void 0===y?700:y,m=n.htmlFontSize,b=void 0===m?16:m,_=n.allVariants,C=n.pxToRem,O=Object(i.a)(n,["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"]);var T=c/14,k=C||function(e){return"".concat(e/b*T,"rem")},I=function(e,t,n,r,i){return Object(s.a)({fontFamily:a,fontWeight:e,fontSize:k(t),lineHeight:n},a===S?{letterSpacing:"".concat(w(r/t),"em")}:{},{},i,{},_)},A={h1:I(h,96,1.167,-1.5),h2:I(h,60,1.2,-.5),h3:I(d,48,1.167,0),h4:I(d,34,1.235,.25),h5:I(d,24,1.334,0),h6:I(g,20,1.6,.15),subtitle1:I(d,16,1.75,.15),subtitle2:I(g,14,1.57,.1),body1:I(d,16,1.5,.15),body2:I(d,14,1.43,.15),button:I(g,14,1.75,.4,E),caption:I(d,12,1.66,.4),overline:I(d,12,2.66,1,E)};return Object(o.a)(Object(s.a)({htmlFontSize:b,pxToRem:k,round:w,fontFamily:a,fontSize:c,fontWeightLight:h,fontWeightRegular:d,fontWeightMedium:g,fontWeightBold:v},A),O,{clone:!1})}var O=.2,T=.14,k=.12;function I(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(O,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(T,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(k,")")].join(",")}var A=["none",I(0,2,1,-1,0,1,1,0,0,1,3,0),I(0,3,1,-2,0,2,2,0,0,1,5,0),I(0,3,3,-2,0,3,4,0,0,1,8,0),I(0,2,4,-1,0,4,5,0,0,1,10,0),I(0,3,5,-1,0,5,8,0,0,1,14,0),I(0,3,5,-1,0,6,10,0,0,1,18,0),I(0,4,5,-2,0,7,10,1,0,2,16,1),I(0,5,5,-3,0,8,10,1,0,3,14,2),I(0,5,6,-3,0,9,12,1,0,3,16,2),I(0,6,6,-3,0,10,14,1,0,4,18,3),I(0,6,7,-4,0,11,15,1,0,4,20,3),I(0,7,8,-4,0,12,17,2,0,5,22,4),I(0,7,8,-4,0,13,19,2,0,5,24,4),I(0,7,9,-4,0,14,21,2,0,5,26,4),I(0,8,9,-5,0,15,22,2,0,6,28,5),I(0,8,10,-5,0,16,24,2,0,6,30,5),I(0,8,11,-5,0,17,26,2,0,6,32,5),I(0,9,11,-5,0,18,28,2,0,7,34,6),I(0,9,12,-6,0,19,29,2,0,7,36,6),I(0,10,13,-6,0,20,31,3,0,8,38,7),I(0,10,13,-6,0,21,33,3,0,8,40,7),I(0,10,14,-6,0,22,35,3,0,8,42,7),I(0,11,14,-7,0,23,36,3,0,9,44,8),I(0,11,15,-7,0,24,38,3,0,9,46,8)],N={borderRadius:4},R=n(948);var P=n(73),x=n(250);t.a=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.breakpoints,n=void 0===t?{}:t,r=e.mixins,w=void 0===r?{}:r,E=e.palette,S=void 0===E?{}:E,O=e.spacing,T=e.typography,k=void 0===T?{}:T,I=Object(i.a)(e,["breakpoints","mixins","palette","spacing","typography"]),M=function(e){var t=e.primary,n=void 0===t?{light:h.a[300],main:h.a[500],dark:h.a[700]}:t,r=e.secondary,a=void 0===r?{light:f.a.A200,main:f.a.A400,dark:f.a.A700}:r,u=e.error,w=void 0===u?{light:d.a[300],main:d.a[500],dark:d.a[700]}:u,E=e.warning,S=void 0===E?{light:p.a[300],main:p.a[500],dark:p.a[700]}:E,C=e.info,O=void 0===C?{light:g.a[300],main:g.a[500],dark:g.a[700]}:C,T=e.success,k=void 0===T?{light:y.a[300],main:y.a[500],dark:y.a[700]}:T,I=e.type,A=void 0===I?"light":I,N=e.contrastThreshold,R=void 0===N?3:N,P=e.tonalOffset,x=void 0===P?.2:P,M=Object(i.a)(e,["primary","secondary","error","warning","info","success","type","contrastThreshold","tonalOffset"]);function L(e){return Object(v.d)(e,b.text.primary)>=R?b.text.primary:m.text.primary}var D=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:700;if(!(e=Object(s.a)({},e)).main&&e[t]&&(e.main=e[t]),!e.main)throw new Error(["Material-UI: the color provided to augmentColor(color) is invalid.","The color object needs to have a `main` property or a `".concat(t,"` property.")].join("\n"));if("string"!==typeof e.main)throw new Error(["Material-UI: the color provided to augmentColor(color) is invalid.","`color.main` should be a string, but `".concat(JSON.stringify(e.main),"` was provided instead."),"","Did you intend to use one of the following approaches?","",'import {\xa0green } from "@material-ui/core/colors";',"","const theme1 = createMuiTheme({ palette: {","  primary: green,","} });","","const theme2 = createMuiTheme({ palette: {","  primary: { main: green[500] },","} });"].join("\n"));return _(e,"light",n,x),_(e,"dark",r,x),e.contrastText||(e.contrastText=L(e.main)),e},j={dark:b,light:m};return Object(o.a)(Object(s.a)({common:c,type:A,primary:D(n),secondary:D(a,"A400","A200","A700"),error:D(w),warning:D(S),info:D(O),success:D(k),grey:l.a,contrastThreshold:R,getContrastText:L,augmentColor:D,tonalOffset:x},j[A]),M)}(S),L=Object(a.a)(n),D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;var t=Object(R.a)({spacing:e}),n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return 0===n.length?t(1):1===n.length?t(n[0]):n.map(function(e){if("string"===typeof e)return e;var n=t(e);return"number"===typeof n?"".concat(n,"px"):n}).join(" ")};return Object.defineProperty(n,"unit",{get:function(){return e}}),n.mui=!0,n}(O),j=Object(o.a)({breakpoints:L,direction:"ltr",mixins:u(L,D,w),overrides:{},palette:M,props:{},shadows:A,typography:C(M,k),spacing:D,shape:N,transitions:P.a,zIndex:x.a},I),U=arguments.length,F=new Array(U>1?U-1:0),H=1;H<U;H++)F[H-1]=arguments[H];return j=F.reduce(function(e,t){return Object(o.a)(e,t)},j)}},function(e,t,n){"use strict";var r=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,i=function(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}(function(e){return r.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91});t.a=i},function(e,t,n){"use strict";var r=n(3),i=n(5),o=n(0),a=(n(7),n(6)),s=n(13),u=n(8),c=n(248),l=n(28),h=n(112),f=o.forwardRef(function(e,t){var n=e.classes,u=e.className,f=e.color,d=void 0===f?"primary":f,p=e.component,g=void 0===p?"a":p,y=e.onBlur,v=e.onFocus,m=e.TypographyClasses,b=e.underline,_=void 0===b?"hover":b,w=e.variant,E=void 0===w?"inherit":w,S=Object(i.a)(e,["classes","className","color","component","onBlur","onFocus","TypographyClasses","underline","variant"]),C=Object(c.a)(),O=C.isFocusVisible,T=C.onBlurVisible,k=C.ref,I=o.useState(!1),A=I[0],N=I[1],R=Object(l.a)(t,k);return o.createElement(h.a,Object(r.a)({className:Object(a.a)(n.root,n["underline".concat(Object(s.a)(_))],u,A&&n.focusVisible,"button"===g&&n.button),classes:m,color:d,component:g,onBlur:function(e){A&&(T(),N(!1)),y&&y(e)},onFocus:function(e){O(e)&&N(!0),v&&v(e)},ref:R,variant:E},S))});t.a=Object(u.a)({root:{},underlineNone:{textDecoration:"none"},underlineHover:{textDecoration:"none","&:hover":{textDecoration:"underline"}},underlineAlways:{textDecoration:"underline"},button:{position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle","-moz-appearance":"none","-webkit-appearance":"none","&::-moz-focus-inner":{borderStyle:"none"},"&$focusVisible":{outline:"auto"}},focusVisible:{}},{name:"MuiLink"})(f)},,,function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";var r=n(3),i=n(147),o=n(5),a=n(0),s=(n(7),n(6)),u=n(203),c=n(74),l=n(8),h=n(499),f=a.forwardRef(function(e,t){var n=e.autoFocus,l=e.checked,f=e.checkedIcon,d=e.classes,p=e.className,g=e.defaultChecked,y=e.disabled,v=e.icon,m=e.id,b=e.inputProps,_=e.inputRef,w=e.name,E=e.onBlur,S=e.onChange,C=e.onFocus,O=e.readOnly,T=e.required,k=e.tabIndex,I=e.type,A=e.value,N=Object(o.a)(e,["autoFocus","checked","checkedIcon","classes","className","defaultChecked","disabled","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"]),R=Object(u.a)({controlled:l,default:Boolean(g),name:"SwitchBase",state:"checked"}),P=Object(i.a)(R,2),x=P[0],M=P[1],L=Object(c.a)(),D=y;L&&"undefined"===typeof D&&(D=L.disabled);var j="checkbox"===I||"radio"===I;return a.createElement(h.a,Object(r.a)({component:"span",className:Object(s.a)(d.root,p,x&&d.checked,D&&d.disabled),disabled:D,tabIndex:null,role:void 0,onFocus:function(e){C&&C(e),L&&L.onFocus&&L.onFocus(e)},onBlur:function(e){E&&E(e),L&&L.onBlur&&L.onBlur(e)},ref:t},N),a.createElement("input",Object(r.a)({autoFocus:n,checked:l,defaultChecked:g,className:d.input,disabled:D,id:j&&m,name:w,onChange:function(e){var t=e.target.checked;M(t),S&&S(e,t)},readOnly:O,ref:_,required:T,tabIndex:k,type:I,value:A},b)),x?f:v)});t.a=Object(l.a)({root:{padding:9},checked:{},disabled:{},input:{cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}},{name:"PrivateSwitchBase"})(f)},,function(e,t,n){"use strict";function r(e){return(r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n.d(t,"a",function(){return r})},function(e,t,n){e.exports=n(862)},,,function(e,t,n){"use strict";(function(e){var r=n(817),i=n(818),o=n(819);function a(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(a()<t)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=u.prototype:(null===e&&(e=new u(t)),e.length=t),e}function u(e,t,n){if(!u.TYPED_ARRAY_SUPPORT&&!(this instanceof u))return new u(e,t,n);if("number"===typeof e){if("string"===typeof t)throw new Error("If encoding is specified then the first argument must be a string");return h(this,e)}return c(this,e,t,n)}function c(e,t,n,r){if("number"===typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!==typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r);u.TYPED_ARRAY_SUPPORT?(e=t).__proto__=u.prototype:e=f(e,t);return e}(e,t,n,r):"string"===typeof t?function(e,t,n){"string"===typeof n&&""!==n||(n="utf8");if(!u.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|p(t,n),i=(e=s(e,r)).write(t,n);i!==r&&(e=e.slice(0,i));return e}(e,t,n):function(e,t){if(u.isBuffer(t)){var n=0|d(t.length);return 0===(e=s(e,n)).length?e:(t.copy(e,0,0,n),e)}if(t){if("undefined"!==typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!==typeof t.length||(r=t.length)!==r?s(e,0):f(e,t);if("Buffer"===t.type&&o(t.data))return f(e,t.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function l(e){if("number"!==typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function h(e,t){if(l(t),e=s(e,t<0?0:0|d(t)),!u.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function f(e,t){var n=t.length<0?0:0|d(t.length);e=s(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function d(e){if(e>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|e}function p(e,t){if(u.isBuffer(e))return e.length;if("undefined"!==typeof ArrayBuffer&&"function"===typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!==typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return H(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return B(e).length;default:if(r)return H(e).length;t=(""+t).toLowerCase(),r=!0}}function g(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function y(e,t,n,r,i){if(0===e.length)return-1;if("string"===typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"===typeof t&&(t=u.from(t,r)),u.isBuffer(t))return 0===t.length?-1:v(e,t,n,r,i);if("number"===typeof t)return t&=255,u.TYPED_ARRAY_SUPPORT&&"function"===typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):v(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function v(e,t,n,r,i){var o,a=1,s=e.length,u=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,s/=2,u/=2,n/=2}function c(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){var l=-1;for(o=n;o<s;o++)if(c(e,o)===c(t,-1===l?0:o-l)){if(-1===l&&(l=o),o-l+1===u)return l*a}else-1!==l&&(o-=o-l),l=-1}else for(n+u>s&&(n=s-u),o=n;o>=0;o--){for(var h=!0,f=0;f<u;f++)if(c(e,o+f)!==c(t,f)){h=!1;break}if(h)return o}return-1}function m(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=t.length;if(o%2!==0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var a=0;a<r;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[n+a]=s}return a}function b(e,t,n,r){return V(H(t,e.length-n),e,n,r)}function _(e,t,n,r){return V(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function w(e,t,n,r){return _(e,t,n,r)}function E(e,t,n,r){return V(B(t),e,n,r)}function S(e,t,n,r){return V(function(e,t){for(var n,r,i,o=[],a=0;a<e.length&&!((t-=2)<0);++a)n=e.charCodeAt(a),r=n>>8,i=n%256,o.push(i),o.push(r);return o}(t,e.length-n),e,n,r)}function C(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function O(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var o,a,s,u,c=e[i],l=null,h=c>239?4:c>223?3:c>191?2:1;if(i+h<=n)switch(h){case 1:c<128&&(l=c);break;case 2:128===(192&(o=e[i+1]))&&(u=(31&c)<<6|63&o)>127&&(l=u);break;case 3:o=e[i+1],a=e[i+2],128===(192&o)&&128===(192&a)&&(u=(15&c)<<12|(63&o)<<6|63&a)>2047&&(u<55296||u>57343)&&(l=u);break;case 4:o=e[i+1],a=e[i+2],s=e[i+3],128===(192&o)&&128===(192&a)&&128===(192&s)&&(u=(15&c)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&u<1114112&&(l=u)}null===l?(l=65533,h=1):l>65535&&(l-=65536,r.push(l>>>10&1023|55296),l=56320|1023&l),r.push(l),i+=h}return function(e){var t=e.length;if(t<=T)return String.fromCharCode.apply(String,e);var n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=T));return n}(r)}t.Buffer=u,t.SlowBuffer=function(e){+e!=e&&(e=0);return u.alloc(+e)},t.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"===typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(t){return!1}}(),t.kMaxLength=a(),u.poolSize=8192,u._augment=function(e){return e.__proto__=u.prototype,e},u.from=function(e,t,n){return c(null,e,t,n)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!==typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(e,t,n){return function(e,t,n,r){return l(t),t<=0?s(e,t):void 0!==n?"string"===typeof r?s(e,t).fill(n,r):s(e,t).fill(n):s(e,t)}(null,e,t,n)},u.allocUnsafe=function(e){return h(null,e)},u.allocUnsafeSlow=function(e){return h(null,e)},u.isBuffer=function(e){return!(null==e||!e._isBuffer)},u.compare=function(e,t){if(!u.isBuffer(e)||!u.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},u.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(e,t){if(!o(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return u.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=u.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var a=e[n];if(!u.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,i),i+=a.length}return r},u.byteLength=p,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)g(this,t,t+1);return this},u.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},u.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},u.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?O(this,0,e):function(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return A(this,t,n);case"utf8":case"utf-8":return O(this,t,n);case"ascii":return k(this,t,n);case"latin1":case"binary":return I(this,t,n);case"base64":return C(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return N(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}.apply(this,arguments)},u.prototype.equals=function(e){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===u.compare(this,e)},u.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},u.prototype.compare=function(e,t,n,r,i){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(r>>>=0),a=(n>>>=0)-(t>>>=0),s=Math.min(o,a),c=this.slice(r,i),l=e.slice(t,n),h=0;h<s;++h)if(c[h]!==l[h]){o=c[h],a=l[h];break}return o<a?-1:a<o?1:0},u.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},u.prototype.indexOf=function(e,t,n){return y(this,e,t,n,!0)},u.prototype.lastIndexOf=function(e,t,n){return y(this,e,t,n,!1)},u.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"===typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return m(this,e,t,n);case"utf8":case"utf-8":return b(this,e,t,n);case"ascii":return _(this,e,t,n);case"latin1":case"binary":return w(this,e,t,n);case"base64":return E(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var T=4096;function k(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function I(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function A(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=t;o<n;++o)i+=F(e[o]);return i}function N(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function R(e,t,n){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function P(e,t,n,r,i,o){if(!u.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function x(e,t,n,r){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-n,2);i<o;++i)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function M(e,t,n,r){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-n,4);i<o;++i)e[n+i]=t>>>8*(r?i:3-i)&255}function L(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function D(e,t,n,r,o){return o||L(e,0,n,4),i.write(e,t,n,r,23,4),n+4}function j(e,t,n,r,o){return o||L(e,0,n,8),i.write(e,t,n,r,52,8),n+8}u.prototype.slice=function(e,t){var n,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),u.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=u.prototype;else{var i=t-e;n=new u(i,void 0);for(var o=0;o<i;++o)n[o]=this[o+e]}return n},u.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||R(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r},u.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||R(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},u.prototype.readUInt8=function(e,t){return t||R(e,1,this.length),this[e]},u.prototype.readUInt16LE=function(e,t){return t||R(e,2,this.length),this[e]|this[e+1]<<8},u.prototype.readUInt16BE=function(e,t){return t||R(e,2,this.length),this[e]<<8|this[e+1]},u.prototype.readUInt32LE=function(e,t){return t||R(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},u.prototype.readUInt32BE=function(e,t){return t||R(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},u.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||R(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},u.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||R(e,t,this.length);for(var r=t,i=1,o=this[e+--r];r>0&&(i*=256);)o+=this[e+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},u.prototype.readInt8=function(e,t){return t||R(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},u.prototype.readInt16LE=function(e,t){t||R(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt16BE=function(e,t){t||R(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt32LE=function(e,t){return t||R(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},u.prototype.readInt32BE=function(e,t){return t||R(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},u.prototype.readFloatLE=function(e,t){return t||R(e,4,this.length),i.read(this,e,!0,23,4)},u.prototype.readFloatBE=function(e,t){return t||R(e,4,this.length),i.read(this,e,!1,23,4)},u.prototype.readDoubleLE=function(e,t){return t||R(e,8,this.length),i.read(this,e,!0,52,8)},u.prototype.readDoubleBE=function(e,t){return t||R(e,8,this.length),i.read(this,e,!1,52,8)},u.prototype.writeUIntLE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||P(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},u.prototype.writeUIntBE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||P(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+n},u.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,1,255,0),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},u.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):x(this,e,t,!0),t+2},u.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):x(this,e,t,!1),t+2},u.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):M(this,e,t,!0),t+4},u.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):M(this,e,t,!1),t+4},u.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);P(this,e,t,n,i-1,-i)}var o=0,a=1,s=0;for(this[t]=255&e;++o<n&&(a*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},u.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);P(this,e,t,n,i-1,-i)}var o=n-1,a=1,s=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},u.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,1,127,-128),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},u.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):x(this,e,t,!0),t+2},u.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):x(this,e,t,!1),t+2},u.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):M(this,e,t,!0),t+4},u.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):M(this,e,t,!1),t+4},u.prototype.writeFloatLE=function(e,t,n){return D(this,e,t,!0,n)},u.prototype.writeFloatBE=function(e,t,n){return D(this,e,t,!1,n)},u.prototype.writeDoubleLE=function(e,t,n){return j(this,e,t,!0,n)},u.prototype.writeDoubleBE=function(e,t,n){return j(this,e,t,!1,n)},u.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i,o=r-n;if(this===e&&n<t&&t<r)for(i=o-1;i>=0;--i)e[i+t]=this[i+n];else if(o<1e3||!u.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+o),t);return o},u.prototype.fill=function(e,t,n,r){if("string"===typeof e){if("string"===typeof t?(r=t,t=0,n=this.length):"string"===typeof n&&(r=n,n=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==r&&"string"!==typeof r)throw new TypeError("encoding must be a string");if("string"===typeof r&&!u.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"===typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"===typeof e)for(o=t;o<n;++o)this[o]=e;else{var a=u.isBuffer(e)?e:H(new u(e,r).toString()),s=a.length;for(o=0;o<n-t;++o)this[o+t]=a[o%s]}return this};var U=/[^+\/0-9A-Za-z-_]/g;function F(e){return e<16?"0"+e.toString(16):e.toString(16)}function H(e,t){var n;t=t||1/0;for(var r=e.length,i=null,o=[],a=0;a<r;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function B(e){return r.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(U,"")).length<2)return"";for(;e.length%4!==0;)e+="=";return e}(e))}function V(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}}).call(this,n(90))},function(e,t,n){"use strict";var r=n(511);function i(){}var o=null,a={};function s(e){if("object"!==typeof this)throw new TypeError("Promises must be constructed via new");if("function"!==typeof e)throw new TypeError("Promise constructor's argument is not a function");this._U=0,this._V=0,this._W=null,this._X=null,e!==i&&d(e,this)}function u(e,t){for(;3===e._V;)e=e._W;if(s._Y&&s._Y(e),0===e._V)return 0===e._U?(e._U=1,void(e._X=t)):1===e._U?(e._U=2,void(e._X=[e._X,t])):void e._X.push(t);!function(e,t){r(function(){var n=1===e._V?t.onFulfilled:t.onRejected;if(null!==n){var r=function(e,t){try{return e(t)}catch(n){return o=n,a}}(n,e._W);r===a?l(t.promise,o):c(t.promise,r)}else 1===e._V?c(t.promise,e._W):l(t.promise,e._W)})}(e,t)}function c(e,t){if(t===e)return l(e,new TypeError("A promise cannot be resolved with itself."));if(t&&("object"===typeof t||"function"===typeof t)){var n=function(e){try{return e.then}catch(t){return o=t,a}}(t);if(n===a)return l(e,o);if(n===e.then&&t instanceof s)return e._V=3,e._W=t,void h(e);if("function"===typeof n)return void d(n.bind(t),e)}e._V=1,e._W=t,h(e)}function l(e,t){e._V=2,e._W=t,s._Z&&s._Z(e,t),h(e)}function h(e){if(1===e._U&&(u(e,e._X),e._X=null),2===e._U){for(var t=0;t<e._X.length;t++)u(e,e._X[t]);e._X=null}}function f(e,t,n){this.onFulfilled="function"===typeof e?e:null,this.onRejected="function"===typeof t?t:null,this.promise=n}function d(e,t){var n=!1,r=function(e,t,n){try{e(t,n)}catch(r){return o=r,a}}(e,function(e){n||(n=!0,c(t,e))},function(e){n||(n=!0,l(t,e))});n||r!==a||(n=!0,l(t,o))}e.exports=s,s._Y=null,s._Z=null,s._0=i,s.prototype.then=function(e,t){if(this.constructor!==s)return function(e,t,n){return new e.constructor(function(r,o){var a=new s(i);a.then(r,o),u(e,new f(t,n,a))})}(this,e,t);var n=new s(i);return u(this,new f(e,t,n)),n}},function(e,t,n){"use strict";var r=n(4),i=n(9),o=n(129),a=n(21),s=n(32),u=n(36),c=n(176),l=n(105),h=n(177),f=n(178),d=n(22),p=n(101),g=d("isConcatSpreadable"),y=p>=51||!i(function(){var e=[];return e[g]=!1,e.concat()[0]!==e}),v=f("concat"),m=function(e){if(!a(e))return!1;var t=e[g];return void 0!==t?!!t:o(e)};r({target:"Array",proto:!0,arity:1,forced:!y||!v},{concat:function(e){var t,n,r,i,o,a=s(this),f=h(a,0),d=0;for(t=-1,r=arguments.length;t<r;t++)if(o=-1===t?a:arguments[t],m(o))for(i=u(o),c(d+i),n=0;n<i;n++,d++)n in o&&l(f,d,o[n]);else c(d+1),l(f,d++,o);return f.length=d,f}})},function(e,t,n){var r=n(151);e.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(e,t,n){var r=n(19),i=n(23),o=n(21),a=TypeError;e.exports=function(e,t){var n,s;if("string"===t&&i(n=e.toString)&&!o(s=r(n,e)))return s;if(i(n=e.valueOf)&&!o(s=r(n,e)))return s;if("string"!==t&&i(n=e.toString)&&!o(s=r(n,e)))return s;throw a("Can't convert object to primitive value")}},function(e,t,n){var r=n(17),i=n(9),o=n(207);e.exports=!r&&!i(function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a})},function(e,t,n){var r=n(17),i=n(9);e.exports=r&&i(function(){return 42!=Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype})},function(e,t,n){var r=n(14),i=n(23),o=n(208),a=r.WeakMap;e.exports=i(a)&&/native code/.test(o(a))},function(e,t,n){var r=n(10),i=n(26),o=n(61),a=n(174).indexOf,s=n(173),u=r([].push);e.exports=function(e,t){var n,r=o(e),c=0,l=[];for(n in r)!i(s,n)&&i(r,n)&&u(l,n);for(;t.length>c;)i(r,n=t[c++])&&(~a(l,n)||u(l,n));return l}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=Math.trunc||function(e){var t=+e;return(t>0?r:n)(t)}},function(e,t,n){var r=n(273),i=n(39),o=n(520);r||i(Object.prototype,"toString",o,{unsafe:!0})},function(e,t,n){n(521),n(522),n(523),n(351),n(524)},function(e,t,n){var r=n(37);e.exports=r("document","documentElement")},function(e,t,n){var r=n(22);t.f=r},function(e,t,n){var r=n(19),i=n(37),o=n(22),a=n(39);e.exports=function(){var e=i("Symbol"),t=e&&e.prototype,n=t&&t.valueOf,s=o("toPrimitive");t&&!t[s]&&a(t,s,function(e){return r(n,this)},{arity:1})}},function(e,t,n){var r=n(151);e.exports=r&&!!Symbol.for&&!!Symbol.keyFor},function(e,t,n){var r=n(4),i=n(37),o=n(79),a=n(19),s=n(10),u=n(9),c=n(129),l=n(23),h=n(21),f=n(127),d=n(130),p=n(151),g=i("JSON","stringify"),y=s(/./.exec),v=s("".charAt),m=s("".charCodeAt),b=s("".replace),_=s(1..toString),w=/[\uD800-\uDFFF]/g,E=/^[\uD800-\uDBFF]$/,S=/^[\uDC00-\uDFFF]$/,C=!p||u(function(){var e=i("Symbol")();return"[null]"!=g([e])||"{}"!=g({a:e})||"{}"!=g(Object(e))}),O=u(function(){return'"\\udf06\\ud834"'!==g("\udf06\ud834")||'"\\udead"'!==g("\udead")}),T=function(e,t){var n=d(arguments),r=t;if((h(t)||void 0!==e)&&!f(e))return c(t)||(t=function(e,t){if(l(r)&&(t=a(r,this,e,t)),!f(t))return t}),n[1]=t,o(g,null,n)},k=function(e,t,n){var r=v(n,t-1),i=v(n,t+1);return y(E,e)&&!y(S,i)||y(S,e)&&!y(E,r)?"\\u"+_(m(e,0),16):e};g&&r({target:"JSON",stat:!0,arity:3,forced:C||O},{stringify:function(e,t,n){var r=d(arguments),i=o(C?T:g,null,r);return O&&"string"==typeof i?b(i,w,k):i}})},function(e,t,n){n(40)("asyncIterator")},function(e,t,n){"use strict";var r=n(4),i=n(17),o=n(14),a=n(10),s=n(26),u=n(23),c=n(78),l=n(24),h=n(33).f,f=n(210),d=o.Symbol,p=d&&d.prototype;if(i&&u(d)&&(!("description"in p)||void 0!==d().description)){var g={},y=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:l(arguments[0]),t=c(p,this)?new d(e):void 0===e?d():d(e);return""===e&&(g[t]=!0),t};f(y,d),y.prototype=p,p.constructor=y;var v="Symbol(test)"==String(d("test")),m=a(p.toString),b=a(p.valueOf),_=/^Symbol\((.*)\)[^)]+$/,w=a("".replace),E=a("".slice);h(p,"description",{configurable:!0,get:function(){var e=b(this),t=m(e);if(s(g,e))return"";var n=v?E(t,7,-1):w(t,_,"$1");return""===n?void 0:n}}),r({global:!0,constructor:!0,forced:!0},{Symbol:y})}},function(e,t,n){n(40)("hasInstance")},function(e,t,n){n(40)("isConcatSpreadable")},function(e,t,n){n(40)("iterator")},function(e,t,n){n(40)("match")},function(e,t,n){n(40)("matchAll")},function(e,t,n){n(40)("replace")},function(e,t,n){n(40)("search")},function(e,t,n){n(40)("species")},function(e,t,n){n(40)("split")},function(e,t,n){var r=n(40),i=n(349);r("toPrimitive"),i()},function(e,t,n){var r=n(37),i=n(40),o=n(69);i("toStringTag"),o(r("Symbol"),"Symbol")},function(e,t,n){n(40)("unscopables")},function(e,t,n){var r=n(14);n(69)(r.JSON,"JSON",!0)},function(e,t,n){n(69)(Math,"Math",!0)},function(e,t,n){var r=n(4),i=n(14),o=n(69);r({global:!0},{Reflect:{}}),o(i.Reflect,"Reflect",!0)},function(e,t,n){var r=n(14),i=n(370),o=n(371),a=n(213),s=n(62),u=n(22),c=u("iterator"),l=u("toStringTag"),h=a.values,f=function(e,t){if(e){if(e[c]!==h)try{s(e,c,h)}catch(r){e[c]=h}if(e[l]||s(e,l,t),i[t])for(var n in a)if(e[n]!==a[n])try{s(e,n,a[n])}catch(r){e[n]=a[n]}}};for(var d in i)f(r[d]&&r[d].prototype,d);f(o,"DOMTokenList")},function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(e,t,n){var r=n(207)("span").classList,i=r&&r.constructor&&r.constructor.prototype;e.exports=i===Object.prototype?void 0:i},function(e,t,n){"use strict";var r,i,o,a=n(9),s=n(23),u=n(68),c=n(80),l=n(39),h=n(22),f=n(44),d=h("iterator"),p=!1;[].keys&&("next"in(o=[].keys())?(i=c(c(o)))!==Object.prototype&&(r=i):p=!0),void 0==r||a(function(){var e={};return r[d].call(e)!==e})?r={}:f&&(r=u(r)),s(r[d])||l(r,d,function(){return this}),e.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:p}},function(e,t,n){var r=n(23),i=String,o=TypeError;e.exports=function(e){if("object"==typeof e||r(e))return e;throw o("Can't set "+i(e)+" as a prototype")}},function(e,t,n){var r=n(4),i=n(375);r({target:"Array",stat:!0,forced:!n(216)(function(e){Array.from(e)})},{from:i})},function(e,t,n){"use strict";var r=n(84),i=n(19),o=n(32),a=n(538),s=n(280),u=n(155),c=n(36),l=n(105),h=n(215),f=n(182),d=Array;e.exports=function(e){var t=o(e),n=u(this),p=arguments.length,g=p>1?arguments[1]:void 0,y=void 0!==g;y&&(g=r(g,p>2?arguments[2]:void 0));var v,m,b,_,w,E,S=f(t),C=0;if(!S||this===d&&s(S))for(v=c(t),m=n?new this(v):d(v);v>C;C++)E=y?g(t[C],C):t[C],l(m,C,E);else for(w=(_=h(t,S)).next,m=n?new this:[];!(b=i(w,_)).done;C++)E=y?a(_,g,[b.value,C],!0):b.value,l(m,C,E);return m.length=C,m}},function(e,t,n){var r=n(19),i=n(18),o=n(103);e.exports=function(e,t,n){var a,s;i(e);try{if(!(a=o(e,"return"))){if("throw"===t)throw n;return n}a=r(a,e)}catch(u){s=!0,a=u}if("throw"===t)throw n;if(s)throw a;return i(a),n}},function(e,t,n){"use strict";var r=n(37),i=n(26),o=n(62),a=n(78),s=n(92),u=n(210),c=n(378),l=n(156),h=n(183),f=n(379),d=n(217),p=n(281),g=n(17),y=n(44);e.exports=function(e,t,n,v){var m=v?2:1,b=e.split("."),_=b[b.length-1],w=r.apply(null,b);if(w){var E=w.prototype;if(!y&&i(E,"cause")&&delete E.cause,!n)return w;var S=r("Error"),C=t(function(e,t){var n=h(v?t:e,void 0),r=v?new w(e):new w;return void 0!==n&&o(r,"message",n),p&&o(r,"stack",d(r.stack,2)),this&&a(E,this)&&l(r,this,C),arguments.length>m&&f(r,arguments[m]),r});if(C.prototype=E,"Error"!==_?s?s(C,S):u(C,S,{name:!0}):g&&"stackTraceLimit"in w&&(c(C,w,"stackTraceLimit"),c(C,w,"prepareStackTrace")),u(C,w),!y)try{E.name!==_&&o(E,"name",_),E.constructor=C}catch(O){}return C}}},function(e,t,n){var r=n(33).f;e.exports=function(e,t,n){n in e||r(e,n,{configurable:!0,get:function(){return t[n]},set:function(e){t[n]=e}})}},function(e,t,n){var r=n(21),i=n(62);e.exports=function(e,t){r(t)&&"cause"in t&&i(e,"cause",t.cause)}},function(e,t,n){"use strict";var r=n(17),i=n(9),o=n(18),a=n(68),s=n(183),u=Error.prototype.toString,c=i(function(){if(r){var e=a(Object.defineProperty({},"name",{get:function(){return this===e}}));if("true"!==u.call(e))return!0}return"2: 1"!==u.call({message:1,name:2})||"Error"!==u.call({})});e.exports=c?function(){var e=o(this),t=s(e.name,"Error"),n=s(e.message);return t?n?t+": "+n:t:n}:u},function(e,t,n){"use strict";var r=n(32),i=n(104),o=n(36),a=n(218),s=Math.min;e.exports=[].copyWithin||function(e,t){var n=r(this),u=o(n),c=i(e,u),l=i(t,u),h=arguments.length>2?arguments[2]:void 0,f=s((void 0===h?u:i(h,u))-l,u-c),d=1;for(l<c&&c<l+f&&(d=-1,l+=f-1,c+=f-1);f-- >0;)l in n?n[c]=n[l]:a(n,c),c+=d,l+=d;return n}},function(e,t,n){"use strict";var r=n(129),i=n(36),o=n(176),a=n(84);e.exports=function e(t,n,s,u,c,l,h,f){for(var d,p=c,g=0,y=!!h&&a(h,f);g<u;)g in s&&(d=y?y(s[g],g,n):s[g],l>0&&r(d)?p=e(t,n,d,i(d),p,l-1)-1:(o(p+1),t[p]=d),p++),g++;return p}},function(e,t,n){"use strict";var r=n(53).forEach,i=n(107)("forEach");e.exports=i?[].forEach:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}},function(e,t,n){"use strict";var r=n(79),i=n(61),o=n(50),a=n(36),s=n(107),u=Math.min,c=[].lastIndexOf,l=!!c&&1/[1].lastIndexOf(1,-0)<0,h=s("lastIndexOf"),f=l||!h;e.exports=f?function(e){if(l)return r(c,this,arguments)||0;var t=i(this),n=a(t),s=n-1;for(arguments.length>1&&(s=u(s,o(arguments[1]))),s<0&&(s=n+s);s>=0;s--)if(s in t&&t[s]===e)return s||0;return-1}:c},function(e,t,n){var r=n(102).match(/firefox\/(\d+)/i);e.exports=!!r&&+r[1]},function(e,t,n){var r=n(102);e.exports=/MSIE|Trident/.test(r)},function(e,t,n){var r=n(50),i=n(67),o=RangeError;e.exports=function(e){if(void 0===e)return 0;var t=r(e),n=i(t);if(t!==n)throw o("Wrong length or index");return n}},function(e,t,n){"use strict";var r=n(10),i=n(49),o=n(21),a=n(26),s=n(130),u=n(172),c=Function,l=r([].concat),h=r([].join),f={};e.exports=u?c.bind:function(e){var t=i(this),n=t.prototype,r=s(arguments,1),u=function(){var n=l(r,s(arguments));return this instanceof u?function(e,t,n){if(!a(f,t)){for(var r=[],i=0;i<t;i++)r[i]="a["+i+"]";f[t]=c("C,a","return new C("+h(r,",")+")")}return f[t](e,n)}(t,n.length,n):t.apply(e,n)};return o(n)&&(u.prototype=n),u}},function(e,t,n){"use strict";var r=n(33).f,i=n(68),o=n(184),a=n(84),s=n(94),u=n(93),c=n(276),l=n(157),h=n(17),f=n(131).fastKey,d=n(46),p=d.set,g=d.getterFor;e.exports={getConstructor:function(e,t,n,c){var l=e(function(e,r){s(e,d),p(e,{type:t,index:i(null),first:void 0,last:void 0,size:0}),h||(e.size=0),void 0!=r&&u(r,e[c],{that:e,AS_ENTRIES:n})}),d=l.prototype,y=g(t),v=function(e,t,n){var r,i,o=y(e),a=m(e,t);return a?a.value=n:(o.last=a={index:i=f(t,!0),key:t,value:n,previous:r=o.last,next:void 0,removed:!1},o.first||(o.first=a),r&&(r.next=a),h?o.size++:e.size++,"F"!==i&&(o.index[i]=a)),e},m=function(e,t){var n,r=y(e),i=f(t);if("F"!==i)return r.index[i];for(n=r.first;n;n=n.next)if(n.key==t)return n};return o(d,{clear:function(){for(var e=y(this),t=e.index,n=e.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete t[n.index],n=n.next;e.first=e.last=void 0,h?e.size=0:this.size=0},delete:function(e){var t=y(this),n=m(this,e);if(n){var r=n.next,i=n.previous;delete t.index[n.index],n.removed=!0,i&&(i.next=r),r&&(r.previous=i),t.first==n&&(t.first=r),t.last==n&&(t.last=i),h?t.size--:this.size--}return!!n},forEach:function(e){for(var t,n=y(this),r=a(e,arguments.length>1?arguments[1]:void 0);t=t?t.next:n.first;)for(r(t.value,t.key,this);t&&t.removed;)t=t.previous},has:function(e){return!!m(this,e)}}),o(d,n?{get:function(e){var t=m(this,e);return t&&t.value},set:function(e,t){return v(this,0===e?0:e,t)}}:{add:function(e){return v(this,e=0===e?0:e,e)}}),h&&r(d,"size",{get:function(){return y(this).size}}),l},setStrong:function(e,t,n){var r=t+" Iterator",i=g(t),o=g(r);c(e,t,function(e,t){p(this,{type:r,target:e,state:i(e),kind:t,last:void 0})},function(){for(var e=o(this),t=e.kind,n=e.last;n&&n.removed;)n=n.previous;return e.target&&(e.last=n=n?n.next:e.state.first)?"keys"==t?{value:n.key,done:!1}:"values"==t?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(e.target=void 0,{value:void 0,done:!0})},n?"entries":"values",!n,!0),l(t)}}},function(e,t){var n=Math.log;e.exports=Math.log1p||function(e){var t=+e;return t>-1e-8&&t<1e-8?t-t*t/2:n(1+t)}},function(e,t){var n=Math.log,r=Math.LOG10E;e.exports=Math.log10||function(e){return n(e)*r}},function(e,t,n){var r=n(14),i=n(9),o=n(10),a=n(24),s=n(159).trim,u=n(227),c=o("".charAt),l=r.parseFloat,h=r.Symbol,f=h&&h.iterator,d=1/l(u+"-0")!==-1/0||f&&!i(function(){l(Object(f))});e.exports=d?function(e){var t=s(a(e)),n=l(t);return 0===n&&"-"==c(t,0)?-0:n}:l},function(e,t,n){var r=n(14),i=n(9),o=n(10),a=n(24),s=n(159).trim,u=n(227),c=r.parseInt,l=r.Symbol,h=l&&l.iterator,f=/^[+-]?0x/i,d=o(f.exec),p=8!==c(u+"08")||22!==c(u+"0x16")||h&&!i(function(){c(Object(h))});e.exports=p?function(e,t){var n=s(a(e));return c(n,t>>>0||(d(f,n)?16:10))}:c},function(e,t,n){"use strict";var r=n(17),i=n(10),o=n(19),a=n(9),s=n(179),u=n(211),c=n(205),l=n(32),h=n(150),f=Object.assign,d=Object.defineProperty,p=i([].concat);e.exports=!f||a(function(){if(r&&1!==f({b:1},f(d({},"a",{enumerable:!0,get:function(){d(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol();return e[n]=7,"abcdefghijklmnopqrst".split("").forEach(function(e){t[e]=e}),7!=f({},e)[n]||"abcdefghijklmnopqrst"!=s(f({},t)).join("")})?function(e,t){for(var n=l(e),i=arguments.length,a=1,f=u.f,d=c.f;i>a;)for(var g,y=h(arguments[a++]),v=f?p(s(y),f(y)):s(y),m=v.length,b=0;m>b;)g=v[b++],r&&!o(d,y,g)||(n[g]=y[g]);return n}:f},function(e,t,n){var r=n(17),i=n(10),o=n(179),a=n(61),s=i(n(205).f),u=i([].push),c=function(e){return function(t){for(var n,i=a(t),c=o(i),l=c.length,h=0,f=[];l>h;)n=c[h++],r&&!s(i,n)||u(f,e?[n,i[n]]:i[n]);return f}};e.exports={entries:c(!0),values:c(!1)}},function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e===1/t:e!=e&&t!=t}},function(e,t,n){var r=n(102);e.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(r)},function(e,t,n){var r,i,o,a,s,u,c,l,h=n(14),f=n(84),d=n(55).f,p=n(229).set,g=n(397),y=n(661),v=n(662),m=n(115),b=h.MutationObserver||h.WebKitMutationObserver,_=h.document,w=h.process,E=h.Promise,S=d(h,"queueMicrotask"),C=S&&S.value;C||(r=function(){var e,t;for(m&&(e=w.domain)&&e.exit();i;){t=i.fn,i=i.next;try{t()}catch(n){throw i?a():o=void 0,n}}o=void 0,e&&e.enter()},g||m||v||!b||!_?!y&&E&&E.resolve?((c=E.resolve(void 0)).constructor=E,l=f(c.then,c),a=function(){l(r)}):m?a=function(){w.nextTick(r)}:(p=f(p,h),a=function(){p(r)}):(s=!0,u=_.createTextNode(""),new b(r).observe(u,{characterData:!0}),a=function(){u.data=s=!s})),e.exports=C||function(e){var t={fn:e,next:void 0};o&&(o.next=t),i||(i=t,a()),o=t}},function(e,t){e.exports="object"==typeof window&&"object"!=typeof Deno},function(e,t){e.exports="object"==typeof Deno&&Deno&&"object"==typeof Deno.version},function(e,t,n){var r=n(160),i=n(216),o=n(187).CONSTRUCTOR;e.exports=o||!i(function(e){r.all(e).then(void 0,function(){})})},function(e,t,n){var r=n(18),i=n(21),o=n(132);e.exports=function(e,t){if(r(e),i(t)&&t.constructor===e)return t;var n=o.f(e);return(0,n.resolve)(t),n.promise}},function(e,t,n){var r=n(26);e.exports=function(e){return void 0!==e&&(r(e,"value")||r(e,"writable"))}},function(e,t,n){var r=n(9),i=n(14).RegExp;e.exports=r(function(){var e=i("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")})},function(e,t,n){var r=n(102);e.exports=/Version\/10(?:\.\d+){1,2}(?: [\w./]+)?(?: Mobile\/\w+)? Safari\//.test(r)},function(e,t,n){var r=n(10),i=n(32),o=Math.floor,a=r("".charAt),s=r("".replace),u=r("".slice),c=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,l=/\$([$&'`]|\d{1,2})/g;e.exports=function(e,t,n,r,h,f){var d=n+e.length,p=r.length,g=l;return void 0!==h&&(h=i(h),g=c),s(f,g,function(i,s){var c;switch(a(s,0)){case"$":return"$";case"&":return e;case"`":return u(t,0,n);case"'":return u(t,d);case"<":c=h[u(s,1,-1)];break;default:var l=+s;if(0===l)return i;if(l>p){var f=o(l/10);return 0===f?i:f<=p?void 0===r[f-1]?a(s,1):r[f-1]+a(s,1):i}c=r[l-1]}return void 0===c?"":c})}},function(e,t,n){"use strict";var r=n(159).end,i=n(296);e.exports=i("trimEnd")?function(){return r(this)}:"".trimEnd},function(e,t,n){"use strict";var r=n(159).start,i=n(296);e.exports=i("trimStart")?function(){return r(this)}:"".trimStart},function(e,t,n){var r=n(730),i=RangeError;e.exports=function(e,t){var n=r(e);if(n%t)throw i("Wrong offset");return n}},function(e,t,n){var r=n(84),i=n(19),o=n(286),a=n(32),s=n(36),u=n(215),c=n(182),l=n(280),h=n(27).aTypedArrayConstructor;e.exports=function(e){var t,n,f,d,p,g,y=o(this),v=a(e),m=arguments.length,b=m>1?arguments[1]:void 0,_=void 0!==b,w=c(v);if(w&&!l(w))for(g=(p=u(v,w)).next,v=[];!(d=i(g,p)).done;)v.push(d.value);for(_&&m>2&&(b=r(b,arguments[2])),n=s(v),f=new(h(y))(n),t=0;n>t;t++)f[t]=_?b(v[t],t):v[t];return f}},function(e,t,n){"use strict";var r=n(10),i=n(184),o=n(131).getWeakData,a=n(18),s=n(21),u=n(94),c=n(93),l=n(53),h=n(26),f=n(46),d=f.set,p=f.getterFor,g=l.find,y=l.findIndex,v=r([].splice),m=0,b=function(e){return e.frozen||(e.frozen=new _)},_=function(){this.entries=[]},w=function(e,t){return g(e.entries,function(e){return e[0]===t})};_.prototype={get:function(e){var t=w(this,e);if(t)return t[1]},has:function(e){return!!w(this,e)},set:function(e,t){var n=w(this,e);n?n[1]=t:this.entries.push([e,t])},delete:function(e){var t=y(this.entries,function(t){return t[0]===e});return~t&&v(this.entries,t,1),!!~t}},e.exports={getConstructor:function(e,t,n,r){var l=e(function(e,i){u(e,f),d(e,{type:t,id:m++,frozen:void 0}),void 0!=i&&c(i,e[r],{that:e,AS_ENTRIES:n})}),f=l.prototype,g=p(t),y=function(e,t,n){var r=g(e),i=o(a(t),!0);return!0===i?b(r).set(t,n):i[r.id]=n,e};return i(f,{delete:function(e){var t=g(this);if(!s(e))return!1;var n=o(e);return!0===n?b(t).delete(e):n&&h(n,t.id)&&delete n[t.id]},has:function(e){var t=g(this);if(!s(e))return!1;var n=o(e);return!0===n?b(t).has(e):n&&h(n,t.id)}}),i(f,n?{get:function(e){var t=g(this);if(s(e)){var n=o(e);return!0===n?b(t).get(e):n?n[t.id]:void 0}},set:function(e,t){return y(this,e,t)}}:{add:function(e){return y(this,e,!0)}}),l}}},function(e,t){for(var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",r={},i=0;i<66;i++)r[n.charAt(i)]=i;e.exports={itoc:n,ctoi:r}},function(e,t){e.exports={IndexSizeError:{s:"INDEX_SIZE_ERR",c:1,m:1},DOMStringSizeError:{s:"DOMSTRING_SIZE_ERR",c:2,m:0},HierarchyRequestError:{s:"HIERARCHY_REQUEST_ERR",c:3,m:1},WrongDocumentError:{s:"WRONG_DOCUMENT_ERR",c:4,m:1},InvalidCharacterError:{s:"INVALID_CHARACTER_ERR",c:5,m:1},NoDataAllowedError:{s:"NO_DATA_ALLOWED_ERR",c:6,m:0},NoModificationAllowedError:{s:"NO_MODIFICATION_ALLOWED_ERR",c:7,m:1},NotFoundError:{s:"NOT_FOUND_ERR",c:8,m:1},NotSupportedError:{s:"NOT_SUPPORTED_ERR",c:9,m:1},InUseAttributeError:{s:"INUSE_ATTRIBUTE_ERR",c:10,m:1},InvalidStateError:{s:"INVALID_STATE_ERR",c:11,m:1},SyntaxError:{s:"SYNTAX_ERR",c:12,m:1},InvalidModificationError:{s:"INVALID_MODIFICATION_ERR",c:13,m:1},NamespaceError:{s:"NAMESPACE_ERR",c:14,m:1},InvalidAccessError:{s:"INVALID_ACCESS_ERR",c:15,m:1},ValidationError:{s:"VALIDATION_ERR",c:16,m:0},TypeMismatchError:{s:"TYPE_MISMATCH_ERR",c:17,m:1},SecurityError:{s:"SECURITY_ERR",c:18,m:1},NetworkError:{s:"NETWORK_ERR",c:19,m:1},AbortError:{s:"ABORT_ERR",c:20,m:1},URLMismatchError:{s:"URL_MISMATCH_ERR",c:21,m:1},QuotaExceededError:{s:"QUOTA_EXCEEDED_ERR",c:22,m:1},TimeoutError:{s:"TIMEOUT_ERR",c:23,m:1},InvalidNodeTypeError:{s:"INVALID_NODE_TYPE_ERR",c:24,m:1},DataCloneError:{s:"DATA_CLONE_ERR",c:25,m:1}}},function(e,t,n){var r=n(14),i=n(79),o=n(23),a=n(102),s=n(130),u=n(116),c=/MSIE .\./.test(a),l=r.Function,h=function(e){return c?function(t,n){var r=u(arguments.length,1)>2,a=o(t)?t:l(t),c=r?s(arguments,2):void 0;return e(r?function(){i(a,this,c)}:a,n)}:e};e.exports={setTimeout:h(r.setTimeout),setInterval:h(r.setInterval)}},function(e,t,n){var r=n(9),i=n(22),o=n(44),a=i("iterator");e.exports=!r(function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,n="";return e.pathname="c%20d",t.forEach(function(e,r){t.delete("b"),n+=r+e}),o&&!e.toJSON||!t.sort||"http://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[a]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://\u0442\u0435\u0441\u0442").host||"#%D0%B1"!==new URL("http://a#\u0431").hash||"a1c3"!==n||"x"!==new URL("http://x",void 0).host})},function(e,t,n){"use strict";n(213);var r=n(4),i=n(14),o=n(19),a=n(10),s=n(17),u=n(415),c=n(39),l=n(184),h=n(69),f=n(277),d=n(46),p=n(94),g=n(23),y=n(26),v=n(84),m=n(106),b=n(18),_=n(21),w=n(24),E=n(68),S=n(77),C=n(215),O=n(182),T=n(116),k=n(22),I=n(283),A=k("iterator"),N=d.set,R=d.getterFor("URLSearchParams"),P=d.getterFor("URLSearchParamsIterator"),x=Object.getOwnPropertyDescriptor,M=function(e){if(!s)return i[e];var t=x(i,e);return t&&t.value},L=M("fetch"),D=M("Request"),j=M("Headers"),U=D&&D.prototype,F=j&&j.prototype,H=i.RegExp,B=i.TypeError,V=i.decodeURIComponent,q=i.encodeURIComponent,G=a("".charAt),z=a([].join),W=a([].push),K=a("".replace),Y=a([].shift),Q=a([].splice),$=a("".split),X=a("".slice),J=/\+/g,Z=Array(4),ee=function(e){return Z[e-1]||(Z[e-1]=H("((?:%[\\da-f]{2}){"+e+"})","gi"))},te=function(e){try{return V(e)}catch(t){return e}},ne=function(e){var t=K(e,J," "),n=4;try{return V(t)}catch(r){for(;n;)t=K(t,ee(n--),te);return t}},re=/[!'()~]|%20/g,ie={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},oe=function(e){return ie[e]},ae=function(e){return K(q(e),re,oe)},se=f(function(e,t){N(this,{type:"URLSearchParamsIterator",iterator:C(R(e).entries),kind:t})},"Iterator",function(){var e=P(this),t=e.kind,n=e.iterator.next(),r=n.value;return n.done||(n.value="keys"===t?r.key:"values"===t?r.value:[r.key,r.value]),n},!0),ue=function(e){this.entries=[],this.url=null,void 0!==e&&(_(e)?this.parseObject(e):this.parseQuery("string"==typeof e?"?"===G(e,0)?X(e,1):e:w(e)))};ue.prototype={type:"URLSearchParams",bindURL:function(e){this.url=e,this.update()},parseObject:function(e){var t,n,r,i,a,s,u,c=O(e);if(c)for(n=(t=C(e,c)).next;!(r=o(n,t)).done;){if(a=(i=C(b(r.value))).next,(s=o(a,i)).done||(u=o(a,i)).done||!o(a,i).done)throw B("Expected sequence with length 2");W(this.entries,{key:w(s.value),value:w(u.value)})}else for(var l in e)y(e,l)&&W(this.entries,{key:l,value:w(e[l])})},parseQuery:function(e){if(e)for(var t,n,r=$(e,"&"),i=0;i<r.length;)(t=r[i++]).length&&(n=$(t,"="),W(this.entries,{key:ne(Y(n)),value:ne(z(n,"="))}))},serialize:function(){for(var e,t=this.entries,n=[],r=0;r<t.length;)e=t[r++],W(n,ae(e.key)+"="+ae(e.value));return z(n,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var ce=function(){p(this,le);var e=arguments.length>0?arguments[0]:void 0;N(this,new ue(e))},le=ce.prototype;if(l(le,{append:function(e,t){T(arguments.length,2);var n=R(this);W(n.entries,{key:w(e),value:w(t)}),n.updateURL()},delete:function(e){T(arguments.length,1);for(var t=R(this),n=t.entries,r=w(e),i=0;i<n.length;)n[i].key===r?Q(n,i,1):i++;t.updateURL()},get:function(e){T(arguments.length,1);for(var t=R(this).entries,n=w(e),r=0;r<t.length;r++)if(t[r].key===n)return t[r].value;return null},getAll:function(e){T(arguments.length,1);for(var t=R(this).entries,n=w(e),r=[],i=0;i<t.length;i++)t[i].key===n&&W(r,t[i].value);return r},has:function(e){T(arguments.length,1);for(var t=R(this).entries,n=w(e),r=0;r<t.length;)if(t[r++].key===n)return!0;return!1},set:function(e,t){T(arguments.length,1);for(var n,r=R(this),i=r.entries,o=!1,a=w(e),s=w(t),u=0;u<i.length;u++)(n=i[u]).key===a&&(o?Q(i,u--,1):(o=!0,n.value=s));o||W(i,{key:a,value:s}),r.updateURL()},sort:function(){var e=R(this);I(e.entries,function(e,t){return e.key>t.key?1:-1}),e.updateURL()},forEach:function(e){for(var t,n=R(this).entries,r=v(e,arguments.length>1?arguments[1]:void 0),i=0;i<n.length;)r((t=n[i++]).value,t.key,this)},keys:function(){return new se(this,"keys")},values:function(){return new se(this,"values")},entries:function(){return new se(this,"entries")}},{enumerable:!0}),c(le,A,le.entries,{name:"entries"}),c(le,"toString",function(){return R(this).serialize()},{enumerable:!0}),h(ce,"URLSearchParams"),r({global:!0,constructor:!0,forced:!u},{URLSearchParams:ce}),!u&&g(j)){var he=a(F.has),fe=a(F.set),de=function(e){if(_(e)){var t,n=e.body;if("URLSearchParams"===m(n))return t=e.headers?new j(e.headers):new j,he(t,"content-type")||fe(t,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),E(e,{body:S(0,w(n)),headers:S(0,t)})}return e};if(g(L)&&r({global:!0,enumerable:!0,dontCallGetSet:!0,forced:!0},{fetch:function(e){return L(e,arguments.length>1?de(arguments[1]):{})}}),g(D)){var pe=function(e){return p(this,U),new D(e,arguments.length>1?de(arguments[1]):{})};U.constructor=pe,pe.prototype=U,r({global:!0,constructor:!0,dontCallGetSet:!0,forced:!0},{Request:pe})}}e.exports={URLSearchParams:ce,getState:R}},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},function(e,t){t.__esModule=!0;t.ATTRIBUTE_NAMES={BODY:"bodyAttributes",HTML:"htmlAttributes",TITLE:"titleAttributes"};var n=t.TAG_NAMES={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"},r=(t.VALID_TAG_NAMES=Object.keys(n).map(function(e){return n[e]}),t.TAG_PROPERTIES={CHARSET:"charset",CSS_TEXT:"cssText",HREF:"href",HTTPEQUIV:"http-equiv",INNER_HTML:"innerHTML",ITEM_PROP:"itemprop",NAME:"name",PROPERTY:"property",REL:"rel",SRC:"src"},t.REACT_TAG_MAP={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"});t.HELMET_PROPS={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate"},t.HTML_TAG_MAP=Object.keys(r).reduce(function(e,t){return e[r[t]]=t,e},{}),t.SELF_CLOSING_TAGS=[n.NOSCRIPT,n.SCRIPT,n.STYLE],t.HELMET_ATTRIBUTE="data-react-helmet"},function(e,t,n){"use strict";function r(e){if(Array.isArray(e))return e}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";function r(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";(function(e){var t=n(12);(function(){var n,r="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){e!=Array.prototype&&e!=Object.prototype&&(e[t]=n.value)};var i=function(t){t=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof e&&e,t];for(var n=0;n<t.length;++n){var r=t[n];if(r&&r.Math==Math)return r}return globalThis}(this);function o(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}}function a(e){var t="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];return t?t.call(e):{next:o(e)}}!function(e,t){if(t){var n=i;e=e.split(".");for(var o=0;o<e.length-1;o++){var a=e[o];a in n||(n[a]={}),n=n[a]}(t=t(o=n[e=e[e.length-1]]))!=o&&null!=t&&r(n,e,{configurable:!0,writable:!0,value:t})}}("Promise",function(e){function t(e){this.b=0,this.c=void 0,this.a=[];var t=this.f();try{e(t.resolve,t.reject)}catch(n){t.reject(n)}}function n(){this.a=null}function r(e){return e instanceof t?e:new t(function(t){t(e)})}if(e)return e;n.prototype.b=function(e){if(null==this.a){this.a=[];var t=this;this.c(function(){t.g()})}this.a.push(e)};var o=i.setTimeout;n.prototype.c=function(e){o(e,0)},n.prototype.g=function(){for(;this.a&&this.a.length;){var e=this.a;this.a=[];for(var t=0;t<e.length;++t){var n=e[t];e[t]=null;try{n()}catch(r){this.f(r)}}}this.a=null},n.prototype.f=function(e){this.c(function(){throw e})},t.prototype.f=function(){function e(e){return function(r){n||(n=!0,e.call(t,r))}}var t=this,n=!1;return{resolve:e(this.m),reject:e(this.g)}},t.prototype.m=function(e){if(e===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(e instanceof t)this.s(e);else{e:switch(typeof e){case"object":var n=null!=e;break e;case"function":n=!0;break e;default:n=!1}n?this.v(e):this.h(e)}},t.prototype.v=function(e){var t=void 0;try{t=e.then}catch(n){return void this.g(n)}"function"==typeof t?this.u(t,e):this.h(e)},t.prototype.g=function(e){this.i(2,e)},t.prototype.h=function(e){this.i(1,e)},t.prototype.i=function(e,t){if(0!=this.b)throw Error("Cannot settle("+e+", "+t+"): Promise already settled in state"+this.b);this.b=e,this.c=t,this.l()},t.prototype.l=function(){if(null!=this.a){for(var e=0;e<this.a.length;++e)s.b(this.a[e]);this.a=null}};var s=new n;return t.prototype.s=function(e){var t=this.f();e.Ra(t.resolve,t.reject)},t.prototype.u=function(e,t){var n=this.f();try{e.call(t,n.resolve,n.reject)}catch(r){n.reject(r)}},t.prototype.then=function(e,n){function r(e,t){return"function"==typeof e?function(t){try{i(e(t))}catch(n){o(n)}}:t}var i,o,a=new t(function(e,t){i=e,o=t});return this.Ra(r(e,i),r(n,o)),a},t.prototype.catch=function(e){return this.then(void 0,e)},t.prototype.Ra=function(e,t){function n(){switch(r.b){case 1:e(r.c);break;case 2:t(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?s.b(n):this.a.push(n)},t.resolve=r,t.reject=function(e){return new t(function(t,n){n(e)})},t.race=function(e){return new t(function(t,n){for(var i=a(e),o=i.next();!o.done;o=i.next())r(o.value).Ra(t,n)})},t.all=function(e){var n=a(e),i=n.next();return i.done?r([]):new t(function(e,t){function o(t){return function(n){a[t]=n,0==--s&&e(a)}}var a=[],s=0;do{a.push(void 0),s++,r(i.value).Ra(o(a.length-1),t),i=n.next()}while(!i.done)})},t});var s=s||{},u=this||self,c=/^[\w+/_-]+[=]{0,2}$/,l=null;function h(e){return(e=e.querySelector&&e.querySelector("script[nonce]"))&&(e=e.nonce||e.getAttribute("nonce"))&&c.test(e)?e:""}function f(){}function d(e){var t=typeof e;return"object"!=t?t:e?Array.isArray(e)?"array":t:"null"}function p(e){var t=d(e);return"array"==t||"object"==t&&"number"==typeof e.length}function g(e){return"function"==d(e)}function y(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function v(e){return Object.prototype.hasOwnProperty.call(e,m)&&e[m]||(e[m]=++b)}var m="closure_uid_"+(1e9*Math.random()>>>0),b=0;function _(e,t,n){return e.call.apply(e.bind,arguments)}function w(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function E(e,t,n){return(E=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?_:w).apply(null,arguments)}function S(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}var C=Date.now;function O(e,t){function n(){}n.prototype=t.prototype,e.bb=t.prototype,e.prototype=new n,e.prototype.constructor=e}function T(e){return e}function k(e,t,n){this.code=N+e,this.message=t||R[e]||"",this.a=n||null}function I(e){var t=e&&e.code;return t?new k(t.substring(N.length),e.message,e.serverResponse):null}O(k,Error),k.prototype.w=function(){var e={code:this.code,message:this.message};return this.a&&(e.serverResponse=this.a),e},k.prototype.toJSON=function(){return this.w()};var A,N="auth/",R={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},P={ld:{Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ua:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://securetoken.googleapis.com/v1/token",Xa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ua:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ua:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",$a:"https://test-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function x(e){for(var t in P)if(P[t].id===e)return{firebaseEndpoint:(e=P[t]).Ua,secureTokenEndpoint:e.$a,identityPlatformEndpoint:e.Xa};return null}function M(e){if(!e)return!1;try{return!!e.$goog_Thenable}catch(t){return!1}}function L(e){if(Error.captureStackTrace)Error.captureStackTrace(this,L);else{var t=Error().stack;t&&(this.stack=t)}e&&(this.message=String(e))}function D(e,t){for(var n="",r=(e=e.split("%s")).length-1,i=0;i<r;i++)n+=e[i]+(i<t.length?t[i]:"%s");L.call(this,n+e[r])}function j(e,t){throw new D("Failure"+(e?": "+e:""),Array.prototype.slice.call(arguments,1))}function U(e,t){this.c=e,this.f=t,this.b=0,this.a=null}function F(e,t){e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}function H(){this.b=this.a=null}A=x("__EID__")?"__EID__":void 0,O(L,Error),L.prototype.name="CustomError",O(D,L),D.prototype.name="AssertionError",U.prototype.get=function(){if(0<this.b){this.b--;var e=this.a;this.a=e.next,e.next=null}else e=this.c();return e};var B=new U(function(){return new q},function(e){e.reset()});function V(){var e=_t,t=null;return e.a&&(t=e.a,e.a=e.a.next,e.a||(e.b=null),t.next=null),t}function q(){this.next=this.b=this.a=null}H.prototype.add=function(e,t){var n=B.get();n.set(e,t),this.b?this.b.next=n:this.a=n,this.b=n},q.prototype.set=function(e,t){this.a=e,this.b=t,this.next=null},q.prototype.reset=function(){this.next=this.b=this.a=null};var G=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},z=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)};var W=Array.prototype.filter?function(e,t){return Array.prototype.filter.call(e,t,void 0)}:function(e,t){for(var n=e.length,r=[],i=0,o="string"===typeof e?e.split(""):e,a=0;a<n;a++)if(a in o){var s=o[a];t.call(void 0,s,a,e)&&(r[i++]=s)}return r},K=Array.prototype.map?function(e,t){return Array.prototype.map.call(e,t,void 0)}:function(e,t){for(var n=e.length,r=Array(n),i="string"===typeof e?e.split(""):e,o=0;o<n;o++)o in i&&(r[o]=t.call(void 0,i[o],o,e));return r},Y=Array.prototype.some?function(e,t){return Array.prototype.some.call(e,t,void 0)}:function(e,t){for(var n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e))return!0;return!1};function Q(e,t){return 0<=G(e,t)}function $(e,t){var n;return(n=0<=(t=G(e,t)))&&Array.prototype.splice.call(e,t,1),n}function X(e,t){!function(e,t){for(var n="string"===typeof e?e.split(""):e,r=e.length-1;0<=r;--r)r in n&&t.call(void 0,n[r],r,e)}(e,function(n,r){t.call(void 0,n,r,e)&&1==Array.prototype.splice.call(e,r,1).length&&0})}function J(e){return Array.prototype.concat.apply([],arguments)}function Z(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}var ee,te=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]},ne=/&/g,re=/</g,ie=/>/g,oe=/"/g,ae=/'/g,se=/\x00/g,ue=/[\x00&<>"']/;function ce(e,t){return-1!=e.indexOf(t)}function le(e,t){return e<t?-1:e>t?1:0}e:{var he=u.navigator;if(he){var fe=he.userAgent;if(fe){ee=fe;break e}}ee=""}function de(e){return ce(ee,e)}function pe(e,t){for(var n in e)t.call(void 0,e[n],n,e)}function ge(e){for(var t in e)return!1;return!0}function ye(e){var t,n={};for(t in e)n[t]=e[t];return n}var ve="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function me(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var o=0;o<ve.length;o++)n=ve[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function be(e,t){e:{try{var n=e&&e.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if((r=r||u).Element&&r.Location){var i=r;break e}}catch(a){}i=null}if(i&&"undefined"!=typeof i[t]&&(!e||!(e instanceof i[t])&&(e instanceof i.Location||e instanceof i.Element))){if(y(e))try{var o=e.constructor.displayName||e.constructor.name||Object.prototype.toString.call(e)}catch(a){o="<object could not be stringified>"}else o=void 0===e?"undefined":null===e?"null":typeof e;j("Argument is not a %s (or a non-Element, non-Location mock); got: %s",t,o)}}function _e(e,t){this.a=e===Ce&&t||"",this.b=Se}function we(e){return e instanceof _e&&e.constructor===_e&&e.b===Se?e.a:(j("expected object of type Const, got '"+e+"'"),"type_error:Const")}_e.prototype.ta=!0,_e.prototype.sa=function(){return this.a},_e.prototype.toString=function(){return"Const{"+this.a+"}"};var Ee,Se={},Ce={};function Oe(){if(void 0===Ee){var e=null,t=u.trustedTypes;if(t&&t.createPolicy){try{e=t.createPolicy("goog#html",{createHTML:T,createScript:T,createScriptURL:T})}catch(n){u.console&&u.console.error(n.message)}Ee=e}else Ee=e}return Ee}function Te(e,t){this.a=t===Re?e:""}function ke(e){return e instanceof Te&&e.constructor===Te?e.a:(j("expected object of type TrustedResourceUrl, got '"+e+"' of type "+d(e)),"type_error:TrustedResourceUrl")}function Ie(e,t){var n=we(e);if(!Ne.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return function(e){var t=Oe();return new Te(e=t?t.createScriptURL(e):e,Re)}(e=n.replace(Ae,function(e,r){if(!Object.prototype.hasOwnProperty.call(t,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(t));return(e=t[r])instanceof _e?we(e):encodeURIComponent(String(e))}))}Te.prototype.ta=!0,Te.prototype.sa=function(){return this.a.toString()},Te.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var Ae=/%{(\w+)}/g,Ne=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,Re={};function Pe(e,t){this.a=t===Fe?e:""}function xe(e){return e instanceof Pe&&e.constructor===Pe?e.a:(j("expected object of type SafeUrl, got '"+e+"' of type "+d(e)),"type_error:SafeUrl")}Pe.prototype.ta=!0,Pe.prototype.sa=function(){return this.a.toString()},Pe.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Me=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,Le=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,De=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function je(e){if(e instanceof Pe)return e;if(e="object"==typeof e&&e.ta?e.sa():String(e),De.test(e))e=new Pe(e,Fe);else{var t=(e=(e=String(e)).replace(/(%0A|%0D)/g,"")).match(Le);e=t&&Me.test(t[1])?new Pe(e,Fe):null}return e}function Ue(e){return e instanceof Pe?e:(e="object"==typeof e&&e.ta?e.sa():String(e),De.test(e)||(e="about:invalid#zClosurez"),new Pe(e,Fe))}var Fe={},He=new Pe("about:invalid#zClosurez",Fe);function Be(e,t,n){this.a=n===Ve?e:""}Be.prototype.ta=!0,Be.prototype.sa=function(){return this.a.toString()},Be.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Ve={};function qe(e,t,n,r){return e=e instanceof Pe?e:Ue(e),t=t||u,n=n instanceof _e?we(n):n||"",t.open(xe(e),n,r,void 0)}function Ge(e,t){for(var n=e.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function ze(e){return ue.test(e)&&(-1!=e.indexOf("&")&&(e=e.replace(ne,"&amp;")),-1!=e.indexOf("<")&&(e=e.replace(re,"&lt;")),-1!=e.indexOf(">")&&(e=e.replace(ie,"&gt;")),-1!=e.indexOf('"')&&(e=e.replace(oe,"&quot;")),-1!=e.indexOf("'")&&(e=e.replace(ae,"&#39;")),-1!=e.indexOf("\0")&&(e=e.replace(se,"&#0;"))),e}function We(e){return We[" "](e),e}We[" "]=f;var Ke,Ye=de("Opera"),Qe=de("Trident")||de("MSIE"),$e=de("Edge"),Xe=$e||Qe,Je=de("Gecko")&&!(ce(ee.toLowerCase(),"webkit")&&!de("Edge"))&&!(de("Trident")||de("MSIE"))&&!de("Edge"),Ze=ce(ee.toLowerCase(),"webkit")&&!de("Edge");function et(){var e=u.document;return e?e.documentMode:void 0}e:{var tt="",nt=function(){var e=ee;return Je?/rv:([^\);]+)(\)|;)/.exec(e):$e?/Edge\/([\d\.]+)/.exec(e):Qe?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Ze?/WebKit\/(\S+)/.exec(e):Ye?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(nt&&(tt=nt?nt[1]:""),Qe){var rt=et();if(null!=rt&&rt>parseFloat(tt)){Ke=String(rt);break e}}Ke=tt}var it,ot={};function at(e){return function(e,t){var n=ot;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,function(){for(var t=0,n=te(String(Ke)).split("."),r=te(String(e)).split("."),i=Math.max(n.length,r.length),o=0;0==t&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;t=le(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||le(0==a[2].length,0==s[2].length)||le(a[2],s[2]),a=a[3],s=s[3]}while(0==t)}return 0<=t})}if(u.document&&Qe){var st=et();it=st||(parseInt(Ke,10)||void 0)}else it=void 0;var ut=it;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(ua){}var ct=!Qe||9<=Number(ut);function lt(e){var t=document;return"string"===typeof e?t.getElementById(e):e}function ht(e,t){pe(t,function(t,n){t&&"object"==typeof t&&t.ta&&(t=t.sa()),"style"==n?e.style.cssText=t:"class"==n?e.className=t:"for"==n?e.htmlFor=t:pt.hasOwnProperty(n)?e.setAttribute(pt[n],t):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?e.setAttribute(n,t):e[n]=t})}var ft,dt,pt={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function gt(e,t,n){var r=arguments,i=document,o=String(r[0]),a=r[1];if(!ct&&a&&(a.name||a.type)){if(o=["<",o],a.name&&o.push(' name="',ze(a.name),'"'),a.type){o.push(' type="',ze(a.type),'"');var s={};me(s,a),delete s.type,a=s}o.push(">"),o=o.join("")}return o=yt(i,o),a&&("string"===typeof a?o.className=a:Array.isArray(a)?o.className=a.join(" "):ht(o,a)),2<r.length&&function(e,t,n){function r(n){n&&t.appendChild("string"===typeof n?e.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];if(!p(o)||y(o)&&0<o.nodeType)r(o);else{e:{if(o&&"number"==typeof o.length){if(y(o)){var a="function"==typeof o.item||"string"==typeof o.item;break e}if(g(o)){a="function"==typeof o.item;break e}}a=!1}z(a?Z(o):o,r)}}}(i,o,r),o}function yt(e,t){return t=String(t),"application/xhtml+xml"===e.contentType&&(t=t.toLowerCase()),e.createElement(t)}function vt(e){u.setTimeout(function(){throw e},0)}function mt(e,t){dt||function(){if(u.Promise&&u.Promise.resolve){var e=u.Promise.resolve(void 0);dt=function(){e.then(wt)}}else dt=function(){var e=wt;!g(u.setImmediate)||u.Window&&u.Window.prototype&&!de("Edge")&&u.Window.prototype.setImmediate==u.setImmediate?(ft||(ft=function(){var e=u.MessageChannel;if("undefined"===typeof e&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&!de("Presto")&&(e=function(){var e=yt(document,"IFRAME");e.style.display="none",document.documentElement.appendChild(e);var t=e.contentWindow;(e=t.document).open(),e.close();var n="callImmediate"+Math.random(),r="file:"==t.location.protocol?"*":t.location.protocol+"//"+t.location.host;e=E(function(e){"*"!=r&&e.origin!=r||e.data!=n||this.port1.onmessage()},this),t.addEventListener("message",e,!1),this.port1={},this.port2={postMessage:function(){t.postMessage(n,r)}}}),"undefined"!==typeof e&&!de("Trident")&&!de("MSIE")){var t=new e,n={},r=n;return t.port1.onmessage=function(){if(void 0!==n.next){var e=(n=n.next).Hb;n.Hb=null,e()}},function(e){r.next={Hb:e},r=r.next,t.port2.postMessage(0)}}return function(e){u.setTimeout(e,0)}}()),ft(e)):u.setImmediate(e)}}(),bt||(dt(),bt=!0),_t.add(e,t)}var bt=!1,_t=new H;function wt(){for(var e;e=V();){try{e.a.call(e.b)}catch(t){vt(t)}F(B,e)}bt=!1}function Et(e,t){if(this.a=St,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,e!=f)try{var n=this;e.call(t,function(e){Lt(n,Ct,e)},function(e){if(!(e instanceof Vt))try{if(e instanceof Error)throw e;throw Error("Promise rejected.")}catch(t){}Lt(n,Ot,e)})}catch(r){Lt(this,Ot,r)}}var St=0,Ct=2,Ot=3;function Tt(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}Tt.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var kt=new U(function(){return new Tt},function(e){e.reset()});function It(e,t,n){var r=kt.get();return r.g=e,r.b=t,r.f=n,r}function At(e){if(e instanceof Et)return e;var t=new Et(f);return Lt(t,Ct,e),t}function Nt(e){return new Et(function(t,n){n(e)})}function Rt(e,t,n){Dt(e,t,n,null)||mt(S(t,e))}function Pt(e){return new Et(function(t){var n=e.length,r=[];if(n)for(var i=function(e,i,o){n--,r[e]=i?{Qb:!0,value:o}:{Qb:!1,reason:o},0==n&&t(r)},o=0;o<e.length;o++)Rt(e[o],S(i,o,!0),S(i,o,!1));else t(r)})}function xt(e,t){e.b||e.a!=Ct&&e.a!=Ot||jt(e),e.f?e.f.next=t:e.b=t,e.f=t}function Mt(e,t,n,r){var i=It(null,null,null);return i.a=new Et(function(e,o){i.g=t?function(n){try{var i=t.call(r,n);e(i)}catch(a){o(a)}}:e,i.b=n?function(t){try{var i=n.call(r,t);void 0===i&&t instanceof Vt?o(t):e(i)}catch(a){o(a)}}:o}),i.a.c=e,xt(e,i),i.a}function Lt(e,t,n){e.a==St&&(e===n&&(t=Ot,n=new TypeError("Promise cannot resolve to itself")),e.a=1,Dt(n,e.$c,e.ad,e)||(e.i=n,e.a=t,e.c=null,jt(e),t!=Ot||n instanceof Vt||function(e,t){e.g=!0,mt(function(){e.g&&Bt.call(null,t)})}(e,n)))}function Dt(e,t,n,r){if(e instanceof Et)return xt(e,It(t||f,n||null,r)),!0;if(M(e))return e.then(t,n,r),!0;if(y(e))try{var i=e.then;if(g(i))return function(e,t,n,r,i){function o(e){a||(a=!0,r.call(i,e))}var a=!1;try{t.call(e,function(e){a||(a=!0,n.call(i,e))},o)}catch(s){o(s)}}(e,i,t,n,r),!0}catch(o){return n.call(r,o),!0}return!1}function jt(e){e.h||(e.h=!0,mt(e.gc,e))}function Ut(e){var t=null;return e.b&&(t=e.b,e.b=t.next,t.next=null),e.b||(e.f=null),t}function Ft(e,t,n,r){if(n==Ot&&t.b&&!t.c)for(;e&&e.g;e=e.c)e.g=!1;if(t.a)t.a.c=null,Ht(t,n,r);else try{t.c?t.g.call(t.f):Ht(t,n,r)}catch(i){Bt.call(null,i)}F(kt,t)}function Ht(e,t,n){t==Ct?e.g.call(e.f,n):e.b&&e.b.call(e.f,n)}Et.prototype.then=function(e,t,n){return Mt(this,g(e)?e:null,g(t)?t:null,n)},Et.prototype.$goog_Thenable=!0,(n=Et.prototype).oa=function(e,t){return(e=It(e,e,t)).c=!0,xt(this,e),this},n.o=function(e,t){return Mt(this,null,e,t)},n.cancel=function(e){if(this.a==St){var t=new Vt(e);mt(function(){!function e(t,n){if(t.a==St)if(t.c){var r=t.c;if(r.b){for(var i=0,o=null,a=null,s=r.b;s&&(s.c||(i++,s.a==t&&(o=s),!(o&&1<i)));s=s.next)o||(a=s);o&&(r.a==St&&1==i?e(r,n):(a?((i=a).next==r.f&&(r.f=i),i.next=i.next.next):Ut(r),Ft(r,o,Ot,n)))}t.c=null}else Lt(t,Ot,n)}(this,t)},this)}},n.$c=function(e){this.a=St,Lt(this,Ct,e)},n.ad=function(e){this.a=St,Lt(this,Ot,e)},n.gc=function(){for(var e;e=Ut(this);)Ft(this,e,this.a,this.i);this.h=!1};var Bt=vt;function Vt(e){L.call(this,e)}function qt(){0!=Gt&&(zt[v(this)]=this),this.ya=this.ya,this.pa=this.pa}O(Vt,L),Vt.prototype.name="cancel";var Gt=0,zt={};function Wt(e){if(!e.ya&&(e.ya=!0,e.Da(),0!=Gt)){var t=v(e);if(0!=Gt&&e.pa&&0<e.pa.length)throw Error(e+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete zt[t]}}qt.prototype.ya=!1,qt.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var Kt=Object.freeze||function(e){return e},Yt=!Qe||9<=Number(ut),Qt=Qe&&!at("9"),$t=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{u.addEventListener("test",f,t),u.removeEventListener("test",f,t)}catch(n){}return e}();function Xt(e,t){this.type=e,this.b=this.target=t,this.defaultPrevented=!1}function Jt(e,t){if(Xt.call(this,e?e.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.b=t,t=e.relatedTarget){if(Je){e:{try{We(t.nodeName);var i=!0;break e}catch(o){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Zt[e.pointerType]||"",this.a=e,e.defaultPrevented&&this.preventDefault()}}Xt.prototype.preventDefault=function(){this.defaultPrevented=!0},O(Jt,Xt);var Zt=Kt({2:"touch",3:"pen",4:"mouse"});Jt.prototype.preventDefault=function(){Jt.bb.preventDefault.call(this);var e=this.a;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,Qt)try{(e.ctrlKey||112<=e.keyCode&&123>=e.keyCode)&&(e.keyCode=-1)}catch(t){}},Jt.prototype.g=function(){return this.a};var en="closure_listenable_"+(1e6*Math.random()|0),tn=0;function nn(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.Wa=i,this.key=++tn,this.wa=this.Qa=!1}function rn(e){e.wa=!0,e.listener=null,e.proxy=null,e.src=null,e.Wa=null}function on(e){this.src=e,this.a={},this.b=0}function an(e,t){var n=t.type;n in e.a&&$(e.a[n],t)&&(rn(t),0==e.a[n].length&&(delete e.a[n],e.b--))}function sn(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.wa&&o.listener==t&&o.capture==!!n&&o.Wa==r)return i}return-1}on.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.a[o])||(e=this.a[o]=[],this.b++);var a=sn(e,t,r,i);return-1<a?(t=e[a],n||(t.Qa=!1)):((t=new nn(t,this.src,o,!!r,i)).Qa=n,e.push(t)),t};var un="closure_lm_"+(1e6*Math.random()|0),cn={};function ln(e,t,n,r,i){if(r&&r.once)fn(e,t,n,r,i);else if(Array.isArray(t))for(var o=0;o<t.length;o++)ln(e,t[o],n,r,i);else n=wn(n),e&&e[en]?Sn(e,t,n,y(r)?!!r.capture:!!r,i):hn(e,t,n,!1,r,i)}function hn(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a=y(i)?!!i.capture:!!i,s=bn(e);if(s||(e[un]=s=new on(e)),!(n=s.add(t,n,r,a,o)).proxy){if(r=function(){var e=mn,t=Yt?function(n){return e.call(t.src,t.listener,n)}:function(n){if(!(n=e.call(t.src,t.listener,n)))return n};return t}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)$t||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(gn(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}0}}function fn(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)fn(e,t[o],n,r,i);else n=wn(n),e&&e[en]?Cn(e,t,n,y(r)?!!r.capture:!!r,i):hn(e,t,n,!0,r,i)}function dn(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)dn(e,t[o],n,r,i);else r=y(r)?!!r.capture:!!r,n=wn(n),e&&e[en]?(e=e.v,(t=String(t).toString())in e.a&&(-1<(n=sn(o=e.a[t],n,r,i))&&(rn(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.a[t],e.b--)))):e&&(e=bn(e))&&(t=e.a[t.toString()],e=-1,t&&(e=sn(t,n,r,i)),(n=-1<e?t[e]:null)&&pn(n))}function pn(e){if("number"!==typeof e&&e&&!e.wa){var t=e.src;if(t&&t[en])an(t.v,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(gn(n),r):t.addListener&&t.removeListener&&t.removeListener(r),0,(n=bn(t))?(an(n,e),0==n.b&&(n.src=null,t[un]=null)):rn(e)}}}function gn(e){return e in cn?cn[e]:cn[e]="on"+e}function yn(e,t,n,r){var i=!0;if((e=bn(e))&&(t=e.a[t.toString()]))for(t=t.concat(),e=0;e<t.length;e++){var o=t[e];o&&o.capture==n&&!o.wa&&(o=vn(o,r),i=i&&!1!==o)}return i}function vn(e,t){var n=e.listener,r=e.Wa||e.src;return e.Qa&&pn(e),n.call(r,t)}function mn(e,t){if(e.wa)return!0;if(!Yt){if(!t)e:{t=["window","event"];for(var n=u,r=0;r<t.length;r++)if(null==(n=n[t[r]])){t=null;break e}t=n}if(t=new Jt(r=t,this),n=!0,!(0>r.keyCode||void 0!=r.returnValue)){e:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break e}catch(a){i=!0}(i||void 0==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=t.b;i;i=i.parentNode)r.push(i);for(e=e.type,i=r.length-1;0<=i;i--){t.b=r[i];var o=yn(r[i],e,!0,t);n=n&&o}for(i=0;i<r.length;i++)t.b=r[i],o=yn(r[i],e,!1,t),n=n&&o}return n}return vn(e,new Jt(t,this))}function bn(e){return(e=e[un])instanceof on?e:null}var _n="__closure_events_fn_"+(1e9*Math.random()>>>0);function wn(e){return g(e)?e:(e[_n]||(e[_n]=function(t){return e.handleEvent(t)}),e[_n])}function En(){qt.call(this),this.v=new on(this),this.bc=this,this.hb=null}function Sn(e,t,n,r,i){e.v.add(String(t),n,!1,r,i)}function Cn(e,t,n,r,i){e.v.add(String(t),n,!0,r,i)}function On(e,t,n,r){if(!(t=e.v.a[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.wa&&a.capture==n){var s=a.listener,u=a.Wa||a.src;a.Qa&&an(e.v,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}function Tn(e,t,n){if(g(e))n&&(e=E(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=E(e.handleEvent,e)}return 2147483647<Number(t)?-1:u.setTimeout(e,t||0)}function kn(e){var t=null;return new Et(function(n,r){-1==(t=Tn(function(){n(void 0)},e))&&r(Error("Failed to schedule timer."))}).o(function(e){throw u.clearTimeout(t),e})}function In(e){if(e.X&&"function"==typeof e.X)return e.X();if("string"===typeof e)return e.split("");if(p(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}function An(e){if(e.Y&&"function"==typeof e.Y)return e.Y();if(!e.X||"function"!=typeof e.X){if(p(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}function Nn(e,t){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Nn)for(n=e.Y(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Rn(e){if(e.c!=e.a.length){for(var t=0,n=0;t<e.a.length;){var r=e.a[t];Pn(e.b,r)&&(e.a[n++]=r),t++}e.a.length=n}if(e.c!=e.a.length){var i={};for(n=t=0;t<e.a.length;)Pn(i,r=e.a[t])||(e.a[n++]=r,i[r]=1),t++;e.a.length=n}}function Pn(e,t){return Object.prototype.hasOwnProperty.call(e,t)}O(En,qt),En.prototype[en]=!0,En.prototype.addEventListener=function(e,t,n,r){ln(this,e,t,n,r)},En.prototype.removeEventListener=function(e,t,n,r){dn(this,e,t,n,r)},En.prototype.dispatchEvent=function(e){var t,n=this.hb;if(n)for(t=[];n;n=n.hb)t.push(n);n=this.bc;var r=e.type||e;if("string"===typeof e)e=new Xt(e,n);else if(e instanceof Xt)e.target=e.target||n;else{var i=e;me(e=new Xt(r,n),i)}if(i=!0,t)for(var o=t.length-1;0<=o;o--){var a=e.b=t[o];i=On(a,r,!0,e)&&i}if(i=On(a=e.b=n,r,!0,e)&&i,i=On(a,r,!1,e)&&i,t)for(o=0;o<t.length;o++)i=On(a=e.b=t[o],r,!1,e)&&i;return i},En.prototype.Da=function(){if(En.bb.Da.call(this),this.v){var e,t=this.v;for(e in t.a){for(var n=t.a[e],r=0;r<n.length;r++)0,rn(n[r]);delete t.a[e],t.b--}}this.hb=null},(n=Nn.prototype).X=function(){Rn(this);for(var e=[],t=0;t<this.a.length;t++)e.push(this.b[this.a[t]]);return e},n.Y=function(){return Rn(this),this.a.concat()},n.clear=function(){this.b={},this.c=this.a.length=0},n.get=function(e,t){return Pn(this.b,e)?this.b[e]:t},n.set=function(e,t){Pn(this.b,e)||(this.c++,this.a.push(e)),this.b[e]=t},n.forEach=function(e,t){for(var n=this.Y(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};var xn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Mn(e,t){var n;this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1,e instanceof Mn?(this.i=void 0!==t?t:e.i,Ln(this,e.c),this.l=e.l,this.a=e.a,Dn(this,e.g),this.f=e.f,jn(this,nr(e.b)),this.h=e.h):e&&(n=String(e).match(xn))?(this.i=!!t,Ln(this,n[1]||"",!0),this.l=Vn(n[2]||""),this.a=Vn(n[3]||"",!0),Dn(this,n[4]),this.f=Vn(n[5]||"",!0),jn(this,n[6]||"",!0),this.h=Vn(n[7]||"")):(this.i=!!t,this.b=new $n(null,this.i))}function Ln(e,t,n){e.c=n?Vn(t,!0):t,e.c&&(e.c=e.c.replace(/:$/,""))}function Dn(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.g=t}else e.g=null}function jn(e,t,n){t instanceof $n?(e.b=t,function(e,t){t&&!e.f&&(Xn(e),e.c=null,e.a.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(Zn(this,t),tr(this,n,e))},e)),e.f=t}(e.b,e.i)):(n||(t=qn(t,Yn)),e.b=new $n(t,e.i))}function Un(e,t,n){e.b.set(t,n)}function Fn(e,t){return e.b.get(t)}function Hn(e){return e instanceof Mn?new Mn(e):new Mn(e,void 0)}function Bn(e,t,n,r){var i=new Mn(null,void 0);return e&&Ln(i,e),t&&(i.a=t),n&&Dn(i,n),r&&(i.f=r),i}function Vn(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function qn(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Gn),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Gn(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Mn.prototype.toString=function(){var e=[],t=this.c;t&&e.push(qn(t,zn,!0),":");var n=this.a;return(n||"file"==t)&&(e.push("//"),(t=this.l)&&e.push(qn(t,zn,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.g)&&e.push(":",String(n))),(n=this.f)&&(this.a&&"/"!=n.charAt(0)&&e.push("/"),e.push(qn(n,"/"==n.charAt(0)?Kn:Wn,!0))),(n=this.b.toString())&&e.push("?",n),(n=this.h)&&e.push("#",qn(n,Qn)),e.join("")},Mn.prototype.resolve=function(e){var t=new Mn(this),n=!!e.c;n?Ln(t,e.c):n=!!e.l,n?t.l=e.l:n=!!e.a,n?t.a=e.a:n=null!=e.g;var r=e.f;if(n)Dn(t,e.g);else if(n=!!e.f){if("/"!=r.charAt(0))if(this.a&&!this.f)r="/"+r;else{var i=t.f.lastIndexOf("/");-1!=i&&(r=t.f.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(ce(i,"./")||ce(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],a=0;a<i.length;){var s=i[a++];"."==s?r&&a==i.length&&o.push(""):".."==s?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&a==i.length&&o.push("")):(o.push(s),r=!0)}r=o.join("/")}else r=i}return n?t.f=r:n=""!==e.b.toString(),n?jn(t,nr(e.b)):n=!!e.h,n&&(t.h=e.h),t};var zn=/[#\/\?@]/g,Wn=/[#\?:]/g,Kn=/[#\?]/g,Yn=/[#\?@]/g,Qn=/#/g;function $n(e,t){this.b=this.a=null,this.c=e||null,this.f=!!t}function Xn(e){e.a||(e.a=new Nn,e.b=0,e.c&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.c,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function Jn(e){var t=An(e);if("undefined"==typeof t)throw Error("Keys are undefined");var n=new $n(null,void 0);e=In(e);for(var r=0;r<t.length;r++){var i=t[r],o=e[r];Array.isArray(o)?tr(n,i,o):n.add(i,o)}return n}function Zn(e,t){Xn(e),t=rr(e,t),Pn(e.a.b,t)&&(e.c=null,e.b-=e.a.get(t).length,Pn((e=e.a).b,t)&&(delete e.b[t],e.c--,e.a.length>2*e.c&&Rn(e)))}function er(e,t){return Xn(e),t=rr(e,t),Pn(e.a.b,t)}function tr(e,t,n){Zn(e,t),0<n.length&&(e.c=null,e.a.set(rr(e,t),Z(n)),e.b+=n.length)}function nr(e){var t=new $n;return t.c=e.c,e.a&&(t.a=new Nn(e.a),t.b=e.b),t}function rr(e,t){return t=String(t),e.f&&(t=t.toLowerCase()),t}function ir(e){var t=[];return function e(t,n,r){if(null==n)r.push("null");else{if("object"==typeof n){if(Array.isArray(n)){var i=n;n=i.length,r.push("[");for(var o="",a=0;a<n;a++)r.push(o),e(t,i[a],r),o=",";return void r.push("]")}if(!(n instanceof String||n instanceof Number||n instanceof Boolean)){for(i in r.push("{"),o="",n)Object.prototype.hasOwnProperty.call(n,i)&&("function"!=typeof(a=n[i])&&(r.push(o),ur(i,r),r.push(":"),e(t,a,r),o=","));return void r.push("}")}n=n.valueOf()}switch(typeof n){case"string":ur(n,r);break;case"number":r.push(isFinite(n)&&!isNaN(n)?String(n):"null");break;case"boolean":r.push(String(n));break;case"function":r.push("null");break;default:throw Error("Unknown type: "+typeof n)}}}(new or,e,t),t.join("")}function or(){}(n=$n.prototype).add=function(e,t){Xn(this),this.c=null,e=rr(this,e);var n=this.a.get(e);return n||this.a.set(e,n=[]),n.push(t),this.b+=1,this},n.clear=function(){this.a=this.c=null,this.b=0},n.forEach=function(e,t){Xn(this),this.a.forEach(function(n,r){z(n,function(n){e.call(t,n,r,this)},this)},this)},n.Y=function(){Xn(this);for(var e=this.a.X(),t=this.a.Y(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},n.X=function(e){Xn(this);var t=[];if("string"===typeof e)er(this,e)&&(t=J(t,this.a.get(rr(this,e))));else{e=this.a.X();for(var n=0;n<e.length;n++)t=J(t,e[n])}return t},n.set=function(e,t){return Xn(this),this.c=null,er(this,e=rr(this,e))&&(this.b-=this.a.get(e).length),this.a.set(e,[t]),this.b+=1,this},n.get=function(e,t){return e&&0<(e=this.X(e)).length?String(e[0]):t},n.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var e=[],t=this.a.Y(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.X(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),e.push(a)}}return this.c=e.join("&")};var ar={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},sr=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function ur(e,t){t.push('"',e.replace(sr,function(e){var t=ar[e];return t||(t="\\u"+(65536|e.charCodeAt(0)).toString(16).substr(1),ar[e]=t),t}),'"')}function cr(){var e=Ir();return Qe&&!!ut&&11==ut||/Edge\/\d+/.test(e)}function lr(){return u.window&&u.window.location.href||self&&self.location&&self.location.href||""}function hr(e,t){t=t||u.window;var n="about:blank";e&&(n=xe(je(e)||He)),t.location.href=n}function fr(e){return!!((e=(e||Ir()).toLowerCase()).match(/android/)||e.match(/webos/)||e.match(/iphone|ipad|ipod/)||e.match(/blackberry/)||e.match(/windows phone/)||e.match(/iemobile/))}function dr(e){e=e||u.window;try{e.close()}catch(t){}}function pr(e,t,n){var r=Math.floor(1e9*Math.random()).toString();t=t||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-t)/2;for(a in t={width:t,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=Ir().toLowerCase(),r&&(t.target=r,ce(n,"crios/")&&(t.target="_blank")),Or(Ir())==Sr&&(e=e||"http://localhost",t.scrollbars=!0),n=e||"",(e=t)||(e={}),r=window,t=n instanceof Pe?n:je("undefined"!=typeof n.href?n.href:String(n))||He,n=e.target||n.target,i=[],e)switch(a){case"width":case"height":case"top":case"left":i.push(a+"="+e[a]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(a+"="+(e[a]?1:0))}var a=i.join(",");if((de("iPhone")&&!de("iPod")&&!de("iPad")||de("iPad")||de("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(be(a=yt(document,"A"),"HTMLAnchorElement"),t=t instanceof Pe?t:Ue(t),a.href=xe(t),a.setAttribute("target",n),e.noreferrer&&a.setAttribute("rel","noreferrer"),(e=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),a.dispatchEvent(e),a={}):e.noreferrer?(a=qe("",r,n,a),e=xe(t),a&&(Xe&&ce(e,";")&&(e="'"+e.replace(/'/g,"%27")+"'"),a.opener=null,e='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+ze(e)+'">',e=new Be(e=(r=Oe())?r.createHTML(e):e,null,Ve),r=a.document)&&(r.write(function(e){return e instanceof Be&&e.constructor===Be?e.a:(j("expected object of type SafeHtml, got '"+e+"' of type "+d(e)),"type_error:SafeHtml")}(e)),r.close())):(a=qe(t,r,n,a))&&e.noopener&&(a.opener=null),a)try{a.focus()}catch(s){}return a}var gr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,yr=/^[^@]+@[^@]+$/;function vr(){var e=null;return new Et(function(t){"complete"==u.document.readyState?t():(e=function(){t()},fn(window,"load",e))}).o(function(t){throw dn(window,"load",e),t})}function mr(e){return e=e||Ir(),!("file:"!==xr()&&"ionic:"!==xr()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function br(){var e=u.window;try{return!(!e||e==e.top)}catch(t){return!1}}function _r(){return"undefined"!==typeof u.WorkerGlobalScope&&"function"===typeof u.importScripts}function wr(){return t.default.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":t.default.INTERNAL.hasOwnProperty("node")?"Node":_r()?"Worker":"Browser"}function Er(){var e=wr();return"ReactNative"===e||"Node"===e}var Sr="Firefox",Cr="Chrome";function Or(e){var t=e.toLowerCase();return ce(t,"opera/")||ce(t,"opr/")||ce(t,"opios/")?"Opera":ce(t,"iemobile")?"IEMobile":ce(t,"msie")||ce(t,"trident/")?"IE":ce(t,"edge/")?"Edge":ce(t,"firefox/")?Sr:ce(t,"silk/")?"Silk":ce(t,"blackberry")?"Blackberry":ce(t,"webos")?"Webos":!ce(t,"safari/")||ce(t,"chrome/")||ce(t,"crios/")||ce(t,"android")?!ce(t,"chrome/")&&!ce(t,"crios/")||ce(t,"edge/")?ce(t,"android")?"Android":(e=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==e.length?e[1]:"Other":Cr:"Safari"}var Tr={md:"FirebaseCore-web",od:"FirebaseUI-web"};function kr(e,t){t=t||[];var n,r=[],i={};for(n in Tr)i[Tr[n]]=!0;for(n=0;n<t.length;n++)"undefined"!==typeof i[t[n]]&&(delete i[t[n]],r.push(t[n]));return r.sort(),(t=r).length||(t=["FirebaseCore-web"]),"Browser"===(r=wr())?r=Or(i=Ir()):"Worker"===r&&(r=Or(i=Ir())+"-"+r),r+"/JsCore/"+e+"/"+t.join(",")}function Ir(){return u.navigator&&u.navigator.userAgent||""}function Ar(e,t){e=e.split("."),t=t||u;for(var n=0;n<e.length&&"object"==typeof t&&null!=t;n++)t=t[e[n]];return n!=e.length&&(t=void 0),t}function Nr(){try{var e=u.localStorage,t=Ur();if(e)return e.setItem(t,"1"),e.removeItem(t),!cr()||!!u.indexedDB}catch(n){return _r()&&!!u.indexedDB}return!1}function Rr(){return(Pr()||"chrome-extension:"===xr()||mr())&&!Er()&&Nr()&&!_r()}function Pr(){return"http:"===xr()||"https:"===xr()}function xr(){return u.location&&u.location.protocol||null}function Mr(e){return!fr(e=e||Ir())&&Or(e)!=Sr}function Lr(e){return"undefined"===typeof e?null:ir(e)}function Dr(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&null!==e[t]&&void 0!==e[t]&&(n[t]=e[t]);return n}function jr(e){if(null!==e)return JSON.parse(e)}function Ur(e){return e||Math.floor(1e9*Math.random()).toString()}function Fr(e){return"Safari"!=Or(e=e||Ir())&&!e.toLowerCase().match(/iphone|ipad|ipod/)}function Hr(){var e=u.___jsl;if(e&&e.H)for(var t in e.H)if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=e.H[t].L.concat(),e.CP)for(var n=0;n<e.CP.length;n++)e.CP[n]=null}function Br(e,t){if(e>t)throw Error("Short delay should be less than long delay!");this.a=e,this.c=t,e=Ir(),t=wr(),this.b=fr(e)||"ReactNative"===t}function Vr(){var e=u.document;return!e||"undefined"===typeof e.visibilityState||"visible"==e.visibilityState}function qr(e){try{var t=new Date(parseInt(e,10));if(!isNaN(t.getTime())&&!/[^0-9]/.test(e))return t.toUTCString()}catch(n){}return null}function Gr(){return!(!Ar("fireauth.oauthhelper",u)&&!Ar("fireauth.iframe",u))}Br.prototype.get=function(){var e=u.navigator;return!e||"boolean"!==typeof e.onLine||!Pr()&&"chrome-extension:"!==xr()&&"undefined"===typeof e.connection||e.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var zr,Wr={};function Kr(e){Wr[e]||(Wr[e]=!0,"undefined"!==typeof console&&"function"===typeof console.warn&&console.warn(e))}try{var Yr={};Object.defineProperty(Yr,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Yr,"abcd",{configurable:!0,enumerable:!0,value:2}),zr=2==Yr.abcd}catch(ua){zr=!1}function Qr(e,t,n){zr?Object.defineProperty(e,t,{configurable:!0,enumerable:!0,value:n}):e[t]=n}function $r(e,t){if(t)for(var n in t)t.hasOwnProperty(n)&&Qr(e,n,t[n])}function Xr(e){var t={};return $r(t,e),t}function Jr(e){var t=e;if("object"==typeof e&&null!=e)for(var n in t="length"in e?[]:{},e)Qr(t,n,Jr(e[n]));return t}function Zr(e){var t=e&&(e[ii]?"phone":null);if(!(t&&e&&e[ri]))throw new k("internal-error","Internal assert: invalid MultiFactorInfo object");Qr(this,"uid",e[ri]),Qr(this,"displayName",e[ti]||null);var n=null;e[ni]&&(n=new Date(e[ni]).toUTCString()),Qr(this,"enrollmentTime",n),Qr(this,"factorId",t)}function ei(e){try{var t=new oi(e)}catch(n){t=null}return t}Zr.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var ti="displayName",ni="enrolledAt",ri="mfaEnrollmentId",ii="phoneInfo";function oi(e){Zr.call(this,e),Qr(this,"phoneNumber",e[ii])}function ai(e){var t={},n=e[li],r=e[fi],i=e[di];if(e=ei(e[hi]),!i||i!=ui&&i!=ci&&!n||i==ci&&!r||i==si&&!e)throw Error("Invalid checkActionCode response!");i==ci?(t[gi]=n||null,t[vi]=n||null,t[pi]=r):(t[gi]=r||null,t[vi]=r||null,t[pi]=n||null),t[yi]=e||null,Qr(this,bi,i),Qr(this,mi,Jr(t))}O(oi,Zr),oi.prototype.w=function(){var e=oi.bb.w.call(this);return e.phoneNumber=this.phoneNumber,e};var si="REVERT_SECOND_FACTOR_ADDITION",ui="EMAIL_SIGNIN",ci="VERIFY_AND_CHANGE_EMAIL",li="email",hi="mfaInfo",fi="newEmail",di="requestType",pi="email",gi="fromEmail",yi="multiFactorInfo",vi="previousEmail",mi="data",bi="operation";function _i(e){var t=Fn(e=Hn(e),wi)||null,n=Fn(e,Ei)||null,r=Fn(e,Oi)||null;if(r=r&&ki[r]||null,!t||!n||!r)throw new k("argument-error",wi+", "+Ei+"and "+Oi+" are required in a valid action code URL.");$r(this,{apiKey:t,operation:r,code:n,continueUrl:Fn(e,Si)||null,languageCode:Fn(e,Ci)||null,tenantId:Fn(e,Ti)||null})}var wi="apiKey",Ei="oobCode",Si="continueUrl",Ci="languageCode",Oi="mode",Ti="tenantId",ki={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:si,signIn:ui,verifyAndChangeEmail:ci,verifyEmail:"VERIFY_EMAIL"};function Ii(e){try{return new _i(e)}catch(t){return null}}function Ai(e){var t=e[Mi];if("undefined"===typeof t)throw new k("missing-continue-uri");if("string"!==typeof t||"string"===typeof t&&!t.length)throw new k("invalid-continue-uri");this.h=t,this.b=this.a=null,this.g=!1;var n=e[Ni];if(n&&"object"===typeof n){t=n[ji];var r=n[Li];if(n=n[Di],"string"===typeof t&&t.length){if(this.a=t,"undefined"!==typeof r&&"boolean"!==typeof r)throw new k("argument-error",Li+" property must be a boolean when specified.");if(this.g=!!r,"undefined"!==typeof n&&("string"!==typeof n||"string"===typeof n&&!n.length))throw new k("argument-error",Di+" property must be a non empty string when specified.");this.b=n||null}else{if("undefined"!==typeof t)throw new k("argument-error",ji+" property must be a non empty string when specified.");if("undefined"!==typeof r||"undefined"!==typeof n)throw new k("missing-android-pkg-name")}}else if("undefined"!==typeof n)throw new k("argument-error",Ni+" property must be a non null object when specified.");if(this.f=null,(t=e[xi])&&"object"===typeof t){if("string"===typeof(t=t[Ui])&&t.length)this.f=t;else if("undefined"!==typeof t)throw new k("argument-error",Ui+" property must be a non empty string when specified.")}else if("undefined"!==typeof t)throw new k("argument-error",xi+" property must be a non null object when specified.");if("undefined"!==typeof(t=e[Pi])&&"boolean"!==typeof t)throw new k("argument-error",Pi+" property must be a boolean when specified.");if(this.c=!!t,"undefined"!==typeof(e=e[Ri])&&("string"!==typeof e||"string"===typeof e&&!e.length))throw new k("argument-error",Ri+" property must be a non empty string when specified.");this.i=e||null}var Ni="android",Ri="dynamicLinkDomain",Pi="handleCodeInApp",xi="iOS",Mi="url",Li="installApp",Di="minimumVersion",ji="packageName",Ui="bundleId";function Fi(e){var t={};for(var n in t.continueUrl=e.h,t.canHandleCodeInApp=e.c,(t.androidPackageName=e.a)&&(t.androidMinimumVersion=e.b,t.androidInstallApp=e.g),t.iOSBundleId=e.f,t.dynamicLinkDomain=e.i,t)null===t[n]&&delete t[n];return t}var Hi=null;function Bi(e){var t=[];return function(e,t){function n(t){for(;r<e.length;){var n=e.charAt(r++),i=Hi[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return t}!function(){if(!Hi){Hi={};for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),t=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++)for(var r=e.concat(t[n].split("")),i=0;i<r.length;i++){var o=r[i];void 0===Hi[o]&&(Hi[o]=i)}}}();for(var r=0;;){var i=n(-1),o=n(0),a=n(64),s=n(64);if(64===s&&-1===i)break;t(i<<2|o>>4),64!=a&&(t(o<<4&240|a>>2),64!=s&&t(a<<6&192|s))}}(e,function(e){t.push(e)}),t}function Vi(e){var t=Gi(e);if(!(t&&t.sub&&t.iss&&t.aud&&t.exp))throw Error("Invalid JWT");this.h=e,this.a=t.exp,this.i=t.sub,e=Date.now()/1e3,this.g=t.iat||(e>this.a?this.a:e),this.b=t.provider_id||t.firebase&&t.firebase.sign_in_provider||null,this.f=t.firebase&&t.firebase.tenant||null,this.c=!!t.is_anonymous||"anonymous"==this.b}function qi(e){try{return new Vi(e)}catch(t){return null}}function Gi(e){if(!e)return null;if(3!=(e=e.split(".")).length)return null;for(var t=(4-(e=e[1]).length%4)%4,n=0;n<t;n++)e+=".";try{var r=Bi(e);for(e=[],n=t=0;t<r.length;){var i=r[t++];if(128>i)e[n++]=String.fromCharCode(i);else if(191<i&&224>i){var o=r[t++];e[n++]=String.fromCharCode((31&i)<<6|63&o)}else if(239<i&&365>i){o=r[t++];var a=r[t++],s=((7&i)<<18|(63&o)<<12|(63&a)<<6|63&r[t++])-65536;e[n++]=String.fromCharCode(55296+(s>>10)),e[n++]=String.fromCharCode(56320+(1023&s))}else o=r[t++],a=r[t++],e[n++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}return JSON.parse(e.join(""))}catch(u){}return null}Vi.prototype.T=function(){return this.f},Vi.prototype.l=function(){return this.c},Vi.prototype.toString=function(){return this.h};var zi="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Wi=["client_id","response_type","scope","redirect_uri","state"],Ki={nd:{Ja:"locale",va:700,ua:600,fa:"facebook.com",Ya:Wi},pd:{Ja:null,va:500,ua:750,fa:"github.com",Ya:Wi},qd:{Ja:"hl",va:515,ua:680,fa:"google.com",Ya:Wi},wd:{Ja:"lang",va:485,ua:705,fa:"twitter.com",Ya:zi},kd:{Ja:"locale",va:640,ua:600,fa:"apple.com",Ya:[]}};function Yi(e){for(var t in Ki)if(Ki[t].fa==e)return Ki[t];return null}function Qi(e){var t={};t["facebook.com"]=eo,t["google.com"]=no,t["github.com"]=to,t["twitter.com"]=ro;var n=e&&e[Xi];try{if(n)return t[n]?new t[n](e):new Zi(e);if("undefined"!==typeof e[$i])return new Ji(e)}catch(r){}return null}var $i="idToken",Xi="providerId";function Ji(e){var t=e[Xi];if(!t&&e[$i]){var n=qi(e[$i]);n&&n.b&&(t=n.b)}if(!t)throw Error("Invalid additional user info!");"anonymous"!=t&&"custom"!=t||(t=null),n=!1,"undefined"!==typeof e.isNewUser?n=!!e.isNewUser:"identitytoolkit#SignupNewUserResponse"===e.kind&&(n=!0),Qr(this,"providerId",t),Qr(this,"isNewUser",n)}function Zi(e){Ji.call(this,e),Qr(this,"profile",Jr((e=jr(e.rawUserInfo||"{}"))||{}))}function eo(e){if(Zi.call(this,e),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function to(e){if(Zi.call(this,e),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Qr(this,"username",this.profile&&this.profile.login||null)}function no(e){if(Zi.call(this,e),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function ro(e){if(Zi.call(this,e),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Qr(this,"username",e.screenName||null)}function io(e){var t=Hn(e),n=Fn(t,"link"),r=Fn(Hn(n),"link");return t=Fn(t,"deep_link_id"),Fn(Hn(t),"link")||t||r||n||e}function oo(e,t){if(!e&&!t)throw new k("internal-error","Internal assert: no raw session string available");if(e&&t)throw new k("internal-error","Internal assert: unable to determine the session type");this.a=e||null,this.b=t||null,this.type=this.a?ao:so}O(Zi,Ji),O(eo,Zi),O(to,Zi),O(no,Zi),O(ro,Zi);var ao="enroll",so="signin";function uo(){}function co(e,t){return e.then(function(e){if(e[Ja]){var n=qi(e[Ja]);if(!n||t!=n.i)throw new k("user-mismatch");return e}throw new k("user-mismatch")}).o(function(e){throw e&&e.code&&e.code==N+"user-not-found"?new k("user-mismatch"):e})}function lo(e,t){if(!t)throw new k("internal-error","failed to construct a credential");this.a=t,Qr(this,"providerId",e),Qr(this,"signInMethod",e)}function ho(e){return{pendingToken:e.a,requestUri:"http://localhost"}}function fo(e){if(e&&e.providerId&&e.signInMethod&&0==e.providerId.indexOf("saml.")&&e.pendingToken)try{return new lo(e.providerId,e.pendingToken)}catch(t){}return null}function po(e,t,n){if(this.a=null,t.idToken||t.accessToken)t.idToken&&Qr(this,"idToken",t.idToken),t.accessToken&&Qr(this,"accessToken",t.accessToken),t.nonce&&!t.pendingToken&&Qr(this,"nonce",t.nonce),t.pendingToken&&(this.a=t.pendingToken);else{if(!t.oauthToken||!t.oauthTokenSecret)throw new k("internal-error","failed to construct a credential");Qr(this,"accessToken",t.oauthToken),Qr(this,"secret",t.oauthTokenSecret)}Qr(this,"providerId",e),Qr(this,"signInMethod",n)}function go(e){var t={};return e.idToken&&(t.id_token=e.idToken),e.accessToken&&(t.access_token=e.accessToken),e.secret&&(t.oauth_token_secret=e.secret),t.providerId=e.providerId,e.nonce&&!e.a&&(t.nonce=e.nonce),t={postBody:Jn(t).toString(),requestUri:"http://localhost"},e.a&&(delete t.postBody,t.pendingToken=e.a),t}function yo(e){if(e&&e.providerId&&e.signInMethod){var t={idToken:e.oauthIdToken,accessToken:e.oauthTokenSecret?null:e.oauthAccessToken,oauthTokenSecret:e.oauthTokenSecret,oauthToken:e.oauthTokenSecret&&e.oauthAccessToken,nonce:e.nonce,pendingToken:e.pendingToken};try{return new po(e.providerId,t,e.signInMethod)}catch(n){}}return null}function vo(e,t){this.Qc=t||[],$r(this,{providerId:e,isOAuthProvider:!0}),this.Jb={},this.qb=(Yi(e)||{}).Ja||null,this.pb=null}function mo(e){if("string"!==typeof e||0!=e.indexOf("saml."))throw new k("argument-error",'SAML provider IDs must be prefixed with "saml."');vo.call(this,e,[])}function bo(e){vo.call(this,e,Wi),this.a=[]}function _o(){bo.call(this,"facebook.com")}function wo(e){if(!e)throw new k("argument-error","credential failed: expected 1 argument (the OAuth access token).");var t=e;return y(e)&&(t=e.accessToken),(new _o).credential({accessToken:t})}function Eo(){bo.call(this,"github.com")}function So(e){if(!e)throw new k("argument-error","credential failed: expected 1 argument (the OAuth access token).");var t=e;return y(e)&&(t=e.accessToken),(new Eo).credential({accessToken:t})}function Co(){bo.call(this,"google.com"),this.Ca("profile")}function Oo(e,t){var n=e;return y(e)&&(n=e.idToken,t=e.accessToken),(new Co).credential({idToken:n,accessToken:t})}function To(){vo.call(this,"twitter.com",zi)}function ko(e,t){var n=e;if(y(n)||(n={oauthToken:e,oauthTokenSecret:t}),!n.oauthToken||!n.oauthTokenSecret)throw new k("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new po("twitter.com",n,"twitter.com")}function Io(e,t,n){this.a=e,this.f=t,Qr(this,"providerId","password"),Qr(this,"signInMethod",n===No.EMAIL_LINK_SIGN_IN_METHOD?No.EMAIL_LINK_SIGN_IN_METHOD:No.EMAIL_PASSWORD_SIGN_IN_METHOD)}function Ao(e){return e&&e.email&&e.password?new Io(e.email,e.password,e.signInMethod):null}function No(){$r(this,{providerId:"password",isOAuthProvider:!1})}function Ro(e,t){if(!(t=Po(t)))throw new k("argument-error","Invalid email link!");return new Io(e,t.code,No.EMAIL_LINK_SIGN_IN_METHOD)}function Po(e){return(e=Ii(e=io(e)))&&e.operation===ui?e:null}function xo(e){if(!(e.fb&&e.eb||e.La&&e.ea))throw new k("internal-error");this.a=e,Qr(this,"providerId","phone"),this.fa="phone",Qr(this,"signInMethod","phone")}function Mo(e){if(e&&"phone"===e.providerId&&(e.verificationId&&e.verificationCode||e.temporaryProof&&e.phoneNumber)){var t={};return z(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(n){e[n]&&(t[n]=e[n])}),new xo(t)}return null}function Lo(e){return e.a.La&&e.a.ea?{temporaryProof:e.a.La,phoneNumber:e.a.ea}:{sessionInfo:e.a.fb,code:e.a.eb}}function Do(e){try{this.a=e||t.default.auth()}catch(n){throw new k("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}$r(this,{providerId:"phone",isOAuthProvider:!1})}function jo(e,t){if(!e)throw new k("missing-verification-id");if(!t)throw new k("missing-verification-code");return new xo({fb:e,eb:t})}function Uo(e){if(e.temporaryProof&&e.phoneNumber)return new xo({La:e.temporaryProof,ea:e.phoneNumber});var t=e&&e.providerId;if(!t||"password"===t)return null;var n=e&&e.oauthAccessToken,r=e&&e.oauthTokenSecret,i=e&&e.nonce,o=e&&e.oauthIdToken,a=e&&e.pendingToken;try{switch(t){case"google.com":return Oo(o,n);case"facebook.com":return wo(n);case"github.com":return So(n);case"twitter.com":return ko(n,r);default:return n||r||o||a?a?0==t.indexOf("saml.")?new lo(t,a):new po(t,{pendingToken:a,idToken:e.oauthIdToken,accessToken:e.oauthAccessToken},t):new bo(t).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(s){return null}}function Fo(e){if(!e.isOAuthProvider)throw new k("invalid-oauth-provider")}function Ho(e,t,n,r,i,o,a){if(this.c=e,this.b=t||null,this.g=n||null,this.f=r||null,this.i=o||null,this.h=a||null,this.a=i||null,!this.g&&!this.a)throw new k("invalid-auth-event");if(this.g&&this.a)throw new k("invalid-auth-event");if(this.g&&!this.f)throw new k("invalid-auth-event")}function Bo(e){return(e=e||{}).type?new Ho(e.type,e.eventId,e.urlResponse,e.sessionId,e.error&&I(e.error),e.postBody,e.tenantId):null}function Vo(){this.b=null,this.a=[]}oo.prototype.Ha=function(){return this.a?At(this.a):At(this.b)},oo.prototype.w=function(){return this.type==ao?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},uo.prototype.ka=function(){},uo.prototype.b=function(){},uo.prototype.c=function(){},uo.prototype.w=function(){},lo.prototype.ka=function(e){return _s(e,ho(this))},lo.prototype.b=function(e,t){var n=ho(this);return n.idToken=t,ws(e,n)},lo.prototype.c=function(e,t){return co(Es(e,ho(this)),t)},lo.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},po.prototype.ka=function(e){return _s(e,go(this))},po.prototype.b=function(e,t){var n=go(this);return n.idToken=t,ws(e,n)},po.prototype.c=function(e,t){return co(Es(e,go(this)),t)},po.prototype.w=function(){var e={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(e.oauthIdToken=this.idToken),this.accessToken&&(e.oauthAccessToken=this.accessToken),this.secret&&(e.oauthTokenSecret=this.secret),this.nonce&&(e.nonce=this.nonce),this.a&&(e.pendingToken=this.a),e},vo.prototype.Ka=function(e){return this.Jb=ye(e),this},O(mo,vo),O(bo,vo),bo.prototype.Ca=function(e){return Q(this.a,e)||this.a.push(e),this},bo.prototype.Rb=function(){return Z(this.a)},bo.prototype.credential=function(e,t){var n;if(!(n=y(e)?{idToken:e.idToken||null,accessToken:e.accessToken||null,nonce:e.rawNonce||null}:{idToken:e||null,accessToken:t||null}).idToken&&!n.accessToken)throw new k("argument-error","credential failed: must provide the ID token and/or the access token.");return new po(this.providerId,n,this.providerId)},O(_o,bo),Qr(_o,"PROVIDER_ID","facebook.com"),Qr(_o,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),O(Eo,bo),Qr(Eo,"PROVIDER_ID","github.com"),Qr(Eo,"GITHUB_SIGN_IN_METHOD","github.com"),O(Co,bo),Qr(Co,"PROVIDER_ID","google.com"),Qr(Co,"GOOGLE_SIGN_IN_METHOD","google.com"),O(To,vo),Qr(To,"PROVIDER_ID","twitter.com"),Qr(To,"TWITTER_SIGN_IN_METHOD","twitter.com"),Io.prototype.ka=function(e){return this.signInMethod==No.EMAIL_LINK_SIGN_IN_METHOD?ru(e,Ns,{email:this.a,oobCode:this.f}):ru(e,Js,{email:this.a,password:this.f})},Io.prototype.b=function(e,t){return this.signInMethod==No.EMAIL_LINK_SIGN_IN_METHOD?ru(e,Rs,{idToken:t,email:this.a,oobCode:this.f}):ru(e,Gs,{idToken:t,email:this.a,password:this.f})},Io.prototype.c=function(e,t){return co(this.ka(e),t)},Io.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},$r(No,{PROVIDER_ID:"password"}),$r(No,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),$r(No,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),xo.prototype.ka=function(e){return e.gb(Lo(this))},xo.prototype.b=function(e,t){var n=Lo(this);return n.idToken=t,ru(e,eu,n)},xo.prototype.c=function(e,t){var n=Lo(this);return n.operation="REAUTH",co(e=ru(e,tu,n),t)},xo.prototype.w=function(){var e={providerId:"phone"};return this.a.fb&&(e.verificationId=this.a.fb),this.a.eb&&(e.verificationCode=this.a.eb),this.a.La&&(e.temporaryProof=this.a.La),this.a.ea&&(e.phoneNumber=this.a.ea),e},Do.prototype.gb=function(e,t){var n=this.a.a;return At(t.verify()).then(function(r){if("string"!==typeof r)throw new k("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(t.type){case"recaptcha":var i=y(e)?e.session:null,o=y(e)?e.phoneNumber:e;return(i&&i.type==ao?i.Ha().then(function(e){return ru(n,Ws,{idToken:e,phoneEnrollmentInfo:{phoneNumber:o,recaptchaToken:r}}).then(function(e){return e.phoneSessionInfo.sessionInfo})}):i&&i.type==so?i.Ha().then(function(t){return function(e,t){return ru(e,Ks,t).then(function(e){return e.phoneResponseInfo.sessionInfo})}(n,{mfaPendingCredential:t,mfaEnrollmentId:e.multiFactorHint&&e.multiFactorHint.uid||e.multiFactorUid,phoneSignInInfo:{recaptchaToken:r}})}):function(e,t){return ru(e,Vs,t)}(n,{phoneNumber:o,recaptchaToken:r})).then(function(e){return"function"===typeof t.reset&&t.reset(),e},function(e){throw"function"===typeof t.reset&&t.reset(),e});default:throw new k("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})},$r(Do,{PROVIDER_ID:"phone"}),$r(Do,{PHONE_SIGN_IN_METHOD:"phone"}),Ho.prototype.getUid=function(){var e=[];return e.push(this.c),this.b&&e.push(this.b),this.f&&e.push(this.f),this.h&&e.push(this.h),e.join("-")},Ho.prototype.T=function(){return this.h},Ho.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};var qo,Go=null;function zo(e){var t="unauthorized-domain",n=void 0,r=Hn(e);e=r.a,"chrome-extension"==(r=r.c)?n=Ge("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",e):"http"==r||"https"==r?n=Ge("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",e):t="operation-not-supported-in-this-environment",k.call(this,t,n)}function Wo(e,t,n){k.call(this,e,n),(e=t||{}).Kb&&Qr(this,"email",e.Kb),e.ea&&Qr(this,"phoneNumber",e.ea),e.credential&&Qr(this,"credential",e.credential),e.$b&&Qr(this,"tenantId",e.$b)}function Ko(e){if(e.code){var t=e.code||"";0==t.indexOf(N)&&(t=t.substring(N.length));var n={credential:Uo(e),$b:e.tenantId};if(e.email)n.Kb=e.email;else if(e.phoneNumber)n.ea=e.phoneNumber;else if(!n.credential)return new k(t,e.message||void 0);return new Wo(t,n,e.message)}return null}function Yo(){}function Qo(e){return e.c||(e.c=e.b())}function $o(){}function Xo(e){if(!e.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var t=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<t.length;n++){var r=t[n];try{return new ActiveXObject(r),e.f=r}catch(i){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return e.f}function Jo(){}function Zo(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=E(this.qc,this),this.a.onerror=E(this.Tb,this),this.a.onprogress=E(this.rc,this),this.a.ontimeout=E(this.vc,this)}function ea(e,t){e.readyState=t,e.onreadystatechange&&e.onreadystatechange()}function ta(e,t,n){this.reset(e,t,n,void 0,void 0)}O(zo,k),O(Wo,k),Wo.prototype.w=function(){var e={code:this.code,message:this.message};this.email&&(e.email=this.email),this.phoneNumber&&(e.phoneNumber=this.phoneNumber),this.tenantId&&(e.tenantId=this.tenantId);var t=this.credential&&this.credential.w();return t&&me(e,t),e},Wo.prototype.toJSON=function(){return this.w()},Yo.prototype.c=null,O($o,Yo),$o.prototype.a=function(){var e=Xo(this);return e?new ActiveXObject(e):new XMLHttpRequest},$o.prototype.b=function(){var e={};return Xo(this)&&(e[0]=!0,e[1]=!0),e},qo=new $o,O(Jo,Yo),Jo.prototype.a=function(){var e=new XMLHttpRequest;if("withCredentials"in e)return e;if("undefined"!=typeof XDomainRequest)return new Zo;throw Error("Unsupported browser")},Jo.prototype.b=function(){return{}},(n=Zo.prototype).open=function(e,t,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(e,t)},n.send=function(e){if(e){if("string"!=typeof e)throw Error("Only string data is supported");this.a.send(e)}else this.a.send()},n.abort=function(){this.a.abort()},n.setRequestHeader=function(){},n.getResponseHeader=function(e){return"content-type"==e.toLowerCase()?this.a.contentType:""},n.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,ea(this,4)},n.Tb=function(){this.status=500,this.response=this.responseText="",ea(this,4)},n.vc=function(){this.Tb()},n.rc=function(){this.status=200,ea(this,1)},n.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},ta.prototype.a=null;function na(e){this.f=e,this.b=this.c=this.a=null}function ra(e,t){this.name=e,this.value=t}ta.prototype.reset=function(e,t,n,r,i){"number"==typeof i||0,r||C(),delete this.a},ra.prototype.toString=function(){return this.name};var ia=new ra("SEVERE",1e3),oa=new ra("WARNING",900),aa=new ra("CONFIG",700),sa=new ra("FINE",500);na.prototype.log=function(e,t,n){if(e.value>=function e(t){return t.c?t.c:t.a?e(t.a):(j("Root logger has no level set."),null)}(this).value)for(g(t)&&(t=t()),e=new ta(e,String(t),this.f),n&&(e.a=n),n=this;n;)n=n.a};var ua,ca={},la=null;function ha(e){var t;if(la||(la=new na(""),ca[""]=la,la.c=aa),!(t=ca[e])){t=new na(e);var n=e.lastIndexOf("."),r=e.substr(n+1);(n=ha(e.substr(0,n))).b||(n.b={}),n.b[r]=t,t.a=n,ca[e]=t}return t}function fa(e,t){e&&e.log(sa,t,void 0)}function da(e){this.f=e}function pa(e){En.call(this),this.u=e,this.h=void 0,this.readyState=ga,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=ha("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}O(da,Yo),da.prototype.a=function(){return new pa(this.f)},da.prototype.b=(ua={},function(){return ua}),O(pa,En);var ga=0;function ya(e){e.c.read().then(e.pc.bind(e)).catch(e.Va.bind(e))}function va(e){e.readyState=4,e.g=null,e.c=null,e.m=null,ma(e)}function ma(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function ba(e){En.call(this),this.headers=new Nn,this.D=e||null,this.c=!1,this.C=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.J=!1,this.g=0,this.s=null,this.m=_a,this.u=this.S=!1}(n=pa.prototype).open=function(e,t){if(this.readyState!=ga)throw this.abort(),Error("Error reopening a connection");this.s=e,this.f=t,this.readyState=1,ma(this)},n.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var t={headers:this.l,method:this.s,credentials:this.h,cache:void 0};e&&(t.body=e),this.u.fetch(new Request(this.f,t)).then(this.uc.bind(this),this.Va.bind(this))},n.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,va(this)),this.readyState=ga},n.uc=function(e){this.a&&(this.g=e,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=e.headers,this.readyState=2,ma(this)),this.a&&(this.readyState=3,ma(this),this.a&&("arraybuffer"===this.responseType?e.arrayBuffer().then(this.sc.bind(this),this.Va.bind(this)):"undefined"!==typeof u.ReadableStream&&"body"in e?(this.response=this.responseText="",this.c=e.body.getReader(),this.m=new TextDecoder,ya(this)):e.text().then(this.tc.bind(this),this.Va.bind(this)))))},n.pc=function(e){if(this.a){var t=this.m.decode(e.value?e.value:new Uint8Array(0),{stream:!e.done});t&&(this.response=this.responseText+=t),e.done?va(this):ma(this),3==this.readyState&&ya(this)}},n.tc=function(e){this.a&&(this.response=this.responseText=e,va(this))},n.sc=function(e){this.a&&(this.response=e,va(this))},n.Va=function(e){var t=this.i;t&&t.log(oa,"Failed to fetch url "+this.f,e instanceof Error?e:Error(e)),this.a&&va(this)},n.setRequestHeader=function(e,t){this.l.append(e,t)},n.getResponseHeader=function(e){return this.b?this.b.get(e.toLowerCase())||"":((e=this.i)&&e.log(oa,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},n.getAllResponseHeaders=function(){if(!this.b){var e=this.i;return e&&e.log(oa,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}e=[];for(var t=this.b.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(pa.prototype,"withCredentials",{get:function(){return"include"===this.h},set:function(e){this.h=e?"include":"same-origin"}}),O(ba,En);var _a="";ba.prototype.b=ha("goog.net.XhrIo");var wa=/^https?$/i,Ea=["POST","PUT"];function Sa(e,t,n,r,i){if(e.a)throw Error("[goog.net.XhrIo] Object is active with another request="+e.l+"; newUri="+t);n=n?n.toUpperCase():"GET",e.l=t,e.h="",e.P=n,e.J=!1,e.c=!0,e.a=e.D?e.D.a():qo.a(),e.C=e.D?Qo(e.D):Qo(qo),e.a.onreadystatechange=E(e.Wb,e);try{fa(e.b,Pa(e,"Opening Xhr")),e.N=!0,e.a.open(n,String(t),!0),e.N=!1}catch(a){return fa(e.b,Pa(e,"Error opening Xhr: "+a.message)),void Oa(e,a)}t=r||"";var o=new Nn(e.headers);i&&function(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(p(e)||"string"===typeof e)z(e,t,void 0);else for(var n=An(e),r=In(e),i=r.length,o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}(i,function(e,t){o.set(t,e)}),i=function(e){e:{for(var t=Ca,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(o.Y()),r=u.FormData&&t instanceof u.FormData,!Q(Ea,n)||i||r||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(e,t){this.a.setRequestHeader(t,e)},e),e.m&&(e.a.responseType=e.m),"withCredentials"in e.a&&e.a.withCredentials!==e.S&&(e.a.withCredentials=e.S);try{Aa(e),0<e.g&&(e.u=function(e){return Qe&&at(9)&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(e.a),fa(e.b,Pa(e,"Will abort after "+e.g+"ms if incomplete, xhr2 "+e.u)),e.u?(e.a.timeout=e.g,e.a.ontimeout=E(e.Ma,e)):e.s=Tn(e.Ma,e.g,e)),fa(e.b,Pa(e,"Sending request")),e.i=!0,e.a.send(t),e.i=!1}catch(a){fa(e.b,Pa(e,"Send error: "+a.message)),Oa(e,a)}}function Ca(e){return"content-type"==e.toLowerCase()}function Oa(e,t){e.c=!1,e.a&&(e.f=!0,e.a.abort(),e.f=!1),e.h=t,Ta(e),Ia(e)}function Ta(e){e.J||(e.J=!0,e.dispatchEvent("complete"),e.dispatchEvent("error"))}function ka(e){if(e.c&&"undefined"!=typeof s)if(e.C[1]&&4==Na(e)&&2==Ra(e))fa(e.b,Pa(e,"Local request error detected and ignored"));else if(e.i&&4==Na(e))Tn(e.Wb,0,e);else if(e.dispatchEvent("readystatechange"),4==Na(e)){fa(e.b,Pa(e,"Request complete")),e.c=!1;try{var t,n=Ra(e);e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var o=String(e.l).match(xn)[1]||null;if(!o&&u.self&&u.self.location){var a=u.self.location.protocol;o=a.substr(0,a.length-1)}i=!wa.test(o?o.toLowerCase():"")}t=i}if(t)e.dispatchEvent("complete"),e.dispatchEvent("success");else{try{var c=2<Na(e)?e.a.statusText:""}catch(l){fa(e.b,"Can not get status: "+l.message),c=""}e.h=c+" ["+Ra(e)+"]",Ta(e)}}finally{Ia(e)}}}function Ia(e,t){if(e.a){Aa(e);var n=e.a,r=e.C[0]?f:null;e.a=null,e.C=null,t||e.dispatchEvent("ready");try{n.onreadystatechange=r}catch(i){(e=e.b)&&e.log(ia,"Problem encountered resetting onreadystatechange: "+i.message,void 0)}}}function Aa(e){e.a&&e.u&&(e.a.ontimeout=null),e.s&&(u.clearTimeout(e.s),e.s=null)}function Na(e){return e.a?e.a.readyState:0}function Ra(e){try{return 2<Na(e)?e.a.status:-1}catch(t){return-1}}function Pa(e,t){return t+" ["+e.P+" "+e.l+" "+Ra(e)+"]"}function xa(e){var t=Ga;this.g=[],this.u=t,this.s=e||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}function Ma(e,t,n){e.a=!0,e.c=n,e.f=!t,Ua(e)}function La(e){if(e.a){if(!e.v)throw new Fa(e);e.v=!1}}function Da(e,t,n,r){e.g.push([t,n,r]),e.a&&Ua(e)}function ja(e){return Y(e.g,function(e){return g(e[1])})}function Ua(e){if(e.h&&e.a&&ja(e)){var t=e.h,n=Va[t];n&&(u.clearTimeout(n.a),delete Va[t]),e.h=0}e.b&&(e.b.l--,delete e.b),t=e.c;for(var r=n=!1;e.g.length&&!e.i;){var i=e.g.shift(),o=i[0],a=i[1];if(i=i[2],o=e.f?a:o)try{var s=o.call(i||e.s,t);void 0!==s&&(e.f=e.f&&(s==t||s instanceof Error),e.c=t=s),(M(t)||"function"===typeof u.Promise&&t instanceof u.Promise)&&(r=!0,e.i=!0)}catch(c){t=c,e.f=!0,ja(e)||(n=!0)}}e.c=t,r&&(s=E(e.m,e,!0),r=E(e.m,e,!1),t instanceof xa?(Da(t,s,r),t.C=!0):t.then(s,r)),n&&(t=new Ba(t),Va[t.a]=t,e.h=t.a)}function Fa(){L.call(this)}function Ha(){L.call(this)}function Ba(e){this.a=u.setTimeout(E(this.c,this),0),this.b=e}(n=ba.prototype).Ma=function(){"undefined"!=typeof s&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",fa(this.b,Pa(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},n.abort=function(){this.a&&this.c&&(fa(this.b,Pa(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Ia(this))},n.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),Ia(this,!0)),ba.bb.Da.call(this)},n.Wb=function(){this.ya||(this.N||this.i||this.f?ka(this):this.Jc())},n.Jc=function(){ka(this)},n.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case _a:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var e=this.b;return e&&e.log(ia,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(t){return fa(this.b,"Can not get response: "+t.message),null}},xa.prototype.cancel=function(e){if(this.a)this.c instanceof xa&&this.c.cancel();else{if(this.b){var t=this.b;delete this.b,e?t.cancel(e):(t.l--,0>=t.l&&t.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(e=new Ha(this),La(this),Ma(this,!1,e))}},xa.prototype.m=function(e,t){this.i=!1,Ma(this,e,t)},xa.prototype.then=function(e,t,n){var r,i,o=new Et(function(e,t){r=e,i=t});return Da(this,r,function(e){e instanceof Ha?o.cancel():i(e)}),o.then(e,t,n)},xa.prototype.$goog_Thenable=!0,O(Fa,L),Fa.prototype.message="Deferred has already fired",Fa.prototype.name="AlreadyCalledError",O(Ha,L),Ha.prototype.message="Deferred was canceled",Ha.prototype.name="CanceledError",Ba.prototype.c=function(){throw delete Va[this.a],this.b};var Va={};function qa(e){var t={},n=t.document||document,r=ke(e).toString(),i=yt(document,"SCRIPT"),o={Xb:i,Ma:void 0},a=new xa(o),s=null,c=null!=t.timeout?t.timeout:5e3;return 0<c&&(s=window.setTimeout(function(){za(i,!0);var e=new Ya(Ka,"Timeout reached for loading script "+r);La(a),Ma(a,!1,e)},c),o.Ma=s),i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(za(i,t.xd||!1,s),La(a),Ma(a,!0,null))},i.onerror=function(){za(i,!0,s);var e=new Ya(Wa,"Error while loading script "+r);La(a),Ma(a,!1,e)},me(o=t.attributes||{},{type:"text/javascript",charset:"UTF-8"}),ht(i,o),function(e,t){be(e,"HTMLScriptElement"),e.src=ke(t),(t=e.ownerDocument&&e.ownerDocument.defaultView)&&t!=u?t=h(t.document):(null===l&&(l=h(u.document)),t=l),t&&e.setAttribute("nonce",t)}(i,e),function(e){var t;return(t=(e||document).getElementsByTagName("HEAD"))&&0!=t.length?t[0]:e.documentElement}(n).appendChild(i),a}function Ga(){if(this&&this.Xb){var e=this.Xb;e&&"SCRIPT"==e.tagName&&za(e,!0,this.Ma)}}function za(e,t,n){null!=n&&u.clearTimeout(n),e.onload=f,e.onerror=f,e.onreadystatechange=f,t&&window.setTimeout(function(){e&&e.parentNode&&e.parentNode.removeChild(e)},0)}var Wa=0,Ka=1;function Ya(e,t){var n="Jsloader error (code #"+e+")";t&&(n+=": "+t),L.call(this,n),this.code=e}function Qa(e){this.f=e}function $a(e,n,r){if(this.c=e,e=n||{},this.l=e.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=e.secureTokenTimeout||Za,this.g=ye(e.secureTokenHeaders||es),this.h=e.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=e.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=e.firebaseTimeout||ts,this.a=ye(e.firebaseHeaders||ns),r&&(this.a["X-Client-Version"]=r,this.g["X-Client-Version"]=r),r="Node"==wr(),!(r=u.XMLHttpRequest||r&&t.default.INTERNAL.node&&t.default.INTERNAL.node.XMLHttpRequest)&&!_r())throw new k("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,_r()?this.f=new da(self):Er()?this.f=new Qa(r):this.f=new Jo,this.b=null}O(Ya,L),O(Qa,Yo),Qa.prototype.a=function(){return new this.f},Qa.prototype.b=function(){return{}};var Xa,Ja="idToken",Za=new Br(3e4,6e4),es={"Content-Type":"application/x-www-form-urlencoded"},ts=new Br(3e4,6e4),ns={"Content-Type":"application/json"};function rs(e,t){t?e.a["X-Firebase-Locale"]=t:delete e.a["X-Firebase-Locale"]}function is(e,t){t&&(e.l=os("https://securetoken.googleapis.com/v1/token",t),e.h=os("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",t),e.i=os("https://identitytoolkit.googleapis.com/v2/",t))}function os(e,t){return e=Hn(e),t=Hn(t.url),e.f=e.a+e.f,Ln(e,t.c),e.a=t.a,Dn(e,t.g),e.toString()}function as(e,t){t?(e.a["X-Client-Version"]=t,e.g["X-Client-Version"]=t):(delete e.a["X-Client-Version"],delete e.g["X-Client-Version"])}function ss(e,t,n,r,i,o,a){(function(){var e=Ir();return!((e=Or(e)!=Cr?null:(e=e.match(/\sChrome\/(\d+)/i))&&2==e.length?parseInt(e[1],10):null)&&30>e)&&(!Qe||!ut||9<ut)})()||_r()?e=E(e.u,e):(Xa||(Xa=new Et(function(e,t){!function(e,t){if(((window.gapi||{}).client||{}).request)e();else{u[cs]=function(){((window.gapi||{}).client||{}).request?e():t(Error("CORS_UNSUPPORTED"))};var n=Ie(us,{onload:cs});!function(e,t){Da(e,null,t,void 0)}(qa(n),function(){t(Error("CORS_UNSUPPORTED"))})}}(e,t)})),e=E(e.s,e)),e(t,n,r,i,o,a)}$a.prototype.T=function(){return this.b},$a.prototype.u=function(e,t,n,r,i,o){if(_r()&&("undefined"===typeof u.fetch||"undefined"===typeof u.Headers||"undefined"===typeof u.Request))throw new k("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var a=new ba(this.f);if(o){a.g=Math.max(0,o);var s=setTimeout(function(){a.dispatchEvent("timeout")},o)}Sn(a,"complete",function(){s&&clearTimeout(s);var e=null;try{e=JSON.parse(function(e){try{return e.a?e.a.responseText:""}catch(t){return fa(e.b,"Can not get responseText: "+t.message),""}}(this))||null}catch(n){e=null}t&&t(e)}),Cn(a,"ready",function(){s&&clearTimeout(s),Wt(this)}),Cn(a,"timeout",function(){s&&clearTimeout(s),Wt(this),t&&t(null)}),Sa(a,e,n,r,i)};var us=new _e(Ce,"https://apis.google.com/js/client.js?onload=%{onload}"),cs="__fcb"+Math.floor(1e6*Math.random()).toString();function ls(e,t,n,r,i,o,a){var s=Hn(t+n);Un(s,"key",e.c),a&&Un(s,"cb",Date.now().toString());var u="GET"==r;if(u)for(var c in i)i.hasOwnProperty(c)&&Un(s,c,i[c]);return new Et(function(t,n){ss(e,s.toString(),function(e){e?e.error?n(ou(e,o||{})):t(e):n(new k("network-request-failed"))},r,u?void 0:ir(Dr(i)),e.a,e.v.get())})}function hs(e){if("string"!==typeof(e=e.email)||!yr.test(e))throw new k("invalid-email")}function fs(e){"email"in e&&hs(e)}function ds(e){if(!e[Ja]){if(e.mfaPendingCredential)throw new k("multi-factor-auth-required",null,ye(e));throw new k("internal-error")}}function ps(e){if(e.phoneNumber||e.temporaryProof){if(!e.phoneNumber||!e.temporaryProof)throw new k("internal-error")}else{if(!e.sessionInfo)throw new k("missing-verification-id");if(!e.code)throw new k("missing-verification-code")}}$a.prototype.s=function(e,t,n,r,i){var o=this;Xa.then(function(){window.gapi.client.setApiKey(o.c);var a=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:e,method:n,body:r,headers:i,authType:"none",callback:function(e){window.gapi.auth.setToken(a),t&&t(e)}})}).o(function(e){t&&t({error:{message:e&&e.message||"CORS_UNSUPPORTED"}})})},$a.prototype.Ab=function(){return ru(this,zs,{})},$a.prototype.Cb=function(e,t){return ru(this,qs,{idToken:e,email:t})},$a.prototype.Db=function(e,t){return ru(this,Gs,{idToken:e,password:t})};var gs={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function ys(e){if(!e.phoneVerificationInfo)throw new k("internal-error");if(!e.phoneVerificationInfo.sessionInfo)throw new k("missing-verification-id");if(!e.phoneVerificationInfo.code)throw new k("missing-verification-code")}function vs(e){if(!e.requestUri||!e.sessionId&&!e.postBody&&!e.pendingToken)throw new k("internal-error")}function ms(e,t){return t.oauthIdToken&&t.providerId&&0==t.providerId.indexOf("oidc.")&&!t.pendingToken&&(e.sessionId?t.nonce=e.sessionId:e.postBody&&(er(e=new $n(e.postBody),"nonce")&&(t.nonce=e.get("nonce")))),t}function bs(e){var t=null;if(e.needConfirmation?(e.code="account-exists-with-different-credential",t=Ko(e)):"FEDERATED_USER_ID_ALREADY_LINKED"==e.errorMessage?(e.code="credential-already-in-use",t=Ko(e)):"EMAIL_EXISTS"==e.errorMessage?(e.code="email-already-in-use",t=Ko(e)):e.errorMessage&&(t=iu(e.errorMessage)),t)throw t;ds(e)}function _s(e,t){return t.returnIdpCredential=!0,ru(e,Ys,t)}function ws(e,t){return t.returnIdpCredential=!0,ru(e,$s,t)}function Es(e,t){return t.returnIdpCredential=!0,t.autoCreate=!1,ru(e,Qs,t)}function Ss(e){if(!e.oobCode)throw new k("invalid-action-code")}(n=$a.prototype).Eb=function(e,t){var n={idToken:e},r=[];return pe(gs,function(e,i){var o=t[i];null===o?r.push(e):i in t&&(n[i]=o)}),r.length&&(n.deleteAttribute=r),ru(this,qs,n)},n.wb=function(e,t){return me(e={requestType:"PASSWORD_RESET",email:e},t),ru(this,Us,e)},n.xb=function(e,t){return me(e={requestType:"EMAIL_SIGNIN",email:e},t),ru(this,Ls,e)},n.vb=function(e,t){return me(e={requestType:"VERIFY_EMAIL",idToken:e},t),ru(this,Ds,e)},n.Fb=function(e,t,n){return me(e={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:e,newEmail:t},n),ru(this,js,e)},n.gb=function(e){return ru(this,Zs,e)},n.ob=function(e,t){return ru(this,Bs,{oobCode:e,newPassword:t})},n.Sa=function(e){return ru(this,Os,{oobCode:e})},n.kb=function(e){return ru(this,Cs,{oobCode:e})};var Cs={endpoint:"setAccountInfo",A:Ss,Z:"email",B:!0},Os={endpoint:"resetPassword",A:Ss,G:function(e){var t=e.requestType;if(!t||!e.email&&"EMAIL_SIGNIN"!=t&&"VERIFY_AND_CHANGE_EMAIL"!=t)throw new k("internal-error")},B:!0},Ts={endpoint:"signupNewUser",A:function(e){if(hs(e),!e.password)throw new k("weak-password")},G:ds,V:!0,B:!0},ks={endpoint:"createAuthUri",B:!0},Is={endpoint:"deleteAccount",O:["idToken"]},As={endpoint:"setAccountInfo",O:["idToken","deleteProvider"],A:function(e){if(!Array.isArray(e.deleteProvider))throw new k("internal-error")}},Ns={endpoint:"emailLinkSignin",O:["email","oobCode"],A:hs,G:ds,V:!0,B:!0},Rs={endpoint:"emailLinkSignin",O:["idToken","email","oobCode"],A:hs,G:ds,V:!0},Ps={endpoint:"accounts/mfaEnrollment:finalize",O:["idToken","phoneVerificationInfo"],A:ys,G:ds,B:!0,Na:!0},xs={endpoint:"accounts/mfaSignIn:finalize",O:["mfaPendingCredential","phoneVerificationInfo"],A:ys,G:ds,B:!0,Na:!0},Ms={endpoint:"getAccountInfo"},Ls={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(e){if("EMAIL_SIGNIN"!=e.requestType)throw new k("internal-error");hs(e)},Z:"email",B:!0},Ds={endpoint:"getOobConfirmationCode",O:["idToken","requestType"],A:function(e){if("VERIFY_EMAIL"!=e.requestType)throw new k("internal-error")},Z:"email",B:!0},js={endpoint:"getOobConfirmationCode",O:["idToken","newEmail","requestType"],A:function(e){if("VERIFY_AND_CHANGE_EMAIL"!=e.requestType)throw new k("internal-error")},Z:"email",B:!0},Us={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(e){if("PASSWORD_RESET"!=e.requestType)throw new k("internal-error");hs(e)},Z:"email",B:!0},Fs={mb:!0,endpoint:"getProjectConfig",Vb:"GET"},Hs={mb:!0,endpoint:"getRecaptchaParam",Vb:"GET",G:function(e){if(!e.recaptchaSiteKey)throw new k("internal-error")}},Bs={endpoint:"resetPassword",A:Ss,Z:"email",B:!0},Vs={endpoint:"sendVerificationCode",O:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},qs={endpoint:"setAccountInfo",O:["idToken"],A:fs,V:!0},Gs={endpoint:"setAccountInfo",O:["idToken"],A:function(e){if(fs(e),!e.password)throw new k("weak-password")},G:ds,V:!0},zs={endpoint:"signupNewUser",G:ds,V:!0,B:!0},Ws={endpoint:"accounts/mfaEnrollment:start",O:["idToken","phoneEnrollmentInfo"],A:function(e){if(!e.phoneEnrollmentInfo)throw new k("internal-error");if(!e.phoneEnrollmentInfo.phoneNumber)throw new k("missing-phone-number");if(!e.phoneEnrollmentInfo.recaptchaToken)throw new k("missing-app-credential")},G:function(e){if(!e.phoneSessionInfo||!e.phoneSessionInfo.sessionInfo)throw new k("internal-error")},B:!0,Na:!0},Ks={endpoint:"accounts/mfaSignIn:start",O:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(e){if(!e.phoneSignInInfo||!e.phoneSignInInfo.recaptchaToken)throw new k("missing-app-credential")},G:function(e){if(!e.phoneResponseInfo||!e.phoneResponseInfo.sessionInfo)throw new k("internal-error")},B:!0,Na:!0},Ys={endpoint:"verifyAssertion",A:vs,Za:ms,G:bs,V:!0,B:!0},Qs={endpoint:"verifyAssertion",A:vs,Za:ms,G:function(e){if(e.errorMessage&&"USER_NOT_FOUND"==e.errorMessage)throw new k("user-not-found");if(e.errorMessage)throw iu(e.errorMessage);ds(e)},V:!0,B:!0},$s={endpoint:"verifyAssertion",A:function(e){if(vs(e),!e.idToken)throw new k("internal-error")},Za:ms,G:bs,V:!0},Xs={endpoint:"verifyCustomToken",A:function(e){if(!e.token)throw new k("invalid-custom-token")},G:ds,V:!0,B:!0},Js={endpoint:"verifyPassword",A:function(e){if(hs(e),!e.password)throw new k("wrong-password")},G:ds,V:!0,B:!0},Zs={endpoint:"verifyPhoneNumber",A:ps,G:ds,B:!0},eu={endpoint:"verifyPhoneNumber",A:function(e){if(!e.idToken)throw new k("internal-error");ps(e)},G:function(e){if(e.temporaryProof)throw e.code="credential-already-in-use",Ko(e);ds(e)}},tu={Ib:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:ps,G:ds,B:!0},nu={endpoint:"accounts/mfaEnrollment:withdraw",O:["idToken","mfaEnrollmentId"],G:function(e){if(!!e[Ja]^!!e.refreshToken)throw new k("internal-error")},B:!0,Na:!0};function ru(e,t,n){if(!function(e,t){if(!t||!t.length)return!0;if(!e)return!1;for(var n=0;n<t.length;n++){var r=e[t[n]];if(void 0===r||null===r||""===r)return!1}return!0}(n,t.O))return Nt(new k("internal-error"));var r,i=!!t.Na,o=t.Vb||"POST";return At(n).then(t.A).then(function(){return t.V&&(n.returnSecureToken=!0),t.B&&e.b&&"undefined"===typeof n.tenantId&&(n.tenantId=e.b),ls(e,i?e.i:e.h,t.endpoint,o,n,t.Ib,t.mb||!1)}).then(function(e){return r=e,t.Za?t.Za(n,r):r}).then(t.G).then(function(){if(!t.Z)return r;if(!(t.Z in r))throw new k("internal-error");return r[t.Z]})}function iu(e){return ou({error:{errors:[{message:e}],code:400,message:e}})}function ou(e,t){var n=(e.error&&e.error.errors&&e.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new k(r[n]):null)return n;for(var i in n=e.error&&e.error.message||"",me(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},t||{}),t=(t=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<t.length?t[1]:void 0,r)if(0===n.indexOf(i))return new k(r[i],t);return!t&&e&&(t=Lr(e)),new k("internal-error",t)}function au(e){this.b=e,this.a=null,this.sb=function(e){return(lu||(lu=new Et(function(e,t){function n(){Hr(),Ar("gapi.load")("gapi.iframes",{callback:e,ontimeout:function(){Hr(),t(Error("Network Error"))},timeout:uu.get()})}if(Ar("gapi.iframes.Iframe"))e();else if(Ar("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();u[r]=function(){Ar("gapi.load")?n():t(Error("Network Error"))},At(qa(r=Ie(su,{onload:r}))).o(function(){t(Error("Network Error"))})}}).o(function(e){throw lu=null,e}))).then(function(){return new Et(function(t,n){Ar("gapi.iframes.getContext")().open({where:document.body,url:e.b,messageHandlersFilter:Ar("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(r){function i(){clearTimeout(o),t()}e.a=r,e.a.restyle({setHideOnLeave:!1});var o=setTimeout(function(){n(Error("Network Error"))},cu.get());r.ping(i).then(i,function(){n(Error("Network Error"))})})})})}(this)}var su=new _e(Ce,"https://apis.google.com/js/api.js?onload=%{onload}"),uu=new Br(3e4,6e4),cu=new Br(5e3,15e3),lu=null;function hu(e,t,n,r){this.l=e,this.h=t,this.i=n,this.g=r,this.f=null,this.g?e=Bn((e=Hn(this.g.url)).c,e.a,e.g,"/emulator/auth/iframe"):e=Bn("https",this.l,null,"/__/auth/iframe"),this.a=e,Un(this.a,"apiKey",this.h),Un(this.a,"appName",this.i),this.b=null,this.c=[]}function fu(e,t,n,r,i,o){this.u=e,this.s=t,this.c=n,this.m=r,this.v=o,this.i=this.g=this.l=null,this.a=i,this.h=this.f=null}function du(e){try{return t.default.app(e).auth().Ga()}catch(n){return[]}}function pu(e,t,n,r,i,o){this.s=e,this.g=t,this.b=n,this.f=o,this.c=r||null,this.i=i||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function gu(e){var t=lr();return function(e){return ru(e,Fs,{}).then(function(e){return e.authorizedDomains||[]})}(e).then(function(e){e:{var n=Hn(t),r=n.c;n=n.a;for(var i=0;i<e.length;i++){var o=e[i],a=n,s=r;if(0==o.indexOf("chrome-extension://")?a=Hn(o).a==a&&"chrome-extension"==s:"http"!=s&&"https"!=s?a=!1:gr.test(o)?a=a==o:(o=o.split(".").join("\\."),a=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)),a){e=!0;break e}}e=!1}if(!e)throw new zo(lr())})}function yu(e){return e.m?e.m:(e.m=vr().then(function(){if(!e.u){var t=e.c,n=e.i,r=du(e.b),i=new hu(e.s,e.g,e.b,e.f);i.f=t,i.b=n,i.c=Z(r||[]),e.u=i.toString()}e.v=new au(e.u),function(e){if(!e.v)throw Error("IfcHandler must be initialized!");!function(e,t){e.sb.then(function(){e.a.register("authEvent",t,Ar("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}(e.v,function(t){var n={};if(t&&t.authEvent){var r=!1;for(t=Bo(t.authEvent),n=0;n<e.h.length;n++)r=e.h[n](t)||r;return(n={}).status=r?"ACK":"ERROR",At(n)}return n.status="ERROR",At(n)})}(e)}),e.m)}function vu(e){return e.l||(e.C=e.c?kr(e.c,du(e.b)):null,e.l=new $a(e.g,x(e.i),e.C),e.f&&is(e.l,e.f)),e.l}function mu(e,t,n,r,i,o,a,s,u,c,l,h){return(e=new fu(e,t,n,r,i,h)).l=o,e.g=a,e.i=s,e.b=ye(u||null),e.f=c,e.zb(l).toString()}function bu(e){if(this.a=e||t.default.INTERNAL.reactNative&&t.default.INTERNAL.reactNative.AsyncStorage,!this.a)throw new k("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function _u(e){this.b=e,this.a={},this.f=E(this.c,this)}hu.prototype.toString=function(){return this.f?Un(this.a,"v",this.f):Zn(this.a.b,"v"),this.b?Un(this.a,"eid",this.b):Zn(this.a.b,"eid"),this.c.length?Un(this.a,"fw",this.c.join(",")):Zn(this.a.b,"fw"),this.a.toString()},fu.prototype.zb=function(e){return this.h=e,this},fu.prototype.toString=function(){if(this.v){var e=Hn(this.v.url);e=Bn(e.c,e.a,e.g,"/emulator/auth/handler")}else e=Bn("https",this.u,null,"/__/auth/handler");if(Un(e,"apiKey",this.s),Un(e,"appName",this.c),Un(e,"authType",this.m),this.a.isOAuthProvider){var n=this.a;try{var r=t.default.app(this.c).auth().la()}catch(u){r=null}for(var i in n.pb=r,Un(e,"providerId",this.a.providerId),n=Dr((r=this.a).Jb))n[i]=n[i].toString();i=r.Qc,n=ye(n);for(var o=0;o<i.length;o++){var a=i[o];a in n&&delete n[a]}r.qb&&r.pb&&!n[r.qb]&&(n[r.qb]=r.pb),ge(n)||Un(e,"customParameters",Lr(n))}if("function"===typeof this.a.Rb&&((r=this.a.Rb()).length&&Un(e,"scopes",r.join(","))),this.l?Un(e,"redirectUrl",this.l):Zn(e.b,"redirectUrl"),this.g?Un(e,"eventId",this.g):Zn(e.b,"eventId"),this.i?Un(e,"v",this.i):Zn(e.b,"v"),this.b)for(var s in this.b)this.b.hasOwnProperty(s)&&!Fn(e,s)&&Un(e,s,this.b[s]);return this.h?Un(e,"tid",this.h):Zn(e.b,"tid"),this.f?Un(e,"eid",this.f):Zn(e.b,"eid"),(s=du(this.c)).length&&Un(e,"fw",s.join(",")),e.toString()},(n=pu.prototype).Pb=function(e,t,n){var r=new k("popup-closed-by-user"),i=new k("web-storage-unsupported"),o=this,a=!1;return this.ma().then(function(){(function(e){var t={type:"webStorageSupport"};return yu(e).then(function(){return function(e,t){return e.sb.then(function(){return new Et(function(n){e.a.send(t.type,t,n,Ar("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}(e.v,t)}).then(function(e){if(e&&e.length&&"undefined"!==typeof e[0].webStorageSupport)return e[0].webStorageSupport;throw Error()})})(o).then(function(n){n||(e&&dr(e),t(i),a=!0)})}).o(function(){}).then(function(){if(!a)return function(e){return new Et(function(t){return function n(){kn(2e3).then(function(){if(e&&!e.closed)return n();t()})}()})}(e)}).then(function(){if(!a)return kn(n).then(function(){t(r)})})},n.Yb=function(){var e=Ir();return!Mr(e)&&!Fr(e)},n.Ub=function(){return!1},n.Nb=function(e,t,n,r,i,o,a,s){if(!e)return Nt(new k("popup-blocked"));if(a&&!Mr())return this.ma().o(function(t){dr(e),i(t)}),r(),At();this.a||(this.a=gu(vu(this)));var u=this;return this.a.then(function(){var t=u.ma().o(function(t){throw dr(e),i(t),t});return r(),t}).then(function(){(Fo(n),a)||hr(mu(u.s,u.g,u.b,t,n,null,o,u.c,void 0,u.i,s,u.f),e)}).o(function(e){throw"auth/network-request-failed"==e.code&&(u.a=null),e})},n.Ob=function(e,t,n,r){this.a||(this.a=gu(vu(this)));var i=this;return this.a.then(function(){Fo(t),hr(mu(i.s,i.g,i.b,e,t,lr(),n,i.c,void 0,i.i,r,i.f))}).o(function(e){throw"auth/network-request-failed"==e.code&&(i.a=null),e})},n.ma=function(){var e=this;return yu(this).then(function(){return e.v.sb}).o(function(){throw e.a=null,new k("network-request-failed")})},n.ac=function(){return!0},n.Ea=function(e){this.h.push(e)},n.Ta=function(e){X(this.h,function(t){return t==e})},(n=bu.prototype).get=function(e){return At(this.a.getItem(e)).then(function(e){return e&&jr(e)})},n.set=function(e,t){return At(this.a.setItem(e,Lr(t)))},n.U=function(e){return At(this.a.removeItem(e))},n.ca=function(){},n.ia=function(){};var wu,Eu=[];function Su(e,t,n){ge(e.a)&&e.b.addEventListener("message",e.f),"undefined"===typeof e.a[t]&&(e.a[t]=[]),e.a[t].push(n)}function Cu(e){this.a=e}function Ou(e){this.c=e,this.b=!1,this.a=[]}function Tu(e,t,n,r){var i,o,a,s,u=n||{},c=null;if(e.b)return Nt(Error("connection_unavailable"));var l=r?800:50,h="undefined"!==typeof MessageChannel?new MessageChannel:null;return new Et(function(n,r){h?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),h.port1.start(),a=setTimeout(function(){r(Error("unsupported_event"))},l),c={messageChannel:h,onMessage:o=function(e){e.data.eventId===i&&("ack"===e.data.status?(clearTimeout(a),s=setTimeout(function(){r(Error("timeout"))},3e3)):"done"===e.data.status?(clearTimeout(s),"undefined"!==typeof e.data.response?n(e.data.response):r(Error("unknown_error"))):(clearTimeout(a),clearTimeout(s),r(Error("invalid_response"))))}},e.a.push(c),h.port1.addEventListener("message",o),e.c.postMessage({eventType:t,eventId:i,data:u},[h.port2])):r(Error("connection_unavailable"))}).then(function(t){return ku(e,c),t}).o(function(t){throw ku(e,c),t})}function ku(e,t){if(t){var n=t.messageChannel,r=t.onMessage;n&&(n.port1.removeEventListener("message",r),n.port1.close()),X(e.a,function(e){return e==t})}}function Iu(){if(!Pu())throw new k("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=u.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var e=this;_r()&&self?(this.v=function(){var e=_r()?self:null;if(z(Eu,function(n){n.b==e&&(t=n)}),!t){var t=new _u(e);Eu.push(t)}return t}(),Su(this.v,"keyChanged",function(t,n){return ju(e).then(function(t){return 0<t.length&&z(e.a,function(e){e(t)}),{keyProcessed:Q(t,n.key)}})}),Su(this.v,"ping",function(){return At(["keyChanged"])})):function(){var e=u.navigator;return e&&e.serviceWorker?At().then(function(){return e.serviceWorker.ready}).then(function(e){return e.active||null}).o(function(){return null}):At(null)}().then(function(t){(e.h=t)&&(e.g=new Ou(new Cu(t)),Tu(e.g,"ping",null,!0).then(function(t){t[0].fulfilled&&Q(t[0].value,"keyChanged")&&(e.s=!0)}).o(function(){}))})}function Au(e){return new Et(function(t,n){var r=e.m.open("firebaseLocalStorageDb",1);r.onerror=function(e){try{e.preventDefault()}catch(t){}n(Error(e.target.error))},r.onupgradeneeded=function(e){e=e.target.result;try{e.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(t){n(t)}},r.onsuccess=function(r){(r=r.target.result).objectStoreNames.contains("firebaseLocalStorage")?t(r):function(e){return new Et(function(t,n){var r=e.m.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){t()},r.onerror=function(e){n(Error(e.target.error))}})}(e).then(function(){return Au(e)}).then(function(e){t(e)}).o(function(e){n(e)})}})}function Nu(e){return e.i||(e.i=Au(e)),e.i}function Ru(e,t){var n=0;return new Et(function r(i,o){Nu(e).then(t).then(i).o(function(t){if(!(3<++n))return Nu(e).then(function(t){return t.close(),e.i=void 0,r(i,o)}).o(function(e){o(e)});o(t)})})}function Pu(){try{return!!u.indexedDB}catch(ua){return!1}}function xu(e){return e.objectStore("firebaseLocalStorage")}function Mu(e,t){return e.transaction(["firebaseLocalStorage"],t?"readwrite":"readonly")}function Lu(e){return new Et(function(t,n){e.onsuccess=function(e){e&&e.target?t(e.target.result):t()},e.onerror=function(e){n(e.target.error)}})}function Du(e,t){return e.g&&e.h&&function(){var e=u.navigator;return e&&e.serviceWorker&&e.serviceWorker.controller||null}()===e.h?Tu(e.g,"keyChanged",{key:t},e.s).then(function(){}).o(function(){}):At()}function ju(e){return Nu(e).then(function(e){var t=xu(Mu(e,!1));return t.getAll?Lu(t.getAll()):new Et(function(e,n){var r=[],i=t.openCursor();i.onsuccess=function(t){(t=t.target.result)?(r.push(t.value),t.continue()):e(r)},i.onerror=function(e){n(e.target.error)}})}).then(function(t){var n={},r=[];if(0==e.b){for(r=0;r<t.length;r++)n[t[r].fbase_key]=t[r].value;r=function e(t,n){var r,i=[];for(r in t)r in n?typeof t[r]!=typeof n[r]?i.push(r):"object"==typeof t[r]&&null!=t[r]&&null!=n[r]?0<e(t[r],n[r]).length&&i.push(r):t[r]!==n[r]&&i.push(r):i.push(r);for(r in n)r in t||i.push(r);return i}(e.c,n),e.c=n}return r})}function Uu(e){e.l&&e.l.cancel("STOP_EVENT"),e.f&&(clearTimeout(e.f),e.f=null)}function Fu(e){var t=this,n=null;this.a=[],this.type="indexedDB",this.c=e,this.b=At().then(function(){if(Pu()){var e=Ur(),r="__sak"+e;return wu||(wu=new Iu),(n=wu).set(r,e).then(function(){return n.get(r)}).then(function(t){if(t!==e)throw Error("indexedDB not supported!");return n.U(r)}).then(function(){return n}).o(function(){return t.c})}return t.c}).then(function(e){return t.type=e.type,e.ca(function(e){z(t.a,function(t){t(e)})}),e})}function Hu(){this.a={},this.type="inMemory"}function Bu(){if(!function(){var e="Node"==wr();if(!(e=Vu()||e&&t.default.INTERNAL.node&&t.default.INTERNAL.node.localStorage))return!1;try{return e.setItem("__sak","1"),e.removeItem("__sak"),!0}catch(n){return!1}}()){if("Node"==wr())throw new k("internal-error","The LocalStorage compatibility library was not found.");throw new k("web-storage-unsupported")}this.a=Vu()||t.default.INTERNAL.node.localStorage,this.type="localStorage"}function Vu(){try{var e=u.localStorage,t=Ur();return e&&(e.setItem(t,"1"),e.removeItem(t)),e}catch(n){return null}}function qu(){this.type="nullStorage"}function Gu(){if(!function(){var e="Node"==wr();if(!(e=zu()||e&&t.default.INTERNAL.node&&t.default.INTERNAL.node.sessionStorage))return!1;try{return e.setItem("__sak","1"),e.removeItem("__sak"),!0}catch(n){return!1}}()){if("Node"==wr())throw new k("internal-error","The SessionStorage compatibility library was not found.");throw new k("web-storage-unsupported")}this.a=zu()||t.default.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function zu(){try{var e=u.sessionStorage,t=Ur();return e&&(e.setItem(t,"1"),e.removeItem(t)),e}catch(n){return null}}function Wu(){var e={};e.Browser=Qu,e.Node=$u,e.ReactNative=Xu,e.Worker=Ju,this.a=e[wr()]}_u.prototype.c=function(e){var t=e.data.eventType,n=e.data.eventId,r=this.a[t];if(r&&0<r.length){e.ports[0].postMessage({status:"ack",eventId:n,eventType:t,response:null});var i=[];z(r,function(t){i.push(At().then(function(){return t(e.origin,e.data.data)}))}),Pt(i).then(function(r){var i=[];z(r,function(e){i.push({fulfilled:e.Qb,value:e.value,reason:e.reason?e.reason.message:void 0})}),z(i,function(e){for(var t in e)"undefined"===typeof e[t]&&delete e[t]}),e.ports[0].postMessage({status:"done",eventId:n,eventType:t,response:i})})}},Cu.prototype.postMessage=function(e,t){this.a.postMessage(e,t)},Ou.prototype.close=function(){for(;0<this.a.length;)ku(this,this.a[0]);this.b=!0},(n=Iu.prototype).set=function(e,t){var n=this,r=!1;return Ru(this,function(t){return Lu((t=xu(Mu(t,!0))).get(e))}).then(function(i){return Ru(n,function(o){if(o=xu(Mu(o,!0)),i)return i.value=t,Lu(o.put(i));n.b++,r=!0;var a={};return a.fbase_key=e,a.value=t,Lu(o.add(a))})}).then(function(){return n.c[e]=t,Du(n,e)}).oa(function(){r&&n.b--})},n.get=function(e){return Ru(this,function(t){return Lu(xu(Mu(t,!1)).get(e))}).then(function(e){return e&&e.value})},n.U=function(e){var t=this,n=!1;return Ru(this,function(r){return n=!0,t.b++,Lu(xu(Mu(r,!0)).delete(e))}).then(function(){return delete t.c[e],Du(t,e)}).oa(function(){n&&t.b--})},n.ca=function(e){0==this.a.length&&function(e){Uu(e),function t(){e.f=setTimeout(function(){e.l=ju(e).then(function(t){0<t.length&&z(e.a,function(e){e(t)})}).then(function(){t()}).o(function(e){"STOP_EVENT"!=e.message&&t()})},800)}()}(this),this.a.push(e)},n.ia=function(e){X(this.a,function(t){return t==e}),0==this.a.length&&Uu(this)},(n=Fu.prototype).get=function(e){return this.b.then(function(t){return t.get(e)})},n.set=function(e,t){return this.b.then(function(n){return n.set(e,t)})},n.U=function(e){return this.b.then(function(t){return t.U(e)})},n.ca=function(e){this.a.push(e)},n.ia=function(e){X(this.a,function(t){return t==e})},(n=Hu.prototype).get=function(e){return At(this.a[e])},n.set=function(e,t){return this.a[e]=t,At()},n.U=function(e){return delete this.a[e],At()},n.ca=function(){},n.ia=function(){},(n=Bu.prototype).get=function(e){var t=this;return At().then(function(){return jr(t.a.getItem(e))})},n.set=function(e,t){var n=this;return At().then(function(){var r=Lr(t);null===r?n.U(e):n.a.setItem(e,r)})},n.U=function(e){var t=this;return At().then(function(){t.a.removeItem(e)})},n.ca=function(e){u.window&&ln(u.window,"storage",e)},n.ia=function(e){u.window&&dn(u.window,"storage",e)},(n=qu.prototype).get=function(){return At(null)},n.set=function(){return At()},n.U=function(){return At()},n.ca=function(){},n.ia=function(){},(n=Gu.prototype).get=function(e){var t=this;return At().then(function(){return jr(t.a.getItem(e))})},n.set=function(e,t){var n=this;return At().then(function(){var r=Lr(t);null===r?n.U(e):n.a.setItem(e,r)})},n.U=function(e){var t=this;return At().then(function(){t.a.removeItem(e)})},n.ca=function(){},n.ia=function(){};var Ku,Yu,Qu={F:Bu,cb:Gu},$u={F:Bu,cb:Gu},Xu={F:bu,cb:qu},Ju={F:Bu,cb:qu},Zu={rd:"local",NONE:"none",td:"session"};function ec(){var e=!(Fr(Ir())||!br()),t=Mr(),n=Nr();this.m=e,this.h=t,this.l=n,this.a={},Ku||(Ku=new Wu),e=Ku;try{this.g=!cr()&&Gr()||!u.indexedDB?new e.a.F:new Fu(_r()?new Hu:new e.a.F)}catch(r){this.g=new Hu,this.h=!0}try{this.i=new e.a.cb}catch(r){this.i=new Hu}this.v=new Hu,this.f=E(this.Zb,this),this.b={}}function tc(){return Yu||(Yu=new ec),Yu}function nc(e,t){switch(t){case"session":return e.i;case"none":return e.v;default:return e.g}}function rc(e,t){return"firebase:"+e.name+(t?":"+t:"")}function ic(e,t,n){return n=rc(t,n),"local"==t.F&&(e.b[n]=null),nc(e,t.F).U(n)}function oc(e){e.c&&(clearInterval(e.c),e.c=null)}function ac(e){this.a=e,this.b=tc()}(n=ec.prototype).get=function(e,t){return nc(this,e.F).get(rc(e,t))},n.set=function(e,t,n){var r=rc(e,n),i=this,o=nc(this,e.F);return o.set(r,t).then(function(){return o.get(r)}).then(function(t){"local"==e.F&&(i.b[r]=t)})},n.addListener=function(e,t,n){e=rc(e,t),this.l&&(this.b[e]=u.localStorage.getItem(e)),ge(this.a)&&(nc(this,"local").ca(this.f),this.h||(cr()||!Gr())&&u.indexedDB||!this.l||function(e){oc(e),e.c=setInterval(function(){for(var t in e.a){var n=u.localStorage.getItem(t),r=e.b[t];n!=r&&(e.b[t]=n,n=new Jt({type:"storage",key:t,target:window,oldValue:r,newValue:n,a:!0}),e.Zb(n))}},1e3)}(this)),this.a[e]||(this.a[e]=[]),this.a[e].push(n)},n.removeListener=function(e,t,n){e=rc(e,t),this.a[e]&&(X(this.a[e],function(e){return e==n}),0==this.a[e].length&&delete this.a[e]),ge(this.a)&&(nc(this,"local").ia(this.f),oc(this))},n.Zb=function(e){if(e&&e.g){var t=e.a.key;if(null==t)for(var n in this.a){var r=this.b[n];"undefined"===typeof r&&(r=null);var i=u.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.nb(n))}else if(0==t.indexOf("firebase:")&&this.a[t]){if("undefined"!==typeof e.a.a?nc(this,"local").ia(this.f):oc(this),this.m)if(n=u.localStorage.getItem(t),(r=e.a.newValue)!==n)null!==r?u.localStorage.setItem(t,r):u.localStorage.removeItem(t);else if(this.b[t]===r&&"undefined"===typeof e.a.a)return;var o=this;n=function(){"undefined"===typeof e.a.a&&o.b[t]===u.localStorage.getItem(t)||(o.b[t]=u.localStorage.getItem(t),o.nb(t))},Qe&&ut&&10==ut&&u.localStorage.getItem(t)!==e.a.newValue&&e.a.newValue!==e.a.oldValue?setTimeout(n,10):n()}}else z(e,E(this.nb,this))},n.nb=function(e){this.a[e]&&z(this.a[e],function(e){e()})};var sc,uc={name:"authEvent",F:"local"};function cc(){this.a=tc()}function lc(e,t){this.b=hc,this.f=u.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=e,this.h=t,this.l=u.Int32Array?new Int32Array(64):Array(64),void 0===sc&&(sc=u.Int32Array?new Int32Array(mc):mc),this.reset()}O(lc,function(){this.b=-1});for(var hc=64,fc=hc-1,dc=[],pc=0;pc<fc;pc++)dc[pc]=0;var gc=J(128,dc);function yc(e){for(var t=e.f,n=e.l,r=0,i=0;i<t.length;)n[r++]=t[i]<<24|t[i+1]<<16|t[i+2]<<8|t[i+3],i=4*r;for(t=16;64>t;t++){i=0|n[t-15],r=0|n[t-2];var o=(0|n[t-16])+((i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,a=(0|n[t-7])+((r>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[t]=o+a|0}r=0|e.a[0],i=0|e.a[1];var s=0|e.a[2],u=0|e.a[3],c=0|e.a[4],l=0|e.a[5],h=0|e.a[6];for(o=0|e.a[7],t=0;64>t;t++){var f=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&s^i&s)|0;a=(o=o+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0)+((a=(a=c&l^~c&h)+(0|sc[t])|0)+(0|n[t])|0)|0,o=h,h=l,l=c,c=u+a|0,u=s,s=i,i=r,r=a+f|0}e.a[0]=e.a[0]+r|0,e.a[1]=e.a[1]+i|0,e.a[2]=e.a[2]+s|0,e.a[3]=e.a[3]+u|0,e.a[4]=e.a[4]+c|0,e.a[5]=e.a[5]+l|0,e.a[6]=e.a[6]+h|0,e.a[7]=e.a[7]+o|0}function vc(e,t,n){void 0===n&&(n=t.length);var r=0,i=e.c;if("string"===typeof t)for(;r<n;)e.f[i++]=t.charCodeAt(r++),i==e.b&&(yc(e),i=0);else{if(!p(t))throw Error("message must be string or array");for(;r<n;){var o=t[r++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");e.f[i++]=o,i==e.b&&(yc(e),i=0)}}e.c=i,e.g+=n}lc.prototype.reset=function(){this.g=this.c=0,this.a=u.Int32Array?new Int32Array(this.h):Z(this.h)};var mc=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function bc(){lc.call(this,8,_c)}O(bc,lc);var _c=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function wc(e,t,n,r,i,o){this.v=e,this.i=t,this.l=n,this.m=r||null,this.u=i||null,this.s=o,this.h=t+":"+n,this.C=new cc,this.g=new ac(this.h),this.f=null,this.b=[],this.a=this.c=null}function Ec(e){return new k("invalid-cordova-configuration",e)}function Sc(e){var t=new bc;vc(t,e),e=[];var n=8*t.g;56>t.c?vc(t,gc,56-t.c):vc(t,gc,t.b-(t.c-56));for(var r=63;56<=r;r--)t.f[r]=255&n,n/=256;for(yc(t),r=n=0;r<t.i;r++)for(var i=24;0<=i;i-=8)e[n++]=t.a[r]>>i&255;return function(e){return K(e,function(e){return 1<(e=e.toString(16)).length?e:"0"+e}).join("")}(e)}function Cc(e,t){for(var n=0;n<e.b.length;n++)try{e.b[n](t)}catch(r){}}function Oc(e){return e.f||(e.f=e.ma().then(function(){return new Et(function(t){e.Ea(function n(r){return t(r),e.Ta(n),!1}),function(e){function t(t){r=!0,i&&i.cancel(),Tc(e).then(function(r){var i=n;if(r&&t&&t.url){var o=null;-1!=(i=io(t.url)).indexOf("/__/auth/callback")&&(o=(o="object"===typeof(o=jr(Fn(o=Hn(i),"firebaseError")||null))?I(o):null)?new Ho(r.c,r.b,null,null,o,null,r.T()):new Ho(r.c,r.b,i,r.f,null,null,r.T())),i=o||n}Cc(e,i)})}var n=new Ho("unknown",null,null,null,new k("no-auth-event")),r=!1,i=kn(500).then(function(){return Tc(e).then(function(){r||Cc(e,n)})}),o=u.handleOpenURL;u.handleOpenURL=function(e){if(0==e.toLowerCase().indexOf(Ar("BuildInfo.packageName",u).toLowerCase()+"://")&&t({url:e}),"function"===typeof o)try{o(e)}catch(n){console.error(n)}},Go||(Go=new Vo),function(e){var t=Go;t.a.push(e),t.b||(t.b=function(e){for(var n=0;n<t.a.length;n++)t.a[n](e)},"function"===typeof(e=Ar("universalLinks.subscribe",u))&&e(null,t.b))}(t)}(e)})})),e.f}function Tc(e){var t=null;return function(e){return e.b.get(uc,e.a).then(function(e){return Bo(e)})}(e.g).then(function(n){return t=n,ic((n=e.g).b,uc,n.a)}).then(function(){return t})}function kc(e){this.a=e,this.b=tc()}(n=wc.prototype).ma=function(){return this.Ia?this.Ia:this.Ia=(mr(void 0)?vr().then(function(){return new Et(function(e,t){var n=u.document,r=setTimeout(function(){t(Error("Cordova framework is not ready."))},1e3);n.addEventListener("deviceready",function(){clearTimeout(r),e()},!1)})}):Nt(Error("Cordova must run in an Android or iOS file scheme."))).then(function(){if("function"!==typeof Ar("universalLinks.subscribe",u))throw Ec("cordova-universal-links-plugin-fix is not installed");if("undefined"===typeof Ar("BuildInfo.packageName",u))throw Ec("cordova-plugin-buildinfo is not installed");if("function"!==typeof Ar("cordova.plugins.browsertab.openUrl",u))throw Ec("cordova-plugin-browsertab is not installed");if("function"!==typeof Ar("cordova.InAppBrowser.open",u))throw Ec("cordova-plugin-inappbrowser is not installed")},function(){throw new k("cordova-not-ready")})},n.Pb=function(e,t){return t(new k("operation-not-supported-in-this-environment")),At()},n.Nb=function(){return Nt(new k("operation-not-supported-in-this-environment"))},n.ac=function(){return!1},n.Yb=function(){return!0},n.Ub=function(){return!0},n.Ob=function(e,t,n,r){if(this.c)return Nt(new k("redirect-operation-pending"));var i=this,o=u.document,a=null,s=null,c=null,l=null;return this.c=At().then(function(){return Fo(t),Oc(i)}).then(function(){return function(e,t,n,r,i){var o=function(){for(var e=20,t=[];0<e;)t.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),e--;return t.join("")}(),a=new Ho(t,r,null,o,new k("no-auth-event"),null,i),s=Ar("BuildInfo.packageName",u);if("string"!==typeof s)throw new k("invalid-cordova-configuration");var c=Ar("BuildInfo.displayName",u),l={};if(Ir().toLowerCase().match(/iphone|ipad|ipod/))l.ibi=s;else{if(!Ir().toLowerCase().match(/android/))return Nt(new k("operation-not-supported-in-this-environment"));l.apn=s}c&&(l.appDisplayName=c),o=Sc(o),l.sessionId=o;var h=mu(e.v,e.i,e.l,t,n,null,r,e.m,l,e.u,i,e.s);return e.ma().then(function(){var t=e.h;return e.C.a.set(uc,a.w(),t)}).then(function(){var t=Ar("cordova.plugins.browsertab.isAvailable",u);if("function"!==typeof t)throw new k("invalid-cordova-configuration");var n=null;t(function(t){if(t){if("function"!==typeof(n=Ar("cordova.plugins.browsertab.openUrl",u)))throw new k("invalid-cordova-configuration");n(h)}else{if("function"!==typeof(n=Ar("cordova.InAppBrowser.open",u)))throw new k("invalid-cordova-configuration");t=Ir(),e.a=n(h,t.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||t.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}})})}(i,e,t,n,r)}).then(function(){return new Et(function(e,t){s=function(){var t=Ar("cordova.plugins.browsertab.close",u);return e(),"function"===typeof t&&t(),i.a&&"function"===typeof i.a.close&&(i.a.close(),i.a=null),!1},i.Ea(s),c=function(){a||(a=kn(2e3).then(function(){t(new k("redirect-cancelled-by-user"))}))},l=function(){Vr()&&c()},o.addEventListener("resume",c,!1),Ir().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",l,!1)}).o(function(e){return Tc(i).then(function(){throw e})})}).oa(function(){c&&o.removeEventListener("resume",c,!1),l&&o.removeEventListener("visibilitychange",l,!1),a&&a.cancel(),s&&i.Ta(s),i.c=null})},n.Ea=function(e){this.b.push(e),Oc(this).o(function(t){"auth/invalid-cordova-configuration"===t.code&&(t=new Ho("unknown",null,null,null,new k("no-auth-event")),e(t))})},n.Ta=function(e){X(this.b,function(t){return t==e})};var Ic={name:"pendingRedirect",F:"session"};function Ac(e){return ic(e.b,Ic,e.a)}function Nc(e,t,n,r){this.i={},this.u=0,this.D=e,this.v=t,this.m=n,this.J=r,this.h=[],this.f=!1,this.l=E(this.s,this),this.b=new zc,this.C=new $c,this.g=new kc(qc(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=Rc(this.D,this.v,this.m,A,this.J)}function Rc(e,n,r,i,o){var a=t.default.SDK_VERSION||null;return mr()?new wc(e,n,r,a,i,o):new pu(e,n,r,a,i,o)}function Pc(e){e.f||(e.f=!0,e.a.Ea(e.l));var t=e.a;return e.a.ma().o(function(n){throw e.a==t&&e.reset(),n})}function xc(e){e.a.Yb()&&Pc(e).o(function(t){var n=new Ho("unknown",null,null,null,new k("operation-not-supported-in-this-environment"));Fc(t)&&e.s(n)}),e.a.Ub()||Wc(e.b)}function Mc(e,t){Q(e.h,t)||e.h.push(t),e.f||function(e){return e.b.get(Ic,e.a).then(function(e){return"pending"==e})}(e.g).then(function(t){t?Ac(e.g).then(function(){Pc(e).o(function(t){var n=new Ho("unknown",null,null,null,new k("operation-not-supported-in-this-environment"));Fc(t)&&e.s(n)})}):xc(e)}).o(function(){xc(e)})}function Lc(e,t){X(e.h,function(e){return e==t})}Nc.prototype.reset=function(){this.f=!1,this.a.Ta(this.l),this.a=Rc(this.D,this.v,this.m,null,this.J),this.i={}},Nc.prototype.s=function(e){if(!e)throw new k("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),e&&e.getUid()&&this.i.hasOwnProperty(e.getUid()))return!1;for(var t=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.Gb(e.c,e.b)){(t=this.c[e.c])&&(t.h(e,r),e&&(e.f||e.b)&&(this.i[e.getUid()]=!0,this.u=Date.now())),t=!0;break}}return Wc(this.b),t};var Dc=new Br(2e3,1e4),jc=new Br(3e4,6e4);function Uc(e,t,n,r,i,o,a){return e.a.Nb(t,n,r,function(){e.f||(e.f=!0,e.a.Ea(e.l))},function(){e.reset()},i,o,a)}function Fc(e){return!(!e||"auth/cordova-not-ready"!=e.code)}function Hc(e,t,n,r,i){var o;return function(e){return e.b.set(Ic,"pending",e.a)}(e.g).then(function(){return e.a.Ob(t,n,r,i).o(function(t){if(Fc(t))throw new k("operation-not-supported-in-this-environment");return o=t,Ac(e.g).then(function(){throw o})}).then(function(){return e.a.ac()?new Et(function(){}):Ac(e.g).then(function(){return e.ra()}).then(function(){}).o(function(){})})})}function Bc(e,t,n,r,i){return e.a.Pb(r,function(e){t.na(n,null,e,i)},Dc.get())}Nc.prototype.ra=function(){return this.b.ra()};var Vc={};function qc(e,t,n){return e=e+":"+t,n&&(e=e+":"+n.url),e}function Gc(e,t,n,r){var i=qc(t,n,r);return Vc[i]||(Vc[i]=new Nc(e,t,n,r)),Vc[i]}function zc(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function Wc(e){e.g||(e.g=!0,Qc(e,!1,null,null))}function Kc(e){e.g&&!e.i&&Qc(e,!1,null,null)}function Yc(e,t){if(e.b=function(){return At(t)},e.f.length)for(var n=0;n<e.f.length;n++)e.f[n](t)}function Qc(e,t,n,r){t?r?function(e,t){if(e.b=function(){return Nt(t)},e.c.length)for(var n=0;n<e.c.length;n++)e.c[n](t)}(e,r):Yc(e,n):Yc(e,{user:null}),e.f=[],e.c=[]}function $c(){}function Xc(){this.jb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.jb},set:function(e){this.jb=e},enumerable:!1})}function Jc(e,t){this.a=t,Qr(this,"verificationId",e)}function Zc(e,t,n,r){return new Do(e).gb(t,n).then(function(e){return new Jc(e,r)})}function el(e){var t=Gi(e);if(!(t&&t.exp&&t.auth_time&&t.iat))throw new k("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");$r(this,{token:e,expirationTime:qr(1e3*t.exp),authTime:qr(1e3*t.auth_time),issuedAtTime:qr(1e3*t.iat),signInProvider:t.firebase&&t.firebase.sign_in_provider?t.firebase.sign_in_provider:null,signInSecondFactor:t.firebase&&t.firebase.sign_in_second_factor?t.firebase.sign_in_second_factor:null,claims:t})}function tl(e,t,n){var r=t&&t[rl];if(!r)throw new k("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=e,this.f=ye(t),this.g=n,this.c=new oo(null,r),this.b=[];var i=this;z(t[nl]||[],function(e){(e=ei(e))&&i.b.push(e)}),Qr(this,"auth",this.a),Qr(this,"session",this.c),Qr(this,"hints",this.b)}zc.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},zc.prototype.h=function(e,t){if(e){this.reset(),this.g=!0;var n=e.c,r=e.b,i=e.a&&"auth/web-storage-unsupported"==e.a.code,o=e.a&&"auth/operation-not-supported-in-this-environment"==e.a.code;this.i=!(!i&&!o),"unknown"!=n||i||o?e.a?(Qc(this,!0,null,e.a),At()):t.Fa(n,r)?function(e,t,n){n=n.Fa(t.c,t.b);var r=t.g,i=t.f,o=t.i,a=t.T(),s=!!t.c.match(/Redirect$/);n(r,i,a,o).then(function(t){Qc(e,s,t,null)}).o(function(t){Qc(e,s,null,t)})}(this,e,t):Nt(new k("invalid-auth-event")):(Qc(this,!1,null,null),At())}else Nt(new k("invalid-auth-event"))},zc.prototype.ra=function(){var e=this;return new Et(function(t,n){e.b?e.b().then(t,n):(e.f.push(t),e.c.push(n),function(e){var t=new k("timeout");e.a&&e.a.cancel(),e.a=kn(jc.get()).then(function(){e.b||(e.g=!0,Qc(e,!0,null,t))})}(e))})},$c.prototype.h=function(e,t){if(e){var n=e.c,r=e.b;e.a?(t.na(e.c,null,e.a,e.b),At()):t.Fa(n,r)?function(e,t){var n=e.b,r=e.c;t.Fa(r,n)(e.g,e.f,e.T(),e.i).then(function(e){t.na(r,e,null,n)}).o(function(e){t.na(r,null,e,n)})}(e,t):Nt(new k("invalid-auth-event"))}else Nt(new k("invalid-auth-event"))},Jc.prototype.confirm=function(e){return e=jo(this.verificationId,e),this.a(e)};var nl="mfaInfo",rl="mfaPendingCredential";function il(e,t,n,r){k.call(this,"multi-factor-auth-required",r,t),this.b=new tl(e,t,n),Qr(this,"resolver",this.b)}function ol(e,t,n){if(e&&y(e.serverResponse)&&"auth/multi-factor-auth-required"===e.code)try{return new il(t,e.serverResponse,n,e.message)}catch(r){}return null}function al(){}function sl(e){Qr(this,"factorId",e.fa),this.a=e}function ul(e){if(sl.call(this,e),this.a.fa!=Do.PROVIDER_ID)throw new k("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function cl(e,t){for(var n in Xt.call(this,e),t)this[n]=t[n]}function ll(e,t){this.a=e,this.b=[],this.c=E(this.yc,this),ln(this.a,"userReloaded",this.c);var n=[];t&&t.multiFactor&&t.multiFactor.enrolledFactors&&z(t.multiFactor.enrolledFactors,function(e){var t=null,r={};if(e){e.uid&&(r[ri]=e.uid),e.displayName&&(r[ti]=e.displayName),e.enrollmentTime&&(r[ni]=new Date(e.enrollmentTime).toISOString()),e.phoneNumber&&(r[ii]=e.phoneNumber);try{t=new oi(r)}catch(i){}e=t}else e=null;e&&n.push(e)}),hl(this,n)}function hl(e,t){e.b=t,Qr(e,"enrolledFactors",t)}function fl(e,t,n){if(this.h=e,this.i=t,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function dl(e){this.f=e,this.b=this.a=null,this.c=Date.now()}function pl(e,t){"undefined"===typeof t&&(e.b?t=(t=e.b).a-t.g:t=0),e.c=Date.now()+1e3*t}function gl(e,t){e.b=qi(t[Ja]||""),e.a=t.refreshToken,pl(e,"undefined"!==typeof(t=t.expiresIn)?Number(t):void 0)}function yl(e,t){return function(e,t){return new Et(function(n,r){"refresh_token"==t.grant_type&&t.refresh_token||"authorization_code"==t.grant_type&&t.code?ss(e,e.l+"?key="+encodeURIComponent(e.c),function(e){e?e.error?r(ou(e)):e.access_token&&e.refresh_token?n(e):r(new k("internal-error")):r(new k("network-request-failed"))},"POST",Jn(t).toString(),e.g,e.m.get()):r(new k("internal-error"))})}(e.f,t).then(function(t){return e.b=qi(t.access_token),e.a=t.refresh_token,pl(e,t.expires_in),{accessToken:e.b.toString(),refreshToken:e.a}}).o(function(t){throw"auth/user-token-expired"==t.code&&(e.a=null),t})}function vl(e,t){this.a=e||null,this.b=t||null,$r(this,{lastSignInTime:qr(t||null),creationTime:qr(e||null)})}function ml(e,t,n,r,i,o){$r(this,{uid:e,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:t})}function bl(e,n,r){this.N=[],this.l=e.apiKey,this.m=e.appName,this.s=e.authDomain||null;var i=t.default.SDK_VERSION?kr(t.default.SDK_VERSION):null;this.a=new $a(this.l,x(A),i),(this.u=e.emulatorConfig||null)&&is(this.a,this.u),this.h=new dl(this.a),Il(this,n[Ja]),gl(this.h,n),Qr(this,"refreshToken",this.h.a),Rl(this,r||{}),En.call(this),this.P=!1,this.s&&Rr()&&(this.b=Gc(this.s,this.l,this.m,this.u)),this.W=[],this.i=null,this.D=function(e){return new fl(function(){return e.I(!0)},function(e){return!(!e||"auth/network-request-failed"!=e.code)},function(){var t=e.h.c-Date.now()-3e5;return 0<t?t:0})}(this),this.ba=E(this.ib,this);var o=this;this.za=null,this.Pa=function(e){o.xa(e.h)},this.qa=null,this.Ba=function(e){_l(o,e.c)},this.$=null,this.aa=[],this.Oa=function(e){Sl(o,e.f)},this.ja=null,this.S=new ll(this,r),Qr(this,"multiFactor",this.S)}function _l(e,t){e.u=t,is(e.a,t),e.b&&(t=e.b,e.b=Gc(e.s,e.l,e.m,e.u),e.P&&(Lc(t,e),Mc(e.b,e)))}function wl(e,t){e.qa&&dn(e.qa,"languageCodeChanged",e.Pa),(e.qa=t)&&ln(t,"languageCodeChanged",e.Pa)}function El(e,t){e.$&&dn(e.$,"emulatorConfigChanged",e.Ba),(e.$=t)&&ln(t,"emulatorConfigChanged",e.Ba)}function Sl(e,n){e.aa=n,as(e.a,t.default.SDK_VERSION?kr(t.default.SDK_VERSION,e.aa):null)}function Cl(e,t){e.ja&&dn(e.ja,"frameworkChanged",e.Oa),(e.ja=t)&&ln(t,"frameworkChanged",e.Oa)}function Ol(e){try{return t.default.app(e.m).auth()}catch(n){throw new k("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+e.m+"'!")}}function Tl(e){e.J||e.D.b||(e.D.start(),dn(e,"tokenChanged",e.ba),ln(e,"tokenChanged",e.ba))}function kl(e){dn(e,"tokenChanged",e.ba),e.D.stop()}function Il(e,t){e.Aa=t,Qr(e,"_lat",t)}function Al(e){for(var t=[],n=0;n<e.W.length;n++)t.push(e.W[n](e));return Pt(t).then(function(){return e})}function Nl(e){e.b&&!e.P&&(e.P=!0,Mc(e.b,e))}function Rl(e,t){$r(e,{uid:t.uid,displayName:t.displayName||null,photoURL:t.photoURL||null,email:t.email||null,emailVerified:t.emailVerified||!1,phoneNumber:t.phoneNumber||null,isAnonymous:t.isAnonymous||!1,tenantId:t.tenantId||null,metadata:new vl(t.createdAt,t.lastLoginAt),providerData:[]}),e.a.b=e.tenantId}function Pl(){}function xl(e){return At().then(function(){if(e.J)throw new k("app-deleted")})}function Ml(e){return K(e.providerData,function(e){return e.providerId})}function Ll(e,t){t&&(Dl(e,t.providerId),e.providerData.push(t))}function Dl(e,t){X(e.providerData,function(e){return e.providerId==t})}function jl(e,t,n){("uid"!=t||n)&&e.hasOwnProperty(t)&&Qr(e,t,n)}function Ul(e,t){e!=t&&($r(e,{uid:t.uid,displayName:t.displayName,photoURL:t.photoURL,email:t.email,emailVerified:t.emailVerified,phoneNumber:t.phoneNumber,isAnonymous:t.isAnonymous,tenantId:t.tenantId,providerData:[]}),t.metadata?Qr(e,"metadata",function(e){return new vl(e.a,e.b)}(t.metadata)):Qr(e,"metadata",new vl),z(t.providerData,function(t){Ll(e,t)}),function(e,t){e.b=t.b,e.a=t.a,e.c=t.c}(e.h,t.h),Qr(e,"refreshToken",e.h.a),hl(e.S,t.S.b))}function Fl(e){return e.I().then(function(t){var n=e.isAnonymous;return function(e,t){return ru(e.a,Ms,{idToken:t}).then(E(e.Kc,e))}(e,t).then(function(){return n||jl(e,"isAnonymous",!1),t})})}function Hl(e,t){t[Ja]&&e.Aa!=t[Ja]&&(gl(e.h,t),e.dispatchEvent(new cl("tokenChanged")),Il(e,t[Ja]),jl(e,"refreshToken",e.h.a))}function Bl(e,t){return Fl(e).then(function(){if(Q(Ml(e),t))return Al(e).then(function(){throw new k("provider-already-linked")})})}function Vl(e,t,n){return Xr({user:e,credential:Uo(t),additionalUserInfo:t=Qi(t),operationType:n})}function ql(e,t){return Hl(e,t),e.reload().then(function(){return e})}function Gl(e,n,r,i,o){if(!Rr())return Nt(new k("operation-not-supported-in-this-environment"));if(e.i&&!o)return Nt(e.i);var a=Yi(r.providerId),s=Ur(e.uid+":::"),u=null;(!Mr()||br())&&e.s&&r.isOAuthProvider&&(u=mu(e.s,e.l,e.m,n,r,null,s,t.default.SDK_VERSION||null,null,null,e.tenantId,e.u));var c=pr(u,a&&a.va,a&&a.ua);return i=i().then(function(){if(Wl(e),!o)return e.I().then(function(){})}).then(function(){return Uc(e.b,c,n,r,s,!!u,e.tenantId)}).then(function(){return new Et(function(t,r){e.na(n,null,new k("cancelled-popup-request"),e.g||null),e.f=t,e.C=r,e.g=s,e.c=Bc(e.b,e,n,c,s)})}).then(function(e){return c&&dr(c),e?Xr(e):null}).o(function(e){throw c&&dr(c),e}),Kl(e,i,o)}function zl(e,t,n,r,i){if(!Rr())return Nt(new k("operation-not-supported-in-this-environment"));if(e.i&&!i)return Nt(e.i);var o=null,a=Ur(e.uid+":::");return r=r().then(function(){if(Wl(e),!i)return e.I().then(function(){})}).then(function(){return e.ga=a,Al(e)}).then(function(t){return e.ha&&(t=(t=e.ha).b.set($l,e.w(),t.a)),t}).then(function(){return Hc(e.b,t,n,a,e.tenantId)}).o(function(t){if(o=t,e.ha)return Xl(e.ha);throw o}).then(function(){if(o)throw o}),Kl(e,r,i)}function Wl(e){if(!e.b||!e.P){if(e.b&&!e.P)throw new k("internal-error");throw new k("auth-domain-config-required")}}function Kl(e,t,n){var r=function(e,t,n){return e.i&&!n?(t.cancel(),Nt(e.i)):t.o(function(t){throw!t||"auth/user-disabled"!=t.code&&"auth/user-token-expired"!=t.code||(e.i||e.dispatchEvent(new cl("userInvalidated")),e.i=t),t})}(e,t,n);return e.N.push(r),r.oa(function(){$(e.N,r)}),r.o(function(t){var n=null;throw t&&"auth/multi-factor-auth-required"===t.code&&(n=ol(t.w(),Ol(e),E(e.jc,e))),n||t})}function Yl(e){if(!e.apiKey)return null;var t={apiKey:e.apiKey,authDomain:e.authDomain,appName:e.appName,emulatorConfig:e.emulatorConfig},n={};if(!e.stsTokenManager||!e.stsTokenManager.accessToken)return null;n[Ja]=e.stsTokenManager.accessToken,n.refreshToken=e.stsTokenManager.refreshToken||null;var r=e.stsTokenManager.expirationTime;r&&(n.expiresIn=(r-Date.now())/1e3);var i=new bl(t,n,e);return e.providerData&&z(e.providerData,function(e){e&&Ll(i,Xr(e))}),e.redirectEventId&&(i.ga=e.redirectEventId),i}function Ql(e){this.a=e,this.b=tc()}tl.prototype.Rc=function(e){var t=this;return e.tb(this.a.a,this.c).then(function(e){var n=ye(t.f);return delete n[nl],delete n[rl],me(n,e),t.g(n)})},O(il,k),al.prototype.tb=function(e,t,n){return t.type==ao?function(e,t,n,r){return n.Ha().then(function(n){return n={idToken:n},"undefined"!==typeof r&&(n.displayName=r),me(n,{phoneVerificationInfo:Lo(e.a)}),ru(t,Ps,n)})}(this,e,t,n):function(e,t,n){return n.Ha().then(function(n){return me(n={mfaPendingCredential:n},{phoneVerificationInfo:Lo(e.a)}),ru(t,xs,n)})}(this,e,t)},O(sl,al),O(ul,sl),O(cl,Xt),(n=ll.prototype).yc=function(e){hl(this,function(e){var t=[];return z(e.mfaInfo||[],function(e){(e=ei(e))&&t.push(e)}),t}(e.hd))},n.Sb=function(){return this.a.I().then(function(e){return new oo(e,null)})},n.fc=function(e,t){var n=this,r=this.a.a;return this.Sb().then(function(n){return e.tb(r,n,t)}).then(function(e){return Hl(n.a,e),n.a.reload()})},n.bd=function(e){var t=this,n="string"===typeof e?e:e.uid,r=this.a.a;return this.a.I().then(function(e){return ru(r,nu,{idToken:e,mfaEnrollmentId:n})}).then(function(e){var r=W(t.b,function(e){return e.uid!=n});return hl(t,r),Hl(t.a,e),t.a.reload().o(function(e){if("auth/user-token-expired"!=e.code)throw e})})},n.w=function(){return{multiFactor:{enrolledFactors:K(this.b,function(e){return e.w()})}}},fl.prototype.start=function(){this.a=this.c,function e(t,n){t.stop();t.b=kn(function(e,t){return t?(e.a=e.c,e.g()):(t=e.a,e.a*=2,e.a>e.f&&(e.a=e.f),t)}(t,n)).then(function(){return function(){var e=u.document,t=null;return Vr()||!e?At():new Et(function(n){t=function(){Vr()&&(e.removeEventListener("visibilitychange",t,!1),n())},e.addEventListener("visibilitychange",t,!1)}).o(function(n){throw e.removeEventListener("visibilitychange",t,!1),n})}()}).then(function(){return t.h()}).then(function(){e(t,!0)}).o(function(n){t.i(n)&&e(t,!1)})}(this,!0)},fl.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},dl.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}},dl.prototype.getToken=function(e){return e=!!e,this.b&&!this.a?Nt(new k("user-token-expired")):e||!this.b||Date.now()>this.c-3e4?this.a?yl(this,{grant_type:"refresh_token",refresh_token:this.a}):At(null):At({accessToken:this.b.toString(),refreshToken:this.a})},vl.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},O(bl,En),bl.prototype.xa=function(e){this.za=e,rs(this.a,e)},bl.prototype.la=function(){return this.za},bl.prototype.Ga=function(){return Z(this.aa)},bl.prototype.ib=function(){this.D.b&&(this.D.stop(),this.D.start())},Qr(bl.prototype,"providerId","firebase"),(n=bl.prototype).reload=function(){var e=this;return Kl(this,xl(this).then(function(){return Fl(e).then(function(){return Al(e)}).then(Pl)}))},n.oc=function(e){return this.I(e).then(function(e){return new el(e)})},n.I=function(e){var t=this;return Kl(this,xl(this).then(function(){return t.h.getToken(e)}).then(function(e){if(!e)throw new k("internal-error");return e.accessToken!=t.Aa&&(Il(t,e.accessToken),t.dispatchEvent(new cl("tokenChanged"))),jl(t,"refreshToken",e.refreshToken),e.accessToken}))},n.Kc=function(e){if(!(e=e.users)||!e.length)throw new k("internal-error");Rl(this,{uid:(e=e[0]).localId,displayName:e.displayName,photoURL:e.photoUrl,email:e.email,emailVerified:!!e.emailVerified,phoneNumber:e.phoneNumber,lastLoginAt:e.lastLoginAt,createdAt:e.createdAt,tenantId:e.tenantId});for(var t=function(e){return(e=e.providerUserInfo)&&e.length?K(e,function(e){return new ml(e.rawId,e.providerId,e.email,e.displayName,e.photoUrl,e.phoneNumber)}):[]}(e),n=0;n<t.length;n++)Ll(this,t[n]);jl(this,"isAnonymous",!(this.email&&e.passwordHash)&&!(this.providerData&&this.providerData.length)),this.dispatchEvent(new cl("userReloaded",{hd:e}))},n.Lc=function(e){return Kr("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.ub(e)},n.ub=function(e){var t=this,n=null;return Kl(this,e.c(this.a,this.uid).then(function(e){return Hl(t,e),n=Vl(t,e,"reauthenticate"),t.i=null,t.reload()}).then(function(){return n}),!0)},n.Cc=function(e){return Kr("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.rb(e)},n.rb=function(e){var t=this,n=null;return Kl(this,Bl(this,e.providerId).then(function(){return t.I()}).then(function(n){return e.b(t.a,n)}).then(function(e){return n=Vl(t,e,"link"),ql(t,e)}).then(function(){return n}))},n.Dc=function(e,t){var n=this;return Kl(this,Bl(this,"phone").then(function(){return Zc(Ol(n),e,t,E(n.rb,n))}))},n.Mc=function(e,t){var n=this;return Kl(this,At().then(function(){return Zc(Ol(n),e,t,E(n.ub,n))}),!0)},n.Cb=function(e){var t=this;return Kl(this,this.I().then(function(n){return t.a.Cb(n,e)}).then(function(e){return Hl(t,e),t.reload()}))},n.ed=function(e){var t=this;return Kl(this,this.I().then(function(n){return e.b(t.a,n)}).then(function(e){return Hl(t,e),t.reload()}))},n.Db=function(e){var t=this;return Kl(this,this.I().then(function(n){return t.a.Db(n,e)}).then(function(e){return Hl(t,e),t.reload()}))},n.Eb=function(e){if(void 0===e.displayName&&void 0===e.photoURL)return xl(this);var t=this;return Kl(this,this.I().then(function(n){return t.a.Eb(n,{displayName:e.displayName,photoUrl:e.photoURL})}).then(function(e){return Hl(t,e),jl(t,"displayName",e.displayName||null),jl(t,"photoURL",e.photoUrl||null),z(t.providerData,function(e){"password"===e.providerId&&(Qr(e,"displayName",t.displayName),Qr(e,"photoURL",t.photoURL))}),Al(t)}).then(Pl))},n.cd=function(e){var t=this;return Kl(this,Fl(this).then(function(n){return Q(Ml(t),e)?function(e,t,n){return ru(e,As,{idToken:t,deleteProvider:n})}(t.a,n,[e]).then(function(e){var n={};return z(e.providerUserInfo||[],function(e){n[e.providerId]=!0}),z(Ml(t),function(e){n[e]||Dl(t,e)}),n[Do.PROVIDER_ID]||Qr(t,"phoneNumber",null),Al(t)}):Al(t).then(function(){throw new k("no-such-provider")})}))},n.delete=function(){var e=this;return Kl(this,this.I().then(function(t){return ru(e.a,Is,{idToken:t})}).then(function(){e.dispatchEvent(new cl("userDeleted"))})).then(function(){for(var t=0;t<e.N.length;t++)e.N[t].cancel("app-deleted");wl(e,null),El(e,null),Cl(e,null),e.N=[],e.J=!0,kl(e),Qr(e,"refreshToken",null),e.b&&Lc(e.b,e)})},n.Gb=function(e,t){return!!("linkViaPopup"==e&&(this.g||null)==t&&this.f||"reauthViaPopup"==e&&(this.g||null)==t&&this.f||"linkViaRedirect"==e&&(this.ga||null)==t||"reauthViaRedirect"==e&&(this.ga||null)==t)},n.na=function(e,t,n,r){"linkViaPopup"!=e&&"reauthViaPopup"!=e||r!=(this.g||null)||(n&&this.C?this.C(n):t&&!n&&this.f&&this.f(t),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},n.Fa=function(e,t){return"linkViaPopup"==e&&t==(this.g||null)?E(this.Lb,this):"reauthViaPopup"==e&&t==(this.g||null)?E(this.Mb,this):"linkViaRedirect"==e&&(this.ga||null)==t?E(this.Lb,this):"reauthViaRedirect"==e&&(this.ga||null)==t?E(this.Mb,this):null},n.Ec=function(e){var t=this;return Gl(this,"linkViaPopup",e,function(){return Bl(t,e.providerId).then(function(){return Al(t)})},!1)},n.Nc=function(e){return Gl(this,"reauthViaPopup",e,function(){return At()},!0)},n.Fc=function(e){var t=this;return zl(this,"linkViaRedirect",e,function(){return Bl(t,e.providerId)},!1)},n.Oc=function(e){return zl(this,"reauthViaRedirect",e,function(){return At()},!0)},n.Lb=function(e,t,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Kl(this,this.I().then(function(n){return ws(i.a,{requestUri:e,postBody:r,sessionId:t,idToken:n})}).then(function(e){return o=Vl(i,e,"link"),ql(i,e)}).then(function(){return o}))},n.Mb=function(e,t,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Kl(this,At().then(function(){return co(Es(i.a,{requestUri:e,sessionId:t,postBody:r,tenantId:n}),i.uid)}).then(function(e){return o=Vl(i,e,"reauthenticate"),Hl(i,e),i.i=null,i.reload()}).then(function(){return o}),!0)},n.vb=function(e){var t=this,n=null;return Kl(this,this.I().then(function(t){return n=t,"undefined"===typeof e||ge(e)?{}:Fi(new Ai(e))}).then(function(e){return t.a.vb(n,e)}).then(function(e){if(t.email!=e)return t.reload()}).then(function(){}))},n.Fb=function(e,t){var n=this,r=null;return Kl(this,this.I().then(function(e){return r=e,"undefined"===typeof t||ge(t)?{}:Fi(new Ai(t))}).then(function(t){return n.a.Fb(r,e,t)}).then(function(e){if(n.email!=e)return n.reload()}).then(function(){}))},n.jc=function(e){var t=null,n=this;return Kl(this,e=co(At(e),n.uid).then(function(e){return t=Vl(n,e,"reauthenticate"),Hl(n,e),n.i=null,n.reload()}).then(function(){return t}),!0)},n.toJSON=function(){return this.w()},n.w=function(){var e={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.h.w(),redirectEventId:this.ga||null};return this.metadata&&me(e,this.metadata.w()),z(this.providerData,function(t){e.providerData.push(function(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}(t))}),me(e,this.S.w()),e};var $l={name:"redirectUser",F:"session"};function Xl(e){return ic(e.b,$l,e.a)}function Jl(e){this.a=e,this.b=tc(),this.c=null,this.f=function(e){var t=th("local"),n=th("session"),r=th("none");return function(e,t,n){var r=rc(t,n),i=nc(e,t.F);return e.get(t,n).then(function(o){var a=null;try{a=jr(u.localStorage.getItem(r))}catch(s){}if(a&&!o)return u.localStorage.removeItem(r),e.set(t,a,n);a&&o&&"localStorage"!=i.type&&u.localStorage.removeItem(r)})}(e.b,t,e.a).then(function(){return e.b.get(n,e.a)}).then(function(i){return i?n:e.b.get(r,e.a).then(function(n){return n?r:e.b.get(t,e.a).then(function(n){return n?t:e.b.get(eh,e.a).then(function(e){return e?th(e):t})})})}).then(function(t){return e.c=t,Zl(e,t.F)}).o(function(){e.c||(e.c=t)})}(this),this.b.addListener(th("local"),this.a,E(this.g,this))}function Zl(e,t){var n,r=[];for(n in Zu)Zu[n]!==t&&r.push(ic(e.b,th(Zu[n]),e.a));return r.push(ic(e.b,eh,e.a)),function(e){return new Et(function(t,n){var r=e.length,i=[];if(r)for(var o=function(e,n){r--,i[e]=n,0==r&&t(i)},a=function(e){n(e)},s=0;s<e.length;s++)Rt(e[s],S(o,s),a);else t(i)})}(r)}Jl.prototype.g=function(){var e=this,t=th("local");oh(this,function(){return At().then(function(){return e.c&&"local"!=e.c.F?e.b.get(t,e.a):null}).then(function(n){if(n)return Zl(e,"local").then(function(){e.c=t})})})};var eh={name:"persistence",F:"session"};function th(e){return{name:"authUser",F:e}}function nh(e,t){return oh(e,function(){return e.b.set(e.c,t.w(),e.a)})}function rh(e){return oh(e,function(){return ic(e.b,e.c,e.a)})}function ih(e,t,n){return oh(e,function(){return e.b.get(e.c,e.a).then(function(e){return e&&t&&(e.authDomain=t),e&&n&&(e.emulatorConfig=n),Yl(e||{})})})}function oh(e,t){return e.f=e.f.then(t,t),e.f}function ah(e){if(this.l=!1,Qr(this,"settings",new Xc),Qr(this,"app",e),!gh(this).options||!gh(this).options.apiKey)throw new k("invalid-api-key");e=t.default.SDK_VERSION?kr(t.default.SDK_VERSION):null,this.a=new $a(gh(this).options&&gh(this).options.apiKey,x(A),e),this.P=[],this.s=[],this.N=[],this.Pa=t.default.INTERNAL.createSubscribe(E(this.zc,this)),this.W=void 0,this.ib=t.default.INTERNAL.createSubscribe(E(this.Ac,this)),dh(this,null),this.i=new Jl(gh(this).options.apiKey+":"+gh(this).name),this.D=new Ql(gh(this).options.apiKey+":"+gh(this).name),this.$=bh(this,function(e){var t=gh(e).options.authDomain,n=function(e){var t=function(e,t){return e.b.get($l,e.a).then(function(e){return e&&t&&(e.authDomain=t),Yl(e||{})})}(e.D,gh(e).options.authDomain).then(function(t){return(e.m=t)&&(t.ha=e.D),Xl(e.D)});return bh(e,t)}(e).then(function(){return ih(e.i,t,e.R)}).then(function(t){return t?(t.ha=e.D,e.m&&(e.m.ga||null)==(t.ga||null)?t:t.reload().then(function(){return nh(e.i,t).then(function(){return t})}).o(function(n){return"auth/network-request-failed"==n.code?t:rh(e.i)})):null}).then(function(t){dh(e,t||null)});return bh(e,n)}(this)),this.h=bh(this,function(e){return e.$.then(function(){return hh(e)}).o(function(){}).then(function(){if(!e.l)return e.ja()}).o(function(){}).then(function(){if(!e.l){e.ba=!0;var t=e.i;t.b.addListener(th("local"),t.a,e.ja)}})}(this)),this.ba=!1,this.ja=E(this.Zc,this),this.Ba=E(this.da,this),this.qa=E(this.mc,this),this.za=E(this.wc,this),this.Aa=E(this.xc,this),this.b=null,function(e){var t=gh(e).options.authDomain,n=gh(e).options.apiKey;t&&Rr()&&(e.Oa=e.$.then(function(){if(!e.l){if(e.b=Gc(t,n,gh(e).name,e.R),Mc(e.b,e),yh(e)&&Nl(yh(e)),e.m){Nl(e.m);var r=e.m;r.xa(e.la()),wl(r,e),Sl(r=e.m,e.J),Cl(r,e),_l(r=e.m,e.R),El(r,e),e.m=null}return e.b}}))}(this),this.INTERNAL={},this.INTERNAL.delete=E(this.delete,this),this.INTERNAL.logFramework=E(this.Gc,this),this.u=0,En.call(this),function(e){Object.defineProperty(e,"lc",{get:function(){return this.la()},set:function(e){this.xa(e)},enumerable:!1}),e.aa=null,Object.defineProperty(e,"ti",{get:function(){return this.T()},set:function(e){this.zb(e)},enumerable:!1}),e.S=null,Object.defineProperty(e,"emulatorConfig",{get:function(){if(this.R){var e=Hn(this.R.url);e=Xr({protocol:e.c,host:e.a,port:e.g,options:Xr({disableWarnings:this.R.ec})})}else e=null;return e},enumerable:!1})}(this),this.J=[],this.R=null}function sh(e){Xt.call(this,"languageCodeChanged"),this.h=e}function uh(e){Xt.call(this,"emulatorConfigChanged"),this.c=e}function ch(e){Xt.call(this,"frameworkChanged"),this.f=e}function lh(e){return e.Oa||Nt(new k("auth-domain-config-required"))}function hh(e){if(!Rr())return Nt(new k("operation-not-supported-in-this-environment"));var t=lh(e).then(function(){return e.b.ra()}).then(function(e){return e?Xr(e):null});return bh(e,t)}function fh(e,t){var n={};return n.apiKey=gh(e).options.apiKey,n.authDomain=gh(e).options.authDomain,n.appName=gh(e).name,e.R&&(n.emulatorConfig=e.R),e.$.then(function(){return function(e,t,n,r){var i=new bl(e,t);return n&&(i.ha=n),r&&Sl(i,r),i.reload().then(function(){return i})}(n,t,e.D,e.Ga())}).then(function(t){return yh(e)&&t.uid==yh(e).uid?(Ul(yh(e),t),e.da(t)):(dh(e,t),Nl(t),e.da(t))}).then(function(){mh(e)})}function dh(e,t){yh(e)&&(function(e,t){X(e.W,function(e){return e==t})}(yh(e),e.Ba),dn(yh(e),"tokenChanged",e.qa),dn(yh(e),"userDeleted",e.za),dn(yh(e),"userInvalidated",e.Aa),kl(yh(e))),t&&(t.W.push(e.Ba),ln(t,"tokenChanged",e.qa),ln(t,"userDeleted",e.za),ln(t,"userInvalidated",e.Aa),0<e.u&&Tl(t)),Qr(e,"currentUser",t),t&&(t.xa(e.la()),wl(t,e),Sl(t,e.J),Cl(t,e),_l(t,e.R),El(t,e))}function ph(e,t){var n=null,r=null;return bh(e,t.then(function(t){return n=Uo(t),r=Qi(t),fh(e,t)},function(t){var n=null;throw t&&"auth/multi-factor-auth-required"===t.code&&(n=ol(t.w(),e,E(e.kc,e))),n||t}).then(function(){return Xr({user:yh(e),credential:n,additionalUserInfo:r,operationType:"signIn"})}))}function gh(e){return e.app}function yh(e){return e.currentUser}function vh(e){return yh(e)&&yh(e)._lat||null}function mh(e){if(e.ba){for(var t=0;t<e.s.length;t++)e.s[t]&&e.s[t](vh(e));if(e.W!==e.getUid()&&e.N.length)for(e.W=e.getUid(),t=0;t<e.N.length;t++)e.N[t]&&e.N[t](vh(e))}}function bh(e,t){return e.P.push(t),t.oa(function(){$(e.P,t)}),t}function _h(){}function wh(){this.a={},this.b=1e12}Jl.prototype.yb=function(e){var t=null,n=this;return function(e){var t=new k("invalid-persistence-type"),n=new k("unsupported-persistence-type");e:{for(r in Zu)if(Zu[r]==e){var r=!0;break e}r=!1}if(!r||"string"!==typeof e)throw t;switch(wr()){case"ReactNative":if("session"===e)throw n;break;case"Node":if("none"!==e)throw n;break;case"Worker":if("session"===e||!Pu()&&"none"!==e)throw n;break;default:if(!Nr()&&"none"!==e)throw n}}(e),oh(this,function(){return e!=n.c.F?n.b.get(n.c,n.a).then(function(r){return t=r,Zl(n,e)}).then(function(){if(n.c=th(e),t)return n.b.set(n.c,t,n.a)}):At()})},O(ah,En),O(sh,Xt),O(uh,Xt),O(ch,Xt),(n=ah.prototype).yb=function(e){return bh(this,e=this.i.yb(e))},n.xa=function(e){this.aa===e||this.l||(this.aa=e,rs(this.a,this.aa),this.dispatchEvent(new sh(this.la())))},n.la=function(){return this.aa},n.fd=function(){var e=u.navigator;this.xa(e&&(e.languages&&e.languages[0]||e.language||e.userLanguage)||null)},n.gd=function(e,t){if(!this.R){if(!/^https?:\/\//.test(e))throw new k("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");(function(e){"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),u.document&&!e&&vr().then(function(){var e=u.document.createElement("div");e.innerText="Running in emulator mode. Do not use with production credentials.",e.style.position="fixed",e.style.width="100%",e.style.backgroundColor="#ffffff",e.style.border=".1em solid #000000",e.style.color="#b50000",e.style.bottom="0px",e.style.left="0px",e.style.margin="0px",e.style.zIndex=1e4,e.style.textAlign="center",e.classList.add("firebase-emulator-warning"),u.document.body.appendChild(e)})})(t=!!t&&!!t.disableWarnings),this.R={url:e,ec:t},this.settings.jb=!0,is(this.a,this.R),this.dispatchEvent(new uh(this.R))}},n.Gc=function(e){this.J.push(e),as(this.a,t.default.SDK_VERSION?kr(t.default.SDK_VERSION,this.J):null),this.dispatchEvent(new ch(this.J))},n.Ga=function(){return Z(this.J)},n.zb=function(e){this.S===e||this.l||(this.S=e,this.a.b=this.S)},n.T=function(){return this.S},n.toJSON=function(){return{apiKey:gh(this).options.apiKey,authDomain:gh(this).options.authDomain,appName:gh(this).name,currentUser:yh(this)&&yh(this).w()}},n.Gb=function(e,t){switch(e){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==t&&!!this.f;default:return!1}},n.na=function(e,t,n,r){"signInViaPopup"==e&&this.g==r&&(n&&this.C?this.C(n):t&&!n&&this.f&&this.f(t),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},n.Fa=function(e,t){return"signInViaRedirect"==e||"signInViaPopup"==e&&this.g==t&&this.f?E(this.ic,this):null},n.ic=function(e,t,n,r){var i=this,o={requestUri:e,postBody:r,sessionId:t,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),i.$.then(function(){return ph(i,_s(i.a,o))})},n.Xc=function(e){if(!Rr())return Nt(new k("operation-not-supported-in-this-environment"));var n=this,r=Yi(e.providerId),i=Ur(),o=null;(!Mr()||br())&&gh(this).options.authDomain&&e.isOAuthProvider&&(o=mu(gh(this).options.authDomain,gh(this).options.apiKey,gh(this).name,"signInViaPopup",e,null,i,t.default.SDK_VERSION||null,null,null,this.T(),this.R));var a=pr(o,r&&r.va,r&&r.ua);return bh(this,r=lh(this).then(function(t){return Uc(t,a,"signInViaPopup",e,i,!!o,n.T())}).then(function(){return new Et(function(e,t){n.na("signInViaPopup",null,new k("cancelled-popup-request"),n.g),n.f=e,n.C=t,n.g=i,n.c=Bc(n.b,n,"signInViaPopup",a,i)})}).then(function(e){return a&&dr(a),e?Xr(e):null}).o(function(e){throw a&&dr(a),e}))},n.Yc=function(e){if(!Rr())return Nt(new k("operation-not-supported-in-this-environment"));var t=this;return bh(this,lh(this).then(function(){return oh(e=t.i,function(){return e.b.set(eh,e.c.F,e.a)});var e}).then(function(){return Hc(t.b,"signInViaRedirect",e,void 0,t.T())}))},n.ra=function(){var e=this;return hh(this).then(function(t){return e.b&&Kc(e.b.b),t}).o(function(t){throw e.b&&Kc(e.b.b),t})},n.dd=function(e){if(!e)return Nt(new k("null-user"));if(this.S!=e.tenantId)return Nt(new k("tenant-id-mismatch"));var t=this,n={};n.apiKey=gh(this).options.apiKey,n.authDomain=gh(this).options.authDomain,n.appName=gh(this).name;var r=function(e,t,n,r){var i=e.h,o={};return o[Ja]=i.b&&i.b.toString(),o.refreshToken=i.a,t=new bl(t||{apiKey:e.l,authDomain:e.s,appName:e.m},o),n&&(t.ha=n),r&&Sl(t,r),Ul(t,e),t}(e,n,t.D,t.Ga());return bh(this,this.h.then(function(){if(gh(t).options.apiKey!=e.l)return r.reload()}).then(function(){return yh(t)&&e.uid==yh(t).uid?(Ul(yh(t),e),t.da(e)):(dh(t,r),Nl(r),t.da(r))}).then(function(){mh(t)}))},n.Bb=function(){var e=this;return bh(this,this.h.then(function(){return e.b&&Kc(e.b.b),yh(e)?(dh(e,null),rh(e.i).then(function(){mh(e)})):At()}))},n.Zc=function(){var e=this;return ih(this.i,gh(this).options.authDomain).then(function(t){if(!e.l){var n;if(n=yh(e)&&t){n=yh(e).uid;var r=t.uid;n=void 0!==n&&null!==n&&""!==n&&void 0!==r&&null!==r&&""!==r&&n==r}if(n)return Ul(yh(e),t),yh(e).I();(yh(e)||t)&&(dh(e,t),t&&(Nl(t),t.ha=e.D),e.b&&Mc(e.b,e),mh(e))}})},n.da=function(e){return nh(this.i,e)},n.mc=function(){mh(this),this.da(yh(this))},n.wc=function(){this.Bb()},n.xc=function(){this.Bb()},n.kc=function(e){var t=this;return this.h.then(function(){return ph(t,At(e))})},n.zc=function(e){var t=this;this.addAuthTokenListener(function(){e.next(yh(t))})},n.Ac=function(e){var t=this;!function(e,t){e.N.push(t),bh(e,e.h.then(function(){!e.l&&Q(e.N,t)&&e.W!==e.getUid()&&(e.W=e.getUid(),t(vh(e)))}))}(this,function(){e.next(yh(t))})},n.Ic=function(e,t,n){var r=this;return this.ba&&Promise.resolve().then(function(){"function"===typeof e?e(yh(r)):"function"===typeof e.next&&e.next(yh(r))}),this.Pa(e,t,n)},n.Hc=function(e,t,n){var r=this;return this.ba&&Promise.resolve().then(function(){r.W=r.getUid(),"function"===typeof e?e(yh(r)):"function"===typeof e.next&&e.next(yh(r))}),this.ib(e,t,n)},n.nc=function(e){var t=this;return bh(this,this.h.then(function(){return yh(t)?yh(t).I(e).then(function(e){return{accessToken:e}}):null}))},n.Tc=function(e){var t=this;return this.h.then(function(){return ph(t,ru(t.a,Xs,{token:e}))}).then(function(e){var n=e.user;return jl(n,"isAnonymous",!1),t.da(n),e})},n.Uc=function(e,t){var n=this;return this.h.then(function(){return ph(n,ru(n.a,Js,{email:e,password:t}))})},n.dc=function(e,t){var n=this;return this.h.then(function(){return ph(n,ru(n.a,Ts,{email:e,password:t}))})},n.ab=function(e){var t=this;return this.h.then(function(){return ph(t,e.ka(t.a))})},n.Sc=function(e){return Kr("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.ab(e)},n.Ab=function(){var e=this;return this.h.then(function(){var t=yh(e);if(t&&t.isAnonymous){var n=Xr({providerId:null,isNewUser:!1});return Xr({user:t,credential:null,additionalUserInfo:n,operationType:"signIn"})}return ph(e,e.a.Ab()).then(function(t){var n=t.user;return jl(n,"isAnonymous",!0),e.da(n),t})})},n.getUid=function(){return yh(this)&&yh(this).uid||null},n.cc=function(e){this.addAuthTokenListener(e),this.u++,0<this.u&&yh(this)&&Tl(yh(this))},n.Pc=function(e){var t=this;z(this.s,function(n){n==e&&t.u--}),0>this.u&&(this.u=0),0==this.u&&yh(this)&&kl(yh(this)),this.removeAuthTokenListener(e)},n.addAuthTokenListener=function(e){var t=this;this.s.push(e),bh(this,this.h.then(function(){t.l||Q(t.s,e)&&e(vh(t))}))},n.removeAuthTokenListener=function(e){X(this.s,function(t){return t==e})},n.delete=function(){this.l=!0;for(var e=0;e<this.P.length;e++)this.P[e].cancel("app-deleted");return this.P=[],this.i&&(e=this.i).b.removeListener(th("local"),e.a,this.ja),this.b&&(Lc(this.b,this),Kc(this.b.b)),Promise.resolve()},n.hc=function(e){return bh(this,function(e,t){return ru(e,ks,{identifier:t,continueUri:Pr()?lr():"http://localhost"}).then(function(e){return e.signinMethods||[]})}(this.a,e))},n.Bc=function(e){return!!Po(e)},n.xb=function(e,t){var n=this;return bh(this,At().then(function(){var e=new Ai(t);if(!e.c)throw new k("argument-error",Pi+" must be true when sending sign in link to email");return Fi(e)}).then(function(t){return n.a.xb(e,t)}).then(function(){}))},n.jd=function(e){return this.Sa(e).then(function(e){return e.data.email})},n.ob=function(e,t){return bh(this,this.a.ob(e,t).then(function(){}))},n.Sa=function(e){return bh(this,this.a.Sa(e).then(function(e){return new ai(e)}))},n.kb=function(e){return bh(this,this.a.kb(e).then(function(){}))},n.wb=function(e,t){var n=this;return bh(this,At().then(function(){return"undefined"===typeof t||ge(t)?{}:Fi(new Ai(t))}).then(function(t){return n.a.wb(e,t)}).then(function(){}))},n.Wc=function(e,t){return bh(this,Zc(this,e,t,E(this.ab,this)))},n.Vc=function(e,t){var n=this;return bh(this,At().then(function(){var r=t||lr(),i=Ro(e,r);if(!(r=Po(r)))throw new k("argument-error","Invalid email link!");if(r.tenantId!==n.T())throw new k("tenant-id-mismatch");return n.ab(i)}))},_h.prototype.render=function(){},_h.prototype.reset=function(){},_h.prototype.getResponse=function(){},_h.prototype.execute=function(){};var Eh=null;function Sh(e,t){return(t=Ch(t))&&e.a[t]||null}function Ch(e){return(e="undefined"===typeof e?1e12:e)?e.toString():null}function Oh(e,t){this.g=!1,this.c=t,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=lt(e);var n=this;this.i=function(){n.execute()},this.h?this.execute():ln(this.f,"click",this.i)}function Th(e){if(e.g)throw Error("reCAPTCHA mock was already deleted!")}function kh(){}function Ih(){}wh.prototype.render=function(e,t){return this.a[this.b.toString()]=new Oh(e,t),this.b++},wh.prototype.reset=function(e){var t=Sh(this,e);e=Ch(e),t&&e&&(t.delete(),delete this.a[e])},wh.prototype.getResponse=function(e){return(e=Sh(this,e))?e.getResponse():null},wh.prototype.execute=function(e){(e=Sh(this,e))&&e.execute()},Oh.prototype.getResponse=function(){return Th(this),this.b},Oh.prototype.execute=function(){Th(this);var e=this;this.a||(this.a=setTimeout(function(){e.b=function(){for(var e=50,t=[];0<e;)t.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),e--;return t.join("")}();var t=e.c.callback,n=e.c["expired-callback"];if(t)try{t(e.b)}catch(r){}e.a=setTimeout(function(){if(e.a=null,e.b=null,n)try{n()}catch(r){}e.h&&e.execute()},6e4)},500))},Oh.prototype.delete=function(){Th(this),this.g=!0,clearTimeout(this.a),this.a=null,dn(this.f,"click",this.i)},Qr(kh,"FACTOR_ID","phone"),Ih.prototype.g=function(){return Eh||(Eh=new wh),At(Eh)},Ih.prototype.c=function(){};var Ah=null;function Nh(){this.b=u.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var Rh=new _e(Ce,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),Ph=new Br(3e4,6e4);Nh.prototype.g=function(e){var t=this;return new Et(function(n,r){var i=setTimeout(function(){r(new k("network-request-failed"))},Ph.get());!u.grecaptcha||e!==t.f&&!t.b?(u[t.a]=function(){if(u.grecaptcha){t.f=e;var o=u.grecaptcha.render;u.grecaptcha.render=function(e,n){return e=o(e,n),t.b++,e},clearTimeout(i),n(u.grecaptcha)}else clearTimeout(i),r(new k("internal-error"));delete u[t.a]},At(qa(Ie(Rh,{onload:t.a,hl:e||""}))).o(function(){clearTimeout(i),r(new k("internal-error","Unable to load external reCAPTCHA dependencies!"))})):(clearTimeout(i),n(u.grecaptcha))})},Nh.prototype.c=function(){this.b--};var xh=null;function Mh(e,t,n,r,i,o,a){if(Qr(this,"type","recaptcha"),this.c=this.f=null,this.J=!1,this.v=t,this.g=null,a?(Ah||(Ah=new Ih),a=Ah):(xh||(xh=new Nh),a=xh),this.m=a,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[jh])throw new k("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[Uh],!u.document)throw new k("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!lt(t)||!this.i&&lt(t).hasChildNodes())throw new k("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new $a(e,o||null,i||null),this.u=r||function(){return null};var s=this;this.l=[];var c=this.a[Lh];this.a[Lh]=function(e){if(Fh(s,e),"function"===typeof c)c(e);else if("string"===typeof c){var t=Ar(c,u);"function"===typeof t&&t(e)}};var l=this.a[Dh];this.a[Dh]=function(){if(Fh(s,null),"function"===typeof l)l();else if("string"===typeof l){var e=Ar(l,u);"function"===typeof e&&e()}}}var Lh="callback",Dh="expired-callback",jh="sitekey",Uh="size";function Fh(e,t){for(var n=0;n<e.l.length;n++)try{e.l[n](t)}catch(r){}}function Hh(e,t){return e.h.push(t),t.oa(function(){$(e.h,t)}),t}function Bh(e){if(e.J)throw new k("internal-error","RecaptchaVerifier instance has been destroyed.")}function Vh(e,n,r){var i=!1;try{this.b=r||t.default.app()}catch(s){throw new k("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new k("invalid-api-key");r=this.b.options.apiKey;var o=this,a=null;try{a=this.b.auth().Ga()}catch(s){}try{i=this.b.auth().settings.appVerificationDisabledForTesting}catch(s){}a=t.default.SDK_VERSION?kr(t.default.SDK_VERSION,a):null,Mh.call(this,r,e,n,function(){try{var e=o.b.auth().la()}catch(t){e=null}return e},a,x(A),i)}function qh(e,t,n,r){e:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,a=0;a<t.length;a++)if(t[a].optional)o=!0;else{if(o)throw new k("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=t.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=t[i].optional&&void 0===n[i],!t[i].M(n[i])&&!o){if(t=t[i],0>i||i>=Gh.length)throw new k("internal-error","Argument validator received an unsupported number of arguments.");n=Gh[i],r=(r?"":n+" argument ")+(t.name?'"'+t.name+'" ':"")+"must be "+t.K+".";break e}r=null}}if(r)throw new k("argument-error",e+" failed: "+r)}(n=Mh.prototype).Ia=function(){var e=this;return this.f?this.f:this.f=Hh(this,At().then(function(){if(Pr()&&!_r())return vr();throw new k("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return e.m.g(e.u())}).then(function(t){return e.g=t,ru(e.s,Hs,{})}).then(function(t){e.a[jh]=t.recaptchaSiteKey}).o(function(t){throw e.f=null,t}))},n.render=function(){Bh(this);var e=this;return Hh(this,this.Ia().then(function(){if(null===e.c){var t=e.v;if(!e.i){var n=lt(t);t=gt("DIV"),n.appendChild(t)}e.c=e.g.render(t,e.a)}return e.c}))},n.verify=function(){Bh(this);var e=this;return Hh(this,this.render().then(function(t){return new Et(function(n){var r=e.g.getResponse(t);if(r)n(r);else{e.l.push(function t(r){r&&(function(e,t){X(e.l,function(e){return e==t})}(e,t),n(r))}),e.i&&e.g.execute(e.c)}})}))},n.reset=function(){Bh(this),null!==this.c&&this.g.reset(this.c)},n.clear=function(){Bh(this),this.J=!0,this.m.c();for(var e=0;e<this.h.length;e++)this.h[e].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){e=lt(this.v);for(var t;t=e.firstChild;)e.removeChild(t)}},O(Vh,Mh);var Gh="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function zh(e,t){return{name:e||"",K:"a valid string",optional:!!t,M:function(e){return"string"===typeof e}}}function Wh(e,t){return{name:e||"",K:"a boolean",optional:!!t,M:function(e){return"boolean"===typeof e}}}function Kh(e,t){return{name:e||"",K:"a valid object",optional:!!t,M:y}}function Yh(e,t){return{name:e||"",K:"a function",optional:!!t,M:function(e){return"function"===typeof e}}}function Qh(e,t){return{name:e||"",K:"null",optional:!!t,M:function(e){return null===e}}}function $h(e){return{name:e?e+"Credential":"credential",K:e?"a valid "+e+" credential":"a valid credential",optional:!1,M:function(t){if(!t)return!1;var n=!e||t.providerId===e;return!(!t.ka||!n)}}}function Xh(e,t){return y(e)&&"string"===typeof e.type&&e.type===t&&"function"===typeof e.Ha}function Jh(e){return y(e)&&"string"===typeof e.uid}function Zh(e,t,n,r){return{name:n||"",K:e.K+" or "+t.K,optional:!!r,M:function(n){return e.M(n)||t.M(n)}}}function ef(e,t){for(var n in t){var r=t[n].name;e[r]=rf(r,e[n],t[n].j)}}function tf(e,t){for(var n in t){var r=t[n].name;r!==n&&Object.defineProperty(e,r,{get:S(function(e){return this[e]},n),set:S(function(e,t,n,r){qh(e,[n],[r],!0),this[t]=r},r,n,t[n].lb),enumerable:!0})}}function nf(e,t,n,r){e[t]=rf(t,n,r)}function rf(e,t,n){function r(){var e=Array.prototype.slice.call(arguments);return qh(o,n,e),t.apply(this,e)}if(!n)return t;var i,o=function(e){return(e=e.split("."))[e.length-1]}(e);for(i in t)r[i]=t[i];for(i in t.prototype)r.prototype[i]=t.prototype[i];return r}ef(ah.prototype,{kb:{name:"applyActionCode",j:[zh("code")]},Sa:{name:"checkActionCode",j:[zh("code")]},ob:{name:"confirmPasswordReset",j:[zh("code"),zh("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[zh("email"),zh("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[zh("email")]},ra:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[zh("emailLink")]},Hc:{name:"onAuthStateChanged",j:[Zh(Kh(),Yh(),"nextOrObserver"),Yh("opt_error",!0),Yh("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[Zh(Kh(),Yh(),"nextOrObserver"),Yh("opt_error",!0),Yh("opt_completed",!0)]},wb:{name:"sendPasswordResetEmail",j:[zh("email"),Zh(Kh("opt_actionCodeSettings",!0),Qh(null,!0),"opt_actionCodeSettings",!0)]},xb:{name:"sendSignInLinkToEmail",j:[zh("email"),Kh("actionCodeSettings")]},yb:{name:"setPersistence",j:[zh("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[$h()]},Ab:{name:"signInAnonymously",j:[]},ab:{name:"signInWithCredential",j:[$h()]},Tc:{name:"signInWithCustomToken",j:[zh("token")]},Uc:{name:"signInWithEmailAndPassword",j:[zh("email"),zh("password")]},Vc:{name:"signInWithEmailLink",j:[zh("email"),zh("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[zh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!==typeof e.type||"function"!==typeof e.verify)}}]},Xc:{name:"signInWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Yc:{name:"signInWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},dd:{name:"updateCurrentUser",j:[Zh({name:"user",K:"an instance of Firebase User",optional:!1,M:function(e){return!!(e&&e instanceof bl)}},Qh(),"user")]},Bb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[zh(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[zh("url"),Kh("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[zh("code")]}}),tf(ah.prototype,{lc:{name:"languageCode",lb:Zh(zh(),Qh(),"languageCode")},ti:{name:"tenantId",lb:Zh(zh(),Qh(),"tenantId")}}),ah.Persistence=Zu,ah.Persistence.LOCAL="local",ah.Persistence.SESSION="session",ah.Persistence.NONE="none",ef(bl.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[Wh("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Wh("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[$h()]},rb:{name:"linkWithCredential",j:[$h()]},Dc:{name:"linkWithPhoneNumber",j:[zh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!==typeof e.type||"function"!==typeof e.verify)}}]},Ec:{name:"linkWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Fc:{name:"linkWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[$h()]},ub:{name:"reauthenticateWithCredential",j:[$h()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[zh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!==typeof e.type||"function"!==typeof e.verify)}}]},Nc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Oc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},vb:{name:"sendEmailVerification",j:[Zh(Kh("opt_actionCodeSettings",!0),Qh(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[zh(null,!0)]},cd:{name:"unlink",j:[zh("provider")]},Cb:{name:"updateEmail",j:[zh("email")]},Db:{name:"updatePassword",j:[zh("password")]},ed:{name:"updatePhoneNumber",j:[$h("phone")]},Eb:{name:"updateProfile",j:[Kh("profile")]},Fb:{name:"verifyBeforeUpdateEmail",j:[zh("email"),Zh(Kh("opt_actionCodeSettings",!0),Qh(null,!0),"opt_actionCodeSettings",!0)]}}),ef(wh.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),ef(_h.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),ef(Et.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),tf(Xc.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",lb:Wh("appVerificationDisabledForTesting")}}),ef(Jc.prototype,{confirm:{name:"confirm",j:[zh("verificationCode")]}}),nf(uo,"fromJSON",function(e){e="string"===typeof e?JSON.parse(e):e;for(var t,n=[yo,Ao,Mo,fo],r=0;r<n.length;r++)if(t=n[r](e))return t;return null},[Zh(zh(),Kh(),"json")]),nf(No,"credential",function(e,t){return new Io(e,t)},[zh("email"),zh("password")]),ef(Io.prototype,{w:{name:"toJSON",j:[zh(null,!0)]}}),ef(_o.prototype,{Ca:{name:"addScope",j:[zh("scope")]},Ka:{name:"setCustomParameters",j:[Kh("customOAuthParameters")]}}),nf(_o,"credential",wo,[Zh(zh(),Kh(),"token")]),nf(No,"credentialWithLink",Ro,[zh("email"),zh("emailLink")]),ef(Eo.prototype,{Ca:{name:"addScope",j:[zh("scope")]},Ka:{name:"setCustomParameters",j:[Kh("customOAuthParameters")]}}),nf(Eo,"credential",So,[Zh(zh(),Kh(),"token")]),ef(Co.prototype,{Ca:{name:"addScope",j:[zh("scope")]},Ka:{name:"setCustomParameters",j:[Kh("customOAuthParameters")]}}),nf(Co,"credential",Oo,[Zh(zh(),Zh(Kh(),Qh()),"idToken"),Zh(zh(),Qh(),"accessToken",!0)]),ef(To.prototype,{Ka:{name:"setCustomParameters",j:[Kh("customOAuthParameters")]}}),nf(To,"credential",ko,[Zh(zh(),Kh(),"token"),zh("secret",!0)]),ef(bo.prototype,{Ca:{name:"addScope",j:[zh("scope")]},credential:{name:"credential",j:[Zh(zh(),Zh(Kh(),Qh()),"optionsOrIdToken"),Zh(zh(),Qh(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[Kh("customOAuthParameters")]}}),ef(po.prototype,{w:{name:"toJSON",j:[zh(null,!0)]}}),ef(lo.prototype,{w:{name:"toJSON",j:[zh(null,!0)]}}),nf(Do,"credential",jo,[zh("verificationId"),zh("verificationCode")]),ef(Do.prototype,{gb:{name:"verifyPhoneNumber",j:[Zh(zh(),{name:"phoneInfoOptions",K:"valid phone info options",optional:!1,M:function(e){return!!e&&(e.session&&e.phoneNumber?Xh(e.session,ao)&&"string"===typeof e.phoneNumber:e.session&&e.multiFactorHint?Xh(e.session,so)&&Jh(e.multiFactorHint):e.session&&e.multiFactorUid?Xh(e.session,so)&&"string"===typeof e.multiFactorUid:!!e.phoneNumber&&"string"===typeof e.phoneNumber)}},"phoneInfoOptions"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!==typeof e.type||"function"!==typeof e.verify)}}]}}),ef(xo.prototype,{w:{name:"toJSON",j:[zh(null,!0)]}}),ef(k.prototype,{toJSON:{name:"toJSON",j:[zh(null,!0)]}}),ef(Wo.prototype,{toJSON:{name:"toJSON",j:[zh(null,!0)]}}),ef(zo.prototype,{toJSON:{name:"toJSON",j:[zh(null,!0)]}}),ef(il.prototype,{toJSON:{name:"toJSON",j:[zh(null,!0)]}}),ef(tl.prototype,{Rc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(e){return!!e&&!!e.tb}}]}}),ef(ll.prototype,{Sb:{name:"getSession",j:[]},fc:{name:"enroll",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(e){return!!e&&!!e.tb}},zh("displayName",!0)]},bd:{name:"unenroll",j:[Zh({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:Jh},zh(),"multiFactorInfoIdentifier")]}}),ef(Vh.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),nf(_i,"parseLink",Ii,[zh("link")]),nf(kh,"assertion",function(e){return new ul(e)},[$h("phone")]),function(){if("undefined"===typeof t.default||!t.default.INTERNAL||!t.default.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var e={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:ui,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:si,VERIFY_AND_CHANGE_EMAIL:ci,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:ah,AuthCredential:uo,Error:k};nf(e,"EmailAuthProvider",No,[]),nf(e,"FacebookAuthProvider",_o,[]),nf(e,"GithubAuthProvider",Eo,[]),nf(e,"GoogleAuthProvider",Co,[]),nf(e,"TwitterAuthProvider",To,[]),nf(e,"OAuthProvider",bo,[zh("providerId")]),nf(e,"SAMLAuthProvider",mo,[zh("providerId")]),nf(e,"PhoneAuthProvider",Do,[{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(e){return!!(e&&e instanceof ah)}}]),nf(e,"RecaptchaVerifier",Vh,[Zh(zh(),{name:"",K:"an HTML element",optional:!1,M:function(e){return!!(e&&e instanceof Element)}},"recaptchaContainer"),Kh("recaptchaParameters",!0),{name:"app",K:"an instance of Firebase App",optional:!0,M:function(e){return!!(e&&e instanceof t.default.app.App)}}]),nf(e,"ActionCodeURL",_i,[]),nf(e,"PhoneMultiFactorGenerator",kh,[]),t.default.INTERNAL.registerComponent({name:"auth",instanceFactory:function(e){return new ah(e=e.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:e,instantiationMode:"LAZY",type:"PUBLIC",onInstanceCreated:function(e){e.getProvider("auth-internal").initialize()}}),t.default.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(e){return{getUid:E((e=e.getProvider("auth").getImmediate()).getUid,e),getToken:E(e.nc,e),addAuthTokenListener:E(e.cc,e),removeAuthTokenListener:E(e.Pc,e)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),t.default.registerVersion("@firebase/auth","0.16.8"),t.default.INTERNAL.extendNamespace({User:bl})}()}).apply("undefined"!==typeof e?e:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})}).call(this,n(90))},function(e,t,n){"use strict";var r,i=n(12),o=n(38),a=n(35),s=(n(2),n(34),n(51),{Firestore:o.e,GeoPoint:o.a,Timestamp:o.g,Blob:o.f,Transaction:o.j,WriteBatch:o.c,DocumentReference:o.d,DocumentSnapshot:o.k,Query:o.n,QueryDocumentSnapshot:o.s,QuerySnapshot:o.r,CollectionReference:o.o,FieldPath:o.q,FieldValue:o.m,setLogLevel:o.p,CACHE_SIZE_UNLIMITED:o.b});(function(e,t){e.INTERNAL.registerComponent(new a.Component("firestore",function(e){return function(e,t){return new o.e(e,new o.h(e,t),new o.i)}(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},s)))})(r=i.default),r.registerVersion("@firebase/firestore","2.4.1")},function(e,t,n){(function(t,r,i){e.exports=function(e,n,o){"use strict";function a(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var s=a(e),u=a(n),c=a(o);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach(function(t){y(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,t,n){return t&&p(e.prototype,t),n&&p(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&b(e,t)}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=m(e);if(t){var i=m(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return _(e)}(this,n)}}function E(){return(E="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=m(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}}).apply(this,arguments)}function S(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||O(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e){return function(e){if(Array.isArray(e))return T(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||O(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){if(e){if("string"==typeof e)return T(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?T(e,t):void 0}}function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function k(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=O(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}var I=function(){function e(){}return Object.defineProperty(e,"OS_VERSION",{get:function(){return"undefined"!=typeof navigator&&navigator.userAgent?navigator.userAgent.replace(/,/g,"."):"noAgent"},enumerable:!1,configurable:!0}),Object.defineProperty(e,"SDK_VERSION",{get:function(){return"3.1.22"},enumerable:!1,configurable:!0}),Object.defineProperty(e,"SDK_MAJOR_VERSION",{get:function(){return e.SDK_VERSION.split(".")[0]},enumerable:!1,configurable:!0}),Object.defineProperty(e,"DEFAULT_MAX_UNREAD_COUNT_OF_SUPER_GROUP_CHANNEL",{get:function(){return 100},enumerable:!1,configurable:!0}),Object.defineProperty(e,"INTERNAL_CALL",{get:function(){return"ic"},enumerable:!1,configurable:!0}),e}(),A={},N=function(){function e(e){this._container=e}return e.create=function(t,n){return A[t]=new e(n),A[t]},e.get=function(e){return e||(e=Fi.getInstance()._iid),A[e]},Object.defineProperty(e.prototype,"container",{get:function(){return this._container},enumerable:!1,configurable:!0}),e.prototype.get=function(e){return this._container[e]},e.prototype.set=function(e,t){this._container[e]=t},e.prototype.remove=function(e){this._container.hasOwnProperty(e)&&delete this._container[e]},e}(),R=function(e,t){return(R=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function P(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}R(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var x=function(){return(x=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function M(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,s)}u((r=r.apply(e,t||[])).next())})}function L(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function D(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}var j,U=function(e){function t(n,r){var i=e.call(this,r)||this;return i.name="SendBirdException",i.code=r||0,i.message=n,Object.setPrototypeOf(i,t.prototype),i}return P(t,e),Object.defineProperty(t.prototype,"isInvalidTokenError",{get:function(){return this.code===t.INVALID_TOKEN},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isSessionKeyExpiredError",{get:function(){return this.code===t.SESSION_KEY_EXPIRED},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isSessionTokenExpiredError",{get:function(){return this.code===t.SESSION_TOKEN_EXPIRED},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isSessionTokenRevokedError",{get:function(){return this.code===t.SESSION_TOKEN_REVOKED},enumerable:!1,configurable:!0}),Object.defineProperty(t,"INVALID_TOKEN",{get:function(){return 400111},enumerable:!1,configurable:!0}),Object.defineProperty(t,"SESSION_KEY_EXPIRED",{get:function(){return 400309},enumerable:!1,configurable:!0}),Object.defineProperty(t,"USER_DEACTIVATED",{get:function(){return 400300},enumerable:!1,configurable:!0}),Object.defineProperty(t,"NON_EXISTING_USER",{get:function(){return 400301},enumerable:!1,configurable:!0}),Object.defineProperty(t,"SESSION_TOKEN_EXPIRED",{get:function(){return 400302},enumerable:!1,configurable:!0}),Object.defineProperty(t,"SESSION_TOKEN_REVOKED",{get:function(){return 400310},enumerable:!1,configurable:!0}),Object.defineProperty(t,"INVALID_INITIALIZATION",{get:function(){return 800100},enumerable:!1,configurable:!0}),Object.defineProperty(t,"CONNECTION_REQUIRED",{get:function(){return 800101},enumerable:!1,configurable:!0}),Object.defineProperty(t,"CONNECTION_CANCELED",{get:function(){return 800102},enumerable:!1,configurable:!0}),Object.defineProperty(t,"INVALID_PARAMETER",{get:function(){return 800110},enumerable:!1,configurable:!0}),Object.defineProperty(t,"NETWORK_ERROR",{get:function(){return 800120},enumerable:!1,configurable:!0}),Object.defineProperty(t,"NETWORK_ROUTING_ERROR",{get:function(){return 800121},enumerable:!1,configurable:!0}),Object.defineProperty(t,"MALFORMED_DATA",{get:function(){return 800130},enumerable:!1,configurable:!0}),Object.defineProperty(t,"MALFORMED_ERROR_DATA",{get:function(){return 800140},enumerable:!1,configurable:!0}),Object.defineProperty(t,"WRONG_CHANNEL_TYPE",{get:function(){return 800150},enumerable:!1,configurable:!0}),Object.defineProperty(t,"MARK_AS_READ_RATE_LIMIT_EXCEEDED",{get:function(){return 800160},enumerable:!1,configurable:!0}),Object.defineProperty(t,"QUERY_IN_PROGRESS",{get:function(){return 800170},enumerable:!1,configurable:!0}),Object.defineProperty(t,"ACK_TIMEOUT",{get:function(){return 800180},enumerable:!1,configurable:!0}),Object.defineProperty(t,"LOGIN_TIMEOUT",{get:function(){return 800190},enumerable:!1,configurable:!0}),Object.defineProperty(t,"WEBSOCKET_CONNECTION_CLOSED",{get:function(){return 800200},enumerable:!1,configurable:!0}),Object.defineProperty(t,"WEBSOCKET_CONNECTION_FAILED",{get:function(){return 800210},enumerable:!1,configurable:!0}),Object.defineProperty(t,"REQUEST_FAILED",{get:function(){return 800220},enumerable:!1,configurable:!0}),Object.defineProperty(t,"FILE_UPLOAD_CANCEL_FAILED",{get:function(){return 800230},enumerable:!1,configurable:!0}),Object.defineProperty(t,"REQUEST_CANCELED",{get:function(){return 800240},enumerable:!1,configurable:!0}),Object.defineProperty(t,"REQUEST_DUPLICATED",{get:function(){return 800250},enumerable:!1,configurable:!0}),Object.defineProperty(t,"FILE_SIZE_LIMIT_EXCEEDED",{get:function(){return 800260},enumerable:!1,configurable:!0}),Object.defineProperty(t,"SESSION_TOKEN_REQUEST_FAILED",{get:function(){return 800500},enumerable:!1,configurable:!0}),Object.defineProperty(t,"SESSION_REFRESH_SUCCESS",{get:function(){return 800501},enumerable:!1,configurable:!0}),Object.defineProperty(t,"SESSION_REFRESH_FAILED",{get:function(){return 800502},enumerable:!1,configurable:!0}),Object.defineProperty(t,"CHANNEL_NOT_FOUND",{get:function(){return 900500},enumerable:!1,configurable:!0}),Object.defineProperty(t,"USER_NOT_MEMBER",{get:function(){return 900020},enumerable:!1,configurable:!0}),t}(Error),F=function(){function e(){this.sessionToken=null,this.sessionKey=null,this.eKey=null}return e.prototype.hasSession=function(){return!!this.sessionKey},e}(),H={},B=function(){function e(e,t){void 0===t&&(t={});var n=this;this._iid=e,Object.keys(t).forEach(function(e){var r=t[e];"function"==typeof r&&(n[e]=n.getClonedClass(r))}),H[e]=this}return e.get=function(e){return e?H[e]:{}},e.prototype.getClonedClass=function(e){var t=this._iid,n=function(n){function r(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n.apply(this,e)||this}return P(r,n),Object.defineProperty(r,"_iid",{get:function(){return t},enumerable:!1,configurable:!0}),Object.defineProperty(r,"_name",{get:function(){return e.name},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"_iid",{get:function(){return t},enumerable:!1,configurable:!0}),r}(e);return n},e}(),V={verbose:"VERBOSE",info:"INFO",debug:"DEBUG",warn:"WARN",error:"ERROR",none:"NONE"},q=function(e){v(n,e);var t=w(n);function n(){return d(this,n),t.apply(this,arguments)}return g(n,[{key:"log",value:function(e){for(var t,n,r,i,o,a=this.getLogLevelText(e);a.length<8;)a+=" ";for(var s=arguments.length,u=new Array(s>1?s-1:0),c=1;c<s;c++)u[c-1]=arguments[c];switch(u.unshift("[".concat(a,"]")),e){case"verbose":(t=console).log.apply(t,u);break;case"debug":(n=console).log.apply(n,u);break;case"info":(r=console).info.apply(r,u);break;case"warn":(i=console).warn.apply(i,u);break;case"error":(o=console).error.apply(o,u)}}},{key:"groupStart",value:function(){var e;(e=console).group.apply(e,arguments)}},{key:"groupEnd",value:function(){var e;(e=console).groupEnd.apply(e,arguments)}}]),n}(function(){function e(){d(this,e)}return g(e,[{key:"getLogLevelText",value:function(e){return V[e]}}]),e}()),G={DEBUG:"debug",PRODUCTION:"production"},z=G.PRODUCTION,W={VERBOSE:"verbose",DEBUG:"debug",INFO:"info",WARN:"warn",ERROR:"error",NONE:"none"},K=[W.NONE,W.ERROR,W.WARN,W.INFO,W.DEBUG,W.VERBOSE],Y=W.WARN,Q=K.indexOf(Y),$=[new q],X=function(){function e(){d(this,e)}return g(e,null,[{key:"Mode",get:function(){return G}},{key:"mode",get:function(){return z},set:function(t){Object.keys(e.Mode).map(function(t){return e.Mode[t]}).indexOf(t)>-1&&(z=t)}},{key:"supportedLogLevels",get:function(){return W}},{key:"logLevel",get:function(){return K[Q]},set:function(e){K.includes(e)||(e=Y),Q=K.indexOf(e)}},{key:"defaultLogLevel",get:function(){return Y}},{key:"isDisplayableLogLevel",value:function(e){var t=K.indexOf(e);return 0<=t&&t<=Q}},{key:"log",value:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];e.isDisplayableLogLevel(t)&&$.forEach(function(e){return e.log.apply(e,[t].concat(r))})}},{key:"verbose",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e.log.apply(e,[W.VERBOSE].concat(n))}},{key:"debug",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e.log.apply(e,[W.DEBUG].concat(n))}},{key:"info",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e.log.apply(e,[W.INFO].concat(n))}},{key:"warn",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e.log.apply(e,[W.WARN].concat(n))}},{key:"error",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e.log.apply(e,[W.ERROR].concat(n))}},{key:"group",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=[];Array.isArray(n[n.length-1])&&(i=n.pop()),i.some(function(t){return e.isDisplayableLogLevel(t.level)})&&$.filter(function(e){return e instanceof q}).forEach(function(e){e.groupStart.apply(e,n),i.forEach(function(t){return e.log.apply(e,[t.level].concat(C(t.messages)))}),e.groupEnd()})}}]),e}(),J=function(){function e(){d(this,e),this._queue=[],this.locked=!1}return g(e,[{key:"lock",value:function(e){var t=this;this.locked?this._queue.push(e):(this.locked=!0,e(function(){return t.unlock()}))}},{key:"unlock",value:function(){if(this.locked=!1,this._queue.length>0){var e=this._queue.shift();this.lock(e)}}}]),e}(),Z=function(){function e(t){d(this,e),this.sb=t,this.mutex=new J,this.pingTimer=null,this.pingTimeoutTimer=null}return g(e,[{key:"ping",value:function(){var e=this,t=B.get(this.sb._iid).Command.bPing(),n=N.get(this.sb._iid).container,r=n.wsAdapter,i=n.pongTimeout;r.client.send(t),X.debug("`PING`"),this.pingTimeoutTimer=setTimeout(function(){X.debug("`PING` timeout."),e.stop(),r.client.handler&&r.client.handler.onError()},i)}},{key:"pong",value:function(){this.pingTimeoutTimer&&(clearTimeout(this.pingTimeoutTimer),this.pingTimeoutTimer=null)}},{key:"refreshTimer",value:function(){var e=this,t=N.get(this.sb._iid).container.pingInterval;this.mutex.lock(function(n){e.stop(),e.pingTimer=setInterval(function(){e.ping()},t),n()})}},{key:"start",value:function(){this.refreshTimer(),this.ping()}},{key:"stop",value:function(){this.pingTimer&&(clearInterval(this.pingTimer),this.pingTimer=null),this.pingTimeoutTimer&&(clearTimeout(this.pingTimeoutTimer),this.pingTimeoutTimer=null)}}]),e}(),ee=function(){return"undefined"==typeof document&&"undefined"!=typeof navigator&&"ReactNative"==navigator.product},te=function(){return"undefined"==typeof window&&"undefined"!=typeof t&&("node"===t.title||void 0!==t.versions&&t.versions.node||"[object process]"===String(t))};!function(e){e.FILE="file",e.BLOB="blob",e.BLOB_LIKE_OBJECT="blobLikeObject",e.URL="url"}(j||(j={}));var ne=function(){function e(){}var t;return e.isFileLikeObject=function(e){return"object"==typeof e&&null!==e&&e.hasOwnProperty("name")&&"string"==typeof e.name&&e.hasOwnProperty("uri")&&"string"==typeof e.uri&&e.hasOwnProperty("type")&&"string"==typeof e.type},t=e,e.convertFileToDataUrl=function(e){return new Promise(function(t,n){var r=new FileReader;r.onload=function(e){return t(r.result)},r.onerror=function(e){return n(r.error)},r.readAsDataURL(e)})},e.convertFileToArrayBuffer=function(e){return new Promise(function(t,n){var r=new FileReader;r.onload=function(e){return t(r.result)},r.onerror=function(e){return n(r.error)},r.readAsArrayBuffer(e)})},e.convertDataUrlToByteArray=function(e){for(var t=e.split(","),n=t[0].match(/:(.*?);/)[1],r=atob(t[1]),i=r.length,o=new Uint8Array(i);i--;)o[i]=r.charCodeAt(i);return[o,n]},e.convertDataURLtoFile=function(e,n){var r=t.convertDataUrlToByteArray(e),i=r[0],o=r[1];return new File([i],n,{type:o})},e.convertDataURLtoBlob=function(e){var n=t.convertDataUrlToByteArray(e),r=n[0],i=n[1];return new Blob([r],{type:i})},e.convertArrayBufferToFile=function(e,t){return new File([e],t)},e.isFile=function(e){return"undefined"!=typeof window&&"File"in window&&"undefined"!=typeof File&&e instanceof File},e.isBlob=function(e){return"undefined"!=typeof window&&"Blob"in window&&"undefined"!=typeof Blob&&e instanceof Blob},e.isFileTypeBlob=function(e){return e===j.BLOB||e===j.FILE},e.convertBlobToBuffer=function(n){return M(void 0,void 0,void 0,function(){var i;return L(t,function(t){switch(t.label){case 0:return[4,e.convertFileToArrayBuffer(n)];case 1:return i=t.sent(),[2,r.from(i)]}})})},e}(),re=[U.CONNECTION_REQUIRED,U.NETWORK_ERROR,U.ACK_TIMEOUT,U.WEBSOCKET_CONNECTION_CLOSED,U.WEBSOCKET_CONNECTION_FAILED,U.FILE_UPLOAD_CANCEL_FAILED,U.REQUEST_CANCELED,500901,500910,900200],ie=[U.SESSION_TOKEN_EXPIRED,U.SESSION_TOKEN_REVOKED,U.USER_DEACTIVATED,U.NON_EXISTING_USER],oe=[U.WEBSOCKET_CONNECTION_CLOSED,U.WEBSOCKET_CONNECTION_FAILED],ae=function(){function e(){}return e.deepEqual=function(e,t){if(e!==t){var n=x({},e),r=x({},t);return(!n.hasOwnProperty("messageId")||!r.hasOwnProperty("messageId")||n.messageId===r.messageId)&&(!n.hasOwnProperty("reqId")||!r.hasOwnProperty("reqId")||n.reqId===r.reqId)&&(n.hasOwnProperty("messageId")&&delete n.messageId,n.hasOwnProperty("reqId")&&delete n.reqId,r.hasOwnProperty("messageId")&&delete r.messageId,r.hasOwnProperty("reqId")&&delete r.reqId,JSON.stringify(n)===JSON.stringify(r))}return!0},e.isResendableError=function(e){return e>0&&re.indexOf(e)>=0},e.isAutoResendableError=function(e){return e>0&&oe.indexOf(e)>=0},e.isNonAutoReconnectableError=function(e){return e>0&&ie.indexOf(e)>=0},e.isFile=function(e){var t=ne.isFileLikeObject(e);return t||(te()?"undefined"!=typeof r&&e instanceof r:"undefined"!=typeof Blob?e instanceof Blob:"undefined"!=typeof File&&e instanceof File)},e}(),se=function(){function e(e){var t=this;this.fields={},e&&Object.keys(e).forEach(function(n){t.fields[n]={value:e[n]},ae.isFile(e[n])&&(t.fields[n].filename=e[n].name)}),this.options={},this.internal=!1,this.upload={reqId:null,deleteRequest:null,progressHandler:null}}return e.prototype.add=function(e,t,n){void 0===n&&(n=null),this.fields[e]={value:t,filename:n}},e.prototype.remove=function(e){this.fields.hasOwnProperty(e)&&delete this.fields[e]},e.prototype.yield=function(){return M(this,void 0,void 0,function(){var e,n,r,i,o,a,s,c,l,h,f,d,p=this;return L(this,function(g){switch(g.label){case 0:for(e=!1,n=Object.keys(this.fields),r=0,i=n;r<i.length;r++)if(c=i[r],ae.isFile(this.fields[c].value)){e=!0;break}if(!e)return[3,10];o=new u.default,a=0,s=n,g.label=1;case 1:return a<s.length?(c=s[a],l=this.fields[c],ae.isFile(l.value)?(h=l.value).filename||h.name?(o.append(c,l.value,h.filename||h.name),[3,6]):[3,2]:[3,7]):[3,9];case 2:return h.data?(o.append(c,l.value,h.data.name),[3,6]):[3,3];case 3:return f=l.value,"undefined"!=typeof window&&"undefined"!=typeof t&&t.title.endsWith("node")&&t.versions&&t.versions.node&&"undefined"!=typeof Blob&&f instanceof Blob||"undefined"!=typeof File&&f instanceof File?[4,ne.convertBlobToBuffer(f)]:[3,5];case 4:f=g.sent(),g.label=5;case 5:o.append(c,f,"unnamed"),g.label=6;case 6:return[3,8];case 7:ee()&&Array.isArray(l.value)?o.append(c,String(l.value)):o.append(c,l.value),g.label=8;case 8:return a++,[3,1];case 9:return[2,o];case 10:return d={},Object.keys(this.fields).forEach(function(e){d[e]=p.fields[e].value}),[2,d]}})})},e}(),ue=function(e,t,n){return void 0===n&&(n=null),new Promise(function(r,i){var o=function(t,o){void 0===o&&(o=null),n&&(N.get(e).get("isErrorFirstInCallback")?n(t,o):n(o,t)),t?i(t):r(o)};o.isPromisifyCallback=!0,t(o)})},ce=function(){function e(t){d(this,e),this.sb=t,this.cls=B.get(this.sb._iid)}return g(e,[{key:"checkRouting",value:function(e){if(this.sb.customApiHost&&this.sb.customWsHost)"function"==typeof e&&e(null,{apiHost:this.sb.customApiHost,wsHost:this.sb.customWsHost});else{var t=this.sb.getApplicationId();e(null,{apiHost:"https://api-".concat(t,".sendbird.com"),wsHost:"wss://ws-".concat(t,".sendbird.com")})}}},{key:"_buildUrl",value:function(e){var t=e.apiHost,n=e.url,r=e.params;return n?r&&r.internal?"".concat(t,"/v").concat(I.SDK_MAJOR_VERSION,"/sdk").concat(n):"".concat(t,"/v").concat(I.SDK_MAJOR_VERSION).concat(n):t}},{key:"_createHeader",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.noSessionKey,r=void 0!==n&&n,i=t.accessToken,o=void 0===i?null:i,a=e instanceof u.default&&"function"==typeof e.getHeaders?e.getHeaders():{},s=N.get(this.sb._iid),c=s.container,l=c.appId,h=c.auth,f=c.extensions,d=c.getUserAgentWithExtensions,p=Fi.getAppVersion(),g="JS,".concat(I.OS_VERSION,",").concat(I.SDK_VERSION,",").concat(l);return p&&(g+=",".concat(p)),a.SendBird=g,a["SB-User-Agent"]=encodeURIComponent(d(f)),!r&&h.sessionKey&&(a["Session-Key"]=h.sessionKey),o&&(a["App-Id"]=l,a["Access-Token"]=o),a["Request-Sent-Timestamp"]=(new Date).getTime().toString(),e instanceof u.default&&ee()&&(a["Content-Type"]="multipart/form-data"),a}},{key:"_createQuery",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{var n=[];return Object.keys(t).forEach(function(e){var r=t[e];if(null!=r){var i="";i="object"===f(r)?Array.isArray(r)?r.map(function(e){return encodeURIComponent("string"==typeof e?e.trim():e)}).join(","):encodeURIComponent(JSON.stringify(r)):encodeURIComponent(r),n.push("".concat(e,"=").concat(i))}}),n.length>0?"".concat(e,"?").concat(n.join("&")):e}catch(t){return X.debug("createWithEncodedGetParams is failed. - ",t),e}}},{key:"_request",value:function(e,t,n,r){var i=this;this.checkRouting(function(o,a){if(o)r(new U("Request failed.",U.REQUEST_FAILED),null);else{var c=i._buildUrl({apiHost:a.apiHost,url:t,params:n});(n?n.yield():Promise.resolve({})).then(function(o){var a=i._createHeader(o,n?n.options:{}),l=[{level:X.supportedLogLevels.DEBUG,messages:["url:",t]},{level:X.supportedLogLevels.DEBUG,messages:["data:",o]}],h=null;switch(e){case"GET":case"DELETE":h=i._createQuery(c,o);break;case"POST":case"PUT":h=c}var f=null;if("undefined"==typeof ServiceWorker||"undefined"==typeof ServiceWorkerRegistration||"undefined"!=typeof ServiceWorkerContainer||te()||"function"!=typeof fetch)switch(e){case"GET":f=s.default.get(h,{headers:a,validateStatus:i._validateStatus});break;case"POST":var d={headers:a,validateStatus:i._validateStatus,onUploadProgress:function(e){n.upload.progressHandler&&n.upload.progressHandler(e,n.upload.reqId)}};if(o instanceof u.default){var p=null;"function"==typeof AbortController?(p=new AbortController,d.signal=p.signal):(p=s.default.CancelToken.source(),d.cancelToken=p.token);var g=i.cls.FileMessageQueue,y=n.upload.reqId;y&&(l.push({level:X.supportedLogLevels.DEBUG,messages:["request id:",y]}),g.uploadRequest[y]=p)}f=s.default.post(h,"function"==typeof o.getBuffer?o.getBuffer():o,d);break;case"PUT":f=s.default.put(h,o,{headers:a,validateStatus:i._validateStatus});break;case"DELETE":f=s.default.delete(h,{headers:a,validateStatus:i._validateStatus})}else{var v={method:e,headers:a};switch(e){case"GET":break;case"POST":if(o instanceof u.default){if("function"==typeof AbortController){var m=new AbortController,b=m.signal;v.signal=b;var _=i.cls.FileMessageQueue,w=n.upload.reqId;w&&(l.push({level:X.supportedLogLevels.DEBUG,messages:["request id:",w]}),_.uploadRequest[w]=m)}v.body="function"==typeof o.getBuffer?o.getBuffer():o}else a["Content-Type"]="application/json; charset=utf-8",v.body=JSON.stringify(o);break;case"PUT":o instanceof u.default?v.body="function"==typeof o.getBuffer?o.getBuffer():o:(a["Content-Type"]="application/json; charset=utf-8",v.body=JSON.stringify(o))}f=fetch(h,v).then(function(e){return e.json().then(function(t){if(!i._validateStatus(e.status))throw{request:{isAbort:!1},response:{data:t}};return Promise.resolve({data:t})})})}X.group("".concat(e," request"),l),l=[],f.then(function(t){try{var i=t.data;"POST"===e&&"function"==typeof n.upload.deleteRequest&&n.upload.deleteRequest(),l.push({level:X.supportedLogLevels.DEBUG,messages:["data:",i]}),r(null,i)}catch(e){throw{code:888e3,rawError:e}}}).catch(function(o){if(888e3===o.code)throw o.rawError;"POST"===e&&"function"==typeof n.upload.deleteRequest&&n.upload.deleteRequest();var a=i._handleError(o);if(l.push({level:X.supportedLogLevels.DEBUG,messages:["error:",a]}),t&&n)if(n.options&&n.options.isSessionRefresh)r(a,null);else{var s=N.get(i.sb._iid).container.sessionManager;s.isSessionError(a)?s.refreshSessionIfExpiredError(a).then(function(){return r(new U("Session is refreshed successfully.",U.SESSION_REFRESH_SUCCESS),null)}).catch(function(e){return r(new U("Session refresh failed.",U.SESSION_REFRESH_FAILED),null)}):r(a,null)}else r(a,null)}).finally(function(){return X.group("".concat(e," response"),l)})})}})}},{key:"_validateStatus",value:function(e){return e>=200&&e<400}},{key:"_handleError",value:function(e){var t=e.request,n=e.response;if(t){if(t.isAbort||t.aborted)return new U("Request has been canceled.",U.REQUEST_CANCELED);if(n){var r=n.data,i=r?r.message:"Request failed.",o=r?r.code:U.REQUEST_FAILED;return new U(i,o)}return new U("Request failed.",U.REQUEST_FAILED)}return new U("There was a network error.",U.NETWORK_ERROR)}},{key:"get",value:function(e,t,n){this._request("GET",e,t,n)}},{key:"dummyCall",value:function(e){this._request("GET",null,null,e)}},{key:"post",value:function(e,t,n){this._request("POST",e,t,n)}},{key:"put",value:function(e,t,n){this._request("PUT",e,t,n)}},{key:"delete",value:function(e,t,n){this._request("DELETE",e,t,n)}},{key:"refreshSessionKey",value:function(t,n){var r=this,i=t.accessToken;this.sb.ConnectionManager.ready(function(t,o){if(t)n(t,null);else{var a=e.Path.USERS_USERID_SESSION_KEY.replace("%s",encodeURIComponent(o.userId)),s=new se;s.add("expiring_session",!0),s.options.isSessionRefresh=!0,s.options.noSessionKey=!0,s.options.accessToken=i,r.post(a,s,n)}})}},{key:"updateCurrentUserInfo",value:function(t,n){var r=this,i=t.nickname,o=t.profileUrl,a=t.profileImage,s=t.preferredLanguages;this.sb.ConnectionManager.ready(function(t,u){if(t)n(t,null);else{var c=e.Path.USERS_USERID.replace("%s",encodeURIComponent(u.userId)),l=new se;i&&l.add("nickname",i),o&&l.add("profile_url",o),a&&l.add("profile_file",a,a.name),s&&l.add("preferred_languages",s),r.put(c,l,n)}})}},{key:"getMyGroupChannelChangeLogs",value:function(t,n){var r=this;return ue(this.sb._iid,function(n){var i=t.ts,o=t.token,a=t.customTypes,s=t.includeEmpty,u=t.includeFrozen;r.sb.ConnectionManager.ready(function(t,c){if(t)n(t,null);else{var l=e.Path.USERS_USERID_MY_GROUP_CHANNEL_CHANGELOGS.replace("%s",encodeURIComponent(c.userId)),h=new se({show_read_receipt:!0,show_delivery_receipt:!0,show_member:!0});o&&h.add("token",o),i&&h.add("change_ts",i),a&&a.length>0&&h.add("custom_types",a),"boolean"==typeof s&&h.add("show_empty",s),"boolean"==typeof u&&h.add("show_frozen",u),r.get(l,h,n)}})},n)}},{key:"getChannelInvitationPreference",value:function(t,n){var r=this;this.sb.ConnectionManager.ready(function(t,i){if(t)n(t,null);else{var o=e.Path.USERS_USERID_GROUP_CHANNEL_INVITATION_PREFERENCE.replace("%s",encodeURIComponent(i.userId));r.get(o,null,n)}})}},{key:"getGroupChannelCount",value:function(t,n){var r=this,i=t.memberStateFilter;this.sb.ConnectionManager.ready(function(t,o){if(t)n(t,null);else{var a=r.cls.GroupChannel,s=e.Path.USERS_USERID_GROUP_CHANNEL_COUNT.replace("%s",encodeURIComponent(o.userId)),u="";switch(i){case a.MemberStateFilter.JOINED:u="joined";break;case a.MemberStateFilter.INVITED:u="invited";break;case a.MemberStateFilter.INVITED_BY_FRIEND:u="invited_by_friend";break;case a.MemberStateFilter.INVITED_BY_NON_FRIEND:u="invited_by_non_friend";break;default:u="all"}var c=new se({state:u});r.get(s,c,n)}})}},{key:"getUnreadItemCount",value:function(t,n){var r=this,i=t.keys;this.sb.ConnectionManager.ready(function(t,o){if(t)n(t,null);else{var a=e.Path.USERS_USERID_UNREAD_ITEM_COUNT.replace("%s",encodeURIComponent(o.userId)),s=new se({item_keys:i});r.get(a,s,n)}})}},{key:"getTotalUnreadMessageCount",value:function(t,n){var r=this,i=t.customTypesFilter,o=t.superChannelFilter;this.sb.ConnectionManager.ready(function(t,a){if(t)n(t,null);else{var s=e.Path.USERS_USERID_UNREAD_MESSAGE_COUNT.replace("%s",encodeURIComponent(a.userId)),u=new se({super_mode:o});null!==i&&i.length>0&&u.add("custom_types",i),r.get(s,u,n)}})}},{key:"getTotalUnreadChannelCount",value:function(t,n){var r=this,i=t.customTypesFilter,o=t.superChannelFilter;this.sb.ConnectionManager.ready(function(t,a){if(t)n(t,null);else{var s=e.Path.USERS_USERID_UNREAD_CHANNEL_COUNT.replace("%s",encodeURIComponent(a.userId)),u=new se({super_mode:o});null!==i&&i.length>0&&u.add("custom_types",i),r.get(s,u,n)}})}},{key:"searchMessages",value:function(t,n){var r=this,i=t.keyword,o=t.limit,a=t.reverse,s=t.exactMatch,u=t.channelUrl,c=t.channelCustomType,l=t.messageTimestampFrom,h=t.messageTimestampTo,f=t.order,d=t.nextToken,p=t.advancedQuery,g=t.targetFields;this.sb.ConnectionManager.ready(function(t,y){if(t)n(t,null);else{var v=e.Path.SEARCH_MESSAGE,m=new se({limit:o,reverse:a,query:i,custom_type:c});l&&m.add("message_ts_from",l),h&&m.add("message_ts_to",h),u&&m.add("channel_url",u),f&&m.add("sort_field",f),"boolean"==typeof s&&m.add("exact_match",s),null!==d&&d.length>0&&m.add("after",d),"boolean"==typeof p&&m.add("advanced_query",p),g&&Array.isArray(g)&&m.add("target_fields",g),r.get(v,m,n)}})}},{key:"markAsReadAll",value:function(t,n){var r=this,i=t.channelUrls;this.sb.ConnectionManager.ready(function(t,o){if(t)n(t,null);else{var a=e.Path.USERS_USERID_MARKASREADALL.replace("%s",encodeURIComponent(o.userId)),s=new se;i&&s.add("channel_urls",i),r.put(a,s,n)}})}},{key:"markAsDelivered",value:function(t,n){var r=this,i=t.channelUrl,o=t.userId;this.sb.ConnectionManager.ready(function(t,a){if(t)n(t,null);else{var s=e.Path.GROUPCHANNELS_CHANNELURL_MESSAGES_MARKASDELIVERED.replace("%s",encodeURIComponent(i)),u=new se;o&&u.add("user_id",o),r.put(s,u,n)}})}},{key:"setChannelInvitationPreference",value:function(t,n){var r=this,i=t.isAutoAccept;this.sb.ConnectionManager.ready(function(t,o){if(t)n(t,null);else{var a=e.Path.USERS_USERID_GROUP_CHANNEL_INVITATION_PREFERENCE.replace("%s",encodeURIComponent(o.userId)),s=new se({auto_accept:i});r.put(a,s,n)}})}},{key:"blockUser",value:function(t,n){var r=this,i=t.blockedUserId;this.sb.ConnectionManager.ready(function(t,o){if(t)n(t,null);else{var a=e.Path.USERS_USERID_BLOCK.replace("%s",encodeURIComponent(o.userId)),s=new se({target_id:i});r.post(a,s,n)}})}},{key:"unblockUser",value:function(t,n){var r=this,i=t.unblockedUserId;this.sb.ConnectionManager.ready(function(t,o){if(t)n(t,null);else{var a=e.Path.USERS_USERID_BLOCK_TARGETID.replace("%s",encodeURIComponent(o.userId)).replace("%s",encodeURIComponent(i));r.delete(a,null,n)}})}},{key:"getPushTriggerOption",value:function(t,n){var r=this;this.sb.ConnectionManager.ready(function(t,i){if(t)n(t,null);else{var o=e.Path.USERS_USERID_PUSHPREFERENCE.replace("%s",encodeURIComponent(i.userId));r.get(o,null,n)}})}},{key:"setPushTriggerOption",value:function(t,n){var r=this,i=t.pushTriggerOption;this.sb.ConnectionManager.ready(function(t,o){if(t)n(t,null);else{var a=e.Path.USERS_USERID_PUSHPREFERENCE.replace("%s",encodeURIComponent(o.userId)),s=new se({push_trigger_option:i});r.put(a,s,n)}})}},{key:"getPushTokens",value:function(t,n){var r=this,i=t.ts,o=t.token,a=t.type;this.sb.ConnectionManager.ready(function(t,s){if(t)n(t,null);else{var u=e.Path.USERS_USERID_PUSH_DEVICE_TOKENS.replace("%s",encodeURIComponent(s.userId)).replace("%s",encodeURIComponent(a)),c=new se;o&&c.add("token",o),i&&c.add("created_ts",i),r.get(u,c,n)}})}},{key:"getPushTemplate",value:function(t,n){var r=this;this.sb.ConnectionManager.ready(function(t,i){if(t)n(t,null);else{var o=e.Path.USERS_USERID_PUSH_TEMPLATE.replace("%s",encodeURIComponent(i.userId));r.get(o,null,n)}})}},{key:"setPushTemplate",value:function(t,n){var r=this,i=t.templateName;this.sb.ConnectionManager.ready(function(t,o){if(t)n(t,null);else{var a=e.Path.USERS_USERID_PUSH_TEMPLATE.replace("%s",encodeURIComponent(o.userId)),s=new se({name:i});r.put(a,s,n)}})}},{key:"getDoNotDisturb",value:function(t,n){var r=this;this.sb.ConnectionManager.ready(function(t,i){if(t)n(t,null);else{var o=e.Path.USERS_USERID_PUSHPREFERENCE.replace("%s",encodeURIComponent(i.userId));r.get(o,null,n)}})}},{key:"setDoNotDisturb",value:function(t,n){var r=this,i=t.doNotDisturbOn,o=t.startHour,a=t.startMin,s=t.endHour,u=t.endMin,c=t.timezone;this.sb.ConnectionManager.ready(function(t,l){if(t)n(t,null);else{var h=e.Path.USERS_USERID_PUSHPREFERENCE.replace("%s",encodeURIComponent(l.userId)),f=new se({do_not_disturb:i,start_hour:o,start_min:a,end_hour:s,end_min:u,timezone:c});r.put(h,f,n)}})}},{key:"getSnoozePeriod",value:function(t,n){var r=this;this.sb.ConnectionManager.ready(function(t,i){if(t)n(t,null);else{var o=e.Path.USERS_USERID_PUSHPREFERENCE.replace("%s",encodeURIComponent(i.userId));r.get(o,null,n)}})}},{key:"setSnoozePeriod",value:function(t,n){var r=this,i=t.snoozeOn,o=t.startTs,a=t.endTs;this.sb.ConnectionManager.ready(function(t,s){if(t)n(t,null);else{var u=e.Path.USERS_USERID_PUSHPREFERENCE.replace("%s",encodeURIComponent(s.userId)),c=new se({snooze_enabled:i,snooze_start_ts:o,snooze_end_ts:a});r.put(u,c,n)}})}},{key:"registerGCMPushToken",value:function(t,n){var r=this,i=t.token;this.sb.ConnectionManager.ready(function(t,o){if(t)n(t,null);else{var a=e.Path.USERS_USERID_PUSH_GCM.replace("%s",encodeURIComponent(o.userId)),s=new se({gcm_reg_token:i,always_push:!0});r.post(a,s,n)}})}},{key:"unregisterGCMPushToken",value:function(t,n){var r=this,i=t.token;this.sb.ConnectionManager.ready(function(t,o){if(t)n(t,null);else{var a=e.Path.USERS_USERID_PUSH_GCM_TOKEN.replace("%s",encodeURIComponent(o.userId)).replace("%s",encodeURIComponent(i));r.delete(a,null,n)}})}},{key:"unregisterAllGCMPushTokens",value:function(t,n){var r=this;this.sb.ConnectionManager.ready(function(t,i){if(t)n(t,null);else{var o=e.Path.USERS_USERID_PUSH_GCM.replace("%s",encodeURIComponent(i.userId));r.delete(o,null,n)}})}},{key:"registerAPNSPushToken",value:function(t,n){var r=this,i=t.token;this.sb.ConnectionManager.ready(function(t,o){if(t)n(t,null);else{var a=e.Path.USERS_USERID_PUSH_APNS.replace("%s",encodeURIComponent(o.userId)),s=new se({apns_device_token:i,always_push:!0});r.post(a,s,n)}})}},{key:"unregisterAPNSPushToken",value:function(t,n){var r=this,i=t.token;this.sb.ConnectionManager.ready(function(t,o){if(t)n(t,null);else{var a=e.Path.USERS_USERID_PUSH_APNS_TOKEN.replace("%s",encodeURIComponent(o.userId)).replace("%s",encodeURIComponent(i));r.delete(a,null,n)}})}},{key:"unregisterAllAPNSPushTokens",value:function(t,n){var r=this;this.sb.ConnectionManager.ready(function(t,i){if(t)n(t,null);else{var o=e.Path.USERS_USERID_PUSH_APNS.replace("%s",encodeURIComponent(i.userId));r.delete(o,null,n)}})}},{key:"unregisterAllPushTokens",value:function(t,n){var r=this;this.sb.ConnectionManager.ready(function(t,i){if(t)n(t,null);else{var o=e.Path.USERS_USERID_PUSH.replace("%s",encodeURIComponent(i.userId));r.delete(o,null,n)}})}},{key:"loadFriendList",value:function(t,n){var r=this,i=t.token,o=t.limit;this.sb.ConnectionManager.ready(function(t,a){if(t)n(t,null);else{var s=e.Path.FRIENDS.replace("%s",encodeURIComponent(a.userId)),u=new se({limit:o,token:i});r.get(s,u,n)}})}},{key:"getFriendChangeLogsByToken",value:function(t,n){var r=this,i=t.token;this.sb.ConnectionManager.ready(function(t,o){if(t)n(t,null);else{var a=e.Path.FRIENDS_CHANGE_LOGS.replace("%s",encodeURIComponent(o.userId)),s=new se;i&&s.add("token",i),r.get(a,s,n)}})}},{key:"addFriends",value:function(t,n){var r=this,i=t.userIds;this.sb.ConnectionManager.ready(function(t,o){if(t)n(t,null);else{var a=e.Path.FRIENDS.replace("%s",encodeURIComponent(o.userId)),s=new se({user_ids:i});r.post(a,s,n)}})}},{key:"deleteFriends",value:function(t,n){var r=this,i=t.userIds;this.sb.ConnectionManager.ready(function(t,o){if(t)n(t,null);else{var a=e.Path.FRIENDS.replace("%s",encodeURIComponent(o.userId)),s=new se({user_ids:i});r.delete(a,s,n)}})}},{key:"uploadFriendDiscoveries",value:function(t,n){var r=this,i=t.discoveries;this.sb.ConnectionManager.ready(function(t,o){if(t)n(t,null);else{var a=e.Path.FRIENDS_DISCOVERIES.replace("%s",encodeURIComponent(o.userId)),s=[];i.forEach(function(e){s.push({friend_discovery_key:e.friendDiscoveryKey,friend_name:"string"==typeof e.friendName||e.friendName?e.friendName:null})});var u=new se({friend_discoveries:s});r.put(a,u,n)}})}},{key:"deleteFriendDiscoveries",value:function(t,n){var r=this,i=t.discoveryKeys;this.sb.ConnectionManager.ready(function(t,o){if(t)n(t,null);else{var a=e.Path.FRIENDS_DISCOVERIES.replace("%s",encodeURIComponent(o.userId)),s=new se({friend_discovery_keys:i});r.delete(a,s,n)}})}},{key:"loadUserList",value:function(t,n){var r=this,i=t.token,o=t.limit,a=t.userIdsFilter,s=t.metaDataKeyFilter,u=t.metaDataValuesFilter,c=t.nicknameStartsWithFilter;this.sb.ConnectionManager.ready(function(t,l){if(t)n(t,null);else{var h=e.Path.USERS,f=new se({token:i,limit:o});a&&a.length>0&&f.add("user_ids",a),s&&u&&u.length>0&&(f.add("metadatakey",s),f.add("metadatavalues_in",u)),c&&f.add("nickname_startswith",c),r.get(h,f,n)}})}},{key:"loadBlockedUserList",value:function(t,n){var r=this,i=t.token,o=t.limit,a=t.userIdsFilter;this.sb.ConnectionManager.ready(function(t,s){if(t)n(t,null);else{var u=e.Path.USERS_USERID_BLOCK.replace("%s",encodeURIComponent(s.userId)),c=new se({token:i,limit:o});a&&a.length>0&&c.add("user_ids",a),r.get(u,c,n)}})}},{key:"createUserMetaData",value:function(t,n){var r=this,i=t.metaData;this.sb.ConnectionManager.ready(function(t,o){if(t)n(t,null);else{var a=e.Path.USERS_USERID_METADATA.replace("%s",encodeURIComponent(o.userId)),s=new se({metadata:i});r.post(a,s,n)}})}},{key:"updateUserMetaData",value:function(t,n){var r=this,i=t.metaData,o=t.upsert;this.sb.ConnectionManager.ready(function(t,a){if(t)n(t,null);else{var s=e.Path.USERS_USERID_METADATA.replace("%s",encodeURIComponent(a.userId)),u=new se({metadata:i,upsert:o});r.put(s,u,n)}})}},{key:"deleteUserMetaData",value:function(t,n){var r=this,i=t.metaDataKey;this.sb.ConnectionManager.ready(function(t,o){if(t)n(t,null);else{var a=e.Path.USERS_USERID_METADATA_KEY.replace("%s",encodeURIComponent(o.userId)).replace("%s",encodeURIComponent(i));r.delete(a,null,n)}})}},{key:"deleteAllUserMetaData",value:function(t,n){var r=this;this.sb.ConnectionManager.ready(function(t,i){if(t)n(t,null);else{var o=e.Path.USERS_USERID_METADATA.replace("%s",encodeURIComponent(i.userId));r.delete(o,null,n)}})}},{key:"getMessageChangeLogs",value:function(t,n){var r=this;return ue(this.sb._iid,function(n){var i=t.channelUrl,o=t.ts,a=t.timestamp,s=t.token,u=t.isOpenChannel,c=t.includeMetaArray,l=t.includeReaction,h=t.includeReactions,f=t.includeReplies,d=t.includeParentMessageText,p=t.includeThreadInfo,g=t.replyType,y=t.includeParentMessageInfo,v=t.includePollDetails;r.sb.ConnectionManager.ready(function(t,m){if(t)n(t,null);else{var b=u?e.Path.OPENCHANNELS_CHANNELURL_MESSAGES_CHANGELOGS.replace("%s",encodeURIComponent(i)):e.Path.GROUPCHANNELS_CHANNELURL_MESSAGES_CHANGELOGS.replace("%s",encodeURIComponent(i)),_=new se;s&&_.add("token",s),o&&_.add("change_ts",o),a&&_.add("change_ts",a),"boolean"==typeof c&&_.add("with_sorted_meta_array",c),"boolean"==typeof h?_.add("include_reactions",h):_.add("include_reactions","boolean"==typeof l&&l),"boolean"==typeof p&&_.add("include_thread_info",p),"string"==typeof g?_.add("include_reply_type",g):_.add("include_reply_type","boolean"==typeof f&&f?r.cls.BaseMessage.ReplyType.ALL:r.cls.BaseMessage.ReplyType.NONE),"boolean"==typeof y?_.add("include_parent_message_info",y):_.add("include_parent_message_info","boolean"==typeof d&&d),"boolean"==typeof v&&_.add("include_poll_details",v),r.get(b,_,n)}})},n)}},{key:"getMyMutedInfo",value:function(t,n){var r=this,i=t.channelUrl,o=t.userId,a=t.isGroupChannel;this.sb.ConnectionManager.ready(function(t,s){if(t)n(t,null);else{var u=a?e.Path.GROUPCHANNELS_CHANNELURL_MUTE_USERID.replace("%s",encodeURIComponent(i)).replace("%s",encodeURIComponent(o)):e.Path.OPENCHANNELS_CHANNELURL_MUTE_USERID.replace("%s",encodeURIComponent(i)).replace("%s",encodeURIComponent(o));r.get(u,null,n)}})}},{key:"loadBannedUserList",value:function(t,n){var r=this,i=t.token,o=t.limit,a=t.channelUrl,s=t.isOpenChannel;this.sb.ConnectionManager.ready(function(t,u){if(t)n(t,null);else{var c=s?e.Path.OPENCHANNELS_CHANNELURL_BAN.replace("%s",encodeURIComponent(a)):e.Path.GROUPCHANNELS_CHANNELURL_BAN.replace("%s",encodeURIComponent(a)),l=new se({token:i,limit:o});r.get(c,l,n)}})}},{key:"loadMutedUserList",value:function(t,n){var r=this,i=t.token,o=t.limit,a=t.channelUrl,s=t.isOpenChannel;this.sb.ConnectionManager.ready(function(t,u){if(t)n(t,null);else{var c=s?e.Path.OPENCHANNELS_CHANNELURL_MUTE.replace("%s",encodeURIComponent(a)):e.Path.GROUPCHANNELS_CHANNELURL_MUTE.replace("%s",encodeURIComponent(a)),l=new se({token:i,limit:o});r.get(c,l,n)}})}},{key:"getMessageList",value:function(t,n){var r=this;return ue(this.sb._iid,function(n){var i=t.channel,o=t.token,a=t.tokenType,s=t.isInclusive,u=t.prevResultSize,c=void 0===u?0:u,l=t.nextResultSize,h=void 0===l?0:l,f=t.shouldReverse,d=t.messageType,p=t.customType,g=t.customTypes,y=t.senderUserIds,v=t.includeMetaArray,m=t.includeReaction,b=t.includeReactions,_=t.includeReplies,w=t.includeParentMessageText,E=t.includeThreadInfo,S=t.replyType,C=t.includeParentMessageInfo,O=t.showSubchannelMessagesOnly,T=t.includePollDetails,k=t.rootMessageId,I=t.parentMessageId;r.sb.ConnectionManager.ready(function(t,u){if(t)n(t,null);else{var l=i.isOpenChannel()?e.Path.OPENCHANNELS_CHANNELURL_MESSAGES.replace("%s",i.url):e.Path.GROUPCHANNELS_CHANNELURL_MESSAGES.replace("%s",i.url),A=new se({is_sdk:String(!0),prev_limit:String(c),next_limit:String(h),include:String(s),reverse:String(f)});"timestamp"===a?A.add("message_ts",o):"messageId"===a&&A.add("message_id",String(o)),d&&A.add("message_type",String(d)),Array.isArray(g)&&(0===g.length&&("string"==typeof p?g.push(p):g.push("*")),A.add("custom_types",g)),Array.isArray(y)&&y.length>0&&A.add("sender_ids",y),"boolean"==typeof v&&A.add("with_sorted_meta_array",v),"boolean"==typeof b?A.add("include_reactions",b):A.add("include_reactions","boolean"==typeof m&&m),"boolean"==typeof E&&A.add("include_thread_info",E),"string"==typeof S?A.add("include_reply_type",S):A.add("include_reply_type","boolean"==typeof _&&_?r.cls.BaseMessage.ReplyType.ALL:r.cls.BaseMessage.ReplyType.NONE),"boolean"==typeof C?A.add("include_parent_message_info",C):A.add("include_parent_message_info","boolean"==typeof w&&w),"boolean"==typeof O&&i.isOpenChannel()&&A.add("show_subchannel_messages_only",O),"boolean"==typeof T&&A.add("include_poll_details",T),k&&A.add("root_message_id",k),I&&A.add("parent_message_id",I),r.get(l,A,n)}})},n)}},{key:"checkMessageHugeGap",value:function(t,n){var r=this;return ue(this.sb._iid,function(n){var i=t.channelUrl;t.channelType;var o=t.messageType,a=void 0===o?"":o,s=t.customTypes,u=void 0===s?["*"]:s,c=t.senderUserIds,l=void 0===c?[]:c,h=t.includeReactions,f=void 0===h||h,d=t.includeMetaArray,p=void 0!==d&&d,g=t.showSubchannelMessagesOnly,y=void 0!==g&&g,v=t.threshold,m=t.previous,b=t.next,_="".concat(e.Path.GROUPCHANNELS_CHANNELURL_MESSAGES_GAP.replace("%s",encodeURIComponent(i))),w=new se({huge_gap_threshold:v,prev_start_ts:m.from,prev_end_ts:m.to,prev_cache_count:m.cachedCount,next_start_ts:b.from,next_end_ts:b.to,next_cache_count:b.cachedCount,reverse:!0,custom_types:u,message_type:a,include_reactions:f,with_sorted_meta_array:p,show_subchannel_messages_only:y});Array.isArray(l)&&l.length>0&&w.add("sender_ids",l),r.get(_,w,n)},n)}},{key:"translateUserMessage",value:function(t,n){var r=this,i=t.channelUrl,o=t.isOpenChannel,a=t.messageId,s=t.translationTargetLanguages;this.sb.ConnectionManager.ready(function(t,u){if(t)n(t,null);else{var c=o?e.Path.OPENCHANNELS_CHANNELURL_MESSAGES_MESSAGEID_TRANSLATION.replace("%s",encodeURIComponent(i)).replace("%s",a):e.Path.GROUPCHANNELS_CHANNELURL_MESSAGES_MESSAGEID_TRANSLATION.replace("%s",encodeURIComponent(i)).replace("%s",a),l=new se({target_langs:s});r.post(c,l,n)}})}},{key:"getMessage",value:function(t,n){var r=this,i=t.channel,o=t.messageId,a=t.includeMetaArray,s=t.includeReactions,u=t.includeParentMessageText,c=t.includeThreadInfo,l=t.includeParentMessageInfo,h=t.includePollDetails;this.sb.ConnectionManager.ready(function(t,f){if(t)n(t,null);else{var d=i.isOpenChannel()?e.Path.OPENCHANNELS_CHANNELURL_MESSAGES_MESSAGEID.replace("%s",encodeURIComponent(i.url)).replace("%s",encodeURIComponent(o)):e.Path.GROUPCHANNELS_CHANNELURL_MESSAGES_MESSAGEID.replace("%s",encodeURIComponent(i.url)).replace("%s",encodeURIComponent(o)),p=new se({is_sdk:String(!0)});"boolean"==typeof a&&p.add("with_sorted_meta_array",a),"boolean"==typeof s&&p.add("include_reactions",s),"boolean"==typeof c&&p.add("include_thread_info",c),"boolean"==typeof l?p.add("include_parent_message_info",l):p.add("include_parent_message_info","boolean"==typeof u&&u),"boolean"==typeof h&&p.add("include_poll_details",h),r.get(d,p,n)}})}},{key:"deleteMessage",value:function(t,n){var r=this,i=t.channelUrl,o=t.isOpenChannel,a=t.messageId;this.sb.ConnectionManager.ready(function(t,s){if(t)n(t,null);else{var u=o?e.Path.OPENCHANNELS_CHANNELURL_MESSAGES_MESSAGEID.replace("%s",encodeURIComponent(i)).replace("%s",encodeURIComponent(a)):e.Path.GROUPCHANNELS_CHANNELURL_MESSAGES_MESSAGEID.replace("%s",encodeURIComponent(i)).replace("%s",encodeURIComponent(a));r.delete(u,null,n)}})}},{key:"muteUser",value:function(t,n){var r=this,i=t.channelUrl,o=t.userId,a=t.description,s=t.seconds,u=t.isGroupChannel;this.sb.ConnectionManager.ready(function(t,c){if(t)n(t,null);else{var l=u?e.Path.GROUPCHANNELS_CHANNELURL_MUTE.replace("%s",encodeURIComponent(i)):e.Path.OPENCHANNELS_CHANNELURL_MUTE.replace("%s",encodeURIComponent(i)),h=new se({user_id:o});s&&(s>0||-1!==s)&&h.add("seconds",s),a&&h.add("description",a),r.post(l,h,n)}})}},{key:"unmuteUser",value:function(t,n){var r=this,i=t.channelUrl,o=t.userId,a=t.isGroupChannel;this.sb.ConnectionManager.ready(function(t,s){if(t)n(t,null);else{var u=a?e.Path.GROUPCHANNELS_CHANNELURL_MUTE_USERID.replace("%s",encodeURIComponent(i)).replace("%s",encodeURIComponent(o)):e.Path.OPENCHANNELS_CHANNELURL_MUTE_USERID.replace("%s",encodeURIComponent(i)).replace("%s",encodeURIComponent(o));r.delete(u,null,n)}})}},{key:"banUser",value:function(t,n){var r=this,i=t.channelUrl,o=t.userId,a=t.description,s=t.seconds,u=t.isGroupChannel;this.sb.ConnectionManager.ready(function(t,c){if(t)n(t,null);else{var l=u?e.Path.GROUPCHANNELS_CHANNELURL_BAN.replace("%s",encodeURIComponent(i)):e.Path.OPENCHANNELS_CHANNELURL_BAN.replace("%s",encodeURIComponent(i)),h=new se({user_id:o});a&&h.add("description",a),h.add("seconds",String(s)),r.post(l,h,n)}})}},{key:"unbanUser",value:function(t,n){var r=this,i=t.channelUrl,o=t.userId,a=t.isGroupChannel;this.sb.ConnectionManager.ready(function(t,s){if(t)n(t,null);else{var u=a?e.Path.GROUPCHANNELS_CHANNELURL_BAN_USERID.replace("%s",encodeURIComponent(i)).replace("%s",encodeURIComponent(o)):e.Path.OPENCHANNELS_CHANNELURL_BAN_USERID.replace("%s",encodeURIComponent(i)).replace("%s",encodeURIComponent(o));r.delete(u,null,n)}})}},{key:"getMetaCounters",value:function(t,n){var r=this,i=t.channelUrl,o=t.isOpenChannel,a=t.keys;this.sb.ConnectionManager.ready(function(t,s){if(t)n(t,null);else{var u=o?e.Path.OPENCHANNELS_CHANNELURL_METACOUNTER.replace("%s",encodeURIComponent(i)):e.Path.GROUPCHANNELS_CHANNELURL_METACOUNTER.replace("%s",encodeURIComponent(i)),c=new se({keys:a});r.get(u,c,n)}})}},{key:"createMetaCounters",value:function(t,n){var r=this,i=t.channelUrl,o=t.isOpenChannel,a=t.metaCounter;this.sb.ConnectionManager.ready(function(t,s){if(t)n(t,null);else{var u=o?e.Path.OPENCHANNELS_CHANNELURL_METACOUNTER.replace("%s",encodeURIComponent(i)):e.Path.GROUPCHANNELS_CHANNELURL_METACOUNTER.replace("%s",encodeURIComponent(i)),c=new se({metacounter:a});r.post(u,c,n)}})}},{key:"updateMetaCounters",value:function(t,n){var r=this,i=t.channelUrl,o=t.isOpenChannel,a=t.metaCounter,s=t.upsert,u=t.mode;this.sb.ConnectionManager.ready(function(t,c){if(t)n(t,null);else{var l=o?e.Path.OPENCHANNELS_CHANNELURL_METACOUNTER.replace("%s",encodeURIComponent(i)):e.Path.GROUPCHANNELS_CHANNELURL_METACOUNTER.replace("%s",encodeURIComponent(i)),h=new se({metacounter:a,upsert:s,mode:u});r.put(l,h,n)}})}},{key:"deleteMetaCounter",value:function(t,n){var r=this,i=t.channelUrl,o=t.isOpenChannel,a=t.key;this.sb.ConnectionManager.ready(function(t,s){if(t)n(t,null);else{var u=o?e.Path.OPENCHANNELS_CHANNELURL_METACOUNTER_KEY.replace("%s",encodeURIComponent(i)).replace("%s",a):e.Path.GROUPCHANNELS_CHANNELURL_METACOUNTER_KEY.replace("%s",encodeURIComponent(i)).replace("%s",a);r.delete(u,null,n)}})}},{key:"deleteAllMetaCounters",value:function(t,n){var r=this,i=t.channelUrl,o=t.isOpenChannel;this.sb.ConnectionManager.ready(function(t,a){if(t)n(t,null);else{var s=o?e.Path.OPENCHANNELS_CHANNELURL_METACOUNTER.replace("%s",encodeURIComponent(i)):e.Path.GROUPCHANNELS_CHANNELURL_METACOUNTER.replace("%s",encodeURIComponent(i));r.delete(s,null,n)}})}},{key:"getMetaData",value:function(t,n){var r=this,i=t.channelUrl,o=t.isOpenChannel,a=t.keys;this.sb.ConnectionManager.ready(function(t,s){if(t)n(t,null);else{var u=o?e.Path.OPENCHANNELS_CHANNELURL_METADATA.replace("%s",encodeURIComponent(i)):e.Path.GROUPCHANNELS_CHANNELURL_METADATA.replace("%s",encodeURIComponent(i)),c=new se({keys:a,include_ts:!0});r.get(u,c,n)}})}},{key:"createMetaData",value:function(t,n){var r=this,i=t.channelUrl,o=t.isOpenChannel,a=t.metaData;this.sb.ConnectionManager.ready(function(t,s){if(t)n(t,null);else{var u=o?e.Path.OPENCHANNELS_CHANNELURL_METADATA.replace("%s",encodeURIComponent(i)):e.Path.GROUPCHANNELS_CHANNELURL_METADATA.replace("%s",encodeURIComponent(i)),c=new se({metadata:a,include_ts:!0});r.post(u,c,n)}})}},{key:"updateMetaData",value:function(t,n){var r=this,i=t.channelUrl,o=t.isOpenChannel,a=t.metaData,s=t.upsert;this.sb.ConnectionManager.ready(function(t,u){if(t)n(t,null);else{var c=o?e.Path.OPENCHANNELS_CHANNELURL_METADATA.replace("%s",encodeURIComponent(i)):e.Path.GROUPCHANNELS_CHANNELURL_METADATA.replace("%s",encodeURIComponent(i)),l=new se({metadata:a,upsert:s,include_ts:!0});r.put(c,l,n)}})}},{key:"deleteMetaData",value:function(t,n){var r=this,i=t.channelUrl,o=t.isOpenChannel,a=t.key;this.sb.ConnectionManager.ready(function(t,s){if(t)n(t,null);else{var u=o?e.Path.OPENCHANNELS_CHANNELURL_METADATA_KEY.replace("%s",encodeURIComponent(i)).replace("%s",a):e.Path.GROUPCHANNELS_CHANNELURL_METADATA_KEY.replace("%s",encodeURIComponent(i)).replace("%s",a),c=new se({include_ts:!0});r.delete(u,c,n)}})}},{key:"deleteAllMetaData",value:function(t,n){var r=this,i=t.channelUrl,o=t.isOpenChannel;this.sb.ConnectionManager.ready(function(t,a){if(t)n(t,null);else{var s=o?e.Path.OPENCHANNELS_CHANNELURL_METADATA.replace("%s",encodeURIComponent(i)):e.Path.GROUPCHANNELS_CHANNELURL_METADATA.replace("%s",encodeURIComponent(i)),u=new se({include_ts:!0});r.delete(s,u,n)}})}},{key:"loadOperatorList",value:function(t,n){var r=this,i=t.channelUrl,o=t.isOpenChannel,a=t.token,s=t.limit;this.sb.ConnectionManager.ready(function(t,u){if(t)n(t,null);else{var c=o?e.Path.OPENCHANNELS_OPERATORS.replace("%s",encodeURIComponent(i)):e.Path.GROUPCHANNELS_OPERATORS.replace("%s",encodeURIComponent(i)),l=new se({token:a,limit:s});r.get(c,l,n)}})}},{key:"getOpenChannel",value:function(t,n){var r=this,i=t.channelUrl,o=t.internalCall;this.sb.ConnectionManager.ready(function(t,a){if(t)n(t,null);else{var s=e.Path.OPENCHANNELS_CHANNELURL.replace("%s",encodeURIComponent(i)),u=new se({});u.internal=o===I.INTERNAL_CALL,r.get(s,u,n)}})}},{key:"loadOpenChannelList",value:function(t,n){var r=this,i=t.token,o=t.limit,a=t.nameKeyword,s=t.urlKeyword,u=t.customTypes,c=t.includeFrozen,l=t.includeMetaData;this.sb.ConnectionManager.ready(function(t,h){if(t)n(t,null);else{var f=e.Path.OPENCHANNELS,d=new se({token:i,limit:o});a&&d.add("name_contains",a),s&&d.add("url_contains",s),u&&u.length>0&&d.add("custom_types",u),"boolean"==typeof c&&d.add("show_frozen",c),"boolean"==typeof l&&d.add("show_metadata",l),r.get(f,d,n)}})}},{key:"loadParticipantList",value:function(t,n){var r=this,i=t.token,o=t.limit,a=t.channelUrl;this.sb.ConnectionManager.ready(function(t,s){if(t)n(t,null);else{var u=e.Path.OPENCHANNELS_CHANNELURL_PARTICIPANTS.replace("%s",encodeURIComponent(a)),c=new se({token:i,limit:o});r.get(u,c,n)}})}},{key:"createOpenChannel",value:function(t,n){var r=this,i=t.name,o=t.coverUrlOrImage,a=t.data,s=t.operatorUserIds,u=t.customType,c=t.channelUrl;this.sb.ConnectionManager.ready(function(t,l){if(t)n(t,null);else{var h=e.Path.OPENCHANNELS,f=new se;"string"==typeof o&&f.add("cover_url",o),ae.isFile(o)&&f.add("cover_file",o),null!==c&&"string"==typeof c&&f.add("channel_url",c),null!==i&&"string"==typeof i&&f.add("name",i),a&&f.add("data",a),s&&(Array.isArray(s)?f.add("operators",s):f.add("operators",[s])),u&&f.add("custom_type",u),r.post(h,f,n)}})}},{key:"updateOpenChannel",value:function(t,n){var r=this,i=t.channelUrl,o=t.name,a=t.coverUrlOrImage,s=t.data,u=t.operatorUserIds,c=t.customType;this.sb.ConnectionManager.ready(function(t,l){if(t)n(t,null);else{var h=e.Path.OPENCHANNELS_CHANNELURL.replace("%s",encodeURIComponent(i)),f=new se;"string"==typeof a&&f.add("cover_url",a),ae.isFile(a)&&f.add("cover_file",a,a.name),null!==o&&"string"==typeof o&&f.add("name",o),null!==s&&"string"==typeof s&&f.add("data",s),null!==u&&(Array.isArray(u)?f.add("operator_ids",u):f.add("operator_ids",[u])),null!==c&&"string"==typeof c&&f.add("custom_type",c),r.put(h,f,n)}})}},{key:"deleteOpenChannel",value:function(t,n){var r=this,i=t.channelUrl;this.sb.ConnectionManager.ready(function(t,o){if(t)n(t,null);else{var a=e.Path.OPENCHANNELS_CHANNELURL.replace("%s",encodeURIComponent(i));r.delete(a,null,n)}})}},{key:"getGroupChannel",value:function(t,n){var r=this,i=t.channelUrl,o=t.showMember,a=t.internalCall;this.sb.ConnectionManager.ready(function(t,s){if(t)n(t,null);else{var u=e.Path.GROUPCHANNELS_CHANNELURL.replace("%s",encodeURIComponent(i)),c=new se({show_member:o,show_read_receipt:!0,show_delivery_receipt:!0});c.internal=a===I.INTERNAL_CALL,r.get(u,c,n)}})}},{key:"loadGroupChannelList",value:function(t,n){var r=this,i=t.token,o=t.limit,a=t.includeEmpty,s=t.order,u=t.userIdsFilter,c=t.nicknameContainsFilter,l=t.nicknameStartsWithFilter,h=t.nicknameExactMatchFilter,f=t.channelNameContainsFilter,d=t.channelUrlsFilter,p=t.customTypesFilter,g=t.customTypeStartsWithFilter,y=t.memberStateFilter,v=t.superChannelFilter,m=t.publicChannelFilter,b=t.unreadChannelFilter,_=t.metadataOrderKeyFilter,w=t.metadataKey,E=t.metadataValues,S=t.metadataValueStartsWith,C=t.hiddenChannelFilter,O=t.searchFilter,T=t.includeFrozen,k=t.includeMetaData;return ue(this.sb._iid,function(t){r.sb.ConnectionManager.ready(function(n,I){if(n)t(n,null);else{var A=e.Path.MYGROUPCHANNELS.replace("%s",encodeURIComponent(I.userId)),N=new se({token:i,limit:o,order:s,show_member:!0,show_read_receipt:!0,show_delivery_receipt:!0,show_empty:String(a),member_state_filter:y});p&&p.length>0&&N.add("custom_types",p),c&&N.add("members_nickname_contains",c),l&&N.add("members_nickname_startswith",l),h&&N.add("members_nickname",h),f&&N.add("name_contains",f),O&&O.hasOwnProperty("search_query")&&O.hasOwnProperty("search_fields")&&(N.add("search_query",O.search_query),N.add("search_fields",O.search_fields)),u&&u.userIds&&u.userIds.length>0&&(u.includeMode?(N.add("members_include_in",u.userIds),N.add("query_type",u.queryType.toUpperCase())):N.add("members_exactly_in",u.userIds)),d&&d.length>0&&N.add("channel_urls",d),N.add("super_mode",v),N.add("public_mode",m),N.add("unread_filter",b),_&&N.add("metadata_order_key",_),w&&N.add("metadata_key",w),E&&E.length>0&&N.add("metadata_values",E),S&&N.add("metadata_value_startswith",S),g&&N.add("custom_type_startswith",g),C&&N.add("hidden_mode",C),"boolean"==typeof T&&N.add("show_frozen",T),"boolean"==typeof k&&N.add("show_metadata",k),r.get(A,N,t)}})},n)}},{key:"loadPublicGroupChannelList",value:function(t,n){var r=this,i=t.token,o=t.limit,a=t.includeEmpty,s=t.order,u=t.channelNameContainsFilter,c=t.channelUrlsFilter,l=t.customTypesFilter,h=t.customTypeStartsWithFilter,f=t.superChannelFilter,d=t.membershipFilter,p=t.metadataOrderKeyFilter,g=t.metadataKey,y=t.metadataValues,v=t.metadataValueStartsWith,m=t.includeFrozen,b=t.includeMetaData;this.sb.ConnectionManager.ready(function(t,_){if(t)n(t,null);else{var w=r.cls.GroupChannel,E=e.Path.GROUPCHANNELS,S=new se({token:i,limit:o,order:s,show_member:!0,show_read_receipt:!0,show_delivery_receipt:!0,show_empty:String(a),public_mode:w.PublicChannelFilter.PUBLIC,public_membership_mode:d});l&&l.length>0&&S.add("custom_types",l),u&&S.add("name_contains",u),c&&c.length>0&&S.add("channel_urls",c),S.add("super_mode",f),p&&S.add("metadata_order_key",p),g&&S.add("metadata_key",g),y&&y.length>0&&S.add("metadata_values",y),v&&S.add("metadata_value_startswith",v),h&&S.add("custom_type_startswith",h),"boolean"==typeof m&&S.add("show_frozen",m),"boolean"==typeof b&&S.add("show_metadata",b),r.get(E,S,n)}})}},{key:"createGroupChannel",value:function(t,n){var r=this,i=t.isDistinct,o=t.isSuper,a=t.isBroadcast,s=t.isPublic,u=t.channelUrl,c=t.isDiscoverable,l=t.isStrict,h=t.name,f=t.data,d=t.customType,p=t.coverUrl,g=t.coverImage,y=t.accessCode,v=t.isEphemeral,m=t._invitedUserIds,b=void 0===m?[]:m,_=t.operatorUserIds,w=t.messageSurvivalSeconds;this.sb.ConnectionManager.ready(function(t,m){if(t)n(t,null);else{var E=e.Path.GROUPCHANNELS,S=new se({user_ids:[m.userId].concat(C(b)).filter(function(e,t,n){return t===n.indexOf(e)})});null!==p&&"string"==typeof p&&S.add("cover_url",p),ae.isFile(g)&&S.add("cover_file",g,g.name),null!==u&&S.add("channel_url",u),null!==i&&S.add("is_distinct",i),null!==o&&S.add("is_super",o),null!==a&&S.add("is_broadcast",a),null!==s&&S.add("is_public",s),null!==c&&S.add("is_discoverable",c),null!==l&&S.add("strict",l),null!==v&&S.add("is_ephemeral",v),y&&S.add("access_code",y),null!==h&&"string"==typeof h&&S.add("name",h),f&&S.add("data",f),d&&S.add("custom_type",d),Array.isArray(_)&&_.length>0&&S.add("operator_ids",_),null!==w&&w>-1&&S.add("message_survival_seconds",w),r.post(E,S,n)}})}},{key:"updateGroupChannel",value:function(t,n){var r=this,i=t.isDistinct,o=t.isPublic,a=t.channelUrl,s=t.isDiscoverable,u=t.name,c=t.data,l=t.customType,h=t.coverUrl,f=t.coverImage,d=t.accessCode,p=t.operatorUserIds,g=t.messageSurvivalSeconds;this.sb.ConnectionManager.ready(function(t,y){if(t)n(t,null);else{var v=e.Path.GROUPCHANNELS_CHANNELURL.replace("%s",encodeURIComponent(a)),m=new se;null!==i&&m.add("is_distinct",i),null!==o&&m.add("is_public",o),null!==s&&m.add("is_discoverable",s),null!==d&&m.add("access_code",d),null!==h&&"string"==typeof h&&m.add("cover_url",h),ae.isFile(f)&&m.add("cover_file",f,f.name),null!==u&&"string"==typeof u&&m.add("name",u),null!==c&&"string"==typeof c&&m.add("data",c),null!==l&&"string"==typeof l&&m.add("custom_type",l),null!==p&&(Array.isArray(p)?m.add("operator_ids",p):p&&m.add("operator_ids",[p])),null!==g&&g>-1&&m.add("message_survival_seconds",g),r.put(v,m,n)}})}},{key:"addOperators",value:function(t,n){var r=this,i=t.channelUrl,o=t.isOpenChannel,a=void 0!==o&&o,s=t.operatorUserIds;this.sb.ConnectionManager.ready(function(t,o){if(!t){var u=(a?e.Path.OPENCHANNELS_CHANNELURL_OPERATORS:e.Path.GROUPCHANNELS_CHANNELURL_OPERATORS).replace("%s",encodeURIComponent(i)),c=new se({operator_ids:s});r.post(u,c,n)}})}},{key:"removeOperators",value:function(t,n){var r=this,i=t.channelUrl,o=t.isOpenChannel,a=void 0!==o&&o,s=t.operatorUserIds;this.sb.ConnectionManager.ready(function(t,o){if(!t){var u=(a?e.Path.OPENCHANNELS_CHANNELURL_OPERATORS:e.Path.GROUPCHANNELS_CHANNELURL_OPERATORS).replace("%s",encodeURIComponent(i)),c=new se({operator_ids:s});r.delete(u,c,n)}})}},{key:"inviteToGroupChannel",value:function(t,n){var r=this,i=t.channelUrl,o=t.userIds;this.sb.ConnectionManager.ready(function(t,a){if(t)n(t,null);else{var s=e.Path.GROUPCHANNELS_CHANNELURL_INVITE.replace("%s",encodeURIComponent(i)),u=new se({user_ids:o});r.post(s,u,n)}})}},{key:"acceptInvitation",value:function(t,n){var r=this,i=t.channelUrl,o=t.accessCode;this.sb.ConnectionManager.ready(function(t,a){if(t)n(t,null);else{var s=e.Path.GROUPCHANNELS_CHANNELURL_ACCEPT_INVITATION.replace("%s",encodeURIComponent(i)),u=new se({user_id:a.userId});o&&u.add("access_code",o),r.put(s,u,n)}})}},{key:"declineInvitation",value:function(t,n){var r=this,i=t.channelUrl;this.sb.ConnectionManager.ready(function(t,o){if(t)n(t,null);else{var a=e.Path.GROUPCHANNELS_CHANNELURL_DECLINE_INVITATION.replace("%s",encodeURIComponent(i)),s=new se({user_id:o.userId});r.put(a,s,n)}})}},{key:"joinGroupChannel",value:function(t,n){var r=this,i=t.channelUrl,o=t.accessCode;this.sb.ConnectionManager.ready(function(t,a){if(t)n(t,null);else{var s=e.Path.GROUPCHANNELS_CHANNELURL_JOIN.replace("%s",encodeURIComponent(i)),u=new se({user_id:a.userId});o&&u.add("access_code",o),r.put(s,u,n)}})}},{key:"leaveGroupChannel",value:function(t,n){var r=this,i=t.channelUrl;this.sb.ConnectionManager.ready(function(t,o){if(t)n(t,null);else{var a=e.Path.GROUPCHANNELS_CHANNELURL_LEAVE.replace("%s",encodeURIComponent(i)),s=new se({user_id:o.userId});r.put(a,s,n)}})}},{key:"hideGroupChannel",value:function(t,n){var r=this,i=t.channelUrl,o=t.hidePreviousMessages,a=t.allowAutoUnhide;this.sb.ConnectionManager.ready(function(t,s){if(t)n(t,null);else{var u=e.Path.GROUPCHANNELS_CHANNELURL_HIDE.replace("%s",encodeURIComponent(i)),c=new se({user_id:s.userId,hide_previous_messages:o,allow_auto_unhide:a});r.put(u,c,n)}})}},{key:"unhideGroupChannel",value:function(t,n){var r=this,i=t.channelUrl;this.sb.ConnectionManager.ready(function(t,o){if(t)n(t,null);else{var a=e.Path.GROUPCHANNELS_CHANNELURL_HIDE.replace("%s",encodeURIComponent(i));r.delete(a,null,n)}})}},{key:"freeze",value:function(t,n){var r=this,i=t.channelUrl,o=t.isGroupChannel,a=t.freezing;this.sb.ConnectionManager.ready(function(t,s){if(t)n(t,null);else{var u=o?e.Path.GROUPCHANNELS_CHANNELURL_FREEZE.replace("%s",encodeURIComponent(i)):e.Path.OPENCHANNELS_CHANNELURL_FREEZE.replace("%s",encodeURIComponent(i)),c=new se({freeze:a});r.put(u,c,n)}})}},{key:"deleteGroupChannel",value:function(t,n){var r=this,i=t.channelUrl;this.sb.ConnectionManager.ready(function(t,o){if(t)n(t,null);else{var a=e.Path.GROUPCHANNELS_CHANNELURL.replace("%s",encodeURIComponent(i));r.delete(a,null,n)}})}},{key:"loadMemberList",value:function(t,n){var r=this,i=t.channelUrl,o=t.token,a=t.limit,s=t.mutedMemberFilter,u=t.order,c=t.memberStateFilter,l=t.nicknameStartsWithFilter;this.sb.ConnectionManager.ready(function(t,h){if(t)n(t,null);else{var f=e.Path.GROUPCHANNELS_MEMBERS.replace("%s",encodeURIComponent(i)),d=new se({token:o,limit:a,order:u.toLowerCase(),muted_member_filter:s.toLowerCase(),member_state_filter:c,show_member_is_muted:!0,show_read_receipt:!0,show_delivery_receipt:!0});l&&d.add("nickname_startswith",l),r.get(f,d,n)}})}},{key:"report",value:function(t,n){var r=this,i=t.channelUrl,o=t.isOpenChannel,a=t.reportCategory,s=t.reportingUserId,u=t.reportDescription;this.sb.ConnectionManager.ready(function(t,c){if(t)n(t,null);else{var l=e.Path.REPORT_CHANNELS.replace("%s",encodeURIComponent(o?"open_channels":"group_channels")).replace("%s",encodeURIComponent(i)),h=new se({report_category:a});null!=s&&h.add("reporting_user_id",s),null!=u&&h.add("report_description",u),r.post(l,h,n)}})}},{key:"reportUser",value:function(t,n){var r=this,i=t.offendingUserId,o=t.channelUrl,a=t.isOpenChannel,s=t.reportCategory,u=t.reportingUserId,c=t.reportDescription;this.sb.ConnectionManager.ready(function(t,l){if(t)n(t,null);else{var h=e.Path.REPORT_USERS.replace("%s",encodeURIComponent(i)),f=new se({channel_url:o,channel_type:a?"open_channels":"group_channels",report_category:s});null!=u&&f.add("reporting_user_id",u),null!=c&&f.add("report_description",c),r.post(h,f,n)}})}},{key:"reportMessage",value:function(t,n){var r=this,i=t.channelUrl,o=t.isOpenChannel,a=t.messageId,s=t.reportCategory,u=t.reportingUserId,c=t.reportDescription,l=t.offendingUserId;this.sb.ConnectionManager.ready(function(t,h){if(t)n(t,null);else{var f=e.Path.REPORT_MESSAGES.replace("%s",encodeURIComponent(o?"open_channels":"group_channels")).replace("%s",encodeURIComponent(i)).replace("%s",encodeURIComponent(a)),d=new se({report_category:s,offending_user_id:l});null!=u&&d.add("reporting_user_id",u),null!=c&&d.add("report_description",c),r.post(f,d,n)}})}},{key:"sendUserMessage",value:function(t,n){var r=this,i=t.channelUrl,o=t.isOpenChannel,a=t.message,s=t.data,u=t.customType,c=t.translationTargetLanguages,l=t.metaArrays,h=t.mentionType,f=t.mentionedUserIds,d=t.mentionedMessageTemplate,p=t.pushNotificationDeliveryOption,g=t.rootMessageId,y=t.parentMessageId,v=t.appleCriticalAlertOptions,m=t.pollId,b=t.isReplyToChannel;this.sb.ConnectionManager.ready(function(t,_){if(t)n(t,null);else{var w=r.cls.FileMessageParams,E=o?e.Path.OPENCHANNELS_CHANNELURL_MESSAGES.replace("%s",encodeURIComponent(i)):e.Path.GROUPCHANNELS_CHANNELURL_MESSAGES.replace("%s",encodeURIComponent(i)),S=new se({message_type:"MESG",user_id:_.userId,message:a,mention_type:h,mentioned_user_ids:[]});null!=s&&S.add("data",s),null!=u&&S.add("custom_type",u),c&&S.add("translation_target_langs",c),l&&l.length>0&&S.add("sorted_metaarray",l.map(function(e){return e.encode()})),h===r.cls.BaseMessageParams.MentionType.CHANNEL?S.add("mentioned_user_ids",[]):Array.isArray(f)&&f.length>0&&S.add("mentioned_user_ids",f),d&&S.add("mentioned_message_template",d),p&&p!==w.PushNotificationDeliveryOption.DEFAULT&&S.add("push_option",p),g&&S.add("root_message_id",g),y&&S.add("parent_message_id",y),v&&S.add("apple_critical_alert_options",v.serialize()),"number"==typeof m?S.add("poll_id",m):null===m&&S.add("poll_id",-1),b&&S.add("reply_to_channel",b),r.post(E,S,n)}})}},{key:"sendFileMessage",value:function(t,n){var r=this,i=t.reqId,o=t.channelUrl,a=t.isOpenChannel,s=t.fileUrl,u=t.fileName,c=t.fileSize,l=t.fileType,h=t.data,f=t.customType,d=t.thumbnailSizes,p=t.requireAuth,g=t.metaArrays,y=t.mentionType,v=t.mentionedUserIds,m=t.pushNotificationDeliveryOption,b=t.rootMessageId,_=t.parentMessageId,w=t.appleCriticalAlertOptions,E=t.isReplyToChannel;this.sb.ConnectionManager.ready(function(t,S){if(t)n(t,null);else{var C=r.cls.FileMessageParams,O=a?e.Path.OPENCHANNELS_CHANNELURL_MESSAGES.replace("%s",encodeURIComponent(o)):e.Path.GROUPCHANNELS_CHANNELURL_MESSAGES.replace("%s",encodeURIComponent(o)),T=new se({message_type:"FILE",user_id:S.userId,url:s,mention_type:y,mentioned_user_ids:[],req_id:i});null!=u&&T.add("file_name",u),null!=c&&T.add("file_size",c),null!=l&&T.add("file_type",l),null!=h&&T.add("custom_field",h),null!=f&&T.add("custom_type",f),d&&T.add("thumbnails",d),p&&T.add("require_auth",p),g&&g.length>0&&T.add("sorted_metaarray",g.map(function(e){return e.encode()})),y===r.cls.BaseMessageParams.MentionType.CHANNEL?T.add("mentioned_user_ids",[]):Array.isArray(v)&&v.length>0&&T.add("mentioned_user_ids",v),m&&m!==C.PushNotificationDeliveryOption.DEFAULT&&T.add("push_option",m),b&&T.add("root_message_id",b),_&&T.add("parent_message_id",_),w&&T.add("apple_critical_alert_options",w.serialize()),E&&T.add("reply_to_channel",E),r.post(O,T,n)}})}},{key:"uploadFile",value:function(t,n){var r=this,i=t.file,o=t.thumbnailSizes,a=t.channelUrl,s=t.progressHandler,u=t.reqId;this.sb.ConnectionManager.ready(function(t,c){if(t)n(t,null);else{var l=N.get(r.sb._iid).container.appInfo;if(l)if("number"==typeof i.size||i.size||(i.size=0),"number"==typeof i.size)if(i.size<=l.uploadSizeLimit){var h=e.Path.STORAGE_FILE,f=new se;if(f.add("file",i,i.name),a&&"string"==typeof a&&f.add("channel_url",a),o)for(var d=0;d<o.length;d++)f.add("thumbnail"+(d+1),o[d].maxWidth+","+o[d].maxHeight);f.upload.reqId=u,f.upload.deleteRequest=function(){var e=r.cls.FileMessageQueue;e.uploadRequest[u]&&delete e.uploadRequest[u]},f.upload.progressHandler=function(e){s&&"function"==typeof s&&s(e,u)},r.post(h,f,n)}else n(new U("The file size exceeded the upload limit: ".concat(l.uploadSizeLimit),U.FILE_SIZE_LIMIT_EXCEEDED),null);else n(new U("Invalid file size: ".concat(i.size),U.INVALID_PARAMETER),null);else n(new U("Connection should be made first.",U.CONNECTION_REQUIRED),null)}})}},{key:"registerScheduledUserMessage",value:function(t,n){var r=this,i=t.groupChannelParams,o=t.channelUrl,a=t.isOpenChannel;this.sb.ConnectionManager.ready(function(t,s){if(t)n(t,null);else{var u=a?e.Path.OPENCHANNELS_CHANNELURL_SCHEDULED_MESSAGES.replace("%s",encodeURIComponent(o)):e.Path.GROUPCHANNELS_CHANNELURL_SCHEDULED_MESSAGES.replace("%s",encodeURIComponent(o)),c=new se({scheduled_dt:i._getScheduleString(),user_id:s.userId,message:i.message,data:i.data});i.customType&&c.add("custom_type",i.customType),i.metaArrayKeys&&Object.keys(i.metaArrayKeys).length>0&&c.add("metaarray",i.metaArrayKeys),i.mentionType&&c.add("mention_type",i._mentionType),i._mentionType===r.cls.BaseMessageParams.MentionType.CHANNEL?c.add("mentioned_user_ids",[]):Array.isArray(i._mentionedUserIds)&&i._mentionedUserIds.length>0&&c.add("mentioned_user_ids",i._mentionedUserIds),i.translationTargetLanguages&&i.translationTargetLanguages.length>0&&c.add("translation_target_langs",i.translationTargetLanguages),i.pushNotificationDeliveryOption&&i.pushNotificationDeliveryOption!==r.cls.BaseMessageParams.PushNotificationDeliveryOption.DEFAULT&&c.add("push_option",i.pushNotificationDeliveryOption),i.appleCriticalAlertOptions&&c.add("apple_critical_alert_options",i.appleCriticalAlertOptions.serialize()),r.post(u,c,n)}})}},{key:"getMyPushTriggerOption",value:function(t,n){var r=this,i=t.channelUrl;this.sb.ConnectionManager.ready(function(t,o){if(t)n(t,null);else{var a=e.Path.USERS_USERID_PUSHPREFERENCE_CHANNELURL.replace("%s",encodeURIComponent(o.userId)).replace("%s",encodeURIComponent(i));r.get(a,null,n)}})}},{key:"setMyPushTriggerOption",value:function(t,n){var r=this,i=t.channelUrl,o=t.pushTriggerOption,a=t.enable;this.sb.ConnectionManager.ready(function(t,s){if(t)n(t,null);else{var u=e.Path.USERS_USERID_PUSHPREFERENCE_CHANNELURL.replace("%s",encodeURIComponent(s.userId)).replace("%s",encodeURIComponent(i)),c=new se;o&&c.add("push_trigger_option",o),"boolean"==typeof a&&c.add("enable",a),r.put(u,c,n)}})}},{key:"setMyCountPreference",value:function(t,n){var r=this,i=t.channelUrl,o=t.countPreference;this.sb.ConnectionManager.ready(function(t,a){if(t)n(t,null);else{var s=e.Path.USERS_COUNT_PREFERENCE.replace("%s",encodeURIComponent(a.userId)).replace("%s",encodeURIComponent(i)),u=new se({count_preference:o});r.put(s,u,n)}})}},{key:"resetMyHistory",value:function(t,n){var r=this,i=t.channelUrl;this.sb.ConnectionManager.ready(function(t,o){if(t)n(t,null);else{var a=e.Path.GROUPCHANNELS_RESET_USER_HISTORY.replace("%s",encodeURIComponent(i));r.put(a,null,n)}})}},{key:"addReaction",value:function(t,n){var r=this,i=t.isGroupChannel,o=t.channelUrl,a=t.messageId,s=t.key;this.sb.ConnectionManager.ready(function(t,u){if(t)n(t,null);else{var c=i?e.Path.GROUPCHANNELS_CHANNELURL_MESSAGES_MESSAGEID_REACTION.replace("%s",encodeURIComponent(o)).replace("%s",encodeURIComponent(a)):e.Path.OPENCHANNELS_CHANNELURL_MESSAGES_MESSAGEID_REACTION.replace("%s",encodeURIComponent(o)).replace("%s",encodeURIComponent(a)),l=new se({reaction:s});r.post(c,l,n)}})}},{key:"deleteReaction",value:function(t,n){var r=this,i=t.isGroupChannel,o=t.channelUrl,a=t.messageId,s=t.key;this.sb.ConnectionManager.ready(function(t,u){if(t)n(t,null);else{var c=i?e.Path.GROUPCHANNELS_CHANNELURL_MESSAGES_MESSAGEID_REACTION.replace("%s",encodeURIComponent(o)).replace("%s",encodeURIComponent(a)):e.Path.OPENCHANNELS_CHANNELURL_MESSAGES_MESSAGEID_REACTION.replace("%s",encodeURIComponent(o)).replace("%s",encodeURIComponent(a)),l=new se({reaction:s});r.delete(c,l,n)}})}},{key:"getAllEmoji",value:function(t){var n=this;this.sb.ConnectionManager.ready(function(r,i){r?t(r,null):n.get(e.Path.EMOJI_CATEGORIES,null,t)})}},{key:"getEmojiCategory",value:function(t,n){var r=this,i=t.categoryId;this.sb.ConnectionManager.ready(function(t,o){if(t)n(t,null);else{var a=e.Path.EMOJI_CATEGORIES_CATEGORYID.replace("%s",i);r.get(a,null,n)}})}},{key:"getEmoji",value:function(t,n){var r=this,i=t.emojiKey;this.sb.ConnectionManager.ready(function(t,o){if(t)n(t,null);else{var a=e.Path.EMOJIS_EMOJIKEY.replace("%s",i);r.get(a,null,n)}})}},{key:"getAllowFriendDiscovery",value:function(t){var n=this;this.sb.ConnectionManager.ready(function(r,i){if(r)t(r,null);else{var o=e.Path.USERS_USERID_ALLOW_FRIEND_DISCOVERY.replace("%s",encodeURIComponent(i.userId));n.get(o,null,t)}})}},{key:"setAllowFriendDiscovery",value:function(t,n){var r=this,i=t.allowFriendDiscovery;this.sb.ConnectionManager.ready(function(t,o){if(t)n(t,null);else{var a=e.Path.USERS_USERID_ALLOW_FRIEND_DISCOVERY.replace("%s",encodeURIComponent(o.userId)),s=new se;"boolean"==typeof i&&s.add("allow_friend_discovery",i),r.put(a,s,n)}})}},{key:"getPollList",value:function(t,n){var r=this,i=t.channelUrl,o=t.token,a=t.limit;this.sb.ConnectionManager.ready(function(t,s){if(t)n(t,null);else{var u=e.Path.POLLS,c=new se({channel_url:i});o&&c.add("token",o),a&&c.add("limit",a),r.get(u,c,n)}})}},{key:"getPoll",value:function(t,n){var r=this,i=t.channelUrl,o=t.pollId,a=t.showPartialVoters;this.sb.ConnectionManager.ready(function(t,s){if(t)n(t,null);else{var u=e.Path.POLLS_POLLID.replace("%s",o),c=new se({channel_url:i});"boolean"==typeof a&&c.add("show_partial_voter_list",a),r.get(u,c,n)}})}},{key:"createPoll",value:function(t,n){var r=this,i=t.title,o=t.options,a=t.data,s=t.isAnonymous,u=t.allowUserSuggestion,c=t.allowMultipleVotes,l=t.closeAt;this.sb.ConnectionManager.ready(function(t,h){if(t)n(t,null);else{var d=e.Path.POLLS,p=new se({title:i,options:o});"object"===f(a)&&p.add("data",a),"boolean"==typeof s&&p.add("is_anonymous",s),"boolean"==typeof u&&p.add("allow_user_suggestion",u),"boolean"==typeof c&&p.add("allow_multiple_votes",c),"number"==typeof l&&p.add("close_at",l),r.post(d,p,n)}})}},{key:"updatePoll",value:function(t,n){var r=this,i=t.pollId,o=t.title,a=t.options,s=t.data,u=t.isAnonymous,c=t.allowUserSuggestion,l=t.allowMultipleVotes,h=t.closeAt;this.sb.ConnectionManager.ready(function(t,d){if(t)n(t,null);else{var p=e.Path.POLLS_POLLID.replace("%s",i),g=new se;"string"==typeof o&&g.add("title",o),Array.isArray(a)&&g.add("options",a),"object"===f(s)&&g.add("data",s),"boolean"==typeof u&&g.add("is_anonymous",u),"boolean"==typeof c&&g.add("allow_user_suggestion",c),"boolean"==typeof l&&g.add("allow_multiple_votes",l),"number"==typeof h&&g.add("close_at",h),r.put(p,g,n)}})}},{key:"deletePoll",value:function(t,n){var r=this,i=t.pollId;this.sb.ConnectionManager.ready(function(t,o){if(t)n(t,null);else{var a=e.Path.POLLS_POLLID.replace("%s",i);r.delete(a,null,n)}})}},{key:"votePoll",value:function(t,n){var r=this,i=t.channelUrl,o=t.pollId,a=t.optionIds;this.sb.ConnectionManager.ready(function(t,s){if(t)n(t,null);else{var u=e.Path.POLLS_POLLID_VOTE.replace("%s",o),c=new se({channel_url:i});Array.isArray(a)&&c.add("option_ids",a),r.put(u,c,n)}})}},{key:"closePoll",value:function(t,n){var r=this,i=t.pollId;this.sb.ConnectionManager.ready(function(t,o){if(t)n(t,null);else{var a=e.Path.POLLS_POLLID_CLOSE.replace("%s",i);r.put(a,null,n)}})}},{key:"getPollOption",value:function(t,n){var r=this,i=t.channelUrl,o=t.pollId,a=t.optionId;this.sb.ConnectionManager.ready(function(t,s){if(t)n(t,null);else{var u=e.Path.POLLS_POLLID_OPTIONS_OPTIONID.replace("%s",o).replace("%s",a),c=new se({channel_url:i});r.get(u,c,n)}})}},{key:"addPollOption",value:function(t,n){var r=this,i=t.channelUrl,o=t.pollId,a=t.text;this.sb.ConnectionManager.ready(function(t,s){if(t)n(t,null);else{var u=e.Path.POLLS_POLLID_OPTIONS.replace("%s",o),c=new se({channel_url:i,text:a});r.post(u,c,n)}})}},{key:"updatePollOption",value:function(t,n){var r=this,i=t.pollId,o=t.optionId,a=t.text;this.sb.ConnectionManager.ready(function(t,s){if(t)n(t,null);else{var u=e.Path.POLLS_POLLID_OPTIONS_OPTIONID.replace("%s",i).replace("%s",o),c=new se({text:a});r.put(u,c,n)}})}},{key:"deletePollOption",value:function(t,n){var r=this,i=t.pollId,o=t.optionId;this.sb.ConnectionManager.ready(function(t,a){if(t)n(t,null);else{var s=e.Path.POLLS_POLLID_OPTIONS_OPTIONID.replace("%s",i).replace("%s",o);r.delete(s,null,n)}})}},{key:"getPollOptionVoterList",value:function(t,n){var r=this,i=t.channelUrl,o=t.pollId,a=t.optionId,s=t.token,u=t.limit;this.sb.ConnectionManager.ready(function(t,c){if(t)n(t,null);else{var l=e.Path.POLLS_POLLID_OPTIONS_OPTIONID_VOTERS.replace("%s",o).replace("%s",a),h=new se({channel_url:i});s&&h.add("token",s),u&&h.add("limit",u),r.get(l,h,n)}})}}],[{key:"Path",get:function(){return{USERS:"/users",USERS_USERID:"/users/%s",USERS_USERID_LOGIN:"/users/%s/login",USERS_USERID_SESSION_KEY:"/users/%s/session_key",USERS_USERID_METADATA:"/users/%s/metadata",USERS_USERID_METADATA_KEY:"/users/%s/metadata/%s",USERS_USERID_MARKASREADALL:"/users/%s/mark_as_read_all",USERS_USERID_MY_GROUP_CHANNEL_CHANGELOGS:"/users/%s/my_group_channels/changelogs",USERS_USERID_UNREAD_ITEM_COUNT:"/users/%s/unread_item_count",USERS_USERID_UNREAD_MESSAGE_COUNT:"/users/%s/unread_message_count",USERS_USERID_UNREAD_CHANNEL_COUNT:"/users/%s/unread_channel_count",USERS_USERID_PUSH_GCM_TOKEN:"/users/%s/push/gcm/%s",USERS_USERID_PUSH_GCM:"/users/%s/push/gcm",USERS_USERID_PUSH_DEVICE_TOKENS:"/users/%s/push/%s/device_tokens",USERS_USERID_PUSHPREFERENCE_CHANNELURL:"/users/%s/push_preference/%s",USERS_USERID_PUSHPREFERENCE:"/users/%s/push_preference/",USERS_USERID_PUSH_TEMPLATE:"/users/%s/push/template",USERS_USERID_BLOCK:"/users/%s/block",USERS_USERID_BLOCK_TARGETID:"/users/%s/block/%s",USERS_USERID_PUSH_APNS_TOKEN:"/users/%s/push/apns/%s",USERS_USERID_PUSH_APNS:"/users/%s/push/apns",USERS_USERID_PUSH:"/users/%s/push",USERS_USERID_GROUP_CHANNEL_INVITATION_PREFERENCE:"/users/%s/channel_invitation_preference",USERS_USERID_GROUP_CHANNEL_COUNT:"/users/%s/group_channel_count",USERS_COUNT_PREFERENCE:"/users/%s/count_preference/%s",USERS_USERID_ALLOW_FRIEND_DISCOVERY:"/users/%s/allow_friend_discovery",OPENCHANNELS:"/open_channels",OPENCHANNELS_CHANNELURL:"/open_channels/%s",OPENCHANNELS_CHANNELURL_MESSAGES:"/open_channels/%s/messages",OPENCHANNELS_CHANNELURL_MESSAGES_MESSAGEID:"/open_channels/%s/messages/%s",OPENCHANNELS_CHANNELURL_MESSAGES_MESSAGEID_TRANSLATION:"/open_channels/%s/messages/%s/translation",OPENCHANNELS_CHANNELURL_MESSAGES_CHANGELOGS:"/open_channels/%s/messages/changelogs",OPENCHANNELS_CHANNELURL_SCHEDULED_MESSAGES:"/open_channels/%s/scheduled_messages",OPENCHANNELS_CHANNELURL_PARTICIPANTS:"/open_channels/%s/participants",OPENCHANNELS_CHANNELURL_OPERATORS:"/open_channels/%s/operators",OPENCHANNELS_CHANNELURL_METADATA:"/open_channels/%s/metadata",OPENCHANNELS_CHANNELURL_METADATA_KEY:"/open_channels/%s/metadata/%s",OPENCHANNELS_CHANNELURL_METACOUNTER:"/open_channels/%s/metacounter",OPENCHANNELS_CHANNELURL_METACOUNTER_KEY:"/open_channels/%s/metacounter/%s",OPENCHANNELS_CHANNELURL_BAN:"/open_channels/%s/ban",OPENCHANNELS_CHANNELURL_BAN_USERID:"/open_channels/%s/ban/%s",OPENCHANNELS_CHANNELURL_MUTE:"/open_channels/%s/mute",OPENCHANNELS_CHANNELURL_MUTE_USERID:"/open_channels/%s/mute/%s",OPENCHANNELS_CHANNELURL_FREEZE:"/open_channels/%s/freeze",OPENCHANNELS_OPERATORS:"/open_channels/%s/operators",OPENCHANNELS_CHANNELURL_MESSAGES_MESSAGEID_REACTION:"/open_channels/%s/messages/%s/reactions",GROUPCHANNELS:"/group_channels",MYGROUPCHANNELS:"/users/%s/my_group_channels",GROUPCHANNELS_CHANNELURL:"/group_channels/%s",GROUPCHANNELS_CHANNELURL_INVITE:"/group_channels/%s/invite",GROUPCHANNELS_CHANNELURL_ACCEPT_INVITATION:"/group_channels/%s/accept",GROUPCHANNELS_CHANNELURL_DECLINE_INVITATION:"/group_channels/%s/decline",GROUPCHANNELS_CHANNELURL_HIDE:"/group_channels/%s/hide",GROUPCHANNELS_CHANNELURL_LEAVE:"/group_channels/%s/leave",GROUPCHANNELS_CHANNELURL_JOIN:"/group_channels/%s/join",GROUPCHANNELS_CHANNELURL_OPERATORS:"/group_channels/%s/operators",GROUPCHANNELS_CHANNELURL_MESSAGES:"/group_channels/%s/messages",GROUPCHANNELS_CHANNELURL_MESSAGES_MARKASREAD:"/group_channels/%s/messages/mark_as_read",GROUPCHANNELS_CHANNELURL_MESSAGES_MARKASDELIVERED:"/group_channels/%s/messages/mark_as_delivered",GROUPCHANNELS_CHANNELURL_MESSAGES_TOTALCOUNT:"/group_channels/%s/messages/total_count",GROUPCHANNELS_CHANNELURL_MESSAGES_UNREADCOUNT:"/group_channels/%s/messages/unread_count",GROUPCHANNELS_CHANNELURL_MESSAGES_MESSAGEID:"/group_channels/%s/messages/%s",GROUPCHANNELS_CHANNELURL_MESSAGES_MESSAGEID_TRANSLATION:"/group_channels/%s/messages/%s/translation",GROUPCHANNELS_CHANNELURL_MESSAGES_CHANGELOGS:"/group_channels/%s/messages/changelogs",GROUPCHANNELS_CHANNELURL_MESSAGES_GAP:"/group_channels/%s/messages_gap",GROUPCHANNELS_CHANNELURL_SCHEDULED_MESSAGES:"/group_channels/%s/scheduled_messages",GROUPCHANNELS_CHANNELURL_MEMBERS:"/group_channels/%s/members",GROUPCHANNELS_CHANNELURL_METADATA:"/group_channels/%s/metadata",GROUPCHANNELS_CHANNELURL_METADATA_KEY:"/group_channels/%s/metadata/%s",GROUPCHANNELS_CHANNELURL_METACOUNTER:"/group_channels/%s/metacounter",GROUPCHANNELS_CHANNELURL_METACOUNTER_KEY:"/group_channels/%s/metacounter/%s",GROUPCHANNELS_RESET_USER_HISTORY:"/group_channels/%s/reset_user_history",GROUPCHANNELS_OPERATORS:"/group_channels/%s/operators",GROUPCHANNELS_MEMBERS:"/group_channels/%s/members",GROUPCHANNELS_CHANNELURL_BAN:"/group_channels/%s/ban",GROUPCHANNELS_CHANNELURL_BAN_USERID:"/group_channels/%s/ban/%s",GROUPCHANNELS_CHANNELURL_MUTE:"/group_channels/%s/mute",GROUPCHANNELS_CHANNELURL_MUTE_USERID:"/group_channels/%s/mute/%s",GROUPCHANNELS_CHANNELURL_FREEZE:"/group_channels/%s/freeze",GROUPCHANNELS_CHANNELURL_MESSAGES_MESSAGEID_REACTION:"/group_channels/%s/messages/%s/reactions",STORAGE_FILE:"/storage/file",STORAGE_PROFILE:"/storage/profile_image",FRIENDS:"/users/%s/friends",FRIENDS_CHANGE_LOGS:"/users/%s/friends/changelogs",FRIENDS_DISCOVERIES:"/users/%s/friend_discoveries",SEARCH_MESSAGE:"/search/messages",REPORT_USERS:"/report/users/%s",REPORT_CHANNELS:"/report/%s/%s",REPORT_MESSAGES:"/report/%s/%s/messages/%s",EMOJIS_EMOJIKEY:"/emojis/%s",EMOJI_CATEGORIES:"/emoji_categories",EMOJI_CATEGORIES_CATEGORYID:"/emoji_categories/%s",POLLS:"/polls",POLLS_POLLID:"/polls/%s",POLLS_POLLID_VOTE:"/polls/%s/vote",POLLS_POLLID_CLOSE:"/polls/%s/close",POLLS_POLLID_OPTIONS:"/polls/%s/options",POLLS_POLLID_OPTIONS_OPTIONID:"/polls/%s/options/%s",POLLS_POLLID_OPTIONS_OPTIONID_VOTERS:"/polls/%s/options/%s/voters"}}}]),e}(),le=function(){function e(t,n){d(this,e),this.sb=t,this.ws=null,this.wsHost=null,this.WebSocket=null,this.handler=n||new e.ConnectionHandler,this.explicitDisconnect=!1,this.lastActiveMillis=0;try{this.WebSocket="undefined"==typeof WebSocket?c.default:WebSocket}catch(e){this.WebSocket=WebSocket}}return g(e,[{key:"connect",value:function(e,t,n){var r=this;X.debug("`WebSocketClient.connect` called.");var i=N.get(this.sb._iid).container,o=i.pinger,a=i.auth,s=i.extensions,u=i.getUserAgentWithExtensions,c=i.sessionManager,l=Fi.getAppVersion();this.wsHost=n;try{var h="/?p=JS"+"&pv=".concat(encodeURIComponent(I.OS_VERSION))+"&sv=".concat(encodeURIComponent(I.SDK_VERSION))+"&ai=".concat(encodeURIComponent(this.sb.getApplicationId()));if(l&&(h+="&av=".concat(encodeURIComponent(l))),a.sessionKey?h+="&key=".concat(encodeURIComponent(a.sessionKey)):h+="&user_id=".concat(encodeURIComponent(e),"&access_token=").concat(encodeURIComponent(t)),h+="&active=1",h+="&SB-User-Agent=".concat(encodeURIComponent(u(s))),h+="&Request-Sent-Timestamp=".concat((new Date).getTime().toString()),h+="&include_extra_data=".concat(encodeURIComponent(["premium_feature_list","file_upload_size_limit","application_attributes","emoji_hash"].join(","))),c.handler&&(h+="&expiring_session=1"),this.sb.Options.includePollDetails&&(h+="&include_poll_details=1"),h+="&use_local_cache=1",this.ws=new this.WebSocket(this.wsHost+h),!this.ws)return this.sb.isReconnectingOnError=!0,void this.handler.onError("ws does not exist.")}catch(e){return this.sb.isReconnectingOnError=!0,void this.handler.onError(e)}try{this.sb.getDebugMode()&&"undefined"!=typeof window&&(window.ws=this.ws)}catch(e){X.debug("`window` object does not exist.")}var f=!1;this.ws.onopen=function(e){X.debug("`WebSocket.onopen` called."),r.handler.onOpen(e)},this.ws.onmessage=function(e){r.active();for(var t=e.data.split("\n"),n=0;n<t.length;n++){var i=t[n];if(i&&"string"==typeof i){try{if("PONG"===i.substring(0,4)){o.pong();continue}}catch(e){X.debug("`WebSocket.onmessage` command check error:",e)}r.handler.onMessage(i)}}},this.ws.onerror=function(e){X.debug("`WebSocket.onerror` called:",e),o&&o.stop(),f=!0,r.sb.isReconnectingOnError=!0,r.handler.onError(e)},this.ws.onclose=function(e){X.group("`WebSocket.onclose` called.",[{level:X.supportedLogLevels.DEBUG,messages:["e",e]},{level:X.supportedLogLevels.DEBUG,messages:["explicitDisconnect",r.explicitDisconnect]}]),o&&o.stop(),r.explicitDisconnect?r.handler.onClose(e):f||r.handler.onError(e),r.explicitDisconnect=!1}}},{key:"disconnect",value:function(e,t){X.group("`WebSocketClient.onclose` called.",[{level:X.supportedLogLevels.DEBUG,messages:["explicit",e]}]);var n=N.get(this.sb._iid).container.pinger;n&&n.stop(),this.explicitDisconnect=!0===e,this.ws&&(this.ws.onopen=function(){},this.ws.onmessage=function(){},this.ws.onclose=function(){t&&t()},this.ws.onerror=function(){},this.ws.close(),this.ws=null),this.explicitDisconnect?this.handler.onClose():this.handler.onError(),this.explicitDisconnect=!1}},{key:"send",value:function(e,t){if(1!==this.ws.readyState)t&&t(new U("Connection is not valid. Please reconnect.",U.WEBSOCKET_CONNECTION_CLOSED),null);else{var n=N.get(this.sb._iid).container.pinger;this.ws.send(e.encode()),"PING"!==e.command&&n.refreshTimer(),t&&t(null,null)}}},{key:"active",value:function(){this.lastActiveMillis=(new Date).getTime()}},{key:"getConnectionState",value:function(){try{return 1===this.ws.readyState?this.sb.ConnectionState.OPEN:0===this.ws.readyState?this.sb.ConnectionState.CONNECTING:this.sb.ConnectionState.CLOSED}catch(e){return this.sb.ConnectionState.CLOSED}}}]),e}();le.ConnectionHandler=g(function e(){d(this,e),this.onReady=function(){},this.onOpen=function(){},this.onClose=function(){},this.onMessage=function(){},this.onError=function(){}});var he,fe={},de=function(){function e(){this._observers=[]}return e.of=function(t){return fe[t]||(fe[t]=new e),fe[t]},e.prototype.invokeConnect=function(){for(var e=0,t=this._observers;e<t.length;e++){var n=t[e];n.onConnect&&n.onConnect()}},e.prototype.invokeDisconnect=function(){for(var e=0,t=this._observers;e<t.length;e++){var n=t[e];n.onDisconnect&&n.onDisconnect()}},e.prototype.addObserver=function(e){this._observers.push(e)},e.prototype.removeObserver=function(e){var t=this._observers.indexOf(e);t>-1&&this._observers.splice(t,1)},e}();!function(e){e[e.EVENT_CHANNEL_CHANGED=0]="EVENT_CHANNEL_CHANGED",e[e.EVENT_USER_RECEIVED_INVITATION=1]="EVENT_USER_RECEIVED_INVITATION",e[e.EVENT_USER_DECLINED_INVITATION=2]="EVENT_USER_DECLINED_INVITATION",e[e.EVENT_USER_JOINED=3]="EVENT_USER_JOINED",e[e.EVENT_USER_LEFT=4]="EVENT_USER_LEFT",e[e.EVENT_CHANNEL_ENTER=5]="EVENT_CHANNEL_ENTER",e[e.EVENT_CHANNEL_EXIT=6]="EVENT_CHANNEL_EXIT",e[e.EVENT_CHANNEL_FROZEN=7]="EVENT_CHANNEL_FROZEN",e[e.EVENT_CHANNEL_UNFROZEN=8]="EVENT_CHANNEL_UNFROZEN",e[e.EVENT_CHANNEL_HIDDEN=9]="EVENT_CHANNEL_HIDDEN",e[e.EVENT_CHANNEL_UNHIDDEN=10]="EVENT_CHANNEL_UNHIDDEN",e[e.EVENT_TYPING_STATUS_UPDATED=11]="EVENT_TYPING_STATUS_UPDATED",e[e.EVENT_OPERATOR_UPDATED=12]="EVENT_OPERATOR_UPDATED",e[e.EVENT_CHANNEL_METADATA_UPDATED=13]="EVENT_CHANNEL_METADATA_UPDATED",e[e.EVENT_CHANNEL_METADATA_DELETED=14]="EVENT_CHANNEL_METADATA_DELETED",e[e.EVENT_CHANNEL_METACOUNTER_UPDATED=15]="EVENT_CHANNEL_METACOUNTER_UPDATED",e[e.EVENT_CHANNEL_METACOUNTER_DELETED=16]="EVENT_CHANNEL_METACOUNTER_DELETED",e[e.EVENT_CHANNEL_DELETED=17]="EVENT_CHANNEL_DELETED",e[e.EVENT_USER_MUTED=18]="EVENT_USER_MUTED",e[e.EVENT_USER_UNMUTED=19]="EVENT_USER_UNMUTED",e[e.EVENT_USER_BANNED=20]="EVENT_USER_BANNED",e[e.EVENT_USER_UNBANNED=21]="EVENT_USER_UNBANNED",e[e.EVENT_MESSAGE_RECEIVED=22]="EVENT_MESSAGE_RECEIVED",e[e.EVENT_MESSAGE_SENT=23]="EVENT_MESSAGE_SENT",e[e.EVENT_MESSAGE_UPDATED=24]="EVENT_MESSAGE_UPDATED",e[e.EVENT_MESSAGE_DELETED=25]="EVENT_MESSAGE_DELETED",e[e.EVENT_READ_RECEIPT_UPDATED=26]="EVENT_READ_RECEIPT_UPDATED",e[e.EVENT_DELIVERY_RECEIPT_UPDATED=27]="EVENT_DELIVERY_RECEIPT_UPDATED",e[e.EVENT_MENTION=28]="EVENT_MENTION",e[e.EVENT_REACTION_UPDATED=29]="EVENT_REACTION_UPDATED",e[e.EVENT_THREAD_INFO_UPDATED=30]="EVENT_THREAD_INFO_UPDATED",e[e.CHANNEL_BACKGROUND=1e3]="CHANNEL_BACKGROUND",e[e.CHANNEL_CHANGELOG=1001]="CHANNEL_CHANGELOG",e[e.MESSAGE_BACKGROUND=1002]="MESSAGE_BACKGROUND",e[e.MESSAGE_FILL=1003]="MESSAGE_FILL",e[e.MESSAGE_CHANGELOG=1004]="MESSAGE_CHANGELOG",e[e.LOCAL_MESSAGE_PENDING_CREATED=2e3]="LOCAL_MESSAGE_PENDING_CREATED",e[e.LOCAL_MESSAGE_FAILED=2001]="LOCAL_MESSAGE_FAILED",e[e.LOCAL_MESSAGE_CANCELED=2002]="LOCAL_MESSAGE_CANCELED",e[e.LOCAL_MESSAGE_RESEND_STARTED=2003]="LOCAL_MESSAGE_RESEND_STARTED",e[e.MESSAGE_COLLECTION_FILTER_MISMATCH=2004]="MESSAGE_COLLECTION_FILTER_MISMATCH"}(he||(he={}));var pe,ge={},ye=function(){function e(){this._observers=[]}return e.of=function(t){return ge[t]||(ge[t]=new e),ge[t]},e.prototype.addObserver=function(e){this._observers.push(e)},e.prototype.removeObserver=function(e){var t=this._observers.indexOf(e);t>=0&&this._observers.splice(t,1)},e.prototype.send=function(e){for(var t=0,n=this._observers;t<n.length;t++)n[t].onevent(e)},e}(),ve=function(){function e(t){d(this,e),this.sb=t,this.cls=B.get(this.sb._iid),this.client=new le(this.sb),this.connectParams={retryCount:1},this.reconnectParams={interval:3,retryCount:3,multiplier:2,maxInterval:24},this.connectCount=0,this.reconnectCount=0,this.reconnectDelay=0}return g(e,[{key:"isConnected",get:function(){return this.client&&this.client.getConnectionState()===this.sb.ConnectionState.OPEN}},{key:"connect",value:function(e,t){var n=this,r=N.get(this.sb._iid).container,i=r.auth,o=r.apiClient,a=r.commandHandler;i.sessionToken=t||null;var s=this.cls.GroupChannel,u=null,c=new le.ConnectionHandler;this.client=new le(this.sb,c),c.onMessage=function(e){a.onRawCommandReceived(e)},this.sb.loginHandler=function(e,t){if(n.sb.connecting=!1,n.sb.reconnecting=!1,e)n.disconnect({clearSession:!0,err:e},null);else{clearInterval(n.sb.globalTimer);var r=ye.of(n.sb._iid),i=function(){s.cachedChannels&&Object.keys(s.cachedChannels).forEach(function(e){var t=s.cachedChannels[e];t.invalidateTypingStatus()&&(Object.keys(n.sb.channelHandlers).forEach(function(e){n.sb.channelHandlers[e].onTypingStatusUpdated(t)}),r.send({source:he.EVENT_TYPING_STATUS_UPDATED,payload:{channel:t}}))})};i(),n.sb.globalTimer=setInterval(function(){return i()},1e3),n.flushConnectionCallbacks(null,t),n.sb.ConnectionManager.processAllReadyHandler(null)}},c.onOpen=function(){n.connectCount=0,n.sb.loginTimer=setTimeout(function(){n.sb.loginTimer=null,n.sb.onLoginTimerCancel=null,n.flushConnectionCallbacks(new U("Connection timeout.",U.LOGIN_TIMEOUT),null),n.sb.disconnect(null)},n.sb.Options.websocketResponseTimeout),n.sb.onLoginTimerCancel=function(){n.connectCount=0,n.flushConnectionCallbacks(new U("Connection has been canceled.",U.REQUEST_FAILED),null)},n.sb.connecting=!1},c.onError=function(r){X.debug("Connect: `WebSocketClient.ConnectionHandler.onError` called.",r),i.sessionKey?(n.sb.isReconnectingOnError=!0,n.sb.ConnectionManager.errorAllReadyHandler(),n.reconnect(e,!0),n.sb.connecting=!1):n.connectCount<n.connectParams.retryCount?(n.connectCount++,n.client.connect(e,t,u)):(n.connectCount=0,n.flushConnectionCallbacks(new U("Websocket connection failed.",U.WEBSOCKET_CONNECTION_FAILED),null),n.sb.connecting=!1)},c.onClose=function(){X.debug("Connect: `WebSocketClient.ConnectionHandler.onClose` called."),n.connectCount=0,n.sb.connecting=!1},o.checkRouting(function(r,i){if(r)return n.sb.connecting=!1,void n.flushConnectionCallbacks(new U("Connection routing failed.",U.REQUEST_FAILED),null);u=i.wsHost,o.dummyCall(function(e){e&&X.error("API dummy call failed:",e)}),n.client.connect(e,t,u)})}},{key:"reconnect",value:function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=N.get(this.sb._iid),i=r.container,o=i.auth,a=i.apiClient,s=i.commandHandler,u=i.ackStateMap,c=i.sessionManager,l=this.cls.OpenChannel;if(this.sb.connecting=!1,this.sb.reconnecting=!0,this.sb.reconnectTimer)X.debug("Reconnect: still reconnecting.");else{if(this.reconnectCount+=1,this.reconnectCount<=1){if(n){Object.keys(u).forEach(function(e){var t=u[e];t&&(clearTimeout(t.timer),(0,t.handler)(new U("Command received no ack.",U.ACK_TIMEOUT),null)),delete u[e]});var h=de.of(this.sb._iid);h.invokeDisconnect(),Object.keys(this.sb.connectionHandlers).forEach(function(e){t.sb.connectionHandlers[e].onReconnectStarted()})}this.reconnectDelay=0}else this.reconnectDelay=Math.min(1e3*this.reconnectParams.interval*Math.pow(this.reconnectParams.multiplier,this.reconnectCount-2),this.reconnectParams.maxInterval>0?1e3*this.reconnectParams.maxInterval:Number.MAX_SAFE_INTEGER);if(!e||!o.sessionKey||this.reconnectParams.retryCount>0&&this.reconnectCount>this.reconnectParams.retryCount)return this.disconnect({clearSession:!1,err:new U("Websocket connection failed.",U.WEBSOCKET_CONNECTION_FAILED)},null),this.reconnectCount=0,Object.keys(this.sb.connectionHandlers).forEach(function(e){t.sb.connectionHandlers[e].onReconnectFailed()}),this.sb.connecting=!1,this.sb.reconnecting=!1,this.sb.isReconnectingOnError=!1,void this.sb.ConnectionManager.errorAllReadyHandler();this.sb.onReconnectTimerCancel=function(){t.reconnectCount=0},this.sb.reconnectTimer=setTimeout(function(){t.sb.reconnectTimer=null,t.sb.onReconnectTimerCancel=null,t.client&&t.client.disconnect(!0);var n=new le.ConnectionHandler;t.client=new le(t.sb,n),t.sb.loginHandler=function(n,r){n?c.isSessionError(n)?c.refreshSessionIfExpiredError(n).then(function(){clearTimeout(t.sb.reconnectTimer),t.sb.reconnectTimer=null,t.reconnectCount=0,t.reconnect(e,!1)}).catch(function(){}):(clearTimeout(t.sb.reconnectTimer),t.sb.reconnectTimer=null,t.reconnect(e,!1)):(t.reconnectCount=0,t.sb.connecting=!1,t.sb.reconnecting=!1,t.sb.isReconnectingOnError=!1,de.of(t.sb._iid).invokeConnect(),Object.keys(t.sb.connectionHandlers).forEach(function(e){t.sb.connectionHandlers[e].onReconnectSucceeded()}),t.sb.ConnectionManager.processAllReadyHandler(null),t.sb.isReconnectingOnError&&Object.keys(t.sb.ConnectionManager.networkHandlers).forEach(function(e){t.sb.ConnectionManager.networkHandlers[e].onReconnected()}),Object.keys(l.enteredChannels).forEach(function(e){l.enteredChannels[e].enter(function(n,r){if(n){var i=t.cls.FileMessageQueue;delete l.enteredChannels[e],i.delete(e)}})}))},n.onOpen=function(){X.debug("Reconnect: `WebSocketClient.ConnectionHandler.onOpen` called."),t.sb.loginTimer=setTimeout(function(){X.debug("Reconnect: `loginTimer` timeout."),t.sb.loginTimer=null,t.reconnect(e,!0)},t.sb.Options.websocketResponseTimeout),t.sb.onLoginTimerCancel=null},n.onMessage=function(e){s.onRawCommandReceived(e)},n.onError=function(n){X.debug("Reconnect: `WebSocketClient.ConnectionHandler.onError` called.",n),t.sb.isReconnectingOnError=!0,t.sb.ConnectionManager.errorAllReadyHandler(),t.reconnect(e,!0)},n.onClose=function(){X.debug("Reconnect: `WebSocketClient.ConnectionHandler.onClose` called."),t.sb.reconnecting=!1},a.checkRouting(function(n,r){n?t.reconnect(e,!0):(t.sb.getCurrentApiHost()!==r.apiHost&&a.get("/",null,function(){}),t.client.connect(e,null,r.wsHost))})},this.reconnectDelay)}}},{key:"disconnect",value:function(e,t){var n=N.get(this.sb._iid),r=n.container.ackStateMap,i=this.cls,o=i.GroupChannel,a=i.OpenChannel,s=e.clearSession,u=e.err;this.sb.loginTimer&&(clearTimeout(this.sb.loginTimer),this.sb.onLoginTimerCancel&&(this.sb.onLoginTimerCancel(),this.sb.onLoginTimerCancel=null),this.sb.loginTimer=null),this.sb.reconnectTimer&&(clearTimeout(this.sb.reconnectTimer),this.sb.onReconnectTimerCancel&&(this.sb.onReconnectTimerCancel(),this.sb.onReconnectTimerCancel=null),this.sb.reconnectTimer=null),this.client&&(this.reconnectCount=0,this.client.disconnect(!0),this.client=null),s&&(a.clearEnteredChannels(),a.clearCache(),o.clearCache(),this.sb.globalTimer&&(clearInterval(this.sb.globalTimer),this.sb.globalTimer=null),Object.keys(r).forEach(function(e){clearTimeout(r[e].timer)}),this.sb.currentUser=null,n.set("ackStateMap",{}),n.set("subscribedUnreadMessageCount",{all:0,custom_types:{},ts:0}),n.set("auth",new F)),u&&(this.flushConnectionCallbacks(u,null),this.sb.connecting=!1,this.sb.reconnecting=!1,this.sb.isReconnectingOnError=!1),t&&t(null,null)}},{key:"flushConnectionCallbacks",value:function(e,t){var n=this,r=N.get(this.sb._iid).container,i=r.store,o=r.localCacheEnabled,a=this.sb.connectionCallbacks;if(this.sb.connectionCallbacks=[],e)if(o){var s=this.sb._getCurrentUserDataKey();ae.isNonAutoReconnectableError(e.code)?i.remove(s).catch(function(e){return X.debug("Sendbird connect store remove error: ",e)}).finally(function(){return a.forEach(function(t){return t(e,null)})}):i.get(s).then(function(e){n.sb._populateVaultFromCurrentUserData(e)}).catch(function(e){X.debug("Sendbird connect store fetch error: ",e)}).finally(function(){n.sb.currentUser?a.forEach(function(t){return t(e,n.sb.currentUser)}):a.forEach(function(t){return t(e,null)})})}else a.forEach(function(t){return t(e,null)});else de.of(this.sb._iid).invokeConnect(),o?i.set({key:this.sb._getCurrentUserDataKey(),value:this._createCurrentUserData(t),generation:1}).catch(function(e){return X.debug("Sendbird connect store write error: ",e)}).finally(function(){return a.forEach(function(e){return e(null,n.sb.currentUser)})}):a.forEach(function(e){return e(null,t)})}},{key:"_createCurrentUserData",value:function(e){var t=N.get(this.sb._iid).container,n=t.auth,r=t.maxUnreadCountOfSuperGroupChannel,i=t.profileImageEncryption,o=t.appInfo,a=t.connectedAt,s=t.firstConnectedAt,u=t.concurrentCallLimit,c=t.backOffDelay,l={currentUser:(e||this.sb.currentUser).serialize(),maxUnreadCountOfSuperGroupChannel:I.DEFAULT_MAX_UNREAD_COUNT_OF_SUPER_GROUP_CHANNEL,profileImageEncryption:!1};return n.sessionKey&&(l.sessionKey=n.sessionKey),n.eKey&&(l.eKey=n.eKey),r&&(l.maxUnreadCountOfSuperGroupChannel=r),i&&(l.profileImageEncryption=i),o&&(l.appInfo=o._objectify()),a&&s&&(l.connectedAt=a,l.firstConnectedAt=s),u&&c&&(l.concurrentCallLimit=u,l.backOffDelay=c),l}}]),e}(),me=function(){function e(t){var n=t.type,r=t.nullable,i=void 0!==r&&r,o=t.optional,a=void 0!==o&&o,s=t.optionalIf,u=void 0===s?null:s,c=t.ignoreIf,l=void 0===c?null:c,h=t.defaultValue,f=void 0===h?null:h,p=t.constraint,g=void 0===p?null:p;d(this,e),this.type=n,this.nullable=i,this.optional=a,this.optionalIf=u,this.ignoreIf=l,this.defaultValue=f,this.constraint=g}return g(e,[{key:"isMatchingType",value:function(e){var t=function(t,n){return"string"==typeof n?f(t)===n||"array"===n&&Array.isArray(t)||"file"===n&&ae.isFile(t)||"null"===n&&null===t||"date"===n&&t instanceof Date:"function"==typeof n?t instanceof n:"object"===f(n)&&Object.keys(n).map(function(e){return n[e]}).indexOf(e)>-1};return t(e,this.type)||Array.isArray(this.type)&&this.type.some(function(n){return t(e,n)})||this.nullable&&null===e}}],[{key:"parse",value:function(t,n){for(t=e.toArray(t);t.length>0&&void 0===t[t.length-1];)t.pop();var r=!1,i=null;"callback"===n[n.length-1].type&&("function"==typeof t[t.length-1]&&(i=t.pop()),n.pop(),r=!0);var o=[],a=null,s=0;return n.forEach(function(n){"function"==typeof n.ignoreIf&&n.ignoreIf(t)?o.push(n.hasOwnProperty("defaultValue")?n.defaultValue:null):n.isMatchingType(t[s])?(n.nullable&&null===t[s]||!n.constraint||n.constraint(t[s])||(a=e.error),o.push(t[s]),s++):n.optional||"function"==typeof n.optionalIf&&n.optionalIf(t)?o.push(n.hasOwnProperty("defaultValue")?n.defaultValue:null):(a=e.error,o.push(t[s]),s++)}),r&&i&&o.push(i),t.length!==s&&(a=e.error),[a].concat(o)}},{key:"error",get:function(){return new U("Invalid parameter.",U.INVALID_PARAMETER)}},{key:"toArray",value:function(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n]);return t}}]),e}(),be=function(){function e(t){d(this,e),this.sb=t,this.authCount=0,this.readyHandlers=[],this.networkHandlers={},this.authenticateTimer=1e4,this.authInfoRequester=null}return g(e,[{key:"addReadyHandler",value:function(e){e&&"function"==typeof e&&this.readyHandlers.push(e)}},{key:"ready",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=N.get(this.sb._iid),r=n.container,i=r.auth,o=r.isInBackground;t&&i.hasSession()?e&&(this.sb.currentUser?e(null,this.sb.currentUser):(this.addReadyHandler(e),this.errorAllReadyHandler()),this.sb.getConnectionState()!==this.sb.ConnectionState.CLOSED||o||this.sb.reconnect()):(this.addReadyHandler(e),this.sb.isReconnectingOnError?this.errorAllReadyHandler():this.sb.getConnectionState()===this.sb.ConnectionState.OPEN?this.processAllReadyHandler(null):this.sb.getConnectionState()===this.sb.ConnectionState.CONNECTING||this.errorAllReadyHandler())}},{key:"processAllReadyHandler",value:function(e){if(this.readyHandlers.length>0){var t=this.sb.currentUser,n=this.readyHandlers;this.readyHandlers=[],n.forEach(function(n){n&&"function"==typeof n&&n(e,t)})}}},{key:"errorAllReadyHandler",value:function(){var e=N.get(this.sb._iid).container.auth;this.processAllReadyHandler(e&&e.hasSession()?new U("WebSocket connection must be made first.",U.WEBSOCKET_CONNECTION_CLOSED):new U("Connection should be made first.",U.CONNECTION_REQUIRED))}},{key:"NetworkHandler",value:function(){this.onReconnected=function(){}}},{key:"addNetworkHandler",value:function(e,t){X.warn("`ConnectionManager` will be deprecated."),this.networkHandlers[e]=t}},{key:"removeNetworkHandler",value:function(e){X.warn("`ConnectionManager` will be deprecated."),delete this.networkHandlers[e]}},{key:"removeAllNetworkHandler",value:function(){X.warn("`ConnectionManager` will be deprecated."),this.networkHandlers={}}},{key:"authenticate",value:function(e){var t=this;if(X.warn("`ConnectionManager` will be deprecated."),this.sb.getConnectionState()===this.sb.ConnectionState.OPEN||this.sb.reconnecting)this.sb.connecting=!1,e(null,this.sb.currentUser);else if(this.authInfoRequester&&"function"==typeof this.authInfoRequester){this.sb.connecting=!0,this.authCount++;var n=setTimeout(function(){n=null,t.authCount--,0===t.authCount&&0===t.sb.connectionCallbacks.length&&(t.sb.connecting=!1),t.errorAllReadyHandler(),e(new U("Connection should be made first.",U.CONNECTION_REQUIRED),null)},this.authenticateTimer);this.authInfoRequester(function(r){if(n){clearTimeout(n),n=null,t.authCount--;var i=function(n,r){t.sb.connecting=!1,e(n,null)};r&&r.hasOwnProperty("userId")?r.accessToken?r.apiHost&&r.wsHost?t.sb.connect(r.userId,r.accessToken,r.apiHost,r.wsHost,i):t.sb.connect(r.userId,r.accessToken,i):r.apiHost&&r.wsHost?t.sb.connect(r.userId,r.apiHost,r.wsHost,i):t.sb.connect(r.userId,i):e(me.error,null)}})}else e(me.error,null)}}]),e}(),_e=function(){this.onSessionExpired=function(){},this.onSessionTokenRequired=function(e,t){return e(null)},this.onSessionError=function(e){},this.onSessionRefreshed=function(){},this.onSessionClosed=function(){}},we=function(){function e(){d(this,e),this.handler=null,this.resolvers=[]}return g(e,[{key:"_refreshSessionToken",value:function(){var t=this;return new Promise(function(n,r){var i=null,o=function(){i&&(clearTimeout(i),i=null)},a=function(){i&&(o(),r(e.sessionTokenRequestFailedError))};i=setTimeout(function(){return a()},3e4),t.handler.onSessionTokenRequired(function(e){i&&(o(),n(e))},a)})}},{key:"_refreshSessionKey",value:function(){var t=this;return new Promise(function(n,r){var i=N.get(t._iid).container,o=i.auth,a=i.wsAdapter;o.sessionToken?a.isConnected?t._refreshSessionKeyByCommand().then(function(){return n()}).catch(function(e){e.isSessionTokenExpiredError?r(e):t._refreshSessionKeyByApi().then(function(){return n()}).catch(function(e){return r(e)})}):t._refreshSessionKeyByApi().then(function(){return n()}).catch(function(e){return r(e)}):r(e.sessionTokenNotFoundError)})}},{key:"_refreshSessionKeyByCommand",value:function(){var t=this;return new Promise(function(n,r){var i=Fi.getInstance(t._iid),o=N.get(t._iid).container.auth,a=B.get(t._iid).Command,s=a.bSessionRefresh({token:o.sessionToken,requestId:a.generateRequestId()});i.sendCommand(s,function(t,a){if(!i.getErrorFirstCallback()){var s=[t,a];a=s[0],t=s[1]}t?r(t):a?a.hasOwnProperty("error")?r(e.sessionKeyRefreshFailedError):(a.hasOwnProperty("new_key")&&(o.sessionKey=a.new_key),n()):r(e.sessionKeyRefreshFailedError)})})}},{key:"_refreshSessionKeyByApi",value:function(){var t=this;return new Promise(function(n,r){!function i(o){if(o<3){var a=N.get(t._iid).container,s=a.auth,u=a.apiClient,c={};s.sessionToken&&(c.accessToken=s.sessionToken),u.refreshSessionKey(c,function(e,t){if(e)e.isSessionTokenExpiredError||e.isSessionTokenRevokedError?r(e):i(o+1);else{var a=t.key;s.sessionKey=a,n()}})}else r(e.sessionKeyRefreshFailedError)}(0)})}},{key:"_handleSessionToken",value:function(t){var n=this;t?(N.get(this._iid).container.auth.sessionToken=t,this._refreshSessionKey().then(function(){return n._handleSessionRefreshSuccess()}).catch(function(){return n._handleSessionRefreshError(e.sessionTokenRequestFailedError)})):this._handleSessionClosed(e.sessionTokenRequestFailedError)}},{key:"_handleSessionRefreshSuccess",value:function(){this.handler.onSessionRefreshed(),this._flushResolvers(null)}},{key:"_handleSessionRefreshError",value:function(e){this._cancelConnection(),this.handler.onSessionError(e),this._flushResolvers(e)}},{key:"_handleSessionClosed",value:function(e){this._cancelConnection(),this.handler.onSessionClosed(),this._flushResolvers(e)}},{key:"_cancelConnection",value:function(){var e=Fi.getInstance(this._iid);e.reconnecting&&(Object.keys(e.connectionHandlers).forEach(function(t){e.connectionHandlers[t].onReconnectFailed()}),e.reconnecting=!1),e.disconnect()}},{key:"_flushResolvers",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=0;n<this.resolvers.length;n++)e?this.resolvers[n].reject(e):this.resolvers[n].resolve(t);this.resolvers=[]}},{key:"setHandler",value:function(e){e instanceof _e&&(this.handler=e)}},{key:"isSessionError",value:function(e){return e.isSessionTokenExpiredError||e.isSessionTokenRevokedError||e.isSessionKeyExpiredError}},{key:"refreshSessionToken",value:function(){var t=this;return new Promise(function(n,r){t.handler?(t.resolvers.push({resolve:n,reject:r}),1===t.resolvers.length&&t._refreshSessionToken().then(function(e){return t._handleSessionToken(e)}).catch(function(){return t._handleSessionRefreshError(e.sessionTokenRequestFailedError)})):n()})}},{key:"refreshSessionKey",value:function(){var e=this;return new Promise(function(t,n){e.handler?(e.resolvers.push({resolve:t,reject:n}),1===e.resolvers.length&&e._refreshSessionKey().then(function(){return e._handleSessionRefreshSuccess()}).catch(function(t){t.isSessionTokenExpiredError?e._refreshSessionToken().then(function(t){return e._handleSessionToken(t)}).catch(function(t){return e._handleSessionRefreshError(t)}):t.isSessionTokenRevokedError?e._handleSessionClosed(t):e._handleSessionRefreshError(t)})):t()})}},{key:"refreshSessionIfExpiredError",value:function(e){var t=this;return e.isSessionTokenExpiredError?this.refreshSessionToken():e.isSessionKeyExpiredError?this.refreshSessionKey():e.isSessionTokenRevokedError?new Promise(function(e,n){return n(t.closeSession())}):Promise.reject(e)}},{key:"closeSession",value:function(){var t=e.sessionTokenRequestFailedError;return this._handleSessionClosed(t),t}}],[{key:"sessionTokenNotFoundError",get:function(){return new U("Session token is not found.",U.SESSION_TOKEN_EXPIRED)}},{key:"sessionTokenExpiredError",get:function(){return new U("Session token is expired.",U.SESSION_TOKEN_EXPIRED)}},{key:"sessionKeyRefreshFailedError",get:function(){return new U("Failed to refresh the session key.",U.SESSION_KEY_REFRESH_FAILED)}},{key:"sessionTokenRequestFailedError",get:function(){return new U("Failed to get the session token.",U.SESSION_TOKEN_REQUEST_FAILED)}}]),e}(),Ee=function(){function e(e){var t=this;this.sb=e,this.unsubscribes=[],this.isOnline=!1,this.onlineWorker=function(){t.isOnline=!0;var e=N.get(t.sb._iid).container.auth;t.sb.reconnecting||t.sb.connecting||!e.sessionKey||t.sb.getConnectionState()===t.sb.ConnectionState.OPEN||t.sb.reconnect()},this.offlineWorker=function(){t.isOnline=!1,t.sb.setIsProcessingAutoResend(!1);var e=N.get(t.sb._iid).container,n=e.auth,r=e.pinger;t.sb.reconnecting||t.sb.connecting||!n.sessionKey||(r&&r.stop(),t.sb.reconnect())},this.onlineListener=function(e){try{if("undefined"!=typeof window&&window.addEventListener&&"ononline"in window&&"onoffline"in window&&"undefined"!=typeof navigator&&"boolean"==typeof navigator.onLine)return window.addEventListener("online",e),function(){return window.removeEventListener("online",e,!1)}}catch(e){X.debug("There is no `window.addEventListener.ononline` or `navigator.onLine`")}return function(){}},this.offlineListener=function(e){try{if("undefined"!=typeof window&&window.addEventListener&&"ononline"in window&&"onoffline"in window&&"undefined"!=typeof navigator&&"boolean"==typeof navigator.onLine)return window.addEventListener("offline",e),function(){return window.removeEventListener("offline",e,!1)}}catch(e){X.debug("There is no `window.addEventListener.ononline` or `navigator.onLine`")}return function(){}},this.setOnlineListener=function(e){Boolean(e)&&"function"==typeof e&&(t.onlineListener=e)},this.setOfflineListener=function(e){Boolean(e)&&"function"==typeof e&&(t.offlineListener=e)},this.sb=e,"undefined"!=typeof window&&"undefined"!=typeof navigator&&"boolean"==typeof navigator.onLine&&(this.isOnline=window.navigator.onLine)}return e.prototype.start=function(){this.unsubscribes=[this.onlineListener(this.onlineWorker),this.offlineListener(this.offlineWorker)]},e.prototype.stop=function(){this.unsubscribes.forEach(function(e){try{null==e||e()}catch(e){}})},e}(),Se=(new Date).getTime(),Ce=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;switch(d(this,e),this.command=t,this.requestId=r,arguments.length){case 1:if(!t||t.length<=4)this.command="NOOP",this.payload="{}";else if(this.decode(t),this.isRequestIdCommand){var i=this.getJsonElement();i&&(this.requestId=i.req_id||"")}break;case 2:case 3:!this.requestId&&this.isRequestIdCommand&&(this.requestId=e.generateRequestId()),n.req_id=this.requestId||"",this.payload=JSON.stringify(n)}}return g(e,[{key:"isRequestIdCommand",get:function(){return this.isAckRequired||"EROR"===this.command}},{key:"isAckRequired",get:function(){return"LOGI"===this.command||"MESG"===this.command||"FILE"===this.command||"ENTR"===this.command||"EXIT"===this.command||"READ"===this.command||"MEDI"===this.command||"FEDI"===this.command}},{key:"encode",value:function(){return this.command+this.payload+"\n"}},{key:"decode",value:function(e){e=e.trim(),this.command=e.substring(0,4),this.payload=e.substring(4)}},{key:"getJsonElement",value:function(){return JSON.parse(this.payload)}}],[{key:"bSessionRefresh",value:function(e){return new this("LOGI",{token:e.token,expiring_session:1},e.requestId)}},{key:"bPing",value:function(){return new this("PING",{id:(new Date).getTime(),active:1})}},{key:"bMessage",value:function(e){var t=e.channelUrl,n=e.message,r=e.data,i=e.customType,o=e.metaArrays,a=e.mentionType,s=e.mentionedUserIds,u=e.mentionedMessageTemplate,c=e.translationTargetLanguages,l=e.pushNotificationDeliveryOption,h=e.appleCriticalAlertOptions,f=e.requestId,d=void 0===f?null:f,p=e.silent,g=void 0!==p&&p,y=e.rootMessageId,v=void 0===y?null:y,m=e.parentMessageId,b=void 0===m?null:m,_=e.pollId,w=e.isReplyToChannel,E=void 0!==w&&w,S=B.get(this._iid),C=S.UserMessageParams,O=S.BaseMessageParams,T={};return T.channel_url=t,T.message=n,T.data=r,o&&o.length>0&&(T.metaarray=o.map(function(e){return e.encode()})),a&&(T.mention_type=a),T.mentioned_user_ids=[],a===O.MentionType.CHANNEL?T.mentioned_user_ids=[]:Array.isArray(s)&&s.length>0&&(T.mentioned_user_ids=s),u&&(T.mentioned_message_template=u),i&&(T.custom_type=i),c&&c.length>0&&(T.target_langs=c),l&&l!==C.PushNotificationDeliveryOption.DEFAULT&&(T.push_option=l),h&&(T.apple_critical_alert_options=h.serialize()),g&&(T.silent=g),v&&(T.root_message_id=v),b&&(T.parent_message_id=b),"number"==typeof _?T.poll_id=_:null===_&&(T.poll_id=-1),E&&(T.reply_to_channel=E),new this("MESG",T,d)}},{key:"bFile",value:function(e){var t=e.channelUrl,n=e.url,r=e.name,i=e.type,o=e.size,a=e.data,s=e.customType,u=e.thumbnailSizes,c=e.requireAuth,l=e.metaArrays,h=e.mentionType,f=e.mentionedUserIds,d=e.pushNotificationDeliveryOption,p=e.appleCriticalAlertOptions,g=e.requestId,y=void 0===g?null:g,v=e.silent,m=void 0!==v&&v,b=e.rootMessageId,_=void 0===b?null:b,w=e.parentMessageId,E=void 0===w?null:w,S=e.isReplyToChannel,C=void 0!==S&&S,O=B.get(this._iid),T=O.BaseMessageParams,k=O.FileMessageParams,I={};return I.channel_url=t,I.url=n,I.name=r||"",I.type=i||"",I.size=o||0,I.custom=a,s&&(I.custom_type=s),u&&(I.thumbnails=u),c&&(I.require_auth=c),l&&l.length>0&&(I.metaarray=l.map(function(e){return e.encode()})),h&&(I.mention_type=h),I.mentioned_user_ids=[],h===T.MentionType.CHANNEL?I.mentioned_user_ids=[]:Array.isArray(f)&&f.length>0&&(I.mentioned_user_ids=f),d&&d!==k.PushNotificationDeliveryOption.DEFAULT&&(I.push_option=d),p&&(I.apple_critical_alert_options=p.serialize()),m&&(I.silent=m),_&&(I.root_message_id=_),E&&(I.parent_message_id=E),C&&(I.reply_to_channel=C),new this("FILE",I,y)}},{key:"bUpdateUserMessage",value:function(e){var t=e.channelUrl,n=e.messageId,r=e.appleCriticalAlertOptions,i=e.message,o=void 0===i?null:i,a=e.data,s=void 0===a?null:a,u=e.customType,c=void 0===u?null:u,l=e.mentionType,h=void 0===l?null:l,f=e.mentionedUserIds,d=void 0===f?null:f,p=e.mentionedMessageTemplate,g=void 0===p?null:p,y=e.metaArrayParams,v=void 0===y?null:y,m=e.pollId,b=B.get(this._iid).BaseMessageParams,_={};return _.channel_url=t,_.msg_id=n,null!=o&&void 0!==o&&(_.message=o),null!=s&&void 0!==s&&(_.data=s),null!=c&&void 0!==c&&(_.custom_type=c),h&&(_.mention_type=h),h===b.MentionType.CHANNEL?_.mentioned_user_ids=[]:Array.isArray(d)&&d.length>0&&(_.mentioned_user_ids=d),g&&(_.mentioned_message_template=g),v&&(_.metaarray=v),r&&(_.apple_critical_alert_options=r.serialize()),"number"==typeof m?_.poll_id=m:null===m&&(_.poll_id=-1),new this("MEDI",_)}},{key:"bUpdateFileMessage",value:function(e){var t=e.channelUrl,n=e.messageId,r=e.appleCriticalAlertOptions,i=e.data,o=void 0===i?null:i,a=e.customType,s=void 0===a?null:a,u=e.mentionType,c=void 0===u?null:u,l=e.mentionedUserIds,h=void 0===l?null:l,f=e.metaArrayParams,d=void 0===f?null:f,p=B.get(this._iid).BaseMessageParams,g={};return g.channel_url=t,g.msg_id=n,null!=o&&void 0!==o&&(g.data=o),null!=s&&void 0!==s&&(g.custom_type=s),c&&(g.mention_type=c),c===p.MentionType.CHANNEL?g.mentioned_user_ids=[]:Array.isArray(h)&&h.length>0&&(g.mentioned_user_ids=h),d&&(g.metaarray=d),r&&(g.apple_critical_alert_options=r.serialize()),new this("FEDI",g)}},{key:"bRead",value:function(e){var t=e.channelUrl,n={};return n.channel_url=t,new this("READ",n)}},{key:"bMessageAck",value:function(e){var t=e.channelUrl,n=e.messageId,r={};return r.channel_url=t,r.msg_id=n,new this("MACK",r)}},{key:"bTypeStart",value:function(e){var t=e.channelUrl,n=e.time,r={};return r.channel_url=t,r.time=n,new this("TPST",r)}},{key:"bTypeEnd",value:function(e){var t=e.channelUrl,n=e.time,r={};return r.channel_url=t,r.time=n,new this("TPEN",r)}},{key:"bEnter",value:function(e){var t=e.channelUrl,n={};return n.channel_url=t,new this("ENTR",n)}},{key:"bExit",value:function(e){var t=e.channelUrl,n={};return n.channel_url=t,new this("EXIT",n)}},{key:"generateRequestId",value:function(){return String(++Se)}}]),e}(),Oe=1048576,Te=function(){function e(e){void 0===e&&(e={}),this._emojiHash=e.emoji_hash||"",this._uploadSizeLimit=e.file_upload_size_limit?e.file_upload_size_limit*Oe:Number.MAX_VALUE,this._useReaction=!!e.use_reaction,this._applicationAttributes=e.application_attributes||[],this._premiumFeatureList=e.premium_feature_list||[],this._disableSupergroupMack=e.disable_supergroup_mack||!1}return Object.defineProperty(e.prototype,"emojiHash",{get:function(){return this._emojiHash},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"uploadSizeLimit",{get:function(){return this._uploadSizeLimit},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isUsingReaction",{get:function(){return this._useReaction},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"applicationAttributes",{get:function(){return this._applicationAttributes},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"premiumFeatureList",{get:function(){return this._premiumFeatureList},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isSupergroupMackDisabled",{get:function(){return this._disableSupergroupMack},enumerable:!1,configurable:!0}),e.prototype._objectify=function(){var e={};return e.emoji_hash=this._emojiHash,this._uploadSizeLimit!==Number.MAX_VALUE&&(e.file_upload_size_limit=this._uploadSizeLimit/Oe),e.use_reaction=this._useReaction,e.application_attributes=this._applicationAttributes,e.premium_feature_list=this._premiumFeatureList,e.disable_supergroup_mack=this._disableSupergroupMack,e},e}(),ke=function(){function e(e){this._source=e}return Object.defineProperty(e.prototype,"source",{get:function(){return this._source},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isFromEvent",{get:function(){return this._source>=2e3},enumerable:!1,configurable:!0}),e}(),Ie=function(){},Ae={NAME_ALPHABETICAL:["name","-pk"],CHRONOLOGICAL:["-createdAt","-pk"],LATEST_LAST_MESSAGE:["-lastMessageCreatedAt","-createdAt","-pk"]},Ne={LATEST:["channelUrl","-createdAt","-messageId"],LATEST_UNSENT:["channelUrl","sendingStatus","createdAt"],CHILD_MESSAGE_FIRST:["channelUrl","-parentMessageId","-createdAt"]},Re=function(){function e(e,t){this._source=e,this._sendingStatus=t}return Object.defineProperty(e.prototype,"source",{get:function(){return this._source},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isFromEvent",{get:function(){return this._source>=2e3},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sendingStatus",{get:function(){return this._sendingStatus},enumerable:!1,configurable:!0}),e}(),Pe=function(){function e(){this.messageType="",this.customTypes=["*"],this.senderUserIds=[],this.sendingStatus=null}return e.prototype.clone=function(){var t=new e,n=JSON.parse(JSON.stringify(this));return Object.keys(n).forEach(function(e){t[e]=n[e]}),t},e.prototype.match=function(e){if(this.messageType&&this.messageType!==e.messageType)return!1;if(!this.customTypes.includes("*")&&!this.customTypes.includes(e.customType))return!1;if(this.senderUserIds.length>0){if(!e.isUserMessage()&&!e.isFileMessage())return!1;if(!this.senderUserIds.includes(e.sender.userId))return!1}return!this.sendingStatus||this.sendingStatus===e.sendingStatus},e}(),xe=function(e,t){if(e.length>0){for(var n=0,r=e.length-1,i=Math.floor((n+r)/2);n<r;){var o=e[i].createdAt-t.createdAt;if(o>0)r=i,i=Math.floor((n+r)/2);else{if(!(o<0))return i;n=i+1,i=Math.floor((n+r)/2)}}return e[i].createdAt>t.createdAt?i:i+1}return e.length},Me=function(e){var t=e.channel,n=e.ts,r=e.prevLimit,i=void 0===r?0:r,o=e.nextLimit,a=void 0===o?0:o,s=e.filter,u={channel:t,token:n,tokenType:"timestamp",isInclusive:!0,prevResultSize:i,nextResultSize:a,shouldReverse:!1,includeMetaArray:!0,includeReactions:!0,includeThreadInfo:!0,includeReplies:!0,includeParentMessageText:!0,showSubchannelMessagesOnly:!0};if(s){var c=s.messageType,l=s.customTypes,h=s.senderUserIds;c&&(u.messageType=c),l.length>0&&(u.customTypes=l),h.length>0&&(u.senderUserIds=h)}return u},Le=function(e,t,n){if(n.length>0){var r=n.map(function(e){return e.createdAt});t.includes("prev")&&(e.top=Math.min.apply(Math,D([e.top],r,!1))),t.includes("next")&&(e.bottom=Math.max.apply(Math,D([e.bottom],r,!1)))}},De=function(e){return new Promise(function(t,n){setTimeout(function(){return t()},e)})},je={};!function(e){e.SUCCEEDED="succeeded",e.UNSENT="unsent"}(pe||(pe={}));var Ue,Fe=function(){function e(e){var t=e.iid,n=e.collections;this._iid=t,this._collections=n,je[t]=this}return e.of=function(e){return je[e]},e.prototype._serialize=function(e){return e.serialize()},e.prototype._deserialize=function(e){if(e){var t=x(x({},e),{messageId:parseInt(e.messageId)}),n=B.get(this._iid),r=n.UserMessage,i=n.FileMessage,o=n.AdminMessage;if("user"===t.messageType)return r.buildFromSerializedData(t);if("file"===t.messageType)return i.buildFromSerializedData(t);if("admin"===t.messageType)return o.buildFromSerializedData(t)}return null},e.deserialize=function(e,t){if(t){var n=x(x({},t),{messageId:parseInt(t.messageId)}),r=B.get(e),i=r.UserMessage,o=r.FileMessage,a=r.AdminMessage;if("user"===n.messageType)return i.buildFromSerializedData(n);if("file"===n.messageType)return o.buildFromSerializedData(n);if("admin"===n.messageType)return a.buildFromSerializedData(n)}return null},Object.defineProperty(e.prototype,"_localCacheEnabled",{get:function(){return N.get(this._iid).get("localCacheEnabled")},enumerable:!1,configurable:!0}),e.prototype._getMessageCollectionByType=function(e){return e?this._collections[e]:this._collections.succeeded},e.prototype._getIndexByCollection=function(e){return"UnsentMessage"===e.name?Ne.LATEST_UNSENT:Ne.LATEST},e.prototype._fetch=function(e,t,n){return M(this,void 0,void 0,function(){var r,i,o=this;return L(this,function(a){switch(a.label){case 0:return this._localCacheEnabled?(r={where:function(r){if(!r)return!1;if(e&&r.channelUrl!==e)return!1;if(n.parentMessageId&&r.parentMessageId!==n.parentMessageId)return!1;if(n.backward){if(r.createdAt<=n.token)return!1}else if(r.createdAt>=n.token)return!1;return!!t.match(o._deserialize(r))},index:n.index,backward:n.backward},[4,n.collection.query(r)]):[3,3];case 1:return[4,a.sent().fetch({limit:n.limit})];case 2:return i=a.sent(),[2,Promise.all(i.map(function(e){return M(o,void 0,void 0,function(){var t,r,i;return L(this,function(o){switch(o.label){case 0:return t=this._deserialize(e),(r=e.messageParams)&&r.file&&ne.isFileTypeBlob(r.fileType)&&"string"==typeof t._messageParams.file?(i=t._messageParams,[4,n.collection.getBlob(r.file)]):[3,2];case 1:i._file=o.sent(),o.label=2;case 2:return[2,t]}})})}))];case 3:return[2,[]]}})})},e.fetch=function(t,n,r){return M(this,void 0,void 0,function(){var i,o,a=this;return L(this,function(s){switch(s.label){case 0:return i={where:function(i){if(!i)return!1;if(r.backward){if(i.createdAt<=r.token)return!1}else if(i.createdAt>=r.token)return!1;return!!n.match(e.deserialize(t,i))},index:r.index,backward:r.backward},[4,r.collection.query(i)];case 1:return[4,s.sent().fetch({limit:r.limit})];case 2:return o=s.sent(),[2,Promise.all(o.map(function(n){return M(a,void 0,void 0,function(){var i,o,a;return L(this,function(s){switch(s.label){case 0:return i=e.deserialize(t,n),(o=n.messageParams)&&o.file&&ne.isFileTypeBlob(o.fileType)&&"string"==typeof i._messageParams.file?(a=i._messageParams,[4,r.collection.getBlob(o.file)]):[3,2];case 1:a.file=s.sent(),s.label=2;case 2:return[2,i]}})})}))]}})})},e.prototype.get=function(e,t){return M(this,void 0,void 0,function(){var n,r;return L(this,function(i){switch(i.label){case 0:return this._localCacheEnabled?(n=this._getMessageCollectionByType(t),r=this._deserialize,[4,n.getByKey(e)]):[3,2];case 1:return[2,r.apply(this,[i.sent()])];case 2:return[2,null]}})})},e.prototype.getPreviousAndNextMessages=function(e,t,n,r,i){return void 0===r&&(r=30),M(this,void 0,void 0,function(){var o,a;return L(this,function(s){switch(s.label){case 0:return[4,this.getPreviousMessages(e,t,n,r,i)];case 1:return o=s.sent(),[4,this.getNextMessages(e,t,n,r,i)];case 2:return a=s.sent(),[2,function(e){for(var t=[],n={},r=0,i=e;r<i.length;r++){var o=i[r];o.messageId?n[o.messageId]||(n[o.messageId]=!0,t.push(o)):t.push(o)}return t}(D(D([],o,!0),a,!0))]}})})},e.prototype.getPreviousMessages=function(e,t,n,r,i){return void 0===r&&(r=30),M(this,void 0,void 0,function(){var o;return L(this,function(a){switch(a.label){case 0:return o=this._getMessageCollectionByType(i),[4,this._fetch(e,t,{token:n,limit:r,backward:!1,collection:o,index:this._getIndexByCollection(o)})];case 1:return[2,a.sent().reverse()]}})})},e.prototype.getNextMessages=function(e,t,n,r,i){return void 0===r&&(r=30),M(this,void 0,void 0,function(){var o;return L(this,function(a){switch(a.label){case 0:return o=this._getMessageCollectionByType(i),[4,this._fetch(e,t,{token:n,limit:r,backward:!0,collection:o,index:this._getIndexByCollection(o)})];case 1:return[2,a.sent()]}})})},e.prototype.getAllChildMessages=function(e,t,n){return M(this,void 0,void 0,function(){return L(this,function(r){switch(r.label){case 0:return[4,this._fetch(e.channelUrl,t,{token:Date.now(),limit:null,collection:n,backward:!1,index:Ne.CHILD_MESSAGE_FIRST,parentMessageId:e.messageId})];case 1:return[2,r.sent()]}})})},e.prototype.getUnsentMessages=function(e,t){return M(this,void 0,void 0,function(){var n;return L(this,function(r){switch(r.label){case 0:return n=this._getMessageCollectionByType(pe.UNSENT),[4,this._fetch(e,t,{token:0,limit:null,collection:n,backward:!0,index:Ne.LATEST_UNSENT})];case 1:return[2,r.sent()]}})})},e.prototype.getAllUnsentMessages=function(t){return M(this,void 0,void 0,function(){var n;return L(this,function(r){switch(r.label){case 0:return n=this._getMessageCollectionByType(pe.UNSENT),[4,e.fetch(this._iid,t,{token:Date.now(),limit:null,collection:n,backward:!1,index:Ne.LATEST_UNSENT})];case 1:return[2,r.sent()]}})})},e.prototype.countBetween=function(e,t,n,r,i){return M(this,void 0,void 0,function(){var o,a=this;return L(this,function(s){switch(s.label){case 0:return this._localCacheEnabled?(o={where:function(i){return i.channelUrl===e&&!(n>i.createdAt||i.createdAt>r)&&t.match(a._deserialize(i))},index:Ne.LATEST},[4,this._getMessageCollectionByType(i).query(o)]):[3,3];case 1:return[4,s.sent().count()];case 2:return[2,s.sent()];case 3:return[2,0]}})})},e.prototype._serializeMessages=function(e,t){return M(this,void 0,void 0,function(){var n,r,i=this;return L(this,function(o){switch(o.label){case 0:return n=this._getMessageCollectionByType(t),r=[],[4,Promise.all(e.map(function(e){return M(i,void 0,void 0,function(){var t,i;return L(this,function(o){switch(o.label){case 0:return(t=e.serialize())?((t=x({},t)).messageParams&&(t.messageParams=x({},t.messageParams)),e.sendingStatus&&"succeeded"!==e.sendingStatus?t.messageId="unsent-".concat(e.reqId):t.messageId="".concat(e.messageId),e.isFileMessage()&&e._messageParams&&e._messageParams.file&&ne.isBlob(e._messageParams.file)&&ne.isFileTypeBlob(e._messageParams.fileType)?[4,n.saveBlob(e._messageParams.file,e.reqId)]:[3,2]):[3,3];case 1:i=o.sent(),t.messageParams.file=i,o.label=2;case 2:r.push(t),o.label=3;case 3:return[2]}})})}))];case 1:return o.sent(),[2,r]}})})},e.prototype.upsert=function(e,t){return M(this,void 0,void 0,function(){var n,r,i,o,a,s,u,c,l,h,f,d,p,g,y;return L(this,function(v){switch(v.label){case 0:return this._localCacheEnabled?(n=Fi.getInstance(this._iid),r=this._getMessageCollectionByType(t),[4,this._serializeMessages(e,t)]):[3,13];case 1:return i=v.sent(),[4,r.upsertMany(i)];case 2:if(v.sent(),t&&t!==pe.SUCCEEDED)return[3,13];o=[],a=[],s=0,v.label=3;case 3:return s<e.length?(u=e[s]).sendingStatus&&u.sendingStatus===n.MessageSendingStatus.SUCCEEDED&&u.updatedAt>0?(l=(c=o).concat,[4,this._locallyUpdateChildMessages(u,pe.SUCCEEDED)]):[3,6]:[3,7];case 4:return o=l.apply(c,[v.sent()]),f=(h=a).concat,[4,this._locallyUpdateChildMessages(u,pe.UNSENT)];case 5:a=f.apply(h,[v.sent()]),v.label=6;case 6:return s++,[3,3];case 7:return o.length>0?(d=this._getMessageCollectionByType(pe.SUCCEEDED),[4,this._serializeMessages(o,pe.SUCCEEDED)]):[3,10];case 8:return p=v.sent(),[4,d.upsertMany(p)];case 9:v.sent(),v.label=10;case 10:return a.length>0?(g=this._getMessageCollectionByType(pe.UNSENT),[4,this._serializeMessages(a,pe.UNSENT)]):[3,13];case 11:return y=v.sent(),[4,g.upsertMany(y)];case 12:v.sent(),v.label=13;case 13:return[2]}})})},e.prototype._locallyUpdateChildMessages=function(e,t){return M(this,void 0,void 0,function(){var n,r,i;return L(this,function(o){switch(o.label){case 0:return n=new Pe,r=[],i=this._getMessageCollectionByType(t),[4,this.getAllChildMessages(e,n,i)];case 1:return o.sent().forEach(function(t){t.applyParentMessage(e)&&r.push(t)}),[2,r]}})})},e.prototype.remove=function(e,t){return M(this,void 0,void 0,function(){var n,r;return L(this,function(i){switch(i.label){case 0:return this._localCacheEnabled?[4,De(500)]:[3,3];case 1:return i.sent(),n=this._getMessageCollectionByType(t),r={messageId:{"/in":e.map(function(e){return"".concat(e)})}},[4,n.removeIf({where:r})];case 2:i.sent(),i.label=3;case 3:return[2]}})})},e.prototype.removeUnsentMessages=function(e){return M(this,void 0,void 0,function(){var t,n,r,i,o,a;return L(this,function(s){switch(s.label){case 0:return t=e.channelUrl,n=e.sendingStatus,r=e.reqIds,i=[],this._localCacheEnabled?[4,De(500)]:[3,3];case 1:return s.sent(),o=this._getMessageCollectionByType(pe.UNSENT),a={channelUrl:{"=":t}},n&&(a.sendingStatus={"=":n}),r&&r.length>0&&(a.reqId={"/in":r}),[4,o.removeIf({where:a})];case 2:i=s.sent(),s.label=3;case 3:return[2,i]}})})},e.prototype.removeFailedMessages=function(e,t){return M(this,void 0,void 0,function(){var n,r,i,o;return L(this,function(a){switch(a.label){case 0:return n=[],this._localCacheEnabled?[4,De(500)]:[3,3];case 1:return a.sent(),r=this._getMessageCollectionByType(pe.UNSENT),i=Fi.getInstance(this._iid),o={channelUrl:{"=":e},sendingStatus:{"=":i.MessageSendingStatus.FAILED}},t&&t.length>0&&(o.reqId={"/in":t}),[4,r.removeIf({where:o})];case 2:n=a.sent(),a.label=3;case 3:return[2,n]}})})},e.prototype.clearByChannelUrl=function(e){return M(this,void 0,void 0,function(){var t=this;return L(this,function(n){switch(n.label){case 0:return[4,Promise.all(Object.keys(pe).map(function(n){var r=t._getMessageCollectionByType(pe[n]),i={channelUrl:{"=":e}};return r.removeIf({where:i})}))];case 1:return n.sent(),[2]}})})},e.prototype.clear=function(e){return M(this,void 0,void 0,function(){return L(this,function(t){switch(t.label){case 0:return this._localCacheEnabled?[4,this._getMessageCollectionByType(e).clear()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},e.prototype.clearAll=function(){return M(this,void 0,void 0,function(){var e=this;return L(this,function(t){switch(t.label){case 0:return this._localCacheEnabled?[4,Promise.all(Object.keys(pe).map(function(t){return e.clear(pe[t])}))]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},e.prototype.clearAbove=function(e,t){return M(this,void 0,void 0,function(){var n,r;return L(this,function(i){switch(i.label){case 0:return this._localCacheEnabled?(n=this._getMessageCollectionByType(t),r={createdAt:{"<":e}},[4,n.removeIf({where:r})]):[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})},e}(),He=function(){function e(e){var t=e.top,n=e.bottom;this.top=t,this.bottom=n}return e.prototype.include=function(e){return this.top<=e&&e<=this.bottom},e.prototype.overlap=function(e){return this.include(e.top)||this.include(e.bottom)},e}(),Be={},Ve=function(e,t){return"sendbird:".concat(e,"@channel/").concat(t,"/message/sync")},qe=function(){function e(e){var t=e.iid,n=e.channel,r=e.limit,i=void 0===r?Je:r,o=this;this._prevSync=null,this._nextSync=null,this._syncRange=new He({top:Number.MAX_SAFE_INTEGER,bottom:-1}),this._isPrevSyncComplete=!1,this._isNextSyncComplete=!1,this._iid=t,this._channel=n,this._limit=i;var a=B.get(this._iid).BaseChannel,s=N.get(this._iid),u=s.get("currentUserId"),c=s.get("store"),l=s.get("apiClient"),h=Fe.of(this._iid),f=ye.of(this._iid),d=Ve(u,this._channel.url),p=s.container.concurrentCallLimit,g=s.container.backOffDelay;this._prevSync=new ct(d,function(e){return M(o,void 0,void 0,function(){var e,t,r,i,o,s,u,p,g,y=this;return L(this,function(v){switch(v.label){case 0:return e={hasNext:!0,nextParams:null},[4,c.get(d)];case 1:return(t=v.sent())&&t.isPrevSyncComplete?[3,7]:(t&&(this._syncRange=t.range,this._isPrevSyncComplete=t.isPrevSyncComplete),r=Me({channel:this._channel,ts:this._syncRange.top,prevLimit:this._limit}),[4,l.getMessageList(r)]);case 2:return i=v.sent(),o=[],s=i.messages.map(function(e){var t=a.buildMessage(e,y._channel);return(t.isUserMessage()||t.isFileMessage())&&t._isSentByMe()&&o.push(t.reqId),t}),u=this.getMinCreatedAt(s),this._syncRange.top=Math.min(this._syncRange.top,u),this._syncRange.bottom<0&&(this._syncRange.bottom=this.getMaxCreatedAt(s)),this._isPrevSyncComplete=s.length<this._limit,X.debug("Message collection background sync fetched messages count: ",s.length),[4,h.upsert(s)];case 3:return v.sent(),o.length>0?[4,h.removeUnsentMessages({channelUrl:this._channel.url,reqIds:o})]:[3,5];case 4:v.sent(),v.label=5;case 5:return p={range:this._syncRange,isPrevSyncComplete:this._isPrevSyncComplete,isNextSyncComplete:t?t.isNextSyncComplete:this._isNextSyncComplete},[4,c.set({key:d,value:p,generation:1})];case 6:return v.sent(),g={source:he.MESSAGE_BACKGROUND,payload:{channel:n,messages:s}},f.send(g),e.hasNext=!this._isPrevSyncComplete,[3,8];case 7:X.debug("Message collection background sync has finished."),e.hasNext=!1,v.label=8;case 8:return[2,e]}})})},p,g),this._nextSync=new ct(d,function(e){return M(o,void 0,void 0,function(){var e,t,r,i,o,s,u,p,g,y=this;return L(this,function(v){switch(v.label){case 0:return e={hasNext:!0,nextParams:null},[4,c.get(d)];case 1:return(t=v.sent())?(this._syncRange=t.range,r=Me({channel:this._channel,ts:this._syncRange.bottom,nextLimit:this._limit}),[4,l.getMessageList(r)]):[3,7];case 2:return i=v.sent(),o=[],s=i.messages.map(function(e){var t=a.buildMessage(e,y._channel);return(t.isUserMessage()||t.isFileMessage())&&t._isSentByMe()&&o.push(t.reqId),t}),u=this.getMaxCreatedAt(s),this._syncRange.bottom=Math.max(this._syncRange.bottom,u),this._isNextSyncComplete=s.length<this._limit,[4,h.upsert(s)];case 3:return v.sent(),o.length>0?[4,h.removeUnsentMessages({channelUrl:this._channel.url,reqIds:o})]:[3,5];case 4:v.sent(),v.label=5;case 5:return p={range:this._syncRange,isPrevSyncComplete:t?t.isPrevSyncComplete:this._isPrevSyncComplete,isNextSyncComplete:this._isNextSyncComplete},[4,c.set({key:d,value:p,generation:1})];case 6:v.sent(),g={source:he.MESSAGE_BACKGROUND,payload:{channel:n,messages:s}},f.send(g),e.hasNext=!this._isNextSyncComplete,v.label=7;case 7:return[2,e]}})})},p,g)}return e.of=function(t,n,r){return void 0===r&&(r=Je),Be[t]||(Be[t]={}),Be[t][n.url]||(Be[t][n.url]=new e({iid:t,channel:n,limit:r})),Be[t][n.url]},Object.defineProperty(e.prototype,"priority",{set:function(e){this._prevSync.priority=e,this._nextSync.priority=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"range",{get:function(){return this._syncRange},enumerable:!1,configurable:!0}),e.prototype.resume=function(){X.debug("Message collection background sync has resumed."),this._isPrevSyncComplete||this._prevSync.resume(null),this._isNextSyncComplete||this._nextSync.resume(null)},e.prototype.pause=function(){X.debug("Message collection background sync has paused."),this._prevSync.stop(),this._nextSync.stop()},e.prototype.getMinCreatedAt=function(e){var t=Number.MAX_SAFE_INTEGER;return e.forEach(function(e){var n=e.createdAt;n<t&&(t=n)}),t},e.prototype.getMaxCreatedAt=function(e){var t=0;return e.forEach(function(e){var n=e.createdAt;n>t&&(t=n)}),t},e}(),Ge={},ze=function(e,t){return"sendbird:".concat(e,"@channel/").concat(t,"/message/changelogs")},We=function(){function e(e){var t=e.iid,n=e.channel,r=this;this._token=0,this._sync=null,this._iid=t,this._channel=n;var i=B.get(this._iid).BaseChannel,o=N.get(this._iid),a=o.get("currentUserId"),s=o.get("store"),u=o.get("apiClient"),c=o.container.localCacheEnabled,l=Fe.of(this._iid),h=ye.of(this._iid),f=ze(a,this._channel.url);this._sync=new ct(f,function(e){return M(r,void 0,void 0,function(){var e,t,r,a,d,p,g,y,v,m=this;return L(this,function(b){switch(b.label){case 0:return e={hasNext:!0,nextParams:""},c?[4,s.get(f)]:[3,2];case 1:return r=b.sent(),[3,3];case 2:r=null,b.label=3;case 3:t=r,this._token=t?t.token:o.get("firstConnectedAt")/1e3,a={channelUrl:this._channel.url,isOpenChannel:this._channel.isOpenChannel(),includeMetaArray:!1,includeReactions:!0,includeReplies:!0,includeParentMessageText:!0,includeThreadInfo:!0},"number"==typeof this._token?a.timestamp=this._token:a.token=this._token,b.label=4;case 4:return b.trys.push([4,12,,15]),[4,u.getMessageChangeLogs(a)];case 5:return d=b.sent(),p=d.updated.map(function(e){return i.buildMessage(e,m._channel)}),g={updatedMessages:p,deletedMessageIds:d.deleted.map(function(e){return parseInt(e.message_id)})},e.hasNext=d.has_more,e.nextParams=this._token=d.next,c?(y=[],p.forEach(function(e){(e.isUserMessage()||e.isFileMessage())&&e._isSentByMe()&&y.push(e.reqId)}),y.length>0?[4,l.removeUnsentMessages({channelUrl:this._channel.url,reqIds:y})]:[3,7]):[3,11];case 6:b.sent(),b.label=7;case 7:return[4,l.upsert(p)];case 8:return b.sent(),[4,l.remove(g.deletedMessageIds)];case 9:return b.sent(),[4,s.set({key:f,value:{token:this._token},generation:1})];case 10:b.sent(),b.label=11;case 11:return X.debug("Message collection changelog sync update messages count: ",g.updatedMessages.length),X.debug("Message collection changelog sync deleted message ids count: ",g.deletedMessageIds.length),v={source:he.MESSAGE_CHANGELOG,payload:x({channel:n},g)},h.send(v),[2,e];case 12:return b.sent().isInvalidTokenError?[4,s.remove(f)]:[3,14];case 13:b.sent(),b.label=14;case 14:return[3,15];case 15:return[2]}})})})}return e.of=function(t,n){return Ge[t]||(Ge[t]={}),Ge[t][n.url]||(Ge[t][n.url]=new e({iid:t,channel:n})),Ge[t][n.url]},e.prototype.resume=function(){X.debug("Message collection changelog sync has resumed."),this._sync.resume(null,!0)},e.prototype.pause=function(){X.debug("Message collection changelog sync has paused."),this._sync.stop()},e}();!function(e){e.CACHE_AND_REPLACE_BY_API="cache_and_replace_by_api",e.CACHE_ONLY="cache_only"}(Ue||(Ue={}));var Ke,Ye=function(){function e(){this._onCacheResult=null,this._onApiResult=null}return e.prototype.invokeCacheResult=function(e,t){this._onCacheResult(e,t)},e.prototype.invokeApiResult=function(e,t){this._onApiResult(e,t)},e.prototype.onCacheResult=function(e){return this._onCacheResult=e,this},e.prototype.onApiResult=function(e){return this._onApiResult=e,this},e}(),Qe=function(){var e=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var n=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"===t?n:3&n|8).toString(16)})},$e=function(){function e(){}return e.prototype.isNetworkConnected=function(){return!("undefined"==typeof navigator||!navigator.onLine)},e.ready=function(){return M(this,void 0,void 0,function(){return L(this,function(e){return"undefined"!=typeof navigator&&navigator&&"boolean"==typeof navigator.onLine?[2,navigator.onLine]:[2,new Promise(function(e,t){s.default.get("https://www.google.com").then(function(){return e(!0)}).catch(function(){return e(!1)})})]})})},e}();!function(e){e[e.BACKGROUND_SYNC_CLOSE=0]="BACKGROUND_SYNC_CLOSE",e[e.BACKGROUND_SYNC_OPEN=1]="BACKGROUND_SYNC_OPEN",e[e.FILL=2]="FILL",e[e.USER_CALL=3]="USER_CALL"}(Ke||(Ke={}));var Xe,Je=100,Ze=new He({top:Number.MAX_SAFE_INTEGER,bottom:0}),et=new Map,tt=function(e){return"sendbird@message/fill/".concat(e,"/").concat(Qe())},nt=function(){function e(e){var t=e.iid,n=e.channel,r=e.startingPoint,i=e.filter,o=e.limit,a=void 0===o?100:o,s=this;this._hugeGapCheckTimer=null,this._messages=[],this._syncRange=new He(x({},Ze)),this._hasPrevious=!0,this._hasNext=!0,this._unsentMessages=[],this._iid=t,this._channel=n,this._startingPoint=r,this._filter=i,this._limit=a,this._syncLimit=Math.max(a,Je),this._eventObserver={onevent:function(e){return M(s,void 0,void 0,function(){return L(this,function(t){switch(t.label){case 0:return[4,this._handleEvent(e)];case 1:return t.sent(),[2]}})})}},this._eventHandler={onMessagesAdded:Ie,onMessagesUpdated:Ie,onMessagesDeleted:Ie,onChannelUpdated:Ie,onChannelDeleted:Ie,onHugeGapDetected:Ie};var u=N.get(this._iid);this._localCacheEnabled=u.container.localCacheEnabled,this._localCacheEnabled&&(this._backgroundSync=qe.of(this._iid,this._channel,this._syncLimit),this._backgroundSync.resume()),this._changelogSync=We.of(this._iid,this._channel),this._connectionObserver={onConnect:function(){s._checkHugeGap(),s._localCacheEnabled&&s._backgroundSync.resume(),s._changelogSync.resume()},onDisconnect:function(){return M(s,void 0,void 0,function(){return L(this,function(e){switch(e.label){case 0:return[4,$e.ready()];case 1:return e.sent()||(this._previousFillSync.stop(),this._nextFillSync.stop(),this._localCacheEnabled&&this._backgroundSync.pause(),this._changelogSync.pause()),[2]}})})}},this._previousFillSync=new ct(tt("prev"),function(e){return M(s,void 0,void 0,function(){var t,n,r;return L(this,function(i){switch(i.label){case 0:return[4,this._getRemoteMessages({ts:e,prevLimit:this._syncLimit})];case 1:return(t=i.sent()).length>0?(n=Math.min.apply(Math,t.map(function(e){return e.createdAt})),this._syncRange.top=Math.min(this._syncRange.top,n),r=new Re(he.MESSAGE_FILL,t[0].sendingStatus),this._addMessagesToView(t,{context:r}),[2,{hasNext:t.length<this._syncLimit||this._syncRange.top>=n,nextParams:this._syncRange.top}]):[2,{hasNext:!1,nextParams:0}]}})})}),this._nextFillSync=new ct(tt("next"),function(e){return M(s,void 0,void 0,function(){var t,n,r;return L(this,function(i){switch(i.label){case 0:return[4,this._getRemoteMessages({ts:e,nextLimit:this._syncLimit})];case 1:return(t=i.sent()).length>0?(n=Math.max.apply(Math,t.map(function(e){return e.createdAt})),this._syncRange.bottom=Math.max(this._syncRange.bottom,n),r=new Re(he.MESSAGE_FILL,t[0].sendingStatus),this._addMessagesToView(t,{context:r}),[2,{hasNext:t.length<this._syncLimit||this._syncRange.bottom<=n,nextParams:this._syncRange.bottom}]):[2,{hasNext:!1,nextParams:0}]}})})}),de.of(this._iid).addObserver(this._connectionObserver)}return e.prototype._handleEvent=function(e){var t=e.source,n=e.payload,r=void 0===n?{}:n,i=Fi.getInstance(this._iid);switch(e.source){case he.MESSAGE_BACKGROUND:break;case he.MESSAGE_CHANGELOG:var o=r,a=o.channel,s=o.updatedMessages,u=o.deletedMessageIds;if(a&&a.url===this._channel.url){if(s&&s.length>0){this._removeMatchingUnsentMessagesFromView(s);var c=new Re(t,s[0].sendingStatus);this._addMessagesToView(s,{context:c})}u&&u.length>0&&(d=this._removeMessagesFromView(u,{})).length>0&&(c=new Re(t,d[0].sendingStatus),this._eventHandler.onMessagesDeleted(c,this._channel,d))}break;case he.LOCAL_MESSAGE_PENDING_CREATED:case he.LOCAL_MESSAGE_RESEND_STARTED:case he.LOCAL_MESSAGE_CANCELED:var l=r,h=(a=l.channel,l.message);c=new Re(t,h.sendingStatus),a.url===this._channel.url&&this._upsertUnsentMessagesToView([h],{context:c});break;case he.EVENT_MESSAGE_SENT:var f=r;if(a=f.channel,h=f.message,a.url===this._channel.url){var d=this._removeMatchingUnsentMessagesFromView([h]);if(this._hasNext)d.length>0&&(c=new Re(t,d[0].sendingStatus),this._eventHandler.onMessagesDeleted(c,a,d));else{this._addMessagesToView([h],{});var c=new Re(t,h.sendingStatus);d.length>0?this._eventHandler.onMessagesUpdated(c,a,[h]):this._eventHandler.onMessagesAdded(c,a,[h])}}break;case he.EVENT_MESSAGE_RECEIVED:var p=r;a=p.channel,h=p.message,a.url!==this._channel.url||this._hasNext||(c=new Re(t,h.sendingStatus),this._addMessagesToView([h],{context:c}));break;case he.LOCAL_MESSAGE_FAILED:var g=r;a=g.channel,h=g.message,a.url===this._channel.url&&h.sendingStatus===i.MessageSendingStatus.FAILED&&(c=new Re(t,h.sendingStatus),this._upsertUnsentMessagesToView([h],{context:c}));break;case he.EVENT_MESSAGE_UPDATED:var y=r;a=y.channel,h=y.message,a.url===this._channel.url&&(c=new Re(t,h.sendingStatus),this._addMessagesToView([h],{context:c,isUpdateOnly:!0}));break;case he.EVENT_MESSAGE_DELETED:var v=r,m=(a=v.channel,v.messageId);a.url===this._channel.url&&(et.delete(m),(d=this._removeMessagesFromView([m],{})).length>0&&(c=new Re(t,d[0].sendingStatus),this._eventHandler.onMessagesDeleted(c,this._channel,d)));break;case he.EVENT_DELIVERY_RECEIPT_UPDATED:case he.EVENT_READ_RECEIPT_UPDATED:if((a=r.channel).isGroupChannel()){s=[];for(var b=0,_=this._messages;b<_.length;b++)h=_[b],(et.get(h.messageId)||0)!==(k=this.channel.getUnreadMemberCount(h))&&(s.push(h),k>0?et.set(h.messageId,k):et.delete(h.messageId));s.length>0&&(c=new Re(t,s[0].sendingStatus),this._eventHandler.onMessagesUpdated(c,a,s))}break;case he.EVENT_USER_LEFT:var w=N.get(this._iid),E=r,S=(a=E.channel,E.user),C=w.get("currentUserId");if(S.userId!==C){s=[];for(var O=0,T=this._messages;O<T.length;O++){var k;h=T[O],(et.get(h.messageId)||0)!==(k=this.channel.getUnreadMemberCount(h))&&(s.push(h),k>0?et.set(h.messageId,k):et.delete(h.messageId))}s.length>0&&(c=new Re(t,s[0].sendingStatus),this._eventHandler.onMessagesUpdated(c,a,s))}else c=new ke(t),this._eventHandler.onChannelDeleted(c,a.url);break;case he.EVENT_CHANNEL_CHANGED:case he.EVENT_USER_RECEIVED_INVITATION:case he.EVENT_USER_JOINED:case he.EVENT_CHANNEL_FROZEN:case he.EVENT_CHANNEL_UNFROZEN:case he.EVENT_CHANNEL_HIDDEN:case he.EVENT_CHANNEL_UNHIDDEN:case he.EVENT_USER_MUTED:case he.EVENT_USER_UNMUTED:case he.EVENT_TYPING_STATUS_UPDATED:case he.EVENT_OPERATOR_UPDATED:case he.EVENT_CHANNEL_METADATA_UPDATED:case he.EVENT_CHANNEL_METADATA_DELETED:case he.EVENT_CHANNEL_METACOUNTER_UPDATED:case he.EVENT_CHANNEL_METACOUNTER_DELETED:a=r.channel,c=new ke(t),this._eventHandler.onChannelUpdated(c,a);break;case he.EVENT_CHANNEL_DELETED:a=r.channel,c=new ke(t),this._eventHandler.onChannelDeleted(c,a.url)}},e.prototype._createRemoteMessageParams=function(e){var t=e.prevLimit,n=void 0===t?0:t,r=e.nextLimit,i=void 0===r?0:r,o=new(0,B.get(this._iid).MessageListParams);return o.isInclusive=!0,o.prevResultSize=n,o.nextResultSize=i,o.includeMetaArray=!0,o.includeReactions=!0,o.includeThreadInfo=!0,o.includeReplies=!0,o.includeParentMessageText=!0,o},e.prototype._getRemoteMessages=function(e){var t=e.ts,n=e.prevLimit,r=void 0===n?0:n,i=e.nextLimit,o=void 0===i?0:i;return M(this,void 0,void 0,function(){var e,n,i,a;return L(this,function(s){switch(s.label){case 0:return e=[],r>0?(i=this._createRemoteMessageParams({prevLimit:r,nextLimit:0}),[4,this._channel.getMessagesByTimestamp(t,i)]):[3,2];case 1:n=s.sent(),e=e.concat(n),this._hasPrevious=n.length>=r,s.label=2;case 2:return o>0?(i=this._createRemoteMessageParams({prevLimit:0,nextLimit:o}),[4,this._channel.getMessagesByTimestamp(t,i)]):[3,4];case 3:a=s.sent(),e=e.concat(a),this._hasNext=a.length>=o,s.label=4;case 4:return e.length>0?[4,this._upsertRemotelyFetchedMessages(e)]:[3,6];case 5:s.sent(),s.label=6;case 6:return[2,e]}})})},e.prototype._upsertRemotelyFetchedMessages=function(e,t){return void 0===t&&(t={}),M(this,void 0,void 0,function(){var n,r,i,o;return L(this,function(a){switch(a.label){case 0:return n=t.context,r=void 0===n?null:n,i=Fe.of(this._iid),o=e.map(function(e){return e.reqId}),[4,i.removeUnsentMessages({channelUrl:this.channel.url,reqIds:o})];case 1:return a.sent(),this._removeMatchingUnsentMessagesFromView(e,{context:r}),[4,i.upsert(e,pe.SUCCEEDED)];case 2:return a.sent(),this._addMessagesToView(e,{context:r}),[2]}})})},e.prototype._checkHugeGap=function(){return M(this,void 0,void 0,function(){var e,t,n,r,i,o,a,s,u,c,l,h,f,d,p,g=this;return L(this,function(y){switch(y.label){case 0:return y.trys.push([0,12,,13]),e=B.get(this._iid).BaseChannel,t=N.get(this._iid),n=t.get("apiClient"),this._messages.length>0?(r=Fe.of(this._iid),i={from:this._messages[0].createdAt,to:Math.min(this._syncRange.top,this._messages[this._messages.length-1].createdAt),cachedCount:0},o=i,[4,r.countBetween(this._channel.url,this._filter,i.from,i.to)]):[3,8];case 1:return o.cachedCount=y.sent(),a={from:Math.max(this._syncRange.bottom,this._messages[0].createdAt),to:this.hasNext?this._messages[this._messages.length-1].createdAt:Number.MAX_SAFE_INTEGER,cachedCount:0},s=a,[4,r.countBetween(this._channel.url,this._filter,a.from,a.to)];case 2:return s.cachedCount=y.sent(),u={iid:this._iid,channelUrl:this._channel.url,channelType:this._channel.channelType,filter:this._filter,previous:i,next:a},[4,n.checkMessageHugeGap(x(x({},u),u.filter))];case 3:return c=y.sent(),(l={isHugeGap:!!c.is_huge_gap,previousMessages:c.prev_messages.map(function(t){return e.buildMessage(t,g._channel)})||[],previousHasMore:!!c.prev_hasmore,nextMessages:c.next_messages.map(function(t){return e.buildMessage(t,g._channel)})||[],nextHasMore:!!c.next_hasmore}).isHugeGap?[3,6]:(f=D(D([],l.previousMessages,!0),l.nextMessages,!0),X.debug("Message collection non-huge gap message fill count: ",f.length),f.length>0?(d=new Re(he.MESSAGE_FILL,f[0].sendingStatus),[4,this._upsertRemotelyFetchedMessages(f,{context:d})]):[3,5]);case 4:y.sent(),this._extendSyncRange(["prev"],l.previousMessages),this._extendSyncRange(["next"],l.nextMessages),l.previousHasMore&&this._previousFillSync.run(this._syncRange.top),l.nextHasMore&&this._nextFillSync.run(this._syncRange.bottom),y.label=5;case 5:return[3,7];case 6:setTimeout(function(){return g._eventHandler.onHugeGapDetected()},10),y.label=7;case 7:return[3,11];case 8:return h=Math.floor(this._syncLimit/2),[4,this._getRemoteMessages({ts:this._startingPoint,prevLimit:h,nextLimit:h})];case 9:return(f=y.sent()).length>0?(d=new Re(he.MESSAGE_FILL,f[0].sendingStatus),[4,this._upsertRemotelyFetchedMessages(f,{context:d})]):[3,11];case 10:y.sent(),this._extendSyncRange(["prev","next"],this._messages),y.label=11;case 11:return[3,13];case 12:return p=y.sent(),X.warn("Message collection huge gap checker error: ",p),this._hugeGapCheckTimer=setTimeout(function(){g._hugeGapCheckTimer=null,g._checkHugeGap()},3e3),[3,13];case 13:return[2]}})})},e.prototype._extendSyncRange=function(e,t){if(t.length>0){var n=t.map(function(e){return e.createdAt});e.includes("prev")&&(this._syncRange.top=Math.min.apply(Math,D([this._syncRange.top],n,!1))),e.includes("next")&&(this._syncRange.bottom=Math.max.apply(Math,D([this._syncRange.bottom],n,!1)))}},e.prototype._updateChildMessagesInView=function(e){var t=[];return this._messages.forEach(function(n){n.applyParentMessage(e)&&t.push(n)}),t},e.prototype._addMessagesToView=function(e,t){void 0===t&&(t={});for(var n=t.context,r=void 0===n?null:n,i=t.isUpdateOnly,o=void 0!==i&&i,a=Fi.getInstance(this._iid),s=[],u=[],c=[],l=0,h=e;l<h.length;l++){var f=h[l];if(f.sendingStatus===a.MessageSendingStatus.SUCCEEDED){var d=this._messages.map(function(e){return e.messageId}).indexOf(f.messageId);if(this._filter.match(f)){var p=this._channel.getUnreadMemberCount(f);if(et.set(f.messageId,p),d>=0){if(u.push(f),this._messages[d]=f,f.updatedAt>0){var g=this._updateChildMessagesInView(f);u=u.concat(g)}}else if(!o){var y=xe(this._messages,f);s.push(f),this._messages.splice(y,0,f)}}else d>=0&&(c.push(f),this._messages.splice(d,1))}}r&&(s.length>0&&this._eventHandler.onMessagesAdded(r,this._channel,s),u.length>0&&this._eventHandler.onMessagesUpdated(r,this._channel,u),c.length>0&&this._eventHandler.onMessagesDeleted(r,this._channel,c))},e.prototype._removeMessagesFromView=function(e,t){void 0===t&&(t={});for(var n=t.context,r=void 0===n?null:n,i=[],o=0,a=e;o<a.length;o++){var s=a[o],u=this._messages.map(function(e){return e.messageId}).indexOf(s);if(u>=0){var c=this._messages[u];i.push(c),this._messages.splice(u,1)}}return r&&i.length>0&&this._eventHandler.onMessagesDeleted(r,this._channel,i),i},e.prototype._upsertUnsentMessagesToView=function(e,t){void 0===t&&(t={});for(var n=t.context,r=void 0===n?null:n,i=[],o=[],a=[],s=0,u=e;s<u.length;s++){var c=u[s],l=this._unsentMessages.map(function(e){return e.reqId}).indexOf(c.reqId);if(this._filter.match(c))if(l>=0)o.push(c),this._unsentMessages[l]=c;else{var h=xe(this._unsentMessages,c);i.push(c),this._unsentMessages.splice(h,0,c)}else l>=0&&(this._unsentMessages.splice(l,1),a.push(c))}r&&(i.length>0&&this._eventHandler.onMessagesAdded(r,this._channel,i),o.length>0&&this._eventHandler.onMessagesUpdated(r,this._channel,o),a.length>0&&this._eventHandler.onMessagesDeleted(r,this._channel,a))},e.prototype._removeMatchingUnsentMessagesFromView=function(e,t){void 0===t&&(t={});for(var n=t.context,r=void 0===n?null:n,i=[],o=0,a=e;o<a.length;o++){var s=a[o];if((s.isUserMessage()||s.isFileMessage())&&s._isSentByMe()){var u=this._unsentMessages.map(function(e){return e.reqId}).indexOf(s.reqId);if(u>=0){var c=this._unsentMessages[u];i.push(c),this._unsentMessages.splice(u,1)}}}return r&&i.length>0&&this._eventHandler.onMessagesDeleted(r,this._channel,i),i},e.prototype._removeFailedMessagesFromView=function(e){var t=Fi.getInstance(this._iid),n=[],r=[],i=this._unsentMessages.map(function(e){return e.reqId});if(e)for(var o=0,a=e;o<a.length;o++){var s=a[o],u=i.indexOf(s.reqId);u>=0&&this._unsentMessages[u].sendingStatus===t.MessageSendingStatus.FAILED?n.push(this._unsentMessages[u]):r.push(this._unsentMessages[u])}else for(var c=0,l=this._unsentMessages;c<l.length;c++)(s=l[c]).sendingStatus===t.MessageSendingStatus.FAILED?n.push(s):r.push(s);return this._unsentMessages=r,n},e._processNextAutoResend=function(e){if(e.isCacheEnabled&&!e.isInBackground&&e.getConnectionState()===e.ConnectionState.OPEN)try{var t=e.getAutoResendQueue();if(t.length>0){e.getIsProcessingAutoResend()||(X.debug("Auto-resend queue started."),e.setIsProcessingAutoResend(!0));var n=t[0];X.debug("Processing auto-resend for message request id: ",n.reqId),B.get(e._iid).GroupChannel.getChannel(n.channelUrl,I.INTERNAL_CALL,function(t,r){var i;if(e.getErrorFirstCallback()&&(r=(i=[t,r])[0],t=i[1]),r)throw r;n.isUserMessage()?t._autoResendUserMessage(n):n.isFileMessage()&&t._autoResendFileMessage(n)})}else X.debug("Auto-resend queue finished."),e.setIsProcessingAutoResend(!1)}catch(t){X.warn("Process auto-resend error: ",t),e.setIsProcessingAutoResend(!1)}},e._completeCurrentAndProcessNextAutoResend=function(e,t){if(e.isCacheEnabled&&t._isAutoResendRegistered){var n=e.getAutoResendQueue();if(t.sendingStatus===e.MessageSendingStatus.SUCCEEDED||t.sendingStatus===e.MessageSendingStatus.FAILED&&!ae.isAutoResendableError(t.errorCode))n.length>0&&t.reqId===n[0].reqId&&(n.shift(),this._processNextAutoResend(e));else if(t.sendingStatus===e.MessageSendingStatus.PENDING){if(n.length>0&&n.map(function(e){return e.reqId}).indexOf(t.reqId)>-1)return;n.push(t),!e.getIsProcessingAutoResend()&&n.length>0&&this._processNextAutoResend(e)}}},e._processAutoResendRegisteredPendingMessages=function(e){return M(this,void 0,void 0,function(){var t,n,r,i,o,a,s,u,c,l,h,f;return L(this,function(d){switch(d.label){case 0:return t=Fe.of(e._iid),n=ye.of(e._iid),(r=new Pe).sendingStatus=e.MessageSendingStatus.PENDING,[4,t.getAllUnsentMessages(r)];case 1:i=d.sent(),o=0,a=i,d.label=2;case 2:return o<a.length?(s=a[o],[4,e.GroupChannel.getChannel(s.channelUrl)]):[3,7];case 3:return u=d.sent(),s._isAutoResendRegistered?(c=(new Date).getTime(),l=s.createdAt+2592e5,c<=l?(-1===(h=e.getAutoResendQueue()).map(function(e){return e.reqId}).indexOf(s.reqId)&&h.push(s),[3,6]):[3,4]):[3,6];case 4:return X.debug("Auto-resend registered pending messaged expired. Expiration date: ",new Date(l).toLocaleString()),(f=s._clone()).sendingStatus=e.MessageSendingStatus.FAILED,f.requestState=e.MessageRequestState.FAILED,f._isAutoResendRegistered=!1,[4,t.upsert([f],pe.UNSENT)];case 5:d.sent(),n.send({source:he.LOCAL_MESSAGE_FAILED,payload:{channel:u,message:f}}),d.label=6;case 6:return o++,[3,2];case 7:return[2]}})})},e._processNonAutoResendRegisteredPendingMessages=function(e){return M(this,void 0,void 0,function(){var t,n,r,i,o,a,s,u,c;return L(this,function(l){switch(l.label){case 0:return t=Fe.of(e._iid),n=ye.of(e._iid),(r=new Pe).sendingStatus=e.MessageSendingStatus.PENDING,[4,t.getAllUnsentMessages(r)];case 1:i=l.sent(),o=0,a=i,l.label=2;case 2:return o<a.length?(s=a[o],[4,e.GroupChannel.getChannel(s.channelUrl)]):[3,6];case 3:return u=l.sent(),s._isAutoResendRegistered?[3,5]:(X.debug("Cached pending message is not auto-resend registered. Changing its sending status to failed: ",s.reqId),(c=s._clone()).sendingStatus=e.MessageSendingStatus.FAILED,c.requestState=e.MessageRequestState.FAILED,c.errorCode=U.ACK_TIMEOUT,[4,t.upsert([c],pe.UNSENT)]);case 4:l.sent(),n.send({source:he.LOCAL_MESSAGE_FAILED,payload:{channel:u,message:c}}),l.label=5;case 5:return o++,[3,2];case 6:return[2]}})})},Object.defineProperty(e.prototype,"channel",{get:function(){return this._channel},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"succeededMessages",{get:function(){return this._messages},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pendingMessages",{get:function(){var e=Fi.getInstance(this._iid);return this._unsentMessages.filter(function(t){return t.sendingStatus===e.MessageSendingStatus.PENDING})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"failedMessages",{get:function(){var e=Fi.getInstance(this._iid);return this._unsentMessages.filter(function(t){return t.sendingStatus===e.MessageSendingStatus.FAILED})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"startingPoint",{get:function(){return this._startingPoint},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasPrevious",{get:function(){return this._hasPrevious},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasNext",{get:function(){return this._hasNext},enumerable:!1,configurable:!0}),e.prototype.initialize=function(e){var t=this,n=new Ye;this._messages=[],this._syncRange=new He(x({},Ze)),this._hasNext=!0,this._hasPrevious=!0;var r=Math.floor(this._limit/2),i=Fe.of(this._iid),o=ye.of(this._iid);switch(e){case Ue.CACHE_ONLY:i.getPreviousAndNextMessages(this._channel.url,this._filter,this._startingPoint,r).then(function(e){return M(t,void 0,void 0,function(){var t;return L(this,function(r){switch(r.label){case 0:return[4,i.getUnsentMessages(this._channel.url,this._filter)];case 1:return t=r.sent(),this._upsertUnsentMessagesToView(t),this._addMessagesToView(e),n.invokeCacheResult(null,e),[2]}})})}).catch(function(e){n.invokeCacheResult(e,null)}).finally(function(){o.addObserver(t._eventObserver)});break;case Ue.CACHE_AND_REPLACE_BY_API:i.getPreviousAndNextMessages(this._channel.url,this._filter,this._startingPoint,r).then(function(e){return M(t,void 0,void 0,function(){var t;return L(this,function(r){switch(r.label){case 0:return[4,i.getUnsentMessages(this._channel.url,this._filter)];case 1:return t=r.sent(),this._upsertUnsentMessagesToView(t),this._addMessagesToView(e),n.invokeCacheResult(null,e),[2]}})})}).catch(function(e){n.invokeCacheResult(e,null)}).finally(function(){t._getRemoteMessages({ts:t._startingPoint,prevLimit:r,nextLimit:r}).then(function(e){t._messages=[],t._addMessagesToView(e),t._extendSyncRange(["prev","next"],t._messages),n.invokeApiResult(null,e)}).catch(function(e){n.invokeApiResult(e,null)}).finally(function(){o.addObserver(t._eventObserver)})})}return n},e.prototype.loadPrevious=function(){return M(this,void 0,void 0,function(){var e,t;return L(this,function(n){switch(n.label){case 0:return this._hasPrevious?(e=this._messages.length>0?Math.min.apply(Math,this._messages.map(function(e){return e.createdAt})):Number.MAX_SAFE_INTEGER,[4,$e.ready()]):[3,5];case 1:return n.sent()?[3,3]:(X.debug("Message collection loadPrevious() from the cache."),[4,Fe.of(this._iid).getPreviousMessages(this._channel.url,this._filter,e,this._limit)]);case 2:return t=n.sent(),this._addMessagesToView(t),[2,t];case 3:return X.debug("Message collection loadPrevious() from the server."),[4,this._getRemoteMessages({ts:e,prevLimit:this._limit})];case 4:return t=n.sent(),this._addMessagesToView(t),Le(this._syncRange,["prev"],this._messages),[2,t];case 5:return[2,[]]}})})},e.prototype.loadNext=function(){return M(this,void 0,void 0,function(){var e,t;return L(this,function(n){switch(n.label){case 0:return this._hasNext?(e=this._messages.length>0?Math.max.apply(Math,this._messages.map(function(e){return e.createdAt})):0,[4,$e.ready()]):[3,5];case 1:return n.sent()?[3,3]:(X.debug("Message collection loadNext() from the cache."),[4,Fe.of(this._iid).getNextMessages(this._channel.url,this._filter,e,this._limit)]);case 2:return t=n.sent(),this._addMessagesToView(t),[2,t];case 3:return X.debug("Message collection loadNext() from the server."),[4,this._getRemoteMessages({ts:e,nextLimit:this._limit})];case 4:return t=n.sent(),this._addMessagesToView(t),Le(this._syncRange,["next"],this._messages),[2,t];case 5:return[2,[]]}})})},e.prototype.removeFailedMessages=function(e){return M(this,void 0,void 0,function(){var t,n,r,i;return L(this,function(o){switch(o.label){case 0:return t=Fi.getInstance(this._iid),n=Fe.of(this._iid),r=e.map(function(e){return e.reqId}),[4,n.removeUnsentMessages({channelUrl:this.channel.url,sendingStatus:t.MessageSendingStatus.FAILED,reqIds:r})];case 1:return i=o.sent(),this._removeFailedMessagesFromView(e),[2,i]}})})},e.prototype.removeAllFailedMessages=function(){return M(this,void 0,void 0,function(){var e;return L(this,function(t){switch(t.label){case 0:return e=Fi.getInstance(this._iid),[4,Fe.of(this._iid).removeUnsentMessages({channelUrl:this.channel.url,sendingStatus:e.MessageSendingStatus.FAILED})];case 1:return t.sent(),this._removeFailedMessagesFromView(),[2]}})})},e.prototype.dispose=function(){this._localCacheEnabled&&(this._previousFillSync.stop(),this._nextFillSync.stop(),this._backgroundSync.pause()),this._changelogSync.pause(),de.of(this._iid).removeObserver(this._connectionObserver),this._hugeGapCheckTimer&&(clearTimeout(this._hugeGapCheckTimer),this._hugeGapCheckTimer=null),ye.of(this._iid).removeObserver(this._eventObserver)},e.prototype.setMessageCollectionHandler=function(e){this._eventHandler=e},e}(),rt=new Map,it=new Map,ot=new Map,at=function(){function e(t){var n=t.key,r=t.concurrentCallLimit,i=void 0===r?2:r,o=t.backOffDelay,a=void 0===o?0:o,s=this;this._holdersKey=e.createSemaphoreHoldersKey(n),this._resolversKey=e.createSemaphoreResolversKey(n),this._chainProcessStateKey=e.createChainProcessStateKey(n),this._numLocks=i,this._backOffDelay=a,this._localAcquiredKeys=[],this._localResolversData=[],ee()?(rt[this._holdersKey]||(rt[this._holdersKey]=[]),it[this._resolversKey]||(it[this._resolversKey]=[])):(window.addEventListener("storage",function(e){return M(s,void 0,void 0,function(){var t,n;return L(this,function(r){if(this._localResolversData.length>0&&this.numLocksAvailable>0&&!this._isProcessChainAcquireRunning()&&this._hasHighestPriorityResolver())switch(e.key){case this._holdersKey:if(t=JSON.parse(e.oldValue),n=JSON.parse(e.newValue),!t||!n||n.length>=t.length)return[2];this._processChainResolve();break;case this._chainProcessStateKey:if(JSON.parse(e.newValue))return[2];this._processChainResolve();break;default:return[2]}return[2]})})}),window.addEventListener("beforeunload",function(){var e=s._getLocalResolversData(),t=s._localResolversData.map(function(e){return e.key}),n=e.filter(function(e){return t.indexOf(e.key)<0});n.length>0?window.localStorage.setItem(s._resolversKey,JSON.stringify(n)):window.localStorage.removeItem(s._resolversKey),s._localAcquiredKeys.forEach(function(e){return s.release(e)})}))}return e.createSemaphoreHoldersKey=function(e){return"collection@semaphore_holders_for:"+e},e.createSemaphoreResolversKey=function(e){return"collection@semaphore_resolvers_for:"+e},e.createChainProcessStateKey=function(e){return"collection@semaphore_chain_process_state_for:"+e},Object.defineProperty(e.prototype,"numLocks",{get:function(){return this._numLocks},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"backOffDelay",{get:function(){return this._backOffDelay},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"numLocksAvailable",{get:function(){if(ee())return this.numLocks-rt[this._holdersKey].length;var e=this._getLocalHoldersData();return this.numLocks-e.length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"waitCount",{get:function(){return ee()?it[this._resolversKey].length:this._getLocalResolversData().length},enumerable:!1,configurable:!0}),e.prototype._hasHighestPriorityResolver=function(){var e=this._getLocalResolversData();return e.length>0&&this._localResolversData.map(function(e){return e.key}).indexOf(e[0].key)>=0},e.prototype._isProcessChainAcquireRunning=function(){if(ee())return ot[this._chainProcessStateKey];var e=window.localStorage[this._chainProcessStateKey];return void 0!==e&&JSON.parse(e)},e.prototype._setProcessChainAcquireRunning=function(e){ee()?ot[this._chainProcessStateKey]=e:e?window.localStorage.setItem(this._chainProcessStateKey,JSON.stringify(e)):window.localStorage.removeItem(this._chainProcessStateKey)},e.prototype._processChainResolve=function(){return M(this,void 0,void 0,function(){var e;return L(this,function(t){switch(t.label){case 0:return this.waitCount>0&&this.numLocksAvailable>0&&!this._isProcessChainAcquireRunning()?(this._setProcessChainAcquireRunning(!0),this._tryResolve()?[4,(n=this._backOffDelay,M(void 0,void 0,void 0,function(){return L(this,function(e){return[2,new Promise(function(e){return setTimeout(e,n)})]})}))]:[3,2]):[3,3];case 1:t.sent(),t.label=2;case 2:this._setProcessChainAcquireRunning(!1),ee()?this._processChainResolve():(e=new StorageEvent("storage",{key:this._chainProcessStateKey,oldValue:JSON.stringify(!0),newValue:JSON.stringify(!1)}),dispatchEvent(e)),t.label=3;case 3:return[2]}var n})})},e.prototype.acquire=function(e){return void 0===e&&(e=Ke.BACKGROUND_SYNC_CLOSE),M(this,void 0,void 0,function(){var t,n=this;return L(this,function(r){return ee()?[2,new Promise(function(t){var r={key:Qe(),resolver:function(e){return t(e)},priority:e};switch(e){case Ke.USER_CALL:case Ke.FILL:case Ke.BACKGROUND_SYNC_OPEN:for(var i=it[n._resolversKey],o=-1,a=0;a<i.length&&o<0;a++)e>i[a].priority&&(o=a);if(o>=0){it[n._resolversKey].splice(o,0,r);break}case Ke.BACKGROUND_SYNC_CLOSE:it[n._resolversKey].push(r)}n._processChainResolve()})]:(t=this._getLocalResolversData(),[2,new Promise(function(r){var i=Qe(),o={key:i,priority:e},a={key:i,resolver:function(e){return r(e)},priority:e};switch(e){case Ke.USER_CALL:case Ke.FILL:case Ke.BACKGROUND_SYNC_OPEN:for(var s=-1,u=0;u<t.length&&s<0;u++)e>t[u].priority&&(s=u);if(s>=0){t.splice(s,0,o),window.localStorage.setItem(n._resolversKey,JSON.stringify(t)),n._localResolversData.splice(s,0,a);break}case Ke.BACKGROUND_SYNC_CLOSE:t.push(o),window.localStorage.setItem(n._resolversKey,JSON.stringify(t)),n._localResolversData.push(a)}n._processChainResolve()})])})})},e.prototype.release=function(e){if(ee()){if((t=rt[this._holdersKey].indexOf(e))>=0)return rt[this._holdersKey].splice(t,1),this._processChainResolve(),!0}else{var t,n=JSON.parse(window.localStorage[this._holdersKey]),r=D([],n,!0);if((t=n.indexOf(e))>=0){n.splice(t,1),n.length>0?window.localStorage.setItem(this._holdersKey,JSON.stringify(n)):window.localStorage.removeItem(this._holdersKey),this._localAcquiredKeys.splice(this._localAcquiredKeys.indexOf(e),1);var i=new StorageEvent("storage",{key:this._holdersKey,oldValue:JSON.stringify(r),newValue:JSON.stringify(n)});return dispatchEvent(i),!0}}return!1},e.prototype._tryResolve=function(){if(ee()){if(rt[this._holdersKey].length<this.numLocks){var e=Qe();return rt[this._holdersKey]=D(D([],rt[this._holdersKey],!0),[e],!1),(n=it[this._resolversKey].shift()).resolver(e),!0}}else{var t=this._getLocalHoldersData();if(t.length<this.numLocks){e=Qe();var n=this._localResolversData.shift(),r=this._getLocalResolversData(),i=r.map(function(e){return e.key}).indexOf(n.key);r.splice(i,1),r.length>0?window.localStorage.setItem(this._resolversKey,JSON.stringify(r)):window.localStorage.removeItem(this._resolversKey),window.localStorage.setItem(this._holdersKey,JSON.stringify(D(D([],t,!0),[e],!1))),this._localAcquiredKeys.push(e);var o=new StorageEvent("storage",{key:this._holdersKey,oldValue:JSON.stringify(D([],t,!0)),newValue:JSON.stringify(D(D([],t,!0),[e],!1))});return dispatchEvent(o),(0,n.resolver)(e),!0}}return!1},e.prototype._getLocalHoldersData=function(){var e=window.localStorage[this._holdersKey];return void 0!==e?JSON.parse(e):[]},e.prototype._getLocalResolversData=function(){var e=window.localStorage[this._resolversKey];return void 0!==e?JSON.parse(e):[]},e}();!function(e){e[e.IDLE=0]="IDLE",e[e.RUNNING=1]="RUNNING",e[e.END=2]="END"}(Xe||(Xe={}));var st,ut=function(){},ct=function(){function e(e,t,n,r){void 0===n&&(n=2),void 0===r&&(r=10),this._worker=null,this._state=Xe.IDLE,this._retryCount=0,this._retryLimit=3,this._isPaused=!1,this.priority=Ke.BACKGROUND_SYNC_CLOSE,this.onProgress=ut,this.onStop=ut,this.onError=ut,this.onEnd=ut,this._key=e,this._worker=t,this._semaphore=new at({key:e,concurrentCallLimit:n,backOffDelay:r})}return Object.defineProperty(e.prototype,"isIdle",{get:function(){return this._state===Xe.IDLE},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isRunning",{get:function(){return this._state===Xe.RUNNING},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isDone",{get:function(){return this._state===Xe.END},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isPaused",{get:function(){return this._isPaused},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"retryCount",{get:function(){return this._retryCount},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"retryLimit",{get:function(){return this._retryLimit},enumerable:!1,configurable:!0}),e.prototype.resume=function(e,t){return void 0===t&&(t=!1),this._isPaused=!1,this.isDone&&t&&(this._state=Xe.IDLE),this.run(e)},e.prototype.run=function(e){return M(this,void 0,void 0,function(){var t,n,r;return L(this,function(i){switch(i.label){case 0:return this._isPaused||!this.isIdle?[3,5]:(t=this,[4,this._semaphore.acquire(this.priority)]);case 1:t._key=i.sent(),this._state=Xe.RUNNING,i.label=2;case 2:return i.trys.push([2,4,,5]),[4,this._worker(e)];case 3:return n=i.sent(),this._retryCount=0,this.onProgress(n),n.hasNext?(this._state=Xe.IDLE,this._isPaused?(this._semaphore.release(this._key),this.onStop()):(this.run(n.nextParams),this._semaphore.release(this._key))):(this._state=Xe.END,this._semaphore.release(this._key),this.onEnd(),this._isPaused&&this.onStop()),[3,5];case 4:return r=i.sent(),X.warn("Collection sync run error: ",r),this._state=Xe.IDLE,this._semaphore.release(this._key),this.onError(r),this._retryCount<this._retryLimit?(this._retryCount++,X.debug("Failed collection sync retry count: ",this._retryCount),this.run(e)):(X.debug("Failed collection sync all retries failed."),this.stop(),this.onStop()),[3,5];case 5:return[2]}})})},e.prototype.stop=function(){this._isPaused=!0},e}(),lt={},ht=function(){function e(e){var t=e.iid,n=e.limit,r=void 0===n?mt:n,i=this;this._token="",this._sync=null,this._syncRange=new He({top:Number.MAX_SAFE_INTEGER,bottom:0}),this._completed=!1,this._pkIndex=Date.now(),this._iid=t,this._limit=r;var o=B.get(this._iid).GroupChannel,a=N.get(this._iid),s=a.get("currentUserId"),u=a.get("apiClient"),c=a.get("store"),l=wt.of(this._iid),h=ye.of(this._iid),f="sendbird:".concat(s,"@groupchannel/sync");this._sync=new ct(f,function(e){return M(i,void 0,void 0,function(){var e,t,n,r,i,a,s=this;return L(this,function(d){switch(d.label){case 0:return e={hasNext:!0,nextParams:""},[4,c.get(f)];case 1:if((t=d.sent())&&t.completed)return[3,10];t&&(this._token=t.token,this._syncRange=t.range,this._pkIndex=t.primaryKeyIndex),n={token:this._token,limit:this._limit,includeEmpty:!0,order:"chronological"},d.label=2;case 2:return d.trys.push([2,6,,9]),[4,u.loadGroupChannelList(n)];case 3:return r=d.sent(),i=r.channels.map(function(e){return r.ts&&(e.ts=r.ts),e.cached_primary_key=s._pkIndex--,o.upsert(e)}),this._syncRange.top=Math.min(this._syncRange.top,Math.min.apply(Math,i.map(function(e){return e.createdAt}))),this._syncRange.bottom=Math.max(this._syncRange.bottom,Math.max.apply(Math,i.map(function(e){return e.createdAt}))),e.hasNext=i.length>=this._limit,e.nextParams=this._token=r.next,this._token||(e.hasNext=!1),this._completed=!e.hasNext,X.debug("Group channel collection background sync fetched channels count: ",i.length),[4,l.upsert(i)];case 4:return d.sent(),[4,c.set({key:f,value:{token:this._token,range:this._syncRange,completed:this._completed,primaryKeyIndex:this._pkIndex},generation:1})];case 5:return d.sent(),a={source:he.CHANNEL_BACKGROUND,payload:{channels:i}},h.send(a),[3,9];case 6:return d.sent().isInvalidTokenError?[4,c.remove(f)]:[3,8];case 7:d.sent(),d.label=8;case 8:return[3,9];case 9:return[3,11];case 10:X.debug("Group channel collection background sync has finished."),e.hasNext=!1,d.label=11;case 11:return[2,e]}})})})}return e.of=function(t,n){return void 0===n&&(n=mt),lt[t]||(lt[t]=new e({iid:t,limit:n})),lt[t]},Object.defineProperty(e.prototype,"range",{get:function(){return this._syncRange},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"completed",{get:function(){return this._completed},enumerable:!1,configurable:!0}),e.prototype.resume=function(){X.debug("Group channel collection background sync has resumed."),this._sync.resume("")},e.prototype.pause=function(){X.debug("Group channel collection background sync has paused."),this._sync.stop()},e}(),ft={},dt=function(){function e(e){var t=e.iid,n=this;this._token=0,this._sync=null,this._pkIndex=Date.now(),this._iid=t;var r=B.get(this._iid).GroupChannel,i=N.get(this._iid);this._token=i.get("firstConnectedAt")/1e3;var o=i.get("currentUserId"),a=i.get("store"),s=i.get("apiClient"),u=i.container.localCacheEnabled,c=wt.of(this._iid),l=ye.of(this._iid),h="sendbird:".concat(o,"@groupchannel/changelogs");this._sync=new ct(h,function(e){return M(n,void 0,void 0,function(){var e,t,n,i,o,f,d,p=this;return L(this,function(g){switch(g.label){case 0:return e={hasNext:!0,nextParams:""},u?[4,a.get(h)]:[3,2];case 1:return n=g.sent(),[3,3];case 2:n=null,g.label=3;case 3:(t=n)&&(this._token=t.token,this._pkIndex=t.primaryKeyIndex),i={},"number"==typeof this._token?i.ts=this._token:i.token=this._token,g.label=4;case 4:return g.trys.push([4,10,,13]),[4,s.getMyGroupChannelChangeLogs(i)];case 5:return o=g.sent(),f={updatedChannels:o.updated.map(function(e){return e.cached_primary_key=p._pkIndex--,new r(e)}),deletedChannelUrls:o.deleted},e.hasNext=o.has_more,e.nextParams=this._token=o.next,X.debug("Group channel collection changelog sync update channels count: ",f.updatedChannels.length),X.debug("Group channel collection changelog sync deleted channel urls count: ",f.deletedChannelUrls.length),u?[4,c.upsert(f.updatedChannels)]:[3,9];case 6:return g.sent(),[4,c.remove(f.deletedChannelUrls)];case 7:return g.sent(),[4,a.set({key:h,value:{token:this._token,primaryKeyIndex:this._pkIndex},generation:1})];case 8:g.sent(),g.label=9;case 9:return d={source:he.CHANNEL_CHANGELOG,payload:f},l.send(d),[2,e];case 10:return g.sent().isInvalidTokenError?[4,a.remove(h)]:[3,12];case 11:g.sent(),g.label=12;case 12:return[3,13];case 13:return[2]}})})})}return e.of=function(t){return ft[t]||(ft[t]=new e({iid:t})),ft[t]},e.prototype.resume=function(){X.debug("Group channel collection changelog sync has resumed."),this._sync.resume(0,!0)},e.prototype.pause=function(){X.debug("Group channel collection changelog sync has paused."),this._sync.stop()},e}(),pt=function(e,t){for(var n=0;n<e.length;n++)if(e[n].url===t.url)return n;return-1},gt=function(e,t,n){if(e.length>0){for(var r=0,i=e.length-1,o=Math.floor((r+i)/2);r<i;){var a=vt(e[o],t,n);if(a>0)i=o,o=Math.floor((r+i)/2);else{if(!(a<0))return o;r=o+1,o=Math.floor((r+i)/2)}}return vt(e[o],t,n)>0?o:o+1}return e.length},yt=function(e,t){return t-e},vt=function(e,t,n){switch(n){case st.LATEST_LAST_MESSAGE:if(e.lastMessage&&!t.lastMessage)return-1;if(!e.lastMessage&&t.lastMessage)return 1;if(e.lastMessage&&t.lastMessage){var r=e.lastMessage.createdAt;if(0===(o=t.lastMessage.createdAt-r)){var i=e.createdAt;0===(o=t.createdAt-i)&&(o=yt(e.cachedPrimaryKey,t.cachedPrimaryKey))}return o}return r=e.createdAt,0===(o=t.createdAt-r)&&(o=yt(e.cachedPrimaryKey,t.cachedPrimaryKey)),o;case st.CHRONOLOGICAL:return 0===(o=t.createdAt-e.createdAt)&&(o=yt(e.cachedPrimaryKey,t.cachedPrimaryKey)),o;case st.CHANNEL_NAME_ALPHABETICAL:var o;return 0===(o=e.name.localeCompare(t.name))&&(o=yt(e.cachedPrimaryKey,t.cachedPrimaryKey)),o}},mt=40;!function(e){e.LATEST_LAST_MESSAGE="latest_last_message",e.CHRONOLOGICAL="chronological",e.CHANNEL_NAME_ALPHABETICAL="channel_name_alphabetical"}(st||(st={}));var bt=function(){function e(e){var t=e.iid,n=e.filter,r=e.order,i=e.limit,o=void 0===i?20:i,a=this;this._channels=[],this._token=null,this._hasMore=!0,this._iid=t,this._filter=n,this._order=r,this._limit=o,this._syncLimit=Math.max(o,mt),this._eventObserver={onevent:function(e){return M(a,void 0,void 0,function(){return L(this,function(t){return[2,this._handleEvent(e)]})})}},this._eventHandler={onChannelsAdded:Ie,onChannelsUpdated:Ie,onChannelsDeleted:Ie};var s=N.get(this._iid);this._localCacheEnabled=s.container.localCacheEnabled,this._localCacheEnabled&&(this._backgroundSync=ht.of(this._iid,this._syncLimit),this._backgroundSync.resume()),this._changelogSync=dt.of(this._iid),ye.of(this._iid).addObserver(this._eventObserver),this._connectionStateObserver={onConnect:function(){a._localCacheEnabled&&a._backgroundSync.resume(),a._changelogSync.resume()},onDisconnect:function(){return M(a,void 0,void 0,function(){return L(this,function(e){switch(e.label){case 0:return[4,$e.ready()];case 1:return e.sent()||(this._localCacheEnabled&&this._backgroundSync.pause(),this._changelogSync.pause()),[2]}})})}},de.of(this._iid).addObserver(this._connectionStateObserver)}return e.prototype._handleEvent=function(e){var t=this,n=e.source,r=e.payload,i=N.get(this._iid),o=new ke(n);switch(n){case he.CHANNEL_BACKGROUND:break;case he.CHANNEL_CHANGELOG:var a=r,s=a.updatedChannels,u=a.deletedChannelUrls,c=s.filter(function(e){return t._filter.match(e)});this._addChannelsToView(c,{context:o}),this._removeChannelsFromView(u,{context:o});break;case he.EVENT_USER_DECLINED_INVITATION:var l=i.get("currentUserId"),h=r,f=h.channel;h.invitee.userId===l?this._removeChannelsFromView([f.url],{context:o}):this._filter.match(f)?this._addChannelsToView([f],{context:o}):this._removeChannelsFromView([f.url],{context:o});break;case he.EVENT_USER_LEFT:l=i.get("currentUserId");var d=r;f=d.channel,d.user.userId===l?this._removeChannelsFromView([f.url],{context:o}):this._filter.match(f)?this._addChannelsToView([f],{context:o}):this._removeChannelsFromView([f.url],{context:o});break;case he.EVENT_USER_BANNED:case he.EVENT_USER_UNBANNED:break;case he.EVENT_USER_MUTED:case he.EVENT_USER_UNMUTED:case he.EVENT_TYPING_STATUS_UPDATED:case he.EVENT_OPERATOR_UPDATED:case he.EVENT_CHANNEL_METADATA_UPDATED:case he.EVENT_CHANNEL_METADATA_DELETED:case he.EVENT_CHANNEL_METACOUNTER_UPDATED:case he.EVENT_CHANNEL_METACOUNTER_DELETED:f=r.channel,this._filter.match(f)?this._addChannelsToView([f],{context:o}):this._removeChannelsFromView([f.url],{context:o});break;case he.EVENT_READ_RECEIPT_UPDATED:case he.EVENT_USER_RECEIVED_INVITATION:case he.EVENT_USER_JOINED:case he.EVENT_CHANNEL_FROZEN:case he.EVENT_CHANNEL_UNFROZEN:case he.EVENT_CHANNEL_HIDDEN:case he.EVENT_CHANNEL_UNHIDDEN:case he.EVENT_CHANNEL_CHANGED:f=r.channel,this._filter.match(f)?this._addChannelsToView([f],{context:o}):this._removeChannelsFromView([f.url],{context:o});break;case he.EVENT_CHANNEL_DELETED:var p=r.channelUrl;this._removeChannelsFromView([p],{context:o})}},e.prototype._getRemoteChannels=function(){return M(this,void 0,void 0,function(){var e,t,n;return L(this,function(r){switch(r.label){case 0:return e=B.get(this._iid).GroupChannel,[4,N.get(this._iid).get("apiClient").loadGroupChannelList(x(x({},this._filter),{order:this._order,token:this._token,limit:this._limit,userIdsFilter:this._filter.userIdsFilter,searchFilter:(i=this._filter.searchFilter,i.searchQuery&&i.searchFields?{search_query:i.searchQuery,search_fields:i.searchFields.join(",").toLocaleLowerCase()}:{})}))];case 1:return t=r.sent(),n=t.channels.map(function(n){return"number"==typeof t.ts&&(n.ts=t.ts),e.upsert(n)}),[4,wt.of(this._iid).upsert(n)];case 2:return r.sent(),[2,[n,t.next]]}var i})})},e.prototype._addChannelsToView=function(e,t){void 0===t&&(t={});for(var n=t.context,r=void 0===n?null:n,i=[],o=[],a=0,s=e;a<s.length;a++){var u=s[a],c=pt(this._channels,u);if(c<0)i.push(u),(l=gt(this._channels,u,this._order))===this._channels.length?this._channels.push(u):this._channels.splice(l,0,u);else{o.push(u),this._channels.splice(c,1);var l=gt(this._channels,u,this._order);this._channels.splice(l,0,u)}}r&&(i.length>0&&this._eventHandler.onChannelsAdded(r,i),o.length>0&&this._eventHandler.onChannelsUpdated(r,o))},e.prototype._removeChannelsFromView=function(e,t){void 0===t&&(t={});for(var n=t.context,r=void 0===n?null:n,i=[],o=0,a=e;o<a.length;o++){var s=a[o],u=this._channels.map(function(e){return e.url}).indexOf(s);u>=0&&(i.push(this._channels[u].url),this._channels.splice(u,1))}return r&&i.length>0&&this._eventHandler.onChannelsDeleted(r,i),i},Object.defineProperty(e.prototype,"channelList",{get:function(){return this._channels},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasMore",{get:function(){return this._hasMore},enumerable:!1,configurable:!0}),e.prototype.loadMore=function(){return M(this,void 0,void 0,function(){var e,t,n,r,i;return L(this,function(o){switch(o.label){case 0:return this._hasMore?[4,$e.ready()]:[3,5];case 1:return o.sent()?[3,3]:(X.debug("Group channel collection loadMore() from the cache."),e=wt.of(this._iid),t=e.getNextContainerToken(this._order,this._channels),[4,e.getNextChannels(this._filter,this._order,t,this._limit)]);case 2:return r=o.sent(),this._addChannelsToView(r),[2,r];case 3:return X.debug("Group channel collection loadMore() from the server."),[4,this._getRemoteChannels()];case 4:return n=o.sent(),r=n[0],i=n[1],this._token=i,this._token||(this._hasMore=!1),this._addChannelsToView(r),[2,r];case 5:return[2,[]]}})})},e.prototype.dispose=function(){de.of(this._iid).removeObserver(this._connectionStateObserver),this._localCacheEnabled&&this._backgroundSync.pause(),this._changelogSync.pause(),ye.of(this._iid).removeObserver(this._eventObserver)},e.prototype.setGroupChannelCollectionHandler=function(e){this._eventHandler=e},e.GroupChannelOrder=st,e}(),_t={},wt=function(){function e(e){var t=e.iid,n=e.collection,r=void 0===n?null:n;this._collection=null,this._pkIndex=Date.now(),this._lastFetchedPrimaryKey=Date.now(),this._iid=t,this._collection=r,_t[t]=this}return e.of=function(e){return _t[e]},e.prototype._serialize=function(e){var t=this._createPk();return e.cachedPrimaryKey=t,x(x({},e.serialize()),{lastMessageCreatedAt:e.lastMessage?e.lastMessage.createdAt:-1,pk:t})},e.prototype._deserialize=function(e){return e?B.get(this._iid).GroupChannel.buildFromSerializedData(e):null},Object.defineProperty(e.prototype,"_localCacheEnabled",{get:function(){return N.get(this._iid).get("localCacheEnabled")},enumerable:!1,configurable:!0}),e.prototype._createPk=function(){return this._pkIndex++},e.prototype._fetch=function(e,t,n){return M(this,void 0,void 0,function(){var r,i,o,a,s,u,c,l=this;return L(this,function(h){switch(h.label){case 0:if(!this._localCacheEnabled)return[3,2];switch(r=Ae.LATEST_LAST_MESSAGE,t){case st.CHANNEL_NAME_ALPHABETICAL:r=Ae.NAME_ALPHABETICAL;break;case st.CHRONOLOGICAL:r=Ae.CHRONOLOGICAL;break;case st.LATEST_LAST_MESSAGE:r=Ae.LATEST_LAST_MESSAGE}return i=n.containerToken,o=i.lastMessageCreatedAt,a=i.createdAt,s=i.name,u=i.lastFetchedPrimaryKey,c={where:function(n){switch(t){case st.LATEST_LAST_MESSAGE:if(n.lastMessageCreatedAt>o)return!1;if(n.lastMessageCreatedAt===o&&yt(u,n.pk)>=0)return!1;if(n.lastMessageCreatedAt<0){if(n.createdAt>a)return!1;if(n.createdAt===a&&yt(u,n.pk)>=0)return!1}break;case st.CHANNEL_NAME_ALPHABETICAL:var r=n.name.localeCompare(s);if(r<0)return!1;if(0===r&&yt(u,n.pk)>=0)return!1;break;case st.CHRONOLOGICAL:if(n.createdAt>a)return!1;if(n.createdAt===a&&yt(u,n.pk)>=0)return!1}return e.match(l._deserialize(n))},index:r},[4,this._collection.query(c).fetch({limit:n.limit})];case 1:return[2,h.sent().map(function(e){return l._deserialize(e)})];case 2:return[2,[]]}})})},e.prototype.getNextContainerToken=function(e,t){switch(e){case st.LATEST_LAST_MESSAGE:return t.length>0?{lastMessageCreatedAt:(n=t[t.length-1]).lastMessage?n.lastMessage.createdAt:-1,createdAt:n.createdAt,lastFetchedPrimaryKey:n.cachedPrimaryKey}:{lastMessageCreatedAt:Number.MAX_SAFE_INTEGER,createdAt:Number.MAX_SAFE_INTEGER,lastFetchedPrimaryKey:this._lastFetchedPrimaryKey};case st.CHRONOLOGICAL:return t.length>0?{createdAt:(n=t[t.length-1]).createdAt,lastFetchedPrimaryKey:n.cachedPrimaryKey}:{createdAt:Number.MAX_SAFE_INTEGER,lastFetchedPrimaryKey:this._lastFetchedPrimaryKey};case st.CHANNEL_NAME_ALPHABETICAL:var n;return t.length>0?{name:(n=t[t.length-1]).name,lastFetchedPrimaryKey:n.cachedPrimaryKey}:{name:"",lastFetchedPrimaryKey:this._lastFetchedPrimaryKey}}},e.prototype.get=function(e){return M(this,void 0,void 0,function(){var t;return L(this,function(n){switch(n.label){case 0:return this._localCacheEnabled?(t=this._deserialize,[4,this._collection.getByKey(e)]):[3,2];case 1:return[2,t.apply(this,[n.sent()])];case 2:return[2,null]}})})},e.prototype.getNextChannels=function(e,t,n,r){return void 0===r&&(r=100),M(this,void 0,void 0,function(){return L(this,function(i){switch(i.label){case 0:return[4,this._fetch(e,t,{containerToken:n,limit:r})];case 1:return[2,i.sent()]}})})},e.prototype.upsert=function(e){return M(this,void 0,void 0,function(){var t,n=this;return L(this,function(r){switch(r.label){case 0:return this._localCacheEnabled?(t=e.map(function(e){return n._serialize(e)}),[4,this._collection.upsertMany(t)]):[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}})})},e.prototype.remove=function(e){return M(this,void 0,void 0,function(){return L(this,function(t){switch(t.label){case 0:return this._localCacheEnabled?[4,this._collection.removeIf({where:{url:{"/in":e}}})]:[3,3];case 1:return t.sent(),[4,Fi.getInstance(this._iid).clearCachedMessages(e)];case 2:t.sent(),t.label=3;case 3:return[2]}})})},e.prototype.clear=function(){return M(this,void 0,void 0,function(){return L(this,function(e){switch(e.label){case 0:return this._localCacheEnabled?[4,this._collection.clear()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})},e}(),Et=function(){function e(){this.messageId=null,this.userId=null,this.key=null,this.operation="",this.updatedAt=null}return e.createFromJson=function(e){var t=parseInt(e.msg_id),n=e.user_id,r=e.operation,i=e.reaction,o=e.updated_at;if(t&&"string"==typeof n&&"string"==typeof r&&["add","delete"].indexOf(r.toLowerCase())>=0&&"string"==typeof i&&i&&"number"==typeof o){var a=new this;return a.messageId=t,a.userId=n,a.key=i,a.operation=r.toLowerCase(),a.updatedAt=o,a}return null},e}(),St=function(){function e(){}return e.serialize=function(e,t){void 0===t&&(t=null);var n=JSON.parse(JSON.stringify(e));return t&&t(n),function e(t){return Object.keys(t).forEach(function(n){t[n]&&"object"==typeof t[n]&&e(t[n])}),Object.freeze(t)}(n)},e.serializeWithoutFreeze=function(e,t){void 0===t&&(t=null);var n=JSON.parse(JSON.stringify(e));return t&&t(n),n},e.deserialize=function(e,t){void 0===t&&(t=null);var n=JSON.parse(JSON.stringify(e));return t&&t(n),n},e}(),Ct={TIMESTAMP:"timestamp",MESSAGE_ID:"messageId"},Ot=new WeakMap,Tt=function(){function e(t){d(this,e),this.messageId=0,this.messageType=e.MESSAGE_TYPE_BASE,this.channelUrl="",this.data=null,this.customType=null,this.silent=!1,this.createdAt=0,this.updatedAt=0,this.channelType=null,this.metaArrays=[],this.reactions=[],this.mentionType=null,this.mentionedUsers=[],this.mentionedUserIds=[],this.mentionedMessageTemplate=null,this.sendingStatus=null,Ot.set(this,0),this.parentMessageId=0,this.parentMessageText=null,this.threadInfo=null,this.isReplyToChannel=!1,this.parentMessage=null,this.ogMetaData=null,this.isOperatorMessage=!1,this.appleCriticalAlertOptions=null,this.reqId="",this._isAutoResendRegistered=!1,t&&this.__update(t)}return g(e,[{key:"serialize",value:function(e){var t=this;return St.serialize(this,function(n){n.hasOwnProperty("_sender")&&(n.sender=n._sender,delete n._sender),n.hasOwnProperty("_isAutoResendRegistered")&&(n.isAutoResendRegistered=n._isAutoResendRegistered,delete n._isAutoResendRegistered),t.appleCriticalAlertOptions&&(n.appleCriticalAlertOptions=t.appleCriticalAlertOptions.serialize()),e&&e(n)})}},{key:"isIdentical",value:function(e){return!("object"!==f(e)||!e.hasOwnProperty("messageId"))&&(0!==this.messageId&&0!==e.messageId?this.messageId===e.messageId:this.reqId===e.reqId)}},{key:"isEqual",value:function(e){return ae.deepEqual(this,e)}},{key:"isOpenChannel",value:function(){var e=B.get(this._iid).BaseChannel;return this.channelType===e.CHANNEL_TYPE_OPEN}},{key:"isGroupChannel",value:function(){var e=B.get(this._iid).BaseChannel;return this.channelType===e.CHANNEL_TYPE_GROUP}},{key:"isUserMessage",value:function(){return this.messageType===e.MESSAGE_TYPE_USER}},{key:"isAdminMessage",value:function(){return this.messageType===e.MESSAGE_TYPE_ADMIN}},{key:"isFileMessage",value:function(){return this.messageType===e.MESSAGE_TYPE_FILE}},{key:"__update",value:function(e){var t=this,n=Fi.getInstance(this._iid),r=B.get(this._iid),i=r.User,o=r.BaseChannel,a=r.BaseMessageParams,s=r.BaseMessage,u=r.Reaction,c=r.MessageMetaArray,l=r.ThreadInfo,f=r.OGMetaData,d=r.AppleCriticalAlertOptions;if(e.hasOwnProperty("msg_id")&&e.msg_id&&(this.messageId=parseInt(e.msg_id)),e.hasOwnProperty("type"))switch(e.type){case"MESG":this.messageType=s.MESSAGE_TYPE_USER;break;case"FILE":this.messageType=s.MESSAGE_TYPE_FILE;break;case"BRDM":case"ADMM":this.messageType=s.MESSAGE_TYPE_ADMIN}e.hasOwnProperty("message_id")&&e.message_id&&(this.messageId=parseInt(e.message_id)),this.channelUrl=e.hasOwnProperty("channel_url")?String(e.channel_url):"",this.data=e.hasOwnProperty("data")?String(e.data):"",this.customType=e.hasOwnProperty("custom_type")?String(e.custom_type):"",e.hasOwnProperty("silent")&&(this.silent=e.silent),this.createdAt=e.hasOwnProperty("ts")?parseInt(e.ts):0,e.hasOwnProperty("created_at")&&(this.createdAt=parseInt(e.created_at)),this.updatedAt=e.hasOwnProperty("updated_at")?parseInt(e.updated_at):0,this.channelType=e.hasOwnProperty("channel_type")?String(e.channel_type):o.CHANNEL_TYPE_GROUP;var p=e.hasOwnProperty("metaarray")?e.metaarray:{},g=e.hasOwnProperty("metaarray_key_order")?e.metaarray_key_order:Object.keys(p).sort(function(e,t){return e.localeCompare(t)});this.metaArrays=[];for(var y=0;y<g.length;y++){var v=g[y];this.metaArrays.push(new c(v,p[v]||[]))}if(e.hasOwnProperty("sorted_metaarray")){var m=e.sorted_metaarray;Array.isArray(m)&&(this.metaArrays=m.map(function(e){return new c(e.key,e.value)}))}if(this.reactions=[],e.hasOwnProperty("reactions")&&Array.isArray(e.reactions))for(var b=0;b<e.reactions.length;b++){var _=u.createFromJson(e.reactions[b]);_&&this.reactions.push(_)}if(this.mentionType=e.hasOwnProperty("mention_type")?e.mention_type:a.MentionType.USERS,this.mentionedUsers=[],e.hasOwnProperty("mentioned_users")&&e.mentioned_users.forEach(function(e){var n=new i(e);t.mentionedUsers.push(n)}),this.mentionedUserIds=[],e.hasOwnProperty("mentioned_user_ids")&&(this.mentionedUserIds=e.mentioned_user_ids),e.hasOwnProperty("mentioned_message_template")&&e.mentioned_message_template&&(this.mentionedMessageTemplate=e.mentioned_message_template),this.sendingStatus=this.messageId>0?n.MessageSendingStatus.SUCCEEDED:n.MessageSendingStatus.FAILED,e.hasOwnProperty("sending_status")&&(this.sendingStatus=e.sending_status),e.hasOwnProperty("root_message_id")&&e.root_message_id&&Ot.set(this,parseInt(e.root_message_id)),e.hasOwnProperty("parent_message_id")&&e.parent_message_id&&(this.parentMessageId=parseInt(e.parent_message_id)),this.threadInfo=new l(e.thread_info),this.isReplyToChannel=!!e.hasOwnProperty("is_reply_to_channel")&&e.is_reply_to_channel,e.hasOwnProperty("parent_message_info")){var w=h({},e.parent_message_info);e.parent_message_info.hasOwnProperty("file")&&(w.require_auth=!!e.parent_message_info.file.require_auth);var E={channelType:this.channelType,channelUrl:this.channelUrl};switch(this.parentMessage=o.buildMessage(w,E),this.parentMessage.messageType){case s.MESSAGE_TYPE_USER:this.parentMessageText=this.parentMessage.message;break;case s.MESSAGE_TYPE_FILE:this.parentMessageText=this.parentMessage.name}}e.hasOwnProperty("og_tag")&&(this.ogMetaData=new f(e.og_tag)),e.hasOwnProperty("is_op_msg")&&(this.isOperatorMessage=e.is_op_msg),e.hasOwnProperty("apple_critical_alert_options")&&(this.appleCriticalAlertOptions=new d(e.apple_critical_alert_options)),e.hasOwnProperty("is_auto_resend_registered")&&(this._isAutoResendRegistered=e.is_auto_resend_registered),this.reqId=e.hasOwnProperty("req_id")?e.req_id:""}},{key:"getMetaArraysByKeys",value:function(e){return Array.isArray(e)?this.metaArrays.filter(function(t){return e.indexOf(t.key)>-1}):[]}},{key:"metaArray",get:function(){var e={};return this.metaArrays.forEach(function(t){e[t.key]=t.value}),e},set:function(e){if("object"===f(e)&&e){var t=B.get(this._iid).MessageMetaArray,n=[];Object.keys(e).forEach(function(r){n.push(new t(r,e[r]))}),this.metaArrays=n}}},{key:"getMetaArrayByKeys",value:function(e){var t={};return this.getMetaArraysByKeys(e).forEach(function(e){t[e.key]=e.value}),t}},{key:"applyReactionEvent",value:function(e){var t=this,n=B.get(this._iid),r=n.Reaction,i=null,o=me.parse(arguments,[new me({type:Et,constraint:function(e){return parseInt(e.messageId)===parseInt(t.messageId)}})]),a=S(o,2);if(i=a[0],e=a[1],!i){for(var s=!1,u=0;u<this.reactions.length;u++)if(this.reactions[u].key===e.key){this.reactions[u]._applyEvent(e),this.reactions[u].isEmpty&&this.reactions.splice(u,1),s=!0;break}s||"add"!==e.operation||this.reactions.push(new r(e.key,[e.userId],e.updatedAt))}}},{key:"_getThreadedMessageList",value:function(t,n,r,i){var o=this,a=B.get(this._iid),s=a.ThreadedMessageListParams,u=null,c=me.parse(arguments,[new me({type:"number"}),new me({type:"string",constraint:function(e){return Object.values(Ct).includes(e)}}),new me({type:s,constraint:function(e){return e._validate()}}),new me({type:"callback"})]),l=S(c,5);return u=l[0],t=l[1],n=l[2],r=l[3],i=l[4],ue(this._iid,function(i){if(u)i(u,null);else{var a=B.get(o._iid),s=a.GroupChannel,c=a.OpenChannel;o.isGroupChannel()?s.getChannel(o.channelUrl,I.INTERNAL_CALL,function(a,s){if(Fi.getInstance(o._iid).getErrorFirstCallback()){var u=[a,s];s=u[0],a=u[1]}s?i(s,null):N.get(o._iid).container.apiClient.getMessageList(h(h({channel:a,token:t,tokenType:n},r),{},{shouldReverse:r.reverse,parentMessageId:o.messageId,includeThreadInfo:!0,replyType:e.ReplyType.ALL})).then(function(e){var t=B.get(o._iid).BaseChannel,n=e.messages.map(function(e){return t.buildMessage(e,a)}).filter(function(e){return null!==e}),r=n.filter(function(e){return e.messageId===o.messageId})[0],s=n.filter(function(e){return e.parentMessageId===o.messageId});i(null,{parentMessage:r,threadedReplies:s})}).catch(function(e){i(e,null)})}):o.isOpenChannel()&&c.getChannel(o.channelUrl,I.INTERNAL_CALL,function(a,s){if(Fi.getInstance(o._iid).getErrorFirstCallback()){var u=[a,s];s=u[0],a=u[1]}s?i(s,null):N.get(o._iid).container.apiClient.getMessageList(h(h({channel:a,token:t,tokenType:n},r),{},{shouldReverse:r.reverse,parentMessageId:o.messageId,includeThreadInfo:!0,replyType:e.ReplyType.ALL})).then(function(e){var t=B.get(o._iid).BaseChannel,n=e.messages.map(function(e){return t.buildMessage(e,a)}).filter(function(e){return null!==e}),r=n.filter(function(e){return e.messageId===o.messageId})[0],s=n.filter(function(e){return e.parentMessageId===o.messageId});i(null,{parentMessage:r,threadedReplies:s})}).catch(function(e){i(e,null)})})}},i)}},{key:"getThreadedMessagesByTimestamp",value:function(e,t,n){return this._getThreadedMessageList(e,Ct.TIMESTAMP,t,n)}},{key:"applyThreadInfoUpdateEvent",value:function(e){var t=this,n=B.get(this._iid),r=n.ThreadInfoUpdateEvent,i=null,o=me.parse(arguments,[new me({type:r,constraint:function(e){return parseInt(e.targetMessageId)===parseInt(t.messageId)}})]),a=S(o,2);return i=a[0],e=a[1],!i&&(this.threadInfo=e.threadInfo,!0)}},{key:"applyParentMessage",value:function(e){if(this.parentMessageId===e.messageId){var t=this.parentMessage.updatedAt;if(e.updatedAt>=t)return this.parentMessage=e,!0}return!1}},{key:"_setRootMessageId",value:function(e){Ot.set(this,e)}}],[{key:"MESSAGE_TYPE_BASE",get:function(){return"base"}},{key:"MESSAGE_TYPE_ADMIN",get:function(){return"admin"}},{key:"MESSAGE_TYPE_USER",get:function(){return"user"}},{key:"MESSAGE_TYPE_FILE",get:function(){return"file"}},{key:"SendingStatus",get:function(){return{NONE:"none",PENDING:"pending",FAILED:"failed",CANCELED:"canceled",SUCCEEDED:"succeeded"}}},{key:"ReplyType",get:function(){return{ALL:"all",NONE:"none",ONLY_REPLY_TO_CHANNEL:"only_reply_to_channel"}}},{key:"getMessage",value:function(e,t){var n=this,r=B.get(this._iid),i=r.BaseChannel,o=r.MessageRetrievalParams,a=null,s=me.parse(arguments,[new me({type:o,constraint:function(e){return e._validate()}}),new me({type:"callback"})]),u=S(s,3);return a=u[0],e=u[1],t=u[2],ue(this._iid,function(t){if(a)t(a,null);else{var r=B.get(n._iid),o=r.GroupChannel,s=r.OpenChannel;switch(e.channelType){case i.CHANNEL_TYPE_GROUP:o.getChannel(e.channelUrl,I.INTERNAL_CALL,function(r,o){if(Fi.getInstance(n._iid).getErrorFirstCallback()){var a=[r,o];o=a[0],r=a[1]}o?t(o,null):N.get(n._iid).container.apiClient.getMessage(h({channel:r},e),function(e,n){if(e)t(e,null);else{var o=i.buildMessage(n,r);t(null,o)}})});break;case i.CHANNEL_TYPE_OPEN:s.getChannel(e.channelUrl,I.INTERNAL_CALL,function(r,o){if(Fi.getInstance(n._iid).getErrorFirstCallback()){var a=[r,o];o=a[0],r=a[1]}o?t(o,null):N.get(n._iid).container.apiClient.getMessage(h({channel:r},e),function(e,n){if(e)t(e,null);else{var o=i.buildMessage(n,r);t(null,o)}})})}}},t)}}]),e}(),kt=function(){function e(e){this.nickname="",this.plainProfileUrl="",this.userId="",this.connectionStatus="",this.lastSeenAt=null,this.metaData={},this.isActive=!0,this.friendDiscoveryKey=null,this.friendName=null,this._preferredLanguages=null,this.requireAuth=null,e&&this.__update(e)}return e.objectify=function(e){var t=e.userId,n=void 0===t?null:t,r=e.nickname,i=void 0===r?"":r,o=e.plainProfileUrl,a=void 0===o?"":o,s=e.connectionStatus,u=void 0===s?"":s,c=e.lastSeenAt,l=void 0===c?0:c,h=e.metaData,f=void 0===h?{}:h,d=e.isActive,p=void 0===d||d,g=e.friendDiscoveryKey,y=void 0===g?null:g,v=e.friendName,m=void 0===v?null:v,b=e.preferredLanguages,_=void 0===b?null:b,w=e.requireAuth;return{user_id:n,nickname:i,profile_url:a,is_online:u,last_seen_at:l,metadata:f,is_active:p,friend_discovery_key:y,friend_name:m,preferred_languages:_,require_auth_for_profile_image:void 0!==w&&w}},e.buildFromSerializedData=function(e){var t=B.get(this._iid).User,n=St.deserialize(e);return new t(t.objectify(n))},Object.defineProperty(e.prototype,"preferredLanguages",{get:function(){return this._preferredLanguages},enumerable:!1,configurable:!0}),e.prototype.__update=function(t){var n=N.get(this._iid).container.auth;t.hasOwnProperty("guest_id")&&(this.userId=t.guest_id),t.hasOwnProperty("user_id")&&(this.userId=t.user_id),t.hasOwnProperty("name")&&(this.nickname=t.name),t.hasOwnProperty("nickname")&&(this.nickname=t.nickname),t.hasOwnProperty("require_auth_for_profile_image")?this.requireAuth=t.require_auth_for_profile_image:this.requireAuth=null,(t.hasOwnProperty("image")||t.hasOwnProperty("profile_url"))&&(this.plainProfileUrl=t.image||t.profile_url||"",Object.defineProperty(this,"profileUrl",{value:this.requireAuth?"".concat(this.plainProfileUrl,"?auth=").concat(n.eKey):this.plainProfileUrl,configurable:!0,writable:!1})),t.hasOwnProperty("is_online")?t.is_online===e.NON_AVAILABLE?this.connectionStatus=e.NON_AVAILABLE:this.connectionStatus=t.is_online?e.ONLINE:e.OFFLINE:this.connectionStatus=e.NON_AVAILABLE,t.hasOwnProperty("last_seen_at")?this.lastSeenAt=parseInt(t.last_seen_at):this.lastSeenAt=0,t.hasOwnProperty("metadata")?this.metaData=t.metadata:this.metaData={},t.hasOwnProperty("is_active")?this.isActive=void 0===t.is_active||t.is_active:this.isActive=!0,t.hasOwnProperty("friend_discovery_key")?this.friendDiscoveryKey=t.friend_discovery_key:this.friendDiscoveryKey=null,t.hasOwnProperty("friend_name")?this.friendName=t.friend_name:this.friendName=null,t.hasOwnProperty("preferred_languages")?this._preferredLanguages=t.preferred_languages||null:this._preferredLanguages=null},e.prototype._updateMetaData=function(e,t){var n=this;void 0===t&&(t=!1);var r=B.get(this._iid).GroupChannel;Object.keys(e).forEach(function(r){t?delete n.metaData[r]:n.metaData[r]=e[r]}),Object.keys(r.cachedChannels).forEach(function(e){if(r.cachedChannels.hasOwnProperty(e)){var t=r.cachedChannels[e];t.memberMap.hasOwnProperty(n.userId)&&(t.memberMap[n.userId].metaData=n.metaData)}})},e.prototype.serialize=function(){return St.serialize(this,function(e){e.hasOwnProperty("_preferredLanguages")&&(e.preferredLanguages=e._preferredLanguages,delete e._preferredLanguages)})},e.prototype.getOriginalProfileUrl=function(){var e="";if(((e=(e=this.plainProfileUrl.indexOf("://")>-1?this.plainProfileUrl.split("/")[2]:this.plainProfileUrl.split("/")[0]).split("?")[0]).indexOf("sendbird.com")>-1||e.indexOf("sendbirdtest.com")>-1||e.indexOf("intoz.com")>-1||e.indexOf("file-local")>-1)&&this.plainProfileUrl.indexOf(e+"/profile_images/")>-1){var t=this.plainProfileUrl.replace("profile_images/","");return t===this.plainProfileUrl?"":t}return""},e.prototype.createMetaData=function(e,t){var n,r=this,i=null;return n=me.parse(arguments,[new me({type:"object",constraint:function(e){return Object.keys(e).length>0&&!Array.isArray(e)}}),new me({type:"callback"})]),i=n[0],e=n[1],t=n[2],ue(this._iid,function(t){i?t(i,null):N.get(r._iid).container.apiClient.createUserMetaData({metaData:e},function(e,n){e||r._updateMetaData(n),t(e,n)})},t)},e.prototype.updateMetaData=function(e,t,n){var r,i=this,o=null;return r=me.parse(arguments,[new me({type:"object",constraint:function(e){return!Array.isArray(e)&&Object.keys(e).length>0&&Object.keys(e).map(function(t){return e[t]}).every(function(e){return"string"==typeof e})}}),new me({type:"boolean",optional:!0,defaultValue:!1}),new me({type:"callback"})]),o=r[0],e=r[1],t=r[2],n=r[3],ue(this._iid,function(n){o?n(o,null):N.get(i._iid).container.apiClient.updateUserMetaData({metaData:e,upsert:t},function(e,t){e||i._updateMetaData(t),n(e,t)})},n)},e.prototype.deleteMetaData=function(e,t){var n,r=this,i=null;return n=me.parse(arguments,[new me({type:"string",constraint:function(e){return e.length>0}}),new me({type:"callback"})]),i=n[0],e=n[1],t=n[2],ue(this._iid,function(t){if(i)t(i,null);else{var n={};n[e]="",N.get(r._iid).container.apiClient.deleteUserMetaData({metaDataKey:e},function(e,i){e||r._updateMetaData(n,!0),t(e,i)})}},t)},e.prototype.deleteAllMetaData=function(e){var t=this;return ue(this._iid,function(e){var n=t.metaData;N.get(t._iid).container.apiClient.deleteAllUserMetaData({},function(r,i){r||t._updateMetaData(n,!0),e(r,i)})},e)},Object.defineProperty(e,"NON_AVAILABLE",{get:function(){return"nonavailable"},enumerable:!1,configurable:!0}),Object.defineProperty(e,"ONLINE",{get:function(){return"online"},enumerable:!1,configurable:!0}),Object.defineProperty(e,"OFFLINE",{get:function(){return"offline"},enumerable:!1,configurable:!0}),e}(),It={TIMESTAMP:"timestamp",MESSAGE_ID:"messageId"},At=new WeakMap,Nt=new WeakMap,Rt=function(){function e(t){d(this,e),this.url="",this.channelType=e.CHANNEL_TYPE_BASE,this.name="",this.coverUrl="",this.creator=null,this.createdAt=0,this.data=null,this.customType=null,this.isFrozen=!1,this.isEphemeral=!1,At.set(this,{}),Nt.set(this,""),t&&this.__update(t)}return g(e,[{key:"__update",value:function(e){this.url=e.hasOwnProperty("channel_url")?String(e.channel_url):"",this.name=e.hasOwnProperty("name")?String(e.name):"",this.coverUrl=e.hasOwnProperty("cover_url")?String(e.cover_url):"",this.createdAt=e.hasOwnProperty("created_at")?1e3*e.created_at:0,this.data=e.hasOwnProperty("data")?String(e.data):"",this.customType=e.hasOwnProperty("custom_type")?e.custom_type:"",this.isFrozen=!!e.hasOwnProperty("freeze")&&e.freeze,this.isEphemeral=!!e.hasOwnProperty("is_ephemeral")&&e.is_ephemeral,e.hasOwnProperty("created_by")&&null!==e.created_by&&"object"===f(e.created_by)&&Object.keys(e.created_by).length>0?this.creator=new kt(e.created_by):this.creator=null,e.hasOwnProperty("metadata")&&null!==e.metadata&&(e.hasOwnProperty("ts")&&"number"==typeof e.ts?this._refreshMetaData(e.metadata,e.ts):this._refreshMetaData(e.metadata,-1)),e.hasOwnProperty("cached_primary_key")&&(this.cachedPrimaryKey=e.cached_primary_key)}},{key:"_addOrUpdateCachedMetaData",value:function(e,t){var n=this,r=At.get(this);Object.keys(e).forEach(function(i){var o=r[i],a=e[i];o?t>o.updatedAt&&(o.value=a,o.updatedAt=t,o.isRemoved=!1):r[i]={value:a,updatedAt:t,isRemoved:!1},wt.of(n._iid).upsert([n]).then(function(){}).catch(function(e){X.error(e)})})}},{key:"_markAsDeletedCachedMetaData",value:function(e,t){var n=this,r=At.get(this);e.forEach(function(e){var i=r[e];i?t>i.updatedAt&&(i.isRemoved=!0,i.updatedAt=t):r[e]={value:null,updatedAt:t,isRemoved:!0},wt.of(n._iid).upsert([n]).then(function(){}).catch(function(e){X.error(e)})})}},{key:"_refreshMetaData",value:function(e,t){var n={};Object.keys(e).forEach(function(r){n[r]={value:e[r],updatedAt:t,isRemoved:!1}}),At.set(this,n)}},{key:"_clearCachedMetaData",value:function(){At.set(this,{})}},{key:"cachedPrimaryKey",get:function(){return Nt.get(this)},set:function(e){Nt.set(this,e)}},{key:"isGroupChannel",value:function(){var e=B.get(this._iid).BaseChannel;return this.channelType===e.CHANNEL_TYPE_GROUP}},{key:"isOpenChannel",value:function(){var e=B.get(this._iid).BaseChannel;return this.channelType===e.CHANNEL_TYPE_OPEN}},{key:"createOperatorListQuery",value:function(){return new(0,B.get(this._iid).OperatorListQuery)(this)}},{key:"createMessageListQuery",value:function(){return new(0,B.get(this._iid).MessageListQuery)(this)}},{key:"createPreviousMessageListQuery",value:function(){return new(0,B.get(this._iid).PreviousMessageListQuery)(this)}},{key:"createPollListQuery",value:function(){return new(0,B.get(this._iid).PollListQuery)({channelUrl:this.url})}},{key:"createPollVoterListQuery",value:function(e,t){return new(0,B.get(this._iid).PollVoterListQuery)({channelUrl:this.url,pollId:e,optionId:t})}},{key:"serialize",value:function(){var e=this;return St.serialize(this,function(t){if(null!==t.lastMessage&&"object"===f(t.lastMessage)){var n=t.lastMessage;n.hasOwnProperty("_sender")&&(n.sender=n._sender,delete n._sender,t.lastMessage=n)}t.hasOwnProperty("_messageOffsetTimestamp")&&(t.messageOffsetTimestamp=t._messageOffsetTimestamp,delete t._messageOffsetTimestamp),t.metadata=e.getCachedMetaData(),e.cachedPrimaryKey&&(t.cachedPrimaryKey=e.cachedPrimaryKey)})}},{key:"getMessageChangeLogsByTimestamp",value:function(e,t,n,r){var i=this,o=null,a=me.parse(arguments,[new me({type:"number",constraint:function(e){return e>=0}}),new me({type:"boolean",optional:!0,defaultValue:!1}),new me({type:"boolean",optional:!0,defaultValue:!1}),new me({type:"callback"})]),s=S(a,5);return o=s[0],e=s[1],t=s[2],n=s[3],r=s[4],ue(this._iid,function(r){o?r(o,null):N.get(i._iid).container.apiClient.getMessageChangeLogs({channelUrl:i.url,ts:e,token:null,isOpenChannel:i.isOpenChannel(),includeMetaArray:t,includeReactions:n}).then(function(e){var t=B.get(i._iid).BaseChannel,n={updatedMessages:e.updated.map(function(e){return t.buildMessage(e,i)}),deletedMessageIds:e.deleted.map(function(e){return parseInt(e.message_id)}),hasMore:e.has_more,token:e.next};r(null,n)}).catch(function(e){r(e,null)})},r)}},{key:"getMessageChangeLogsByToken",value:function(e,t,n,r){var i=this,o=null,a=me.parse(arguments,[new me({type:"string",nullable:!0}),new me({type:"boolean",optional:!0,defaultValue:!1}),new me({type:"boolean",optional:!0,defaultValue:!1}),new me({type:"callback"})]),s=S(a,5);return o=s[0],e=s[1],t=s[2],n=s[3],r=s[4],ue(this._iid,function(r){o?r(o,null):N.get(i._iid).container.apiClient.getMessageChangeLogs({channelUrl:i.url,ts:null,token:e,isOpenChannel:i.isOpenChannel(),includeMetaArray:t,includeReactions:n}).then(function(e){var t=B.get(i._iid).BaseChannel,n={updatedMessages:e.updated.map(function(e){return t.buildMessage(e,i)}),deletedMessageIds:e.deleted.map(function(e){return parseInt(e.message_id)}),hasMore:e.has_more,token:e.next};r(null,n)}).catch(function(e){r(e,null)})},r)}},{key:"getMessageChangeLogsSinceToken",value:function(e,t,n){var r=this,i=B.get(this._iid),o=i.BaseChannel,a=i.MessageChangeLogsParams,s=null,u=me.parse(arguments,[new me({type:"string",nullable:!0}),new me({type:a,constraint:function(e){return e._validate()}}),new me({type:"callback"})]),c=S(u,4);return s=c[0],e=c[1],t=c[2],n=c[3],ue(this._iid,function(n){s?n(s,null):N.get(r._iid).container.apiClient.getMessageChangeLogs(h({channelUrl:r.url,ts:null,token:e,isOpenChannel:r.isOpenChannel()},t)).then(function(e){var t={updatedMessages:e.updated.map(function(e){return o.buildMessage(e,r)}),deletedMessageIds:e.deleted.map(function(e){return parseInt(e.message_id)}),hasMore:e.has_more,token:e.next};n(null,t)}).catch(function(e){n(e,null)})},n)}},{key:"getMessageChangeLogsSinceTimestamp",value:function(e,t,n){var r=this,i=B.get(this._iid),o=i.BaseChannel,a=i.MessageChangeLogsParams,s=null,u=me.parse(arguments,[new me({type:"number",constraint:function(e){return e>=0}}),new me({type:a,constraint:function(e){return e._validate()}}),new me({type:"callback"})]),c=S(u,4);return s=c[0],e=c[1],t=c[2],n=c[3],ue(this._iid,function(n){s?n(s,null):N.get(r._iid).container.apiClient.getMessageChangeLogs(h({channelUrl:r.url,timestamp:e,token:null,isOpenChannel:r.isOpenChannel()},t)).then(function(e){var t={updatedMessages:e.updated.map(function(e){return o.buildMessage(e,r)}),deletedMessageIds:e.deleted.map(function(e){return parseInt(e.message_id)}),hasMore:e.has_more,token:e.next};n(null,t)}).catch(function(e){n(e,null)})},n)}},{key:"getMyMutedInfo",value:function(e){var t=this;return ue(this._iid,function(e){var n=Fi.getInstance(t._iid);N.get(t._iid).container.apiClient.getMyMutedInfo({channelUrl:t.url,userId:n.currentUser?n.currentUser.userId:null,isGroupChannel:t.isGroupChannel()},function(t,n){var r=null;t||(r={isMuted:n.is_muted,startAt:n.start_at,endAt:n.end_at,remainingDuration:n.remaining_duration,description:n.description}),e(t,r)})},e)}},{key:"_parseMessageListParams",value:function(e){for(var t=B.get(this._iid),n=t.MessageListParams,r=new n,i=null,o=!1,a=0,s=0,u=!1,c="",l="",h=null,f=!1,d=!1,p=null,g=arguments.length,y=new Array(g>1?g-1:0),v=1;v<g;v++)y[v-1]=arguments[v];switch(e){case"prev":var m=me.parse(y,[new me({type:"number"}),new me({type:"boolean"}),new me({type:"number"}),new me({type:"boolean"}),new me({type:"string"}),new me({type:"string"}),new me({type:"array",optional:!0}),new me({type:"boolean",optional:!0,defaultValue:!1}),new me({type:"boolean",optional:!0,defaultValue:!1}),new me({type:"callback"})]),b=S(m,11);i=b[0],o=b[2],a=b[3],u=b[4],c=b[5],l=b[6],h=b[7],f=b[8],d=b[9],p=b[10];break;case"next":var _=me.parse(y,[new me({type:"number"}),new me({type:"boolean"}),new me({type:"number"}),new me({type:"boolean"}),new me({type:"string"}),new me({type:"string"}),new me({type:"array",optional:!0}),new me({type:"boolean",optional:!0,defaultValue:!1}),new me({type:"boolean",optional:!0,defaultValue:!1}),new me({type:"callback"})]),w=S(_,11);i=w[0],o=w[2],s=w[3],u=w[4],c=w[5],l=w[6],h=w[7],f=w[8],d=w[9],p=w[10];break;case"prevnext":var E=me.parse(y,[new me({type:"number"}),new me({type:"number"}),new me({type:"number"}),new me({type:"boolean"}),new me({type:"string"}),new me({type:"string"}),new me({type:"array",optional:!0}),new me({type:"boolean",optional:!0,defaultValue:!1}),new me({type:"boolean",optional:!0,defaultValue:!1}),new me({type:"callback"})]),C=S(E,11);i=C[0],a=C[2],s=C[3],u=C[4],c=C[5],l=C[6],h=C[7],f=C[8],d=C[9],p=C[10],o=!0}return i?[null,p]:(r.isInclusive=o,r.prevResultSize=a,r.nextResultSize=s,r.reverse=u,r.messageType=c,r.customType=l,""===r.customType&&(r.customType="*"),r.senderUserIds=h,r.includeMetaArray=f,r.includeReactions=d,[r,p])}},{key:"_getMessageList",value:function(e,t,n,r){var i=this,o=B.get(this._iid),a=o.MessageListParams,s=null,u=me.parse(arguments,[new me({type:"number"}),new me({type:"string",constraint:function(e){return Object.values(It).includes(e)}}),new me({type:a,constraint:function(e){return e._validate()}}),new me({type:"callback"})]),c=S(u,5);return s=c[0],e=c[1],t=c[2],n=c[3],r=c[4],ue(this._iid,function(r){s?r(s,null):N.get(i._iid).container.apiClient.getMessageList(h(h({channel:i,token:e,tokenType:t},n),{},{shouldReverse:n.reverse})).then(function(e){var t=B.get(i._iid).BaseChannel,n=e.messages.map(function(e){return t.buildMessage(e,i)}).filter(function(e){return null!==e});r(null,n)}).catch(function(e){r(e,null)})},r)}},{key:"getPreviousMessagesByTimestamp",value:function(e){var t=this._parseMessageListParams.apply(this,["prev"].concat(C(me.toArray(arguments)))),n=S(t,2),r=n[0],i=n[1];return this._getMessageList(e,It.TIMESTAMP,r,i)}},{key:"getNextMessagesByTimestamp",value:function(e){var t=this._parseMessageListParams.apply(this,["next"].concat(C(me.toArray(arguments)))),n=S(t,2),r=n[0],i=n[1];return this._getMessageList(e,It.TIMESTAMP,r,i)}},{key:"getPreviousAndNextMessagesByTimestamp",value:function(e){var t=this._parseMessageListParams.apply(this,["prevnext"].concat(C(me.toArray(arguments)))),n=S(t,2),r=n[0],i=n[1];return this._getMessageList(e,It.TIMESTAMP,r,i)}},{key:"getPreviousMessagesByID",value:function(e){var t=this._parseMessageListParams.apply(this,["prev"].concat(C(me.toArray(arguments)))),n=S(t,2),r=n[0],i=n[1];return this._getMessageList(e,It.MESSAGE_ID,r,i)}},{key:"getNextMessagesByID",value:function(e){var t=this._parseMessageListParams.apply(this,["next"].concat(C(me.toArray(arguments)))),n=S(t,2),r=n[0],i=n[1];return this._getMessageList(e,It.MESSAGE_ID,r,i)}},{key:"getPreviousAndNextMessagesByID",value:function(e){var t=this._parseMessageListParams.apply(this,["prevnext"].concat(C(me.toArray(arguments)))),n=S(t,2),r=n[0],i=n[1];return this._getMessageList(e,It.MESSAGE_ID,r,i)}},{key:"getMessagesByTimestamp",value:function(e,t,n){return this._getMessageList(e,It.TIMESTAMP,t,n)}},{key:"getMessagesByMessageId",value:function(e,t,n){return this._getMessageList(e,It.MESSAGE_ID,t,n)}},{key:"_sendUserMessage",value:function(e){var t=this,n=e.reqId,r=e.message,i=e.data,o=e.customType,a=e.metaArrays,s=e.mentionType,u=e.mentionedUserIds,c=e.mentionedUsers,l=e.mentionedMessageTemplate,f=e.pushNotificationDeliveryOption,d=e.rootMessageId,p=e.parentMessageId,g=e.translationTargetLanguages,y=e.appleCriticalAlertOptions,v=e.pollId,m=e.silent,b=void 0!==m&&m,_=e.isReplyToChannel,w=e.messageParams,E=e.oldMessage,S=void 0===E?null:E,C=e.isManualResend,O=void 0!==C&&C,T=e.callback,k=B.get(this._iid),I=k.Command,A=k.UserMessage,R=Fi.getInstance(this._iid),P=Fe.of(this._iid),x=wt.of(this._iid),M=ye.of(this._iid),L=N.get(this._iid).container.localCacheEnabled;n||(n=I.generateRequestId());var D={};Array.isArray(g)&&g.forEach(function(e){return D[e]=""});var j=A.objectify({messageId:0,reqId:n,user:R.currentUser||{},channel:this,message:r,data:i,customType:o,metaArrays:a,mentionType:s,mentionedUserIds:u,mentionedUsers:c,mentionedMessageTemplate:l,rootMessageId:d,parentMessageId:p,translations:D,silent:b,appleCriticalAlertOptions:y,isReplyToChannel:_,messageParams:w,createdAt:(new Date).getTime()}),F=new A(j);if(F.requestState=R.MessageRequestState.PENDING,F.sendingStatus=R.MessageSendingStatus.PENDING,F.requestedMentionUserIds=u,F._messageParams=w,!R.currentUser){var H=new U("Connection should be made first.",U.CONNECTION_REQUIRED),V=new A(j);return V.requestState=R.MessageRequestState.FAILED,V.sendingStatus=R.MessageSendingStatus.FAILED,V.requestedMentionUserIds=u,V.errorCode=H.code,T(H,V),F}return(!t.isGroupChannel()||S&&S._isAutoResendRegistered?Promise.resolve():P.upsert([F],pe.UNSENT).then(function(){M.send({source:O?he.LOCAL_MESSAGE_RESEND_STARTED:he.LOCAL_MESSAGE_PENDING_CREATED,payload:{channel:t,message:F}})})).then(function(){var e=I.bMessage({channelUrl:t.url,message:r,data:i,customType:o,metaArrays:a,mentionType:s,mentionedUserIds:u,mentionedMessageTemplate:l,requestId:n,rootMessageId:d,parentMessageId:p,silent:b,translationTargetLanguages:g,pushNotificationDeliveryOption:f,appleCriticalAlertOptions:y,pollId:v,isReplyToChannel:_});F.reqId=e.requestId,t.isGroupChannel()&&R.getConnectionState()!==R.ConnectionState.OPEN&&R.currentUser&&!R.connecting&&!R.reconnecting&&"string"==typeof o&&0===o.indexOf("SB_VIDEOCHAT")?N.get(R._iid).container.apiClient.sendUserMessage({channelUrl:t.url,isOpenChannel:t.isOpenChannel(),message:r,data:i,customType:o,translationTargetLanguages:g,metaArrays:a,mentionType:s,mentionedUserIds:u,mentionedMessageTemplate:l,pushNotificationDeliveryOption:f,rootMessageId:d,parentMessageId:p,appleCriticalAlertOptions:y,pollId:v,isReplyToChannel:_},function(e,r){var i=null;if(e){if(F._isAutoResendRegistered&&ae.isAutoResendableError(e.code))return;(i=new A(j)).requestState=R.MessageRequestState.FAILED,i.requestedMentionUserIds=u,S&&(i._isAutoResendRegistered=S._isAutoResendRegistered),e.code===U.REQUEST_CANCELED?(i.sendingStatus=R.MessageSendingStatus.CANCELED,P.removeUnsentMessages({channelUrl:t.url,sendingStatus:R.MessageSendingStatus.PENDING,reqIds:[n]}).then(function(){M.send({source:he.LOCAL_MESSAGE_CANCELED,payload:{channel:t,message:i}})}).catch(function(e){return X.error(e)}).finally(function(){T&&T(new U(e.message,e.code),i)})):(i.errorCode=e.code,i.sendingStatus=R.MessageSendingStatus.FAILED,L&&ae.isAutoResendableError(e.code)&&(i.sendingStatus=R.MessageSendingStatus.PENDING,i.errorCode=0,i._isAutoResendRegistered=!0),P.upsert([i],pe.UNSENT).then(function(){nt._completeCurrentAndProcessNextAutoResend(R,i),M.send({source:he.LOCAL_MESSAGE_FAILED,payload:{channel:t,message:i}})}).catch(function(e){return X.error(e)}).finally(function(){var t=i._clone();t.sendingStatus=R.MessageSendingStatus.FAILED,t.errorCode=e.code,t._isAutoResendRegistered=!1,T&&T(new U(e.message,e.code),t)}))}else{for(var o in(i=new A(r)).reqId=n,i.requestState=R.MessageRequestState.SUCCEEDED,i.sendingStatus=R.MessageSendingStatus.SUCCEEDED,S&&(i._isAutoResendRegistered=S._isAutoResendRegistered),t.lastMessage=i,R.channelHandlers)R.channelHandlers[o].onChannelChanged(t);x.upsert([t]).then(function(){M.send({source:he.EVENT_CHANNEL_CHANGED,payload:{channel:t}})}).then(function(){return P.removeUnsentMessages({channelUrl:t.url,sendingStatus:R.MessageSendingStatus.PENDING,reqIds:[n]})}).then(function(){return P.upsert([i],pe.SUCCEEDED)}).then(function(){nt._completeCurrentAndProcessNextAutoResend(R,i),M.send({source:he.EVENT_MESSAGE_SENT,payload:{channel:t,message:i}})}).catch(function(e){return X.error(e)}).finally(function(){T&&T(null,i)})}}):R.sendCommand(e,function(r,i){if(R.getErrorFirstCallback()){var o=[r,i];i=o[0],r=o[1]}if(i){if(F._isAutoResendRegistered&&ae.isAutoResendableError(i.code))return;var a=new A(j);a.reqId=e.requestId,a.requestState=R.MessageRequestState.FAILED,i.code===U.REQUEST_CANCELED?(a.sendingStatus=R.MessageSendingStatus.CANCELED,t.isGroupChannel()&&P.removeUnsentMessages({channelUrl:t.url,sendingStatus:R.MessageSendingStatus.PENDING,reqIds:[n]}).then(function(){M.send({source:he.LOCAL_MESSAGE_CANCELED,payload:{channel:t,message:a}})}).catch(function(e){return X.error(e)}).finally(function(){T&&T(new U(i.message,i.code),a)})):(a.sendingStatus=R.MessageSendingStatus.FAILED,a.errorCode=i.code,a.requestedMentionUserIds=u,t.isGroupChannel()?(L&&ae.isAutoResendableError(i.code)&&(a.sendingStatus=R.MessageSendingStatus.PENDING,a.errorCode=0,a._isAutoResendRegistered=!0),P.upsert([a],pe.UNSENT).then(function(){return nt._completeCurrentAndProcessNextAutoResend(R,a),M.send({source:he.LOCAL_MESSAGE_FAILED,payload:{channel:t,message:a}})}).catch(function(e){X.error(e)}).finally(function(){var e=a._clone();e.sendingStatus=R.MessageSendingStatus.FAILED,e.errorCode=i.code,e._isAutoResendRegistered=!1,T&&T(new U(i.message,i.code),e)})):T&&T(new U(i.message,i.code),a))}else{var s=new A(h(h({},r.getJsonElement()),{},{messageParams:w}));s.reqId=n,s.requestState=R.MessageRequestState.SUCCEEDED,s.sendingStatus=R.MessageSendingStatus.SUCCEEDED,S&&(s._isAutoResendRegistered=S._isAutoResendRegistered);var c=R.currentUser;if(c&&s._sender&&c.userId===s._sender.userId&&(c.nickname!==s._sender.nickname&&(c.nickname=s._sender.nickname),c.plainProfileUrl!==s._sender.plainProfileUrl&&(c.plainProfileUrl=s._sender.plainProfileUrl),ae.deepEqual(c.metaData,s._sender.metaData)||(c.metaData=s._sender.metaData)),t.isGroupChannel()){t.lastMessage=s,Object.keys(R.channelHandlers).forEach(function(e){R.channelHandlers[e].onChannelChanged(t)});var l=ye.of(t._iid);wt.of(t._iid).upsert([t]).then(function(){l.send({source:he.EVENT_CHANNEL_CHANGED,payload:{channel:t}})}).then(function(){return P.removeUnsentMessages({channelUrl:t.url,sendingStatus:R.MessageSendingStatus.PENDING,reqIds:[n]})}).then(function(){return P.upsert([s],pe.SUCCEEDED)}).then(function(){nt._completeCurrentAndProcessNextAutoResend(R,s),l.send({source:he.EVENT_MESSAGE_SENT,payload:{channel:t,message:s}})}).catch(function(e){X.error(e)}).finally(function(){T&&T(null,s)})}else T&&T(null,s)}})}),F}},{key:"sendUserMessage",value:function(){var e=me.toArray(arguments),t=e.pop(),n=null,r=null,i=B.get(this._iid),o=i.UserMessageParams;if("function"==typeof t)if(e[0]instanceof o)null===(r=e[0]).data&&(r.data=""),null===r.customType&&(r.customType="");else if("string"==typeof e[0])switch((r=new o).message=e[0],e.length){case 1:break;case 2:r.data=e[1]||"";break;case 3:r.data=e[1]||"",r.customType=e[2]||"";break;case 4:r.data=e[1]||"",r.customType=e[2]||"",r.translationTargetLanguages=Array.isArray(e[3])?e[3]:[e[3]];break;default:n=me.error}else n=me.error;else n=me.error;var a=N.get(this._iid),s=a.container.isErrorFirstInCallback;return!n&&r._validate()&&r.message?this._sendUserMessage(h(h({},r),{},{metaArrays:r.metaArrays,mentionType:r.mentionType,mentionedUserIds:r._mentionedUserIds,mentionedUsers:r.mentionedUsers,mentionedMessageTemplate:r.mentionedMessageTemplate,rootMessageId:r.rootMessageId,parentMessageId:r.parentMessageId,translationTargetLanguages:r._translationTargetLanguages,messageParams:r,callback:function(e,n){s?t(e,n):t(n,e)}})):(s?t(me.error,null):t(null,me.error),null)}},{key:"_autoResendUserMessage",value:function(e){var t=this,n=Fi.getInstance(this._iid);if(n&&n.currentUser){var r=e._messageParams;return new Promise(function(n,i){return t._sendUserMessage(h(h({},r),{},{reqId:e.reqId,metaArrays:r.metaArrays,mentionType:r.mentionType,mentionedUserIds:r._mentionedUserIds,rootMessageId:r.rootMessageId,parentMessageId:r.parentMessageId,translationTargetLanguages:r._translationTargetLanguages,pushNotificationDeliveryOption:r.pushNotificationDeliveryOption,messageParams:r,oldMessage:e,callback:function(e,t){e?i(e):n(t)}}))})}}},{key:"_autoResendFileMessage",value:function(e){var t=Fi.getInstance(this._iid);if(t&&t.currentUser){var n=this._parsePendingFileMessage(e),r=B.get(this._iid).FileMessageQueue;r.create(this).addJob(new r.Job({fileInfo:n,pendingMessage:e._clone(),requestId:e.reqId,error:n.error,response:null}))}}},{key:"resendUserMessage",value:function(e,t){var n=this,r=B.get(this._iid),i=r.UserMessage,o=r.UserMessageParams,a=null,s=me.parse(arguments,[new me({type:i,constraint:function(e){return 0===e.messageId&&e.isResendable()&&e.reqId&&e.channelUrl===n.url&&"string"==typeof e.message&&"string"==typeof e.data&&"string"==typeof e.customType&&"object"===f(e.translations)&&!Array.isArray(e.translations)}}),new me({type:"callback"})]),u=S(s,3);return a=u[0],e=u[1],t=u[2],ue(this._iid,function(t){if(a)a.message+=" Please check if the failed message is resend-able with `message.isResendable().`",t(a,null);else{var r=Object.keys(e.translations),i=o.PushNotificationDeliveryOption.DEFAULT;n._sendUserMessage(h(h({},e),{},{mentionedUserIds:e.requestedMentionUserIds,translationTargetLanguages:r,pushNotificationDeliveryOption:i,reqId:e.reqId,messageParams:e._messageParams,isManualResend:!0,callback:t}))}},t)}},{key:"updateUserMessage",value:function(e,t,n,r,i){var o=this,a=B.get(this._iid),s=a.Command,u=a.UserMessage,c=a.UserMessageParams,l=arguments,f=null,d=null;if("number"==typeof e)switch(l.length){case 3:var p=me.parse(l,[new me({type:"number"}),new me({type:c}),new me({type:"callback"})]),g=S(p,4);f=g[0],e=g[1],d=g[2],i=g[3];break;case 5:d=new c;var y=me.parse(l,[new me({type:"number"}),new me({type:"string",nullable:!0}),new me({type:"string",nullable:!0}),new me({type:"string",nullable:!0}),new me({type:"callback"})]),v=S(y,6);f=v[0],e=v[1],t=v[2],n=v[3],r=v[4],i=v[5],d.message=t,d.data=n,d.customType=r}return ue(this._iid,function(t){if(!f&&d&&d._validate()){var n=s.bUpdateUserMessage(h(h({channelUrl:o.url,messageId:e},d),{},{mentionType:d._mentionType,mentionedUserIds:d._mentionedUserIds,mentionedMessageTemplate:d.mentionedMessageTemplate})),r=Fi.getInstance(o._iid);r.sendCommand(n,function(e,n){if(r.getErrorFirstCallback()){var i=[e,n];n=i[0],e=i[1]}var a=null;if(!n&&(a=new u(h(h({},e.getJsonElement()),{},{messageParams:d})),o.isGroupChannel())){var s=!1;o.lastMessage?(o.lastMessage.createdAt<a.createdAt||o.lastMessage.createdAt===a.createdAt&&o.lastMessage.messageId===a.messageId&&o.lastMessage.updatedAt<a.updatedAt)&&(o.lastMessage=a,s=!0):(o.lastMessage=a,s=!0);var c=ye.of(o._iid);!a.silent&&s&&(Object.keys(r.channelHandlers).forEach(function(e){r.channelHandlers[e].onChannelChanged(o)}),wt.of(o._iid).upsert([o]).then(function(){c.send({source:he.EVENT_CHANNEL_CHANGED,payload:{channel:o}})}).catch(function(e){X.error(e)})),Fe.of(o._iid).upsert([a],pe.SUCCEEDED).then(function(){c.send({source:he.EVENT_MESSAGE_UPDATED,payload:{channel:o,message:a}})}).catch(function(e){X.error(e)})}t(n,a)})}else t(me.error,null)},i)}},{key:"translateUserMessage",value:function(e,t,n){var r=this,i=Fi.getInstance(this._iid),o=B.get(this._iid),a=o.UserMessage,s=null,u=me.parse(arguments,[new me({type:a,constraint:function(e){return e.channelUrl===r.url&&e.sendingStatus===i.MessageSendingStatus.SUCCEEDED}}),new me({type:"array",constraint:function(e){return e.every(function(e){return"string"==typeof e})}}),new me({type:"callback"})]),c=S(u,4);return s=c[0],e=c[1],t=c[2],n=c[3],ue(this._iid,function(n){s?n(s,null):N.get(r._iid).container.apiClient.translateUserMessage({channelUrl:r.url,isOpenChannel:r.isOpenChannel(),messageId:e.messageId,translationTargetLanguages:t},function(e,t){var r=null;e||(r=new a(t)),n(e,r)})},n)}},{key:"_parsePendingFileMessage",value:function(e){var t=e._messageParams.serialize(),n=t.data,r=t.customType,i=t.fileUrl,o=t.thumbnailSizes,a=t.mentionType,s=t.mentionedUserIds,u=t.metaArrays,c=t.parentMessageId,l=t.pushNotificationDeliveryOption,h=e._messageParams;return{file:h.file?h.file:i,name:e.name,type:e.type,size:e.size,data:n,customType:r,thumbnailSizes:o,metaArrays:u,mentionType:a,mentionedUserIds:s,pushNotificationDeliveryOption:l,rootMessageId:c,parentMessageId:c,appleCriticalAlertOptions:h.appleCriticalAlertOptions,messageParams:e._messageParams,silent:e.silent,error:null,progressHandler:null,callback:null}}},{key:"_parseFileMessageArguments",value:function(e){var t=B.get(this._iid),n=t.BaseMessageParams,r=t.FileMessageParams,i={reqId:null,error:null,file:null,name:null,type:null,size:null,data:"",customType:"",thumbnailSizes:[],metaArrays:[],mentionType:n.MentionType.USERS,mentionedUserIds:[],pushNotificationDeliveryOption:r.PushNotificationDeliveryOption.DEFAULT,rootMessageId:null,parentMessageId:null,progressHandler:null,silent:!1,appleCriticalAlertOptions:null,isReplyToChannel:!1,messageParams:null,callback:null};if("function"==typeof e[e.length-1]&&(i.callback=e.pop()),"function"==typeof e[e.length-1]&&(i.progressHandler=e.pop()),e[0]instanceof r)i.reqId=e[0]._reqId,i.file=e[0].file||e[0].fileUrl,i.name=e[0].fileName,i.type=e[0].mimeType,i.size=e[0].fileSize,i.data=e[0].data,i.customType=e[0].customType,i.thumbnailSizes=e[0].thumbnailSizes,i.metaArrays=e[0].metaArrays,i.mentionType=e[0]._mentionType,i.mentionedUserIds=e[0]._mentionedUserIds,i.pushNotificationDeliveryOption=e[0].pushNotificationDeliveryOption?e[0].pushNotificationDeliveryOption:r.PushNotificationDeliveryOption.DEFAULT,i.rootMessageId=e[0].rootMessageId,i.parentMessageId=e[0].parentMessageId,i.silent=e[0].silent,e[0]._validate()||(i.error=me.error),i.appleCriticalAlertOptions=e[0].appleCriticalAlertOptions,i.isReplyToChannel=e[0].isReplyToChannel,i.messageParams=e[0];else if(ae.isFile(e[0])||"string"==typeof e[0]){switch(i.file=e[0],e.length){case 1:break;case 2:i.data=e[1];break;case 3:i.data=e[1],i.customType=e[2];break;case 4:i.data=e[1],i.customType=e[2],i.thumbnailSizes=e[3];break;case 5:i.name=e[1],i.type=e[2],i.size=e[3],i.data=e[4];break;case 6:i.name=e[1],i.type=e[2],i.size=e[3],i.data=e[4],i.customType=e[5];break;case 7:i.name=e[1],i.type=e[2],i.size=e[3],i.data=e[4],i.customType=e[5],i.thumbnailSizes=e[6]}var o=S(me.parse([i.file,i.name,i.type,i.size,i.data,i.customType,i.thumbnailSizes],[new me({type:["file","string"]}),new me({type:"string",nullable:!0}),new me({type:"string",nullable:!0}),new me({type:"number",nullable:!0,constraint:function(e){return e>=0}}),new me({type:"string",nullable:!0}),new me({type:"string",nullable:!0}),new me({type:"array"})]),8);i.error=o[0],i.file=o[1],i.name=o[2],i.type=o[3],i.size=o[4],i.data=o[5],i.customType=o[6],i.thumbnailSizes=o[7];var a=ae.isFile(i.file);a&&(i.name=i.name||i.file.name,i.type=i.type||i.file.type,i.size=i.size||i.file.size),i.messageParams={mentionType:n.MentionType.USERS,mentionedUserIds:i.mentionedUserIds,cachedMentionedUsers:[],cachedMentionedUserIds:[],metaArrays:i.metaArrays,parentMessageId:i.parentMessageId,pushNotificationDeliveryOption:i.pushNotificationDeliveryOption,appleCriticalAlertOptions:i.appleCriticalAlertOptions,fileName:i.name,mimeType:i.type,fileSize:i.size,data:i.data,customType:i.customType,isUpdate:!1,file:a?i.file:null,fileUrl:a?null:i.file,thumbnailSizes:i.thumbnailSizes}}else i.error=me.error;return ae.isFile(i.file)&&(i.name=i.name||i.file.name,i.type=i.type||i.file.type,i.size=i.size||i.file.size),i}},{key:"_createTempFileMessage",value:function(e){try{var t,n=Fi.getInstance(this._iid),r=B.get(this._iid),i=r.Command,o=r.FileMessage,a=h(h({},e),{},{messageId:0,reqId:null!==(t=e.reqId)&&void 0!==t?t:i.generateRequestId(),user:n.currentUser||{},channel:this,plainUrl:"string"==typeof e.file?e.file:"",thumbnails:e.thumbnailSizes.map(function(e){return{url:"",plainUrl:"",width:e.maxWidth,height:e.maxHeight,real_width:0,real_height:0}}),sendingStatus:n.MessageSendingStatus.PENDING,createdAt:(new Date).getTime()}),s=o.objectify(a);return new o(s)}catch(e){return null}}},{key:"sendFileMessage",value:function(){var e=this,t=me.toArray(arguments),n=this._parseFileMessageArguments(t),r=B.get(this._iid),i=r.Command,o=null,a=i.generateRequestId();n.error||((o=this._createTempFileMessage(n)).requestedMentionUserIds=n.mentionedUserIds,a=o.reqId);var s=Fi.getInstance(this._iid);if(s&&s.currentUser||(n.error=new U("Connection should be made first.",U.CONNECTION_REQUIRED)),this.isGroupChannel()){var u=Fe.of(this._iid),c=ye.of(this._iid);u.upsert([o],pe.UNSENT).then(function(){c.send({source:he.LOCAL_MESSAGE_PENDING_CREATED,payload:{channel:e,message:o}})})}var l=B.get(this._iid),h=l.FileMessageQueue,f=h.create(this);return f.addJob(new h.Job({fileInfo:n,pendingMessage:o,requestId:a,error:n.error,response:null})),o}},{key:"sendFileMessages",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.progress?n.progress:function(){},i=n.sent?n.sent:function(){},o=n.complete?n.complete:function(){};if(Array.isArray(e)&&e.length>0&&e.length<=20){var a=[];return e.forEach(function(n,s){a.push(t.sendFileMessage(n,r,function(t,n){i(t,n),s===e.length-1&&o(null)}))}),a}return o(me.error),null}},{key:"resendFileMessage",value:function(e,t,n){var r=this,i=B.get(this._iid),o=i.FileMessage,a=i.FileMessageParams,s=null,u=me.parse(arguments,[new me({type:o,constraint:function(e){return 0===e.messageId&&e.isResendable()&&e.reqId&&e.channelUrl===r.url&&Array.isArray(e.thumbnails)}}),new me({type:"file",optionalIf:function(e){var t,n,r=!!e[0].plainUrl,i=ae.isFile(null===(t=e[0])||void 0===t||null===(n=t.messageParams)||void 0===n?void 0:n.file);return r||i},defaultValue:null}),new me({type:"callback"})]),c=S(u,4);return s=c[0],e=c[1],t=c[2],n=c[3],ue(this._iid,function(n){if(s)s.message+=" Please check if the failed message is resend-able with `message.isResendable().`",n(s,null);else{var i,o=new a;o._reqId=e.reqId,e.plainUrl?o.fileUrl=e.plainUrl:t?o.file=t:ae.isFile(null===(i=e.messageParams)||void 0===i?void 0:i.file)&&(o.file=e.messageParams.file),o.fileName=e.name,o.fileSize=e.size,o.mimeType=e.type,o.data=e.data,o.customType=e.customType,o.mentionType=e.mentionType,o.mentionedUserIds=e.requestedMentionUserIds,o.metaArrays=e.metaArrays,o.thumbnailSizes=e.thumbnails.map(function(e){return{maxWidth:e.width,maxHeight:e.height}}),o.appleCriticalAlertOptions=e.appleCriticalAlertOptions,r.sendFileMessage(o,n)}},n)}},{key:"updateFileMessage",value:function(e,t,n,r){var i=this,o=B.get(this._iid),a=o.Command,s=o.FileMessage,u=o.FileMessageParams,c=arguments,l=null,f=null;if("number"==typeof e)switch(c.length){case 3:var d=me.parse(c,[new me({type:"number"}),new me({type:u}),new me({type:"callback"})]),p=S(d,4);l=p[0],e=p[1],f=p[2],r=p[3],f&&(f._isUpdate=!0);break;case 4:f=new u;var g=me.parse(c,[new me({type:"number"}),new me({type:"string",nullable:!0}),new me({type:"string",nullable:!0}),new me({type:"callback"})]),y=S(g,5);l=y[0],e=y[1],t=y[2],n=y[3],r=y[4],f.data=t,f.customType=n,f._isUpdate=!0}return ue(this._iid,function(t){if(!l&&f&&f._validate()){var n=a.bUpdateFileMessage(h(h({channelUrl:i.url,messageId:e},f),{},{mentionType:f._mentionType,mentionedUserIds:f._mentionedUserIds})),r=Fi.getInstance(i._iid);r.sendCommand(n,function(e,n){if(r.getErrorFirstCallback()){var o=[e,n];n=o[0],e=o[1]}var a=null;if(!n&&(a=new s(h(h({},e.getJsonElement()),{},{messageParams:f})),i.isGroupChannel())){var u=!1;i.lastMessage?(i.lastMessage.createdAt<a.createdAt||i.lastMessage.createdAt===a.createdAt&&i.lastMessage.messageId===a.messageId&&i.lastMessage.updatedAt<a.updatedAt)&&(i.lastMessage=a,u=!0):(i.lastMessage=a,u=!0);var c=ye.of(i._iid);!a.silent&&u&&(Object.keys(r.channelHandlers).forEach(function(e){r.channelHandlers[e].onChannelChanged(i)}),wt.of(i._iid).upsert([i]).then(function(){c.send({source:he.EVENT_CHANNEL_CHANGED,payload:{channel:i}})}).catch(function(e){X.error(e)})),Fe.of(i._iid).upsert([a],pe.SUCCEEDED).then(function(){c.send({source:he.EVENT_MESSAGE_UPDATED,payload:{channel:i,message:a}})}).catch(function(e){X.error(e)})}t(n,a)})}else t(me.error,null)},r)}},{key:"cancelUploadingFileMessage",value:function(e,t){var n=null,r=me.parse(arguments,[new me({type:["number","string"]}),new me({type:"callback"})]),i=S(r,3);n=i[0],e=i[1],t=i[2];var o=N.get(this._iid),a=o.container.isErrorFirstInCallback;if(n)return a?t(n,null):t(null,n),!1;var s=B.get(this._iid),u=s.FileMessageQueue,c=u.create(this);return c.cancelUploadItemByRequestId(e,function(e,n){return a?t(e,n):t(n,e)})}},{key:"addReaction",value:function(e,t,n){var r=this,i=Fi.getInstance(this._iid),o=B.get(this._iid),a=o.ReactionEvent,s=null,u=me.parse(arguments,[new me({type:Tt}),new me({type:"string",constraint:function(e){return e.length>0}}),new me({type:"callback"})]),c=S(u,4);return s=c[0],e=c[1],t=c[2],n=c[3],ue(this._iid,function(n){s?n(s,null):e.sendingStatus===i.MessageSendingStatus.SUCCEEDED?N.get(r._iid).container.apiClient.addReaction({isGroupChannel:e.isGroupChannel(),channelUrl:e.channelUrl,messageId:e.messageId,key:t},function(t,r){var i=null;t||(i=a.createFromJson(h(h({},r),{},{msg_id:e.messageId}))),n(t,i)}):n(new U("Cannot add reaction to a non-succeeded message.",U.REQUEST_FAILED),null)},n)}},{key:"deleteReaction",value:function(e,t,n){var r=this,i=Fi.getInstance(this._iid),o=B.get(this._iid),a=o.ReactionEvent,s=null,u=me.parse(arguments,[new me({type:Tt}),new me({type:"string",constraint:function(e){return e.length>0}}),new me({type:"callback"})]),c=S(u,4);return s=c[0],e=c[1],t=c[2],n=c[3],ue(this._iid,function(n){s?n(s,null):e.sendingStatus===i.MessageSendingStatus.SUCCEEDED?N.get(r._iid).container.apiClient.deleteReaction({isGroupChannel:e.isGroupChannel(),channelUrl:e.channelUrl,messageId:e.messageId,key:t},function(t,r){var i=null;t||(i=a.createFromJson(h(h({},r),{},{msg_id:e.messageId}))),n(t,i)}):n(new U("Cannot remove reaction to a non-succeeded message.",U.REQUEST_FAILED),null)},n)}},{key:"deleteMessage",value:function(e,t){var n=this,r=null,i=me.parse(arguments,[new me({type:"object",constraint:function(e){return!Array.isArray(e)&&null!==e&&e.hasOwnProperty("messageId")}}),new me({type:"callback"})]),o=S(i,3);return r=o[0],e=o[1],t=o[2],ue(this._iid,function(t){r?t(r,null):N.get(n._iid).container.apiClient.deleteMessage({channelUrl:n.url,isOpenChannel:n.isOpenChannel(),messageId:e.messageId},function(r,i){if(!r&&n.isGroupChannel()){var o=Fe.of(n._iid),a=ye.of(n._iid);o.remove([e.messageId],pe.SUCCEEDED).then(function(){a.send({source:he.EVENT_MESSAGE_DELETED,payload:{channel:n,message:e}})}).catch(function(e){return X.error(e)})}t(r,null)})},t)}},{key:"copyUserMessage",value:function(t,n,r){var i=B.get(this._iid);i.Command;var o=i.UserMessage,a=i.BaseMessageParams,s=null,u=me.parse(arguments,[new me({type:e}),new me({type:o}),new me({type:"callback"})]),c=S(u,4);s=c[0],t=c[1],n=c[2],r=c[3];var l=N.get(this._iid),f=l.container.isErrorFirstInCallback;if(s)return f?r(me.error,null):r(null,me.error),null;if(this.url!==n.channelUrl){var d=new U("The message does not belong to this channel",U.INVALID_PARAMETER);return f?r(d,null):r(null,d),null}var p={},g=Object.keys(n.translations);g.forEach(function(e){return p[e]=""});var y=a.PushNotificationDeliveryOption.DEFAULT;return t._sendUserMessage(h(h({},n),{},{reqId:null,pushNotificationDeliveryOption:y,translationTargetLanguages:g,rootMessageId:null,parentMessageId:null,parentMessageText:null,messageParams:n._messageParams,callback:r}))}},{key:"copyFileMessage",value:function(t,n,r){var i=this,o=B.get(this._iid),a=o.Command;o.GroupChannel;var s=o.FileMessage,u=o.BaseMessageParams;o.FileMessageParams;var c=o.User,l=null,h=me.parse(arguments,[new me({type:e}),new me({type:s}),new me({type:"callback"})]),f=S(h,4);l=f[0],t=f[1],n=f[2],r=f[3];var d=N.get(this._iid),p=d.container.isErrorFirstInCallback;if(l)return p?r(me.error,null):r(null,me.error),null;if(this.url!==n.channelUrl){var g=new U("The message does not belong to this channel");return p?r(g,null):r(null,g),null}var y=Fi.getInstance(this._iid),v=n,m=v.url,b=v.name,_=v.type,w=v.size,E=v.data,C=v.customType,O=v.mentionType,T=v.mentionedUserIds,k=v.mentionedUsers,I=v.metaArrays,A=v.thumbnails,R=v.requireAuth,P=v.messageSurvivalSeconds,x=v.silent,M=v.appleCriticalAlertOptions,L=a.generateRequestId(),D=y.currentUser||{},j=t.url,F=t.isOpenChannel(),H=k.filter(function(e){return new c(c.objectify(e))}),V=u.PushNotificationDeliveryOption.DEFAULT,q=s.objectify({messageId:0,reqId:L,user:D,channel:t,plainUrl:m,name:b,type:_,size:w,data:E,customType:C,mentionType:O,mentionedUserIds:T,mentionedUsers:H,requestedMentionUserIds:T,metaArrays:I,thumbnails:A,requireAuth:R,messageSurvivalSeconds:P,silent:x,createdAt:(new Date).getTime(),appleCriticalAlertOptions:M}),G=new s(q);if(G.requestState=y.MessageRequestState.PENDING,G.sendingStatus=y.MessageSendingStatus.PENDING,!y.currentUser){var z=new U("Connection should be made first.",U.CONNECTION_REQUIRED),W=new s(q);return W.requestState=y.MessageRequestState.FAILED,W.sendingStatus=y.MessageSendingStatus.FAILED,W.errorCode=z.code,p?r(z,W):r(W,z),G}var K=a.bFile({requestId:L,channelUrl:j,url:m,name:b,type:_,size:w,data:E,customType:C,metaArrays:I,mentionType:O,mentionedUserIds:T,thumbnailSizes:A,requireAuth:R,pushNotificationDeliveryOption:V,silent:x,appleCriticalAlertOptions:M});return y.getConnectionState()===y.ConnectionState.OPEN||y.connecting||y.reconnecting?y.sendCommand(K,function(e,n){if(y.getErrorFirstCallback()){var o=[e,n];n=o[0],e=o[1]}if(n)if(n.code!==U.INVALID_PARAMETER){var a=new s(q);a.requestState=y.MessageRequestState.FAILED,a.sendingStatus=y.MessageSendingStatus.FAILED,n.code!==U.FILE_UPLOAD_CANCEL_FAILED&&n.code!==U.REQUEST_CANCELED||(a.sendingStatus=y.MessageSendingStatus.CANCELED),a.errorCode=n.code,p?r(n,a):r(a,n)}else p?r(n,null):r(null,n);else{var u=new s(e.getJsonElement()),c=u._sender;if(D&&c&&D.userId===c.userId&&(D.nickname!==c.nickname&&(D.nickname=c.nickname),D.plainProfileUrl!==c.plainProfileUrl&&(D.plainProfileUrl=c.plainProfileUrl)),t.isGroupChannel()){t.lastMessage=u,Object.keys(y.channelHandlers).forEach(function(e){y.channelHandlers[e].onChannelChanged(t)});var l=ye.of(i._iid);wt.of(i._iid).upsert([t]).then(function(){l.send({source:he.EVENT_CHANNEL_CHANGED,payload:{channel:t}})}).catch(function(e){X.error(e)}),Fe.of(i._iid).upsert([u]).then(function(){l.send({source:he.EVENT_MESSAGE_SENT,payload:{channel:i,message:u}})}).catch(function(e){X.error(e)})}p?r(null,u):r(u,null)}}):d.container.apiClient.sendFileMessage({channelUrl:j,isOpenChannel:F,fileUrl:m,fileName:b,fileType:_,fileSize:w,data:E,customType:C,metaArrays:I,mentionType:O,mentionedUserIds:T,thumbnailSizes:A,requireAuth:R,pushNotificationDeliveryOption:V,appleCriticalAlertOptions:M},function(e,n){if(e)if(e.code!==U.INVALID_PARAMETER){var i=new s(commnad.getJsonElement());i.requestState=y.MessageRequestState.FAILED,i.sendingStatus=y.MessageSendingStatus.FAILED,e.code!==U.FILE_UPLOAD_CANCEL_FAILED&&e.code!==U.REQUEST_CANCELED||(i.sendingStatus=y.MessageSendingStatus.CANCELED),i.errorCode=e.code,p?r(e,i):r(i,e)}else p?r(e,null):r(null,e);else{var o=new s(n),a=o._sender;D&&a&&D.userId===a.userId&&(D.nickname!==a.nickname&&(D.nickname=a.nickname),D.plainProfileUrl!==a.plainProfileUrl&&(D.plainProfileUrl=a.plainProfileUrl)),t.isGroupChannel()&&(t.lastMessage=o,Object.keys(y.channelHandlers).forEach(function(e){y.channelHandlers[e].onChannelChanged(t)})),p?r(null,o):r(o,null)}}),G}},{key:"addOperators",value:function(e,t){var n=this,r=null,i=me.parse(arguments,[new me({type:"array",constraint:function(e){return Object.keys(e).map(function(t){return e[t]}).every(function(e){return"string"==typeof e})}}),new me({type:"callback"})]),o=S(i,3);return r=o[0],e=o[1],t=o[2],ue(this._iid,function(t){r?t(r,null):N.get(n._iid).container.apiClient.addOperators({channelUrl:n.url,isOpenChannel:n.isOpenChannel(),operatorUserIds:e},function(e,n){return t(e,n)})},t)}},{key:"removeOperators",value:function(e,t){var n=this,r=null,i=me.parse(arguments,[new me({type:"array",constraint:function(e){return Object.keys(e).map(function(t){return e[t]}).every(function(e){return"string"==typeof e})}}),new me({type:"callback"})]),o=S(i,3);return r=o[0],e=o[1],t=o[2],ue(this._iid,function(t){r?t(r,null):N.get(n._iid).container.apiClient.removeOperators({channelUrl:n.url,isOpenChannel:n.isOpenChannel(),operatorUserIds:e},function(e,n){return t(e,n)})},t)}},{key:"getMetaCounters",value:function(e,t){var n=this,r=null,i=me.parse(arguments,[new me({type:"array",constraint:function(e){return Object.keys(e).map(function(t){return e[t]}).every(function(e){return"string"==typeof e})}}),new me({type:"callback"})]),o=S(i,3);return r=o[0],e=o[1],t=o[2],ue(this._iid,function(t){r?t(r,null):N.get(n._iid).container.apiClient.getMetaCounters({channelUrl:n.url,isOpenChannel:n.isOpenChannel(),keys:e},function(e,n){return t(e,n)})},t)}},{key:"getAllMetaCounters",value:function(e){var t=this;return ue(this._iid,function(e){N.get(t._iid).container.apiClient.getMetaCounters({channelUrl:t.url,isOpenChannel:t.isOpenChannel(),keys:[]},function(t,n){return e(t,n)})},e)}},{key:"createMetaCounters",value:function(e,t){var n=this,r=null,i=me.parse(arguments,[new me({type:"object",constraint:function(e){return e&&!Array.isArray(e)&&Object.keys(e).length>0&&Object.keys(e).map(function(t){return e[t]}).every(function(e){return"number"==typeof e})}}),new me({type:"callback"})]),o=S(i,3);return r=o[0],e=o[1],t=o[2],ue(this._iid,function(t){r?t(r,null):N.get(n._iid).container.apiClient.createMetaCounters({channelUrl:n.url,isOpenChannel:n.isOpenChannel(),metaCounter:e},function(e,n){return t(e,n)})},t)}},{key:"updateMetaCounters",value:function(e,t,n){var r=this,i=null,o=me.parse(arguments,[new me({type:"object",constraint:function(e){return e&&!Array.isArray(e)&&Object.keys(e).length>0&&Object.keys(e).map(function(t){return e[t]}).every(function(e){return"number"==typeof e})}}),new me({type:"boolean",optional:!0,defaultValue:!1}),new me({type:"callback"})]),a=S(o,4);return i=a[0],e=a[1],t=a[2],n=a[3],ue(this._iid,function(n){i?n(i,null):N.get(r._iid).container.apiClient.updateMetaCounters({channelUrl:r.url,isOpenChannel:r.isOpenChannel(),metaCounter:e,upsert:t,mode:"set"},function(e,t){return n(e,t)})},n)}},{key:"increaseMetaCounters",value:function(e,t){var n=this,r=null,i=me.parse(arguments,[new me({type:"object",constraint:function(e){return e&&!Array.isArray(e)&&Object.keys(e).length>0&&Object.keys(e).map(function(t){return e[t]}).every(function(e){return"number"==typeof e})}}),new me({type:"callback"})]),o=S(i,3);return r=o[0],e=o[1],t=o[2],ue(this._iid,function(t){r?t(r,null):N.get(n._iid).container.apiClient.updateMetaCounters({channelUrl:n.url,isOpenChannel:n.isOpenChannel(),metaCounter:e,upsert:!1,mode:"increase"},function(e,n){return t(e,n)})},t)}},{key:"decreaseMetaCounters",value:function(e,t){var n=this,r=null,i=me.parse(arguments,[new me({type:"object",constraint:function(e){return e&&!Array.isArray(e)&&Object.keys(e).length>0&&Object.keys(e).map(function(t){return e[t]}).every(function(e){return"number"==typeof e})}}),new me({type:"callback"})]),o=S(i,3);return r=o[0],e=o[1],t=o[2],ue(this._iid,function(t){r?t(r,null):N.get(n._iid).container.apiClient.updateMetaCounters({channelUrl:n.url,isOpenChannel:n.isOpenChannel(),metaCounter:e,upsert:!1,mode:"decrease"},function(e,n){var r=null;e||(r={},Object.keys(n).forEach(function(e){r[e]=n[e]})),t(e,r)})},t)}},{key:"deleteMetaCounter",value:function(e,t){var n=this,r=null,i=me.parse(arguments,[new me({type:"string"}),new me({type:"callback"})]),o=S(i,3);return r=o[0],e=o[1],t=o[2],ue(this._iid,function(t){r?t(r,null):N.get(n._iid).container.apiClient.deleteMetaCounter({channelUrl:n.url,isOpenChannel:n.isOpenChannel(),key:e},function(e,n){return t(e,n)})},t)}},{key:"deleteAllMetaCounters",value:function(e){var t=this;return ue(this._iid,function(e){N.get(t._iid).container.apiClient.deleteAllMetaCounters({channelUrl:t.url,isOpenChannel:t.isOpenChannel()},function(t,n){return e(t,n)})},e)}},{key:"getCachedMetaData",value:function(){var e=At.get(this),t={};return Object.keys(e).forEach(function(n){var r=e[n];r.isRemoved||(t[n]=r.value)}),t}},{key:"getMetaData",value:function(e,t){var n=this,r=null,i=me.parse(arguments,[new me({type:"array",constraint:function(e){return Object.keys(e).map(function(t){return e[t]}).every(function(e){return"string"==typeof e})}}),new me({type:"callback"})]),o=S(i,3);return r=o[0],e=o[1],t=o[2],ue(this._iid,function(t){r?t(r,null):N.get(n._iid).container.apiClient.getMetaData({channelUrl:n.url,isOpenChannel:n.isOpenChannel(),keys:e},function(e,r){if(r&&r.ts){var i=r.metadata;n._addOrUpdateCachedMetaData(i,r.ts),t(e,i)}else t(e,r)})},t)}},{key:"getAllMetaData",value:function(e){var t=this;return ue(this._iid,function(e){N.get(t._iid).container.apiClient.getMetaData({channelUrl:t.url,isOpenChannel:t.isOpenChannel(),keys:[]},function(n,r){if(r&&r.ts){var i=r.metadata;t._refreshMetaData(i,r.ts),e(n,i)}else e(n,r)})},e)}},{key:"createMetaData",value:function(e,t){var n=this,r=null,i=me.parse(arguments,[new me({type:"object",constraint:function(e){return e&&!Array.isArray(e)&&Object.keys(e).length>0}}),new me({type:"callback"})]),o=S(i,3);return r=o[0],e=o[1],t=o[2],ue(this._iid,function(t){r?t(r,null):N.get(n._iid).container.apiClient.createMetaData({channelUrl:n.url,isOpenChannel:n.isOpenChannel(),metaData:e},function(e,n){t(e,n&&n.ts?n.metadata:n)})},t)}},{key:"updateMetaData",value:function(e,t,n){var r=this,i=null,o=me.parse(arguments,[new me({type:"object",constraint:function(e){return e&&!Array.isArray(e)&&Object.keys(e).length>0}}),new me({type:"boolean",optional:!0,defaultValue:!1}),new me({type:"callback"})]),a=S(o,4);return i=a[0],e=a[1],t=a[2],n=a[3],ue(this._iid,function(n){i?n(i,null):N.get(r._iid).container.apiClient.updateMetaData({channelUrl:r.url,isOpenChannel:r.isOpenChannel(),metaData:e,upsert:t},function(e,t){n(e,t&&t.ts?t.metadata:t)})},n)}},{key:"deleteMetaData",value:function(e,t){var n=this,r=null,i=me.parse(arguments,[new me({type:"string"}),new me({type:"callback"})]),o=S(i,3);return r=o[0],e=o[1],t=o[2],ue(this._iid,function(t){r?t(r,null):N.get(n._iid).container.apiClient.deleteMetaData({channelUrl:n.url,isOpenChannel:n.isOpenChannel(),key:e},function(e,n){t(e,n&&n.ts?{}:n)})},t)}},{key:"deleteAllMetaData",value:function(e){var t=this;return ue(this._iid,function(e){N.get(t._iid).container.apiClient.deleteAllMetaData({channelUrl:t.url,isOpenChannel:t.isOpenChannel()},function(t,n){return e(t,n&&n.ts?{}:n)})},e)}},{key:"_updateMessageMetaArray",value:function(e,t,n,r){var i=this;return ue(this._iid,function(r){var o=B.get(i._iid),a=o.Command,s=o.UserMessage,u=o.FileMessage,c=o.AdminMessage,l=null;if(t.isUserMessage()?l=a.bUpdateUserMessage({channelUrl:e,messageId:t.messageId,metaArrayParams:n}):t.isFileMessage()&&(l=a.bUpdateFileMessage({channelUrl:e,messageId:t.messageId,metaArrayParams:n})),l){var h=Fi.getInstance(i._iid);h.sendCommand(l,function(e,n){if(h.getErrorFirstCallback()){var i=[e,n];n=i[0],e=i[1]}var o=null;n||(t.isUserMessage()?o=new s(e.getJsonElement()):t.isFileMessage()?o=new u(e.getJsonElement()):t.isAdminMessage()&&(o=new c(e.getJsonElement()))),r(n,o)})}else r(me.error,null)},r)}},{key:"createMessageMetaArrayKeys",value:function(e,t,n){var r=B.get(this._iid),i=r.MessageMetaArray,o=null,a=me.parse(arguments,[new me({type:Tt}),new me({type:"array",constraint:function(e){return e.every(function(e){return"string"==typeof e&&""!==e})}}),new me({type:"callback"})]),s=S(a,4);if(o=s[0],e=s[1],t=s[2],n=s[3],o)return ue(this._iid,function(e){e(o,null)},n);var u=[];if(Array.isArray(t))for(var c=0;c<t.length;c++){var l=t[c];u.push(new i(l,[]))}return this._updateMessageMetaArray(this.url,e,{array:u.map(function(e){return e.encode()}),mode:"add",upsert:!0},n)}},{key:"deleteMessageMetaArrayKeys",value:function(e,t,n){var r=B.get(this._iid),i=r.MessageMetaArray,o=null,a=me.parse(arguments,[new me({type:Tt}),new me({type:"array",constraint:function(e){return e.every(function(e){return"string"==typeof e&&""!==e})}}),new me({type:"callback"})]),s=S(a,4);if(o=s[0],e=s[1],t=s[2],n=s[3],o)return ue(this._iid,function(e){e(o,null)},n);var u=[];if(Array.isArray(t))for(var c=0;c<t.length;c++){var l=t[c];u.push(new i(l,[]))}return this._updateMessageMetaArray(this.url,e,{array:u.map(function(e){return e.encode()}),mode:"remove",upsert:!0},n)}},{key:"addMessageMetaArrayValues",value:function(e,t,n){var r=B.get(this._iid),i=r.MessageMetaArray,o=null,a=me.parse(arguments,[new me({type:Tt}),new me({type:"object",constraint:function(e){return e&&(Array.isArray(e)&&e.length>0&&e.every(function(e){return e instanceof i})||Object.keys(e).length>0&&Object.keys(e).every(function(t){return Array.isArray(e[t])&&e[t].length>0&&e[t].every(function(e){return"string"==typeof e&&e.length>0})}))}}),new me({type:"callback"})]),s=S(a,4);if(o=s[0],e=s[1],t=s[2],n=s[3],o)return ue(this._iid,function(e){e(o,null)},n);var u=Array.isArray(t)?t.map(function(e){return e.encode()}):Object.keys(t).map(function(e){return{key:e,value:t[e]}});return this._updateMessageMetaArray(this.url,e,{array:u,mode:"add",upsert:!0},n)}},{key:"removeMessageMetaArrayValues",value:function(e,t,n){var r=B.get(this._iid),i=r.MessageMetaArray,o=null,a=me.parse(arguments,[new me({type:Tt}),new me({type:"object",constraint:function(e){return e&&(Array.isArray(e)&&e.length>0&&e.every(function(e){return e instanceof i})||Object.keys(e).length>0&&Object.keys(e).every(function(t){return Array.isArray(e[t])&&e[t].length>0&&e[t].every(function(e){return"string"==typeof e&&e.length>0})}))}}),new me({type:"callback"})]),s=S(a,4);if(o=s[0],e=s[1],t=s[2],n=s[3],o)return ue(this._iid,function(e){e(o,null)},n);var u=Array.isArray(t)?t.map(function(e){return e.encode()}):Object.keys(t).map(function(e){return{key:e,value:t[e]}});return this._updateMessageMetaArray(this.url,e,{array:u,mode:"remove",upsert:!0},n)}},{key:"report",value:function(e,t,n){var r=this,i=B.get(this._iid),o=i.BaseChannel,a=null,s=me.parse(arguments,[new me({type:o.ReportCategory}),new me({type:"string"}),new me({type:"callback"})]),u=S(s,4);return a=u[0],e=u[1],t=u[2],n=u[3],ue(this._iid,function(n){if(a)n(a,null);else{var i=Fi.getInstance(r._iid);N.get(r._iid).container.apiClient.report({channelUrl:r.url,isOpenChannel:r.isOpenChannel(),reportCategory:e,reportingUserId:i.currentUser?i.currentUser.userId:null,reportDescription:t},function(e,t){n(e,null)})}},n)}},{key:"reportUser",value:function(e,t,n,r){var i=this,o=B.get(this._iid),a=o.BaseChannel,s=null,u=me.parse(arguments,[new me({type:kt}),new me({type:a.ReportCategory}),new me({type:"string"}),new me({type:"callback"})]),c=S(u,5);return s=c[0],e=c[1],t=c[2],n=c[3],r=c[4],ue(this._iid,function(r){if(s)r(s,null);else{var o=Fi.getInstance(i._iid);N.get(i._iid).container.apiClient.reportUser({channelUrl:i.url,isOpenChannel:i.isOpenChannel(),reportCategory:t,offendingUserId:e.userId,reportingUserId:o.currentUser?o.currentUser.userId:null,reportDescription:n},function(e,t){r(e,null)})}},r)}},{key:"reportMessage",value:function(e,t,n,r){var i=this,o=B.get(this._iid),a=o.BaseChannel,s=null,u=me.parse(arguments,[new me({type:Tt}),new me({type:a.ReportCategory}),new me({type:"string"}),new me({type:"callback"})]),c=S(u,5);return s=c[0],e=c[1],t=c[2],n=c[3],r=c[4],ue(this._iid,function(r){if(s)r(s,null);else{var o=Fi.getInstance(i._iid);N.get(i._iid).container.apiClient.reportMessage({messageId:e.messageId,channelUrl:i.url,isOpenChannel:i.isOpenChannel(),reportCategory:t,offendingUserId:e.sender.userId,reportingUserId:o.currentUser?o.currentUser.userId:null,reportDescription:n},function(e,t){r(e,null)})}},r)}}],[{key:"CHANNEL_TYPE_OPEN",get:function(){return"open"}},{key:"CHANNEL_TYPE_GROUP",get:function(){return"group"}},{key:"CHANNEL_TYPE_BASE",get:function(){return"base"}},{key:"MessageTypeFilter",get:function(){return{ALL:"",USER:"MESG",FILE:"FILE",ADMIN:"ADMM"}}},{key:"ReportCategory",get:function(){return{SPAM:"spam",HARASSING:"harassing",SUSPICIOUS:"suspicious",INAPPROPRIATE:"inappropriate"}}},{key:"buildMessage",value:function(e,t){var n=B.get(this._iid),r=n.UserMessage,i=n.FileMessage,o=n.AdminMessage;if(e)switch(e.hasOwnProperty("channel_type")||(e.channel_type=t.channelType),e.type){case"MESG":return new r(e);case"FILE":var a=e.file;return new i(h(h({},e),{},{url:String(a.url),name:String(a.name),type:String(a.type),size:parseInt(a.size),data:String(a.data)}));case"BRDM":case"ADMM":return new o(e)}return null}}]),e}(),Pt=function(){function e(t){d(this,e),t&&(this.category=t.hasOwnProperty("cat")?parseInt(t.cat):0,this.data=t.hasOwnProperty("data")?t.data:null,this.channelUrl=t.hasOwnProperty("channel_url")?String(t.channel_url):"",this.channelType=t.hasOwnProperty("channel_type")?String(t.channel_type):Rt.CHANNEL_TYPE_GROUP)}return g(e,[{key:"isGroupChannel",value:function(){return this.channelType===Rt.CHANNEL_TYPE_GROUP}},{key:"isOpenChannel",value:function(){return this.channelType===Rt.CHANNEL_TYPE_OPEN}}]),e}();Pt.CATEGORY_NONE=0,Pt.CATEGORY_CHANNEL_ENTER=10102,Pt.CATEGORY_CHANNEL_EXIT=10103,Pt.CATEGORY_USER_CHANNEL_MUTE=10201,Pt.CATEGORY_USER_CHANNEL_UNMUTE=10200,Pt.CATEGORY_USER_CHANNEL_BAN=10601,Pt.CATEGORY_USER_CHANNEL_UNBAN=10600,Pt.CATEGORY_CHANNEL_FREEZE=10701,Pt.CATEGORY_CHANNEL_UNFREEZE=10700,Pt.CATEGORY_TYPING_START=10900,Pt.CATEGORY_TYPING_END=10901,Pt.CATEGORY_CHANNEL_JOIN=1e4,Pt.CATEGORY_CHANNEL_LEAVE=10001,Pt.CATEGORY_CHANNEL_OPERATOR_UPDATE=10002,Pt.CATEGORY_CHANNEL_INVITE=10020,Pt.CATEGORY_CHANNEL_DECLINE_INVITE=10022,Pt.CATEGORY_CHANNEL_PROP_CHANGED=11e3,Pt.CATEGORY_CHANNEL_DELETED=12e3,Pt.CATEGORY_CHANNEL_META_DATA_CHANGED=11100,Pt.CATEGORY_CHANNEL_META_COUNTERS_CHANGED=11200,Pt.CATEGORY_CHANNEL_HIDE=13e3,Pt.CATEGORY_CHANNEL_UNHIDE=13001;var xt=g(function e(t){d(this,e),t&&(this.category=t.hasOwnProperty("cat")?parseInt(t.cat):0)});xt.CATEGORY_USER_BLOCK=20001,xt.CATEGORY_USER_UNBLOCK=2e4,xt.CATEGORY_FRIEND_DISCOVERED=20900;var Mt=function(){function e(t){d(this,e),this.sb=t,this.cls=B.get(this.sb._iid)}return g(e,[{key:"onRawCommandReceived",value:function(e){var t=this,n=this.cls,r=n.Command,i=n.User,o=n.Member,a=n.RestrictedUser,s=n.BaseChannel,u=n.GroupChannel,c=n.OpenChannel,l=n.UserMessage,d=n.FileMessage,p=n.AdminMessage,g=n.BaseMessageParams,y=n.ReactionEvent,v=n.ReadStatus,m=n.ThreadInfoUpdateEvent,b=n.PollUpdateEvent,_=n.PollVoteEvent,w=n.RestrictionInfo,E=N.get(this.sb._iid),S=E.container,C=S.pinger,O=S.auth,T=S.subscribedUnreadMessageCount,A=S.sessionManager,R=S.ackStateMap,P=new r(e),x=P.getJsonElement();if(x.hasOwnProperty("unread_cnt")&&"object"===f(x.unread_cnt)){var M=!1,L=x.unread_cnt.ts;"number"==typeof L&&L>T.ts&&(T.all!==x.unread_cnt.all&&(M=!0),T.all=x.unread_cnt.all>=0?x.unread_cnt.all:0,x.unread_cnt.custom_types&&Object.keys(x.unread_cnt.custom_types).forEach(function(e){T.custom_types[e]!==x.unread_cnt.custom_types[e]&&(M=!0),T.custom_types[e]=x.unread_cnt.custom_types[e]}),M=M&&T.ts>0,T.ts=L),M&&Object.keys(this.sb.userEventHandlers).forEach(function(e){t.sb.userEventHandlers[e].onTotalUnreadMessageCountUpdated(T.all,T.custom_types)})}var D=P.requestId;if(D){var j=R[D];if(j){clearTimeout(j.timer);var F=j.handler;F&&("EROR"===P.command?F(new U(x.message,x.code),null):F(null,P)),R.hasOwnProperty(D)&&delete R[D]}}else{C&&"LOGI"!==P.command&&C.refreshTimer();var H,B=wt.of(this.sb._iid),V=Fe.of(this.sb._iid),q=ye.of(this.sb._iid);switch(P.command){case"LOGI":if(this.sb.loginTimer)if(clearTimeout(this.sb.loginTimer),this.sb.loginTimer=null,this.sb.onLoginTimerCancel=null,x.hasOwnProperty("error"))this.sb.isSessionOpened=!1,this.sb.loginHandler(new U(x.message,x.code),null);else{if(this.sb.isSessionOpened=!0,x.hasOwnProperty("key")&&(O.sessionKey=x.key),x.hasOwnProperty("ekey")&&(O.eKey=x.ekey),x.hasOwnProperty("user_id")&&(this.sb.currentUser=new i(x)),"number"==typeof x.ping_interval&&x.ping_interval>0&&E.set("pingInterval",1e3*x.ping_interval),"number"==typeof x.pong_timeout&&x.pong_timeout>0&&E.set("pongTimeout",1e3*x.pong_timeout),"number"==typeof x.login_ts){var G=1e3*x.login_ts;E.set("connectedAt",G);var z=E.container,W=z.firstConnectedAt,K=z.localCacheEnabled,Y=z.store;if(!W){var Q=G;if(K){var $=(H=this.sb.currentUser.userId,"sendbird:".concat(H,"@firstConnectedAt"));Y.get($).then(function(e){e&&(Q=e.ts)}).catch(function(e){t.handleCacheError(e)}).finally(function(){E.set("firstConnectedAt",Q)})}else E.set("firstConnectedAt",Q)}}if(x.hasOwnProperty("reconnect")&&"object"===f(x.reconnect)){var J=x.reconnect,Z=E.container.wsAdapter;J.hasOwnProperty("interval")&&"number"==typeof J.interval&&(Z.reconnectParams.interval=J.interval),J.hasOwnProperty("max_interval")&&"number"==typeof J.max_interval&&(Z.reconnectParams.maxInterval=J.max_interval),J.hasOwnProperty("mul")&&"number"==typeof J.mul&&(Z.reconnectParams.multiplier=J.mul),J.hasOwnProperty("retry_cnt")&&"number"==typeof J.retry_cnt&&(Z.reconnectParams.retryCount=J.retry_cnt)}"number"==typeof x.max_unread_cnt_on_super_group?E.set("maxUnreadCountOfSuperGroupChannel",x.max_unread_cnt_on_super_group):E.set("maxUnreadCountOfSuperGroupChannel",I.DEFAULT_MAX_UNREAD_COUNT_OF_SUPER_GROUP_CHANNEL),x.profile_image_encryption&&E.set("profileImageEncryption",!0),C&&C.start(),x.hasOwnProperty("file_upload_size_limit")&&x.hasOwnProperty("premium_feature_list")&&x.hasOwnProperty("emoji_hash")&&E.set("appInfo",new Te(x)),x.hasOwnProperty("concurrent_call_limit")&&x.hasOwnProperty("back_off_delay")&&(E.set("concurrentCallLimit",x.concurrent_call_limit),E.set("backOffDelay",x.back_off_delay)),this.sb.loginHandler(null,this.sb.currentUser)}break;case"EXPR":var ee=new U("The session would be expired.",x.reason||U.SESSION_KEY_EXPIRED);A.refreshSessionIfExpiredError(ee).then(function(){}).catch(function(){});break;case"MESG":case"FILE":case"BRDM":case"ADMM":var te=null;if("MESG"===P.command?te=new l(x):"FILE"===P.command?te=new d(x):"BRDM"!==P.command&&"ADMM"!==P.command||(te=new p(x)),te){var ne=this.sb.currentUser?this.sb.currentUser.userId:null,re=te.silent,ie=!!x.force_update_last_message,oe=te._sender&&te._sender.userId===ne;if(te.isGroupChannel()){var se=u.cachedChannels.hasOwnProperty(te.channelUrl);u.getChannel(te.channelUrl,I.INTERNAL_CALL,function(e,n){if(t.sb.getErrorFirstCallback()){var i=[e,n];n=i[0],e=i[1]}if(!n){if(!E.container.appInfo.isSupergroupMackDisabled||!e.isSuper||e.isBroadcast){var o=r.bMessageAck({channelUrl:te.channelUrl,messageId:te.messageId});t.sb.sendCommand(o)}if(e.isHidden=!1,e.hiddenState=u.HiddenState.UNHIDDEN,u.cachedChannels[e.url]=e,te._sender&&e.memberMap.hasOwnProperty(te._sender.userId)){var a=e.memberMap[te._sender.userId];a.nickname!==te._sender.nickname&&(a.nickname=te._sender.nickname),a.plainProfileUrl!==te._sender.plainProfileUrl&&(a.plainProfileUrl=te._sender.plainProfileUrl),ae.deepEqual(a.metaData,te._sender.metaData)||(a.metaData=te._sender.metaData),a.isBlockedByMe!==te._sender.isBlockedByMe&&(a.isBlockedByMe=te._sender.isBlockedByMe)}var s=t.sb.currentUser;s&&oe&&(s.nickname!==te._sender.nickname&&(s.nickname=te._sender.nickname),s.plainProfileUrl!==te._sender.plainProfileUrl&&(s.plainProfileUrl=te._sender.plainProfileUrl),ae.deepEqual(s.metaData,te._sender.metaData)||(s.metaData=te._sender.metaData));var c=!1;if(te.mentionType===g.MentionType.CHANNEL)oe||(c=!0);else if(te.mentionType===g.MentionType.USERS)for(var l=0;l<te.mentionedUsers.length;l++)if(!oe&&te.mentionedUsers[l].userId===ne){c=!0;break}re&&!oe||(e.isEphemeral||se)&&((!e.lastMessage||e.lastMessage.createdAt<te.createdAt)&&(e.lastMessage=te),oe||e._setGroupChannelUnreadCount(e.unreadMessageCount+1,e.unreadMentionCount+(c?1:0))),ie&&(!e.lastMessage||e.lastMessage.createdAt<te.createdAt)&&(e.lastMessage=te),re&&!oe||(B.upsert([e]).then(function(){q.send({source:he.EVENT_CHANNEL_CHANGED,payload:{channel:e}})}).catch(function(e){t.handleCacheError(e)}),Object.keys(t.sb.channelHandlers).forEach(function(n){t.sb.channelHandlers[n].onChannelChanged(e)})),Object.keys(t.sb.channelHandlers).forEach(function(n){var r=t.sb.channelHandlers[n];r.onMessageReceived(e,te),c&&r.onMentionReceived(e,te)}),V.upsert([te]).then(function(){q.send({source:he.EVENT_MESSAGE_RECEIVED,payload:{channel:e,message:te}})}).catch(function(e){t.handleCacheError(e)})}})}else te.isOpenChannel()&&c.getChannel(te.channelUrl,I.INTERNAL_CALL,function(e,n){if(t.sb.getErrorFirstCallback()){var r=[e,n];n=r[0],e=r[1]}if(!n){var i=!1;if(te.mentionType===g.MentionType.CHANNEL)i=!0;else if(te.mentionType===g.MentionType.USERS)for(var o=0;o<te.mentionedUsers.length;o++)if(te.mentionedUsers[o].userId===ne){i=!0;break}Object.keys(t.sb.channelHandlers).forEach(function(n){var r=t.sb.channelHandlers[n];c.enteredChannels[e.url]&&r.onMessageReceived(e,te),i&&r.onMentionReceived(e,te)}),c.enteredChannels[e.url]&&q.send({source:he.EVENT_MESSAGE_RECEIVED,payload:{channel:e,message:te}})}})}break;case"MEDI":case"FEDI":case"AEDI":var ue=null;if("MEDI"===P.command?ue=new l(x):"FEDI"===P.command?ue=new d(x):"AEDI"===P.command&&(ue=new p(x)),ue){var ce=this.sb.currentUser?this.sb.currentUser.userId:null,le=ue.silent,fe=ue.sender&&ue.sender.userId===ce;if(ue.isGroupChannel()){var de=u.cachedChannels.hasOwnProperty(ue.channelUrl);u.getChannel(ue.channelUrl,I.INTERNAL_CALL,function(e,n){if(t.sb.getErrorFirstCallback()){var r=[e,n];n=r[0],e=r[1]}if(!n){var i=e.cachedReadReceiptStatus[ce],o=i&&i>=ue.createAt,a=t.sb.currentUser;a&&fe&&(a.nickname!==ue._sender.nickname&&(a.nickname=ue._sender.nickname),a.plainProfileUrl!==ue._sender.plainProfileUrl&&(a.plainProfileUrl=ue._sender.plainProfileUrl),ae.deepEqual(a.metaData,ue._sender.metaData)||(a.metaData=ue._sender.metaData));var s=!1,u=!1;if(!fe&&!o&&x&&x.hasOwnProperty("old_values")){var c=x.old_values.mention_type||ue.mentionType,l=x.old_values.mentioned_user_ids||ue.mentionedUsers.map(function(e){return e.userId});if(c===g.MentionType.USERS&&ue.mentionType===g.MentionType.USERS){for(var h=!1,f=!1,d=0;d<l.length;d++)if(l[d]===ce){h=!0;break}for(var p=0;p<ue.mentionedUsers.length;p++)if(ue.mentionedUsers[p].userId===ce){f=!0;break}!h&&f&&(u=!0,!le&&de&&(e._setGroupChannelUnreadCount(e.unreadMessageCount,e.unreadMentionCount+1),s=!0))}else if(c===g.MentionType.USERS&&ue.mentionType===g.MentionType.CHANNEL){for(var y=!1,v=0;v<l.length;v++)if(l[v]===ce){y=!0;break}y||(u=!0,!le&&de&&(e._setGroupChannelUnreadCount(e.unreadMessageCount,e.unreadMentionCount+1),s=!0))}}e.lastMessage?e.lastMessage.createdAt<ue.createdAt?(e.lastMessage=ue,s=!0):e.lastMessage.createdAt===ue.createdAt&&e.lastMessage.messageId===ue.messageId&&(de?e.lastMessage.updatedAt<ue.updatedAt&&(e.lastMessage=ue,s=!0):s=!0):(e.lastMessage=ue,s=!0),le&&!fe||!s||(Object.keys(t.sb.channelHandlers).forEach(function(n){t.sb.channelHandlers[n].onChannelChanged(e)}),B.upsert([e]).then(function(){q.send({source:he.EVENT_CHANNEL_CHANGED,payload:{channel:e}})}).catch(function(e){t.handleCacheError(e)})),Object.keys(t.sb.channelHandlers).forEach(function(n){var r=t.sb.channelHandlers[n];r.onMessageUpdated(e,ue),u&&r.onMentionReceived(e,ue)}),V.upsert([ue]).then(function(){q.send({source:he.EVENT_MESSAGE_UPDATED,payload:{channel:e,message:ue}})}).catch(function(e){t.handleCacheError(e)})}})}else ue.isOpenChannel()&&c.getChannel(ue.channelUrl,I.INTERNAL_CALL,function(e,n){if(t.sb.getErrorFirstCallback()){var r=[e,n];n=r[0],e=r[1]}n||(Object.keys(t.sb.channelHandlers).forEach(function(n){t.sb.channelHandlers[n].onMessageUpdated(e,ue)}),q.send({source:he.EVENT_MESSAGE_UPDATED,payload:{channel:e,message:ue}}))})}break;case"DELM":var pe=String(x.channel_type),ge=String(x.channel_url),ve=parseInt(x.msg_id);switch(pe){case s.CHANNEL_TYPE_GROUP:u.getChannel(ge,I.INTERNAL_CALL,function(e,n){if(t.sb.getErrorFirstCallback()){var r=[e,n];n=r[0],e=r[1]}n?X.debug("Discard command:","`".concat(P.command,"`")):(Object.keys(t.sb.channelHandlers).forEach(function(n){t.sb.channelHandlers[n].onMessageDeleted(e,ve)}),V.remove(["".concat(ve)]).then(function(){q.send({source:he.EVENT_MESSAGE_DELETED,payload:{channel:e,messageId:ve}})}).catch(function(e){t.handleCacheError(e)}))});break;case s.CHANNEL_TYPE_OPEN:c.getChannel(ge,I.INTERNAL_CALL,function(e,n){if(t.sb.getErrorFirstCallback()){var r=[e,n];n=r[0],e=r[1]}n?X.debug("Discard command:","`".concat(P.command,"`")):(Object.keys(t.sb.channelHandlers).forEach(function(n){t.sb.channelHandlers[n].onMessageDeleted(e,ve)}),q.send({source:he.EVENT_MESSAGE_DELETED,payload:{channel:e,messageId:ve}}))})}break;case"READ":var me=new v(x),be=u.cachedChannels.hasOwnProperty(me.channelUrl);u.getChannel(me.channelUrl,I.INTERNAL_CALL,function(e,n){if(t.sb.getErrorFirstCallback()){var r=[e,n];n=r[0],e=r[1]}n||(be&&e.updateReadReceipt(me.reader.userId,me.timestamp),t.sb.currentUser&&(me.reader.userId===t.sb.currentUser.userId?be?(e.unreadMessageCount>0||e.unreadMentionCount>0)&&(e._setGroupChannelUnreadCount(0,0),Object.keys(t.sb.channelHandlers).forEach(function(n){t.sb.channelHandlers[n].onChannelChanged(e)}),B.upsert([e]).then(function(){q.send({source:he.EVENT_CHANNEL_CHANGED,payload:{channel:e}})}).catch(function(e){t.handleCacheError(e)})):0!==e.unreadMessageCount&&0!==e.unreadMentionCount||(Object.keys(t.sb.channelHandlers).forEach(function(n){t.sb.channelHandlers[n].onChannelChanged(e)}),B.upsert([e]).then(function(){q.send({source:he.EVENT_CHANNEL_CHANGED,payload:{channel:e}})}).catch(function(e){t.handleCacheError(e)})):Object.keys(t.sb.channelHandlers).forEach(function(n){t.sb.channelHandlers[n].onReadReceiptUpdated(e)}),q.send({source:he.EVENT_READ_RECEIPT_UPDATED,payload:{channel:e,user:me.reader}})))});break;case"MRCT":var _e=String(x.channel_type),we=String(x.channel_url),Ee=y.createFromJson(x);switch(_e){case s.CHANNEL_TYPE_GROUP:u.getChannel(we,I.INTERNAL_CALL,function(e,n){if(t.sb.getErrorFirstCallback()){var r=[e,n];n=r[0],e=r[1]}n?X.debug("Discard command:","`".concat(P.command,"`")):(Object.keys(t.sb.channelHandlers).forEach(function(n){t.sb.channelHandlers[n].onReactionUpdated(e,Ee)}),V.get("".concat(Ee.messageId)).then(function(n){n&&(n.applyReactionEvent(Ee),V.upsert([n]).then(function(){q.send({source:he.EVENT_REACTION_UPDATED,payload:{channel:e,reactionEvent:Ee}})}).catch(function(e){t.handleCacheError(e)}))}).catch(function(e){t.handleCacheError(e)}))});break;case s.CHANNEL_TYPE_OPEN:c.getChannel(we,I.INTERNAL_CALL,function(e,n){if(t.sb.getErrorFirstCallback()){var r=[e,n];n=r[0],e=r[1]}n?X.debug("Discard command:","`".concat(P.command,"`")):(Object.keys(t.sb.channelHandlers).forEach(function(n){t.sb.channelHandlers[n].onReactionUpdated(e,Ee)}),q.send({source:he.EVENT_REACTION_UPDATED,payload:{channel:e,reactionEvent:Ee}}))})}break;case"DLVR":var Se=String(x.channel_url),Ce=x.hasOwnProperty("updated")?x.updated:null,Oe=u.cachedChannels.hasOwnProperty(Se);u.getChannel(Se,I.INTERNAL_CALL,function(e,n){if(t.sb.getErrorFirstCallback()){var r=[e,n];n=r[0],e=r[1]}if(!n){var i=!1;Object.keys(Ce).forEach(function(n){t.sb.currentUser&&n===t.sb.currentUser.userId&&(i=!0),Oe&&e.updateDeliveryReceipt(n,parseInt(Ce[n]))}),u.cachedChannels[e.url]=e,i&&1===Object.keys(Ce).length||(Object.keys(t.sb.channelHandlers).forEach(function(n){t.sb.channelHandlers[n].onDeliveryReceiptUpdated(e)}),q.send({source:he.EVENT_DELIVERY_RECEIPT_UPDATED,payload:{channel:e}}))}});break;case"MTHD":var ke=String(x.channel_url),Ie=String(x.channel_type),Ae=m.createFromJson(x);switch(Ie){case s.CHANNEL_TYPE_GROUP:u.getChannel(ke,I.INTERNAL_CALL,function(e,n){if(t.sb.getErrorFirstCallback()){var r=[e,n];n=r[0],e=r[1]}n||(Object.keys(t.sb.channelHandlers).forEach(function(n){t.sb.channelHandlers[n].onThreadInfoUpdated(e,Ae)}),V.get("".concat(Ae.targetMessageId)).then(function(n){n&&(n.applyThreadInfoUpdateEvent(Ae),V.upsert([n]).then(function(){q.send({source:he.EVENT_THREAD_INFO_UPDATED,payload:{channel:e,threadInfoUpdateEvent:Ae}})}).catch(function(e){t.handleCacheError(e)}))}).catch(function(e){t.handleCacheError(e)}))});break;case s.CHANNEL_TYPE_OPEN:c.getChannel(ke,I.INTERNAL_CALL,function(e,n){if(t.sb.getErrorFirstCallback()){var r=[e,n];n=r[0],e=r[1]}n||(Object.keys(t.sb.channelHandlers).forEach(function(n){t.sb.channelHandlers[n].onThreadInfoUpdated(e,Ae)}),q.send({source:he.EVENT_THREAD_INFO_UPDATED,payload:{channel:e,threadInfoUpdateEvent:Ae}}))})}break;case"MCNT":if(x.hasOwnProperty("group_channels")&&Array.isArray(x.group_channels)){var Ne,Re=[],Pe=k(x.group_channels);try{for(Pe.s();!(Ne=Pe.n()).done;){var xe=Ne.value;if(xe){var Me=u.cachedChannels[xe.channel_url];Me&&Me.isBroadcast&&Me.setLatestMemberCount(xe.member_count,xe.joined_member_count,xe.ts)&&Re.push(Me)}}}catch(e){Pe.e(e)}finally{Pe.f()}Re.length>0&&(Object.keys(this.sb.channelHandlers).forEach(function(e){t.sb.channelHandlers[e].onChannelMemberCountChanged(Re)}),B.upsert(Re).then(function(){var e,t=k(Re);try{for(t.s();!(e=t.n()).done;){var n=e.value;q.send({source:he.EVENT_CHANNEL_CHANGED,payload:{channel:n}})}}catch(e){t.e(e)}finally{t.f()}}).catch(function(e){t.handleCacheError(e)}))}if(x.hasOwnProperty("open_channels")&&Array.isArray(x.open_channels)){var Le,De=[],je=k(x.open_channels);try{for(je.s();!(Le=je.n()).done;){var Ue=Le.value;if(Ue){var He=c.cachedChannels[Ue.channel_url];He&&He.setLatestParticipantCount(Ue.participant_count,Ue.ts)&&De.push(He)}}}catch(e){je.e(e)}finally{je.f()}if(De.length>0){Object.keys(this.sb.channelHandlers).forEach(function(e){t.sb.channelHandlers[e].onChannelParticipantCountChanged(De)});var Be,Ve=k(De);try{for(Ve.s();!(Be=Ve.n()).done;){var qe=Be.value;q.send({source:he.EVENT_CHANNEL_CHANGED,payload:{channel:qe}})}}catch(e){Ve.e(e)}finally{Ve.f()}}}break;case"PEDI":var Ge=b.createFromJson(x);Object.keys(this.sb.channelHandlers).forEach(function(e){t.sb.channelHandlers[e].onPollUpdated(Ge)});break;case"VOTE":var ze=_.createFromJson(x);Object.keys(this.sb.channelHandlers).forEach(function(e){t.sb.channelHandlers[e].onPollVoted(ze)});break;case"SYEV":var We=new Pt(x),Ke=x.ts;switch(We.category){case Pt.CATEGORY_CHANNEL_JOIN:case Pt.CATEGORY_CHANNEL_LEAVE:u.getChannel(We.channelUrl,I.INTERNAL_CALL,function(e,n){if(t.sb.getErrorFirstCallback()){var r=[e,n];n=r[0],e=r[1]}if(n)X.debug("Discard command:","`".concat(P.command,"`"),We.category);else{var a=We.data.hasOwnProperty("member_count")?We.data.member_count:null,s=We.data.hasOwnProperty("joined_member_count")?We.data.joined_member_count:null,c=!1;if(We.category===Pt.CATEGORY_CHANNEL_JOIN)(We.data.hasOwnProperty("users")?We.data.users:[We.data]).forEach(function(n){e.isSuper||e.isBroadcast?c=e.setLatestMemberCount(a,s,x.ts):(n.state=o.JOINED,e.addMember(new o(n),Ke),e.updateJoinedMemberCount());var r=new i(n);t.sb.currentUser&&r.userId===t.sb.currentUser.userId&&(e.myMemberState="joined",u.cachedChannels[e.url]=e),Object.keys(t.sb.channelHandlers).forEach(function(n){var i=t.sb.channelHandlers[n];i.onUserJoined(e,r),e.isBroadcast&&c&&i.onChannelMemberCountChanged([e])}),B.upsert([e]).then(function(){q.send({source:he.EVENT_USER_JOINED,payload:{channel:e,user:r}})}).catch(function(e){t.handleCacheError(e)})});else{var l=new i(We.data);t.sb.currentUser&&l.userId===t.sb.currentUser.userId?(e.isPublic||u.removeCachedChannel(We.channelUrl),e.myMemberState="none",e.invitedAt=0,e.joinedAt=0,e._setGroupChannelUnreadCount(0,0)):u.cachedChannels[e.url]=e,e.isSuper||e.isBroadcast?c=e.setLatestMemberCount(a,s,x.ts):(e.removeMember(l),e.updateJoinedMemberCount()),Object.keys(t.sb.channelHandlers).forEach(function(n){var r=t.sb.channelHandlers[n];r.onUserLeft(e,l),e.isBroadcast&&c&&r.onChannelMemberCountChanged([e])}),B.upsert([e]).then(function(){q.send({source:he.EVENT_USER_LEFT,payload:{channel:e,user:l}})}).catch(function(e){t.handleCacheError(e)})}}});break;case Pt.CATEGORY_CHANNEL_OPERATOR_UPDATE:We.isGroupChannel()?u.getChannel(We.channelUrl,I.INTERNAL_CALL,function(e,n){if(t.sb.getErrorFirstCallback()){var r=[e,n];n=r[0],e=r[1]}if(n)X.debug("Discard command:","`".concat(P.command,"`"),We.category);else{for(var o=We.data.operators.map(function(e){return new i(e)}),a=o.map(function(e){return e.userId}),s=0;s<e.members.length;s++)e.members[s].role=a.indexOf(e.members[s].userId)>=0?u.Role.OPERATOR:u.Role.NONE;e.myRole=t.sb.currentUser&&a.indexOf(t.sb.currentUser.userId)>=0?u.Role.OPERATOR:u.Role.NONE,Object.keys(t.sb.channelHandlers).forEach(function(n){t.sb.channelHandlers[n].onOperatorUpdated(e,o)}),B.upsert([e]).then(function(){q.send({source:he.EVENT_OPERATOR_UPDATED,payload:{channel:e,operators:o}})}).catch(function(e){t.handleCacheError(e)})}}):We.isOpenChannel()&&c.getChannel(We.channelUrl,I.INTERNAL_CALL,function(e,n){if(t.sb.getErrorFirstCallback()){var r=[e,n];n=r[0],e=r[1]}n?X.debug("Discard command:","`".concat(P.command,"`"),We.category):(e.operators=We.data.operators.map(function(e){return new i(e)}),Object.keys(t.sb.channelHandlers).forEach(function(n){t.sb.channelHandlers[n].onOperatorUpdated(e,e.operators)}))});break;case Pt.CATEGORY_CHANNEL_INVITE:u.getChannel(We.channelUrl,I.INTERNAL_CALL,function(e,n){if(t.sb.getErrorFirstCallback()){var r=[e,n];n=r[0],e=r[1]}if(n)X.debug("Discard command:","`".concat(P.command,"`"),We.category);else{var a=null;We.data&&We.data.inviter&&Object.keys(We.data.inviter).length>0&&(a=new i(We.data.inviter));for(var s=[],c=0;c<We.data.invitees.length;c++){var l=new i(We.data.invitees[c]);s.push(l),We.data.invitees[c].state=o.INVITED;var h=new o(We.data.invitees[c]);if(e.isSuper||e.isBroadcast){var f=We.data.hasOwnProperty("member_count")?We.data.member_count:null,d=We.data.hasOwnProperty("joined_member_count")?We.data.joined_member_count:null;e.setLatestMemberCount(f,d,x.ts)}else e.addMember(h,Ke);t.sb.currentUser&&h.userId===t.sb.currentUser.userId&&(e.isHidden=!1,"joined"!==e.myMemberState&&(e.myMemberState="invited"),e.invitedAt=x.ts,u.cachedChannels[e.url]=e)}Object.keys(t.sb.channelHandlers).forEach(function(n){t.sb.channelHandlers[n].onUserReceivedInvitation(e,a,s)}),B.upsert([e]).then(function(){q.send({source:he.EVENT_USER_RECEIVED_INVITATION,payload:{channel:e,inviter:a,invitees:s}})}).catch(function(e){t.handleCacheError(e)})}});break;case Pt.CATEGORY_CHANNEL_DECLINE_INVITE:u.getChannel(We.channelUrl,I.INTERNAL_CALL,function(e,n){if(t.sb.getErrorFirstCallback()){var r=[e,n];n=r[0],e=r[1]}if(n)X.debug("Discard command:","`".concat(P.command,"`"),We.category);else{var o=null;We.data&&We.data.inviter&&Object.keys(We.data.inviter).length>0&&(o=new i(We.data.inviter));var a=new i(We.data.invitee);if(t.sb.currentUser&&a.userId===t.sb.currentUser.userId&&(e.invitedAt=0,e.myMemberState="none",e.isPublic||u.removeCachedChannel(We.channelUrl)),e.isSuper||e.isBroadcast){var s=We.data.hasOwnProperty("member_count")?We.data.member_count:null,c=We.data.hasOwnProperty("joined_member_count")?We.data.joined_member_count:null;e.setLatestMemberCount(s,c,x.ts)}else e.removeMember(a);t.sb.currentUser&&a.userId!==t.sb.currentUser.userId&&(u.cachedChannels[e.url]=e),Object.keys(t.sb.channelHandlers).forEach(function(n){t.sb.channelHandlers[n].onUserDeclinedInvitation(e,o,a)}),B.upsert([e]).then(function(){q.send({source:he.EVENT_USER_DECLINED_INVITATION,payload:{channel:e,inviter:o,invitee:a}})}).catch(function(e){t.handleCacheError(e)})}});break;case Pt.CATEGORY_TYPING_START:case Pt.CATEGORY_TYPING_END:u.getChannel(We.channelUrl,I.INTERNAL_CALL,function(e,n){if(t.sb.getErrorFirstCallback()){var r=[e,n];n=r[0],e=r[1]}if(n)X.debug("Discard command:","`".concat(P.command,"`"),We.category);else{var o=new i(We.data);We.category===Pt.CATEGORY_TYPING_START?e.updateTypingStatus(o,!0):e.updateTypingStatus(o,!1),Object.keys(t.sb.channelHandlers).forEach(function(n){t.sb.channelHandlers[n].onTypingStatusUpdated(e)}),B.upsert([e]).then(function(){q.send({source:he.EVENT_TYPING_STATUS_UPDATED,payload:{channel:e}})}).catch(function(e){t.handleCacheError(e)})}});break;case Pt.CATEGORY_CHANNEL_ENTER:case Pt.CATEGORY_CHANNEL_EXIT:c.getChannel(We.channelUrl,I.INTERNAL_CALL,function(e,n){if(t.sb.getErrorFirstCallback()){var r=[e,n];n=r[0],e=r[1]}if(n)X.debug("Discard command:","`".concat(P.command,"`"),We.category);else{var o=We.data.hasOwnProperty("participant_count")?We.data.participant_count:null,a=e.setLatestParticipantCount(o,x.ts),s=new i(We.data);We.category===Pt.CATEGORY_CHANNEL_ENTER?(Object.keys(t.sb.channelHandlers).forEach(function(n){var r=t.sb.channelHandlers[n];r.onUserEntered(e,s),a&&r.onChannelParticipantCountChanged([e])}),q.send({source:he.EVENT_CHANNEL_ENTER,payload:{channel:e,user:s}})):(Object.keys(t.sb.channelHandlers).forEach(function(n){var r=t.sb.channelHandlers[n];r.onUserExited(e,s),a&&r.onChannelParticipantCountChanged([e])}),q.send({source:he.EVENT_CHANNEL_EXIT,payload:{channel:e,user:s}}))}});break;case Pt.CATEGORY_USER_CHANNEL_MUTE:case Pt.CATEGORY_USER_CHANNEL_UNMUTE:var Ye=We.category===Pt.CATEGORY_USER_CHANNEL_MUTE,Qe=h({},We.data);Ye&&(Qe.restriction_type=a.RestrictionType.MUTED);var $e=Ye?new a(Qe):new i(We.data),Xe=Ye?"muted":"unmuted";We.isOpenChannel()?c.getChannel(We.channelUrl,I.INTERNAL_CALL,function(e,n){if(t.sb.getErrorFirstCallback()){var r=[e,n];n=r[0],e=r[1]}n?X.debug("Discard command:","`".concat(P.command,"`"),We.category):Ye?(Object.keys(t.sb.channelHandlers).forEach(function(n){t.sb.channelHandlers[n].onUserMuted(e,$e)}),q.send({source:he.EVENT_USER_MUTED,payload:{channel:e,user:$e}})):(Object.keys(t.sb.channelHandlers).forEach(function(n){t.sb.channelHandlers[n].onUserUnmuted(e,$e)}),q.send({source:he.EVENT_USER_UNMUTED,payload:{channel:e,user:$e}}))}):u.getChannel(We.channelUrl,I.INTERNAL_CALL,function(e,n){if(t.sb.getErrorFirstCallback()){var r=[e,n];n=r[0],e=r[1]}n?X.debug("Discard command:","`".concat(P.command,"`"),We.category):(t.sb.currentUser&&$e.userId===t.sb.currentUser.userId&&(e.myMutedState=Xe),Array.isArray(e.members)&&e.members.filter(function(e){return e&&e.userId===$e.userId}).forEach(function(e){e.isMuted=Ye,e.restrictionInfo=new w(Qe)}),Ye?(Object.keys(t.sb.channelHandlers).forEach(function(n){t.sb.channelHandlers[n].onUserMuted(e,$e)}),B.upsert([e]).then(function(){q.send({source:he.EVENT_USER_MUTED,payload:{channel:e,user:$e}})}).catch(function(e){t.handleCacheError(e)})):(Object.keys(t.sb.channelHandlers).forEach(function(n){t.sb.channelHandlers[n].onUserUnmuted(e,$e)}),B.upsert([e]).then(function(){q.send({source:he.EVENT_USER_UNMUTED,payload:{channel:e,user:$e}})}).catch(function(e){t.handleCacheError(e)})))});break;case Pt.CATEGORY_USER_CHANNEL_BAN:case Pt.CATEGORY_USER_CHANNEL_UNBAN:var Je=We.category===Pt.CATEGORY_USER_CHANNEL_BAN,Ze=h({},We.data);Je&&(Ze.restriction_type=a.RestrictionType.BANNED);var et=Je?new a(Ze):new i(We.data);We.isOpenChannel()?c.getChannel(We.channelUrl,I.INTERNAL_CALL,function(e,n){if(t.sb.getErrorFirstCallback()){var r=[e,n];n=r[0],e=r[1]}n?X.debug("Discard command:","`".concat(P.command,"`"),We.category):Je?(t.sb.currentUser&&et.userId===t.sb.currentUser.userId&&(delete c.enteredChannels[We.channelUrl],t.cls.FileMessageQueue.delete(We.channelUrl)),Object.keys(t.sb.channelHandlers).forEach(function(n){t.sb.channelHandlers[n].onUserBanned(e,et)}),q.send({source:he.EVENT_USER_BANNED,payload:{channel:e,user:et}})):(Object.keys(t.sb.channelHandlers).forEach(function(n){t.sb.channelHandlers[n].onUserUnbanned(e,et)}),q.send({source:he.EVENT_USER_UNBANNED,payload:{channel:e,user:et}}))}):u.getChannel(We.channelUrl,I.INTERNAL_CALL,function(e,n){if(t.sb.getErrorFirstCallback()){var r=[e,n];n=r[0],e=r[1]}if(n)X.debug("Discard command:","`".concat(P.command,"`"),We.category);else if(Je){if(t.sb.currentUser&&et.userId===t.sb.currentUser.userId&&(e.isPublic||u.removeCachedChannel(We.channelUrl),e.myMemberState="none",e.invitedAt=0,e.joinedAt=0,e._setGroupChannelUnreadCount(0,0)),e.isSuper||e.isBroadcast){var i=We.data.hasOwnProperty("member_count")?We.data.member_count:null,o=We.data.hasOwnProperty("joined_member_count")?We.data.joined_member_count:null;e.setLatestMemberCount(i,o,x.ts)}else e.removeMember(et),e.updateJoinedMemberCount();Object.keys(t.sb.channelHandlers).forEach(function(n){t.sb.channelHandlers[n].onUserBanned(e,et)}),q.send({source:he.EVENT_USER_BANNED,payload:{channel:e,user:et}})}else Object.keys(t.sb.channelHandlers).forEach(function(n){t.sb.channelHandlers[n].onUserUnbanned(e,et)}),q.send({source:he.EVENT_USER_UNBANNED,payload:{channel:e,user:et}})});break;case Pt.CATEGORY_CHANNEL_FREEZE:case Pt.CATEGORY_CHANNEL_UNFREEZE:We.isOpenChannel()?c.getChannel(We.channelUrl,I.INTERNAL_CALL,function(e,n){if(t.sb.getErrorFirstCallback()){var r=[e,n];n=r[0],e=r[1]}n?X.debug("Discard command:","`".concat(P.command,"`"),We.category):(e.isFrozen=We.data.freeze,c.cachedChannels[e.url]=e,We.category===Pt.CATEGORY_CHANNEL_FREEZE?(Object.keys(t.sb.channelHandlers).forEach(function(n){t.sb.channelHandlers[n].onChannelFrozen(e)}),q.send({source:he.EVENT_CHANNEL_FROZEN,payload:{channel:e}})):(Object.keys(t.sb.channelHandlers).forEach(function(n){t.sb.channelHandlers[n].onChannelUnfrozen(e)}),q.send({source:he.EVENT_CHANNEL_UNFROZEN,payload:{channel:e}})))}):u.getChannel(We.channelUrl,I.INTERNAL_CALL,function(e,n){if(t.sb.getErrorFirstCallback()){var r=[e,n];n=r[0],e=r[1]}n?X.debug("Discard command:","`".concat(P.command,"`"),We.category):(e.isFrozen=We.data.freeze,u.cachedChannels[e.url]=e,We.category===Pt.CATEGORY_CHANNEL_FREEZE?(Object.keys(t.sb.channelHandlers).forEach(function(n){t.sb.channelHandlers[n].onChannelFrozen(e)}),B.upsert([e]).then(function(){q.send({source:he.EVENT_CHANNEL_FROZEN,payload:{channel:e}})}).catch(function(e){t.handleCacheError(e)})):(Object.keys(t.sb.channelHandlers).forEach(function(n){t.sb.channelHandlers[n].onChannelUnfrozen(e)}),B.upsert([e]).then(function(){q.send({source:he.EVENT_CHANNEL_UNFROZEN,payload:{channel:e}})}).catch(function(e){t.handleCacheError(e)})))});break;case Pt.CATEGORY_CHANNEL_DELETED:We.isGroupChannel()?u.removeCachedChannel(We.channelUrl):c.removeCachedChannel(We.channelUrl);var tt=We.channelUrl,nt=We.isGroupChannel()?"group":"open";Object.keys(this.sb.channelHandlers).forEach(function(e){t.sb.channelHandlers[e].onChannelDeleted(tt,nt)}),B.remove([tt]).then(function(){q.send({source:he.EVENT_CHANNEL_DELETED,payload:{channelUrl:tt,channelType:nt}})}).catch(function(e){t.handleCacheError(e)});break;case Pt.CATEGORY_CHANNEL_PROP_CHANGED:We.isOpenChannel()?c.getChannelWithoutCache(We.channelUrl,function(e,n){if(t.sb.getErrorFirstCallback()){var r=[e,n];n=r[0],e=r[1]}n?X.debug("Discard command:","`".concat(P.command,"`"),We.category):(Object.keys(t.sb.channelHandlers).forEach(function(n){t.sb.channelHandlers[n].onChannelChanged(e)}),q.send({source:he.EVENT_CHANNEL_CHANGED,payload:{channel:e}}))}):u.getChannelWithoutCache(We.channelUrl,function(e,n){if(t.sb.getErrorFirstCallback()){var r=[e,n];n=r[0],e=r[1]}if(n)X.debug("Discard command:","`".concat(P.command,"`"),We.category);else{var i=e.unreadMessageCount,o=e.unreadMentionCount;e.myCountPreference!==u.CountPreference.ALL&&(e.myCountPreference===u.CountPreference.UNREAD_MESSAGE_COUNT_ONLY?o=0:e.myCountPreference===u.CountPreference.UNREAD_MENTION_COUNT_ONLY?i=0:(i=0,o=0)),e._setGroupChannelUnreadCount(i,o),Object.keys(t.sb.channelHandlers).forEach(function(n){t.sb.channelHandlers[n].onChannelChanged(e)}),B.upsert([e]).then(function(){q.send({source:he.EVENT_CHANNEL_CHANGED,payload:{channel:e}})}).catch(function(e){t.handleCacheError(e)})}});break;case Pt.CATEGORY_CHANNEL_META_DATA_CHANGED:case Pt.CATEGORY_CHANNEL_META_COUNTERS_CHANGED:var rt=We.data.hasOwnProperty("created"),it=We.data.hasOwnProperty("updated"),ot=We.data.hasOwnProperty("deleted");(We.isOpenChannel()?c.getChannel(We.channelUrl,I.INTERNAL_CALL):u.getChannel(We.channelUrl,I.INTERNAL_CALL)).then(function(e){var n=We.data.created,r=We.data.updated,i=We.data.deleted;Object.keys(t.sb.channelHandlers).forEach(function(o){var a=t.sb.channelHandlers[o];if(We.category===Pt.CATEGORY_CHANNEL_META_DATA_CHANGED){var s=x.ts;rt&&e._addOrUpdateCachedMetaData(n,s),it&&e._addOrUpdateCachedMetaData(r,s),ot&&e._markAsDeletedCachedMetaData(i,s),rt&&a.onMetaDataCreated(e,n),it&&a.onMetaDataUpdated(e,r),ot&&a.onMetaDataDeleted(e,i),(rt||it)&&q.send({source:he.EVENT_CHANNEL_METADATA_UPDATED,payload:{channel:e,metaData:h(h({},n),r)}}),ot&&q.send({source:he.EVENT_CHANNEL_METADATA_DELETED,payload:{channel:e,metaData:h({},i)}})}else rt&&a.onMetaCountersCreated(e,n),it&&a.onMetaCountersUpdated(e,r),ot&&a.onMetaCountersDeleted(e,i),(rt||it)&&q.send({source:he.EVENT_CHANNEL_METACOUNTER_UPDATED,payload:{channel:e,metaData:h(h({},n),r)}}),ot&&q.send({source:he.EVENT_CHANNEL_METACOUNTER_DELETED,payload:{channel:e,metaData:h({},i)}})})}).catch(function(e){return X.debug("Discard command:","`".concat(P.command,"`"),We.category)});break;case Pt.CATEGORY_CHANNEL_HIDE:case Pt.CATEGORY_CHANNEL_UNHIDE:u.getChannel(We.channelUrl,I.INTERNAL_CALL,function(e,n){if(t.sb.getErrorFirstCallback()){var r=[e,n];n=r[0],e=r[1]}n?X.debug("Discard command:","`".concat(P.command,"`"),We.category):We.category===Pt.CATEGORY_CHANNEL_HIDE?(e.isHidden=!0,We.data&&(We.data.hasOwnProperty("allow_auto_unhide")&&(e.hiddenState=We.data.allow_auto_unhide?u.HiddenState.HIDDEN_ALLOW_AUTO_UNHIDE:u.HiddenState.HIDDEN_PREVENT_AUTO_UNHIDE),We.data.hasOwnProperty("hide_previous_messages")&&We.data.hide_previous_messages&&e._setGroupChannelUnreadCount(0,0)),x.hasOwnProperty("ts_message_offset")&&(e._messageOffsetTimestamp=x.ts_message_offset),u.cachedChannels[e.url]=e,Object.keys(t.sb.channelHandlers).forEach(function(n){t.sb.channelHandlers[n].onChannelHidden(e)}),B.upsert([e]).then(function(){q.send({source:he.EVENT_CHANNEL_HIDDEN,payload:{channel:e}})}).catch(function(e){t.handleCacheError(e)})):(e.isHidden=!1,e.hiddenState=u.HiddenState.UNHIDDEN,u.cachedChannels[e.url]=e,Object.keys(t.sb.channelHandlers).forEach(function(n){t.sb.channelHandlers[n].onChannelChanged(e)}),B.upsert([e]).then(function(){q.send({source:he.EVENT_CHANNEL_UNHIDDEN,payload:{channel:e}})}).catch(function(e){t.handleCacheError(e)}))})}break;case"USEV":var at=new Pt(x);switch(at.category){case xt.CATEGORY_USER_BLOCK:case xt.CATEGORY_USER_UNBLOCK:var st=at.data.blocker.user_id,ut=at.data.blockee.user_id;Object.keys(u.cachedChannels).forEach(function(e){var n=u.cachedChannels[e];try{t.sb.currentUser&&(t.sb.currentUser.userId===st?n.memberMap[ut].isBlockedByMe=at.category===xt.CATEGORY_USER_BLOCK:t.sb.currentUser.userId===ut&&(n.memberMap[st].isBlockingMe=at.category===xt.CATEGORY_USER_BLOCK))}catch(e){}});break;case xt.CATEGORY_FRIEND_DISCOVERED:var ct=at.data.friend_discoveries.map(function(e){return new i(e)});Object.keys(this.sb.userEventHandlers).forEach(function(e){t.sb.userEventHandlers[e].onFriendsDiscovered(ct)})}break;case"LEAV":case"JOIN":case"PONG":case"MTIO":case"TPST":case"TPEN":break;default:X.debug("Discard command:","`".concat(P.command,"`"))}}}},{key:"handleCacheError",value:function(e){X.error(e)}}]),e}(),Lt={},Dt={},jt=function(){function e(t){d(this,e),this.channel=t,this.uploadQueue=[],this.messageQueue=[],this.latestTimestampToSendMessage=0,B.get(this._iid).FileMessageQueue.queueMap[t.url]=this}return g(e,[{key:"_handleMessageQueueUpdated",value:function(e){var t=this;switch(X.debug("`fileMessageQueue` message queue updated:",this.messageQueue),e){case"add":this.uploadQueue.length<6&&this._moveFirstPendingMessageToUploadQueue();break;case"update":case"remove":if(this.messageQueue.length>0){var n=B.get(this._iid).FileMessageQueue,r=this.messageQueue[0];if(r)if(r.state===n.State.UPLOADED)if(r.state=n.State.SENDING,navigator&&"boolean"==typeof navigator.onLine)if(navigator.onLine){for(0===this.latestTimestampToSendMessage&&(this.latestTimestampToSendMessage=(new Date).getTime()-200);(new Date).getTime()-this.latestTimestampToSendMessage<200;);this.latestTimestampToSendMessage=(new Date).getTime(),this._sendUploadedMessage(r,function(e,i){r.state=n.State.SENT,r.error=e||null,r.response=i||null,t._handleMessageQueueUpdated("update")})}else r.state=n.State.SENT,r.error=new U("Connection is not valid. Please reconnect.",U.WEBSOCKET_CONNECTION_CLOSED),r.response=null,this._finalizeMessage();else $e.ready().then(function(e){if(e){for(0===t.latestTimestampToSendMessage&&(t.latestTimestampToSendMessage=(new Date).getTime()-200);(new Date).getTime()-t.latestTimestampToSendMessage<200;);t.latestTimestampToSendMessage=(new Date).getTime(),t._sendUploadedMessage(r,function(e,i){r.state=n.State.SENT,r.error=e||null,r.response=i||null,t._handleMessageQueueUpdated("update")})}else r.state=n.State.SENT,r.error=new U("Connection is not valid. Please reconnect.",U.WEBSOCKET_CONNECTION_CLOSED),r.response=null,t._finalizeMessage()});else r.state===n.State.SENT&&this._finalizeMessage()}}}},{key:"_handleUploadQueueUpdated",value:function(e,t){var n=this;switch(X.debug("`fileMessageQueue` upload queue updated:",this.uploadQueue),e){case"add":var r=B.get(this._iid).FileMessageQueue;if(t.state=r.State.UPLOADING,t.error){var i=this.messageQueue.map(function(e){return e.requestId}).indexOf(t.requestId);i>-1&&(t.state=r.State.SENT,this._handleMessageQueueUpdated("update")),this._finalizeUpload(t.requestId)}else navigator&&"boolean"==typeof navigator.onLine?navigator.onLine?this._uploadFile(t,function(e){t.error&&t.error.code===U.REQUEST_FAILED&&(t.error=new U("Failed to upload a file.",U.NETWORK_ERROR)),t.error&&t.state===r.State.SENT||(t.state=r.State.UPLOADED),t.fileInfo=e,n._handleMessageQueueUpdated("update"),n._finalizeUpload(t.requestId)}):(t.state=r.State.SENT,t.error=new U("Connection is not valid. Please reconnect.",U.WEBSOCKET_CONNECTION_CLOSED),t.response=null,this._handleMessageQueueUpdated("update"),this._finalizeUpload(t.requestId)):$e.ready().then(function(e){e?n._uploadFile(t,function(e){t.error&&t.error.code===U.REQUEST_FAILED&&(t.error=new U("Failed to upload a file.",U.NETWORK_ERROR)),t.error&&t.state===r.State.SENT||(t.state=r.State.UPLOADED),t.fileInfo=e,n._handleMessageQueueUpdated("update"),n._finalizeUpload(t.requestId)}):(t.state=r.State.SENT,t.error=new U("Connection is not valid. Please reconnect.",U.WEBSOCKET_CONNECTION_CLOSED),t.response=null,n._handleMessageQueueUpdated("update"),n._finalizeUpload(t.requestId))});break;case"update":break;case"remove":this.uploadQueue.length<6&&this._moveFirstPendingMessageToUploadQueue()}}},{key:"_moveFirstPendingMessageToUploadQueue",value:function(){var e=B.get(this._iid).FileMessageQueue,t=this.messageQueue.filter(function(t){return t.state===e.State.PENDING});if(t.length>0){var n=t[0];this.uploadQueue.push(n),this._handleUploadQueueUpdated("add",n)}}},{key:"_sendUploadedMessage",value:function(e,t){var n=B.get(this._iid),r=n.Command,i=n.FileMessage,o=e.fileInfo,a=r.bFile(h(h({},o),{},{requestId:e.requestId,channelUrl:this.channel.url,url:o.file,metaArrays:o.metaArrays})),s=Fi.getInstance(this._iid),u=N.get(this._iid);s.getConnectionState()===s.ConnectionState.OPEN||!s.currentUser||s.connecting||s.reconnecting?s.sendCommand(a,function(e,n){if(s.getErrorFirstCallback()){var r=[e,n];n=r[0],e=r[1]}if(n){var u=new i(a.getJsonElement());u.requestedMentionUserIds=o.mentionedUserIds,t(n,u)}else{var c=new i(e.getJsonElement());t(null,c)}}):u.container.apiClient.sendFileMessage(h(h({reqId:e.requestId,channelUrl:this.channel.url,isOpenChannel:this.channel.isOpenChannel()},o),{},{fileUrl:o.file,fileName:o.name,fileSize:o.size,fileType:o.type,metaArrays:o.metaArrays}),function(e,n){var r=new i(e?a.getJsonElement():n);e&&(r.requestedMentionUserIds=o.mentionedUserIds),t(e,r)})}},{key:"_uploadFile",value:function(e,t){var n=e.fileInfo,r=e.pendingMessage;if("string"!=typeof n.file&&n.file){var i=B.get(this._iid).FileMessageQueue;N.get(this._iid).container.apiClient.uploadFile(h(h({},n),{},{fileType:n.type,channelUrl:this.channel.url,reqId:r?r.reqId:null}),function(r,o){if(r)e.state=i.State.SENT,e.error=r,e.response=null,t(n);else{var a="object"===f(o)?o:JSON.parse(o);n.file=a.url,n.thumbnailSizes=a.hasOwnProperty("thumbnails")?a.thumbnails:[],n.requireAuth=!!a.hasOwnProperty("require_auth")&&a.require_auth,n.size=a.hasOwnProperty("file_size")?a.file_size:n.size,t(n)}})}else n.thumbnailSizes=[],n.requireAuth=!1,t(n)}},{key:"_finalizeUpload",value:function(e){var t=this.uploadQueue.map(function(e){return e.requestId}).indexOf(e);if(t>-1){var n=this.uploadQueue.splice(t,1);n.length>0&&this._handleUploadQueueUpdated("remove",n[0])}}},{key:"_finalizeMessage",value:function(){var e=this,t=N.get(this._iid),n=t.container.localCacheEnabled,r=t.container.isErrorFirstInCallback,i=Fi.getInstance(this._iid),o=wt.of(this._iid),a=Fe.of(this._iid),s=ye.of(this._iid),u=B.get(this._iid).FileMessageQueue,c=this.messageQueue[0],l=c.pendingMessage;if(c&&c.state===u.State.SENT){c.state=u.State.DONE;var h=c.response;h&&l&&(h._isAutoResendRegistered=l._isAutoResendRegistered);var f=c.error,d=f?new U(f.message,f.code):null,p=c.fileInfo.callback;if(h&&!f){h.reqId=l.reqId,h.requestState=i.MessageRequestState.SUCCEEDED,h.sendingStatus=i.MessageSendingStatus.SUCCEEDED;var g=i.currentUser;if(g&&h._sender&&g.userId===h._sender.userId&&(g.nickname!==h._sender.nickname&&(g.nickname=h._sender.nickname),g.plainProfileUrl!==h._sender.plainProfileUrl&&(g.plainProfileUrl=h._sender.plainProfileUrl)),this.channel.isGroupChannel())return this.channel.lastMessage=h,Object.keys(i.channelHandlers).forEach(function(t){i.channelHandlers[t].onChannelChanged(e.channel)}),void o.upsert([this.channel]).then(function(){s.send({source:he.EVENT_CHANNEL_CHANGED,payload:{channel:e.channel}})}).then(function(){return a.removeUnsentMessages({channelUrl:e.channel.url,sendingStatus:i.MessageSendingStatus.PENDING,reqIds:[h.reqId]})}).then(function(){return a.upsert([h],pe.SUCCEEDED)}).then(function(){nt._completeCurrentAndProcessNextAutoResend(i,h),s.send({source:he.EVENT_MESSAGE_SENT,payload:{channel:e.channel,message:h}})}).catch(function(e){return X.error(e)}).finally(function(){p&&(p.isPromisifyCallback||r?p(null,h):p(h,null)),e.messageQueue.shift(),e._handleMessageQueueUpdated("remove")})}if(f){if(h&&h._isAutoResendRegistered&&ae.isAutoResendableError(f.code))return this.messageQueue.shift(),void this._handleMessageQueueUpdated("remove");if(c.pendingMessage&&(h=c.pendingMessage._clone()),h&&f.code!==U.INVALID_PARAMETER)if(h.requestState=i.MessageRequestState.FAILED,f.code===U.FILE_UPLOAD_CANCEL_FAILED||f.code===U.REQUEST_CANCELED){if(h.sendingStatus=i.MessageSendingStatus.CANCELED,this.channel.isGroupChannel())return void a.removeUnsentMessages({channelUrl:this.channel.url,sendingStatus:i.MessageSendingStatus.PENDING,reqIds:[h.reqId]}).then(function(){s.send({source:he.LOCAL_MESSAGE_CANCELED,payload:{channel:e.channel,message:h}})}).catch(function(e){return X.error(e)}).finally(function(){p&&(p.isPromisifyCallback||r?p(d,h):p(h,d)),e.messageQueue.shift(),e._handleMessageQueueUpdated("remove")})}else if(h.sendingStatus=i.MessageSendingStatus.FAILED,h.errorCode=f.code,h.requestedMentionUserIds=c.fileInfo.mentionedUserIds,f.code===U.FILE_SIZE_LIMIT_EXCEEDED&&h._messageParams&&h._messageParams.file&&(h._messageParams.file=null),this.channel.isGroupChannel())return void(f.code===U.USER_NOT_MEMBER||f.code===U.CHANNEL_NOT_FOUND?o.remove([this.channel.url]).then(function(){return a.removeUnsentMessages({channelUrl:e.channel.url,sendingStatus:i.MessageSendingStatus.PENDING,reqIds:[h.reqId]})}).then(function(){s.send({source:he.LOCAL_MESSAGE_FAILED,payload:{channel:e.channel,message:h}})}).catch(function(e){return X.error(e)}).finally(function(){p&&(p.isPromisifyCallback||r?p(d,h):p(h,d)),e.messageQueue.shift(),e._handleMessageQueueUpdated("remove")}):(n&&ae.isAutoResendableError(f.code)&&(h.sendingStatus=i.MessageSendingStatus.PENDING,h.errorCode=0,h._isAutoResendRegistered=!0),a.upsert([h],pe.UNSENT).then(function(){nt._completeCurrentAndProcessNextAutoResend(i,h),s.send({source:he.LOCAL_MESSAGE_FAILED,payload:{channel:e.channel,message:h}})}).catch(function(e){return X.error(e)}).finally(function(){var t=h._clone();t.sendingStatus=i.MessageSendingStatus.FAILED,t.errorCode=f.code,t._isAutoResendRegistered=!1,p&&(p.isPromisifyCallback||r?p(d,t):p(t,d)),e.messageQueue.shift(),e._handleMessageQueueUpdated("remove")})))}p&&(p.isPromisifyCallback||r?p(d,h):p(h,d)),this.messageQueue.shift(),this._handleMessageQueueUpdated("remove")}}},{key:"addJob",value:function(e){this.messageQueue.push(e),this._handleMessageQueueUpdated("add")}},{key:"cancelUploadItemByRequestId",value:function(e,t){this._finalizeUpload(e);var n=this.messageQueue.map(function(e){return e.requestId}).indexOf(e);if(n>-1){var r=B.get(this._iid).FileMessageQueue,i=this.messageQueue[n];!i||i.state!==r.State.UPLOADING&&i.state!==r.State.PENDING||(i.state=r.State.SENT,i.response=null,i.error=new U("Uploading has been completed or canceled.",U.FILE_UPLOAD_CANCEL_FAILED),this._handleMessageQueueUpdated("update"));var o=r.uploadRequest[e];if(o)return"function"==typeof o.abort?o.abort():"function"==typeof o.cancel&&o.cancel("Upload has been canceled."),t(null,!0),!0;t(new U("Uploading has been completed or canceled.",U.FILE_UPLOAD_CANCEL_FAILED),!1)}else t(new U("Uploading has been completed or canceled.",U.FILE_UPLOAD_CANCEL_FAILED),!1);return!1}}],[{key:"State",get:function(){return{PENDING:"pending",UPLOADING:"uploading",UPLOADED:"uploaded",SENDING:"sending",SENT:"sent",DONE:"done"}}},{key:"getByChannelUrl",value:function(e){return B.get(this._iid).FileMessageQueue.queueMap[e]}},{key:"create",value:function(e){var t=B.get(this._iid).FileMessageQueue;return t.queueMap.hasOwnProperty(e.url)||(t.queueMap[e.url]=new t(e)),t.queueMap[e.url]}},{key:"delete",value:function(e){var t=B.get(this._iid).FileMessageQueue;t.queueMap.hasOwnProperty(e)&&delete t.queueMap[e]}},{key:"clear",value:function(){Dt[this._iid]={}}},{key:"queueMap",get:function(){return Dt[this._iid]||(Dt[this._iid]={}),Dt[this._iid]}},{key:"uploadRequest",get:function(){return Lt[this._iid]||(Lt[this._iid]={}),Lt[this._iid]}}]),e}();jt.Job=g(function e(t){var n=t.fileInfo,r=t.requestId,i=t.pendingMessage,o=t.state,a=t.error,s=void 0===a?null:a,u=t.response,c=void 0===u?null:u;d(this,e),this.fileInfo=n,this.requestId=r,this.pendingMessage=i,this.state=o||jt.State.PENDING,this.error=s,this.response=c});var Ut,Ft={},Ht=function(){function e(e){var t=e.dbname,n=e.itemSizeLimit,r=void 0===n?1048576:n,i=e.cacheLimit,o=void 0===i?256:i,a=e.blockHashBase,s=void 0===a?2:a,u=e.blockHashMultiplier,c=void 0===u?10:u,l=e.blockHashConstant,h=void 0===l?11:l,f=e.transactionApplyDelay,d=void 0===f?200:f,p=e.disableLogger,g=void 0!==p&&p;return Ft[t]||(this.itemSizeLimit=r,this.cacheLimit=o,this.blockHashBase=s,this.blockHashMultiplier=c,this.blockHashConstant=h,this.transactionApplyDelay=d,this.disableLogger=g,Ft[t]=this),Ft[t]}return e.get=function(e){return Ft[e]},e}();!function(e){e[e.UNKNOWN_ERROR=6e7]="UNKNOWN_ERROR",e[e.STORE_NOT_DEFINED=61001e3]="STORE_NOT_DEFINED",e[e.STORE_NOT_AVAILABLE=61001001]="STORE_NOT_AVAILABLE",e[e.STORE_NOT_AVAILABLE_IN_PRIVATE_BROWSING=61001002]="STORE_NOT_AVAILABLE_IN_PRIVATE_BROWSING",e[e.STORE_IS_FULL=61001003]="STORE_IS_FULL",e[e.STORE_INVALID_KEY_TYPE=61002e3]="STORE_INVALID_KEY_TYPE",e[e.STORE_BROKEN_INTEGRITY=61002001]="STORE_BROKEN_INTEGRITY",e[e.STORE_BROKEN_BLOB=61002002]="STORE_BROKEN_BLOB",e[e.STORE_ENCRYPTION_INVALID=61002003]="STORE_ENCRYPTION_INVALID",e[e.STORE_ITEM_SIZE_LIMIT_EXCEEDED=61017e3]="STORE_ITEM_SIZE_LIMIT_EXCEEDED",e[e.STORE_READ_FAILED=61017001]="STORE_READ_FAILED",e[e.STORE_WRITE_FAILED=61017002]="STORE_WRITE_FAILED",e[e.DATABASE_SCHEMA_NOT_ON_UPGRADE=62002e3]="DATABASE_SCHEMA_NOT_ON_UPGRADE",e[e.COLLECTION_NOT_READY=63001e3]="COLLECTION_NOT_READY",e[e.COLLECTION_KEY_NOT_MATCH=63002e3]="COLLECTION_KEY_NOT_MATCH",e[e.COLLECTION_QUERY_NOT_VALID=63002001]="COLLECTION_QUERY_NOT_VALID",e[e.COLLECTION_KEY_NOT_FOUND=63004e3]="COLLECTION_KEY_NOT_FOUND",e[e.COLLECTION_KEY_NOT_GIVEN=63004001]="COLLECTION_KEY_NOT_GIVEN",e[e.COLLECTION_INSERT_DUPLICATE=63009e3]="COLLECTION_INSERT_DUPLICATE",e[e.COLLECTION_WRITE_FAILED=63017e3]="COLLECTION_WRITE_FAILED",e[e.COLLECTION_ITEM_SIZE_LIMIT_EXCEEDED=63017001]="COLLECTION_ITEM_SIZE_LIMIT_EXCEEDED",e[e.INDEX_TABLE_IS_REQUIRED=65001e3]="INDEX_TABLE_IS_REQUIRED",e[e.INDEX_TYPE_NOT_MATCH=65002e3]="INDEX_TYPE_NOT_MATCH",e[e.COMPARE_TYPE_NOT_MATCH=69002001]="COMPARE_TYPE_NOT_MATCH",e[e.CIRCULAR_REFERENCE_FOUND=69002002]="CIRCULAR_REFERENCE_FOUND"}(Ut||(Ut={}));var Bt,Vt=function(e){function t(n){var r=n.code,i=void 0===r?Ut.UNKNOWN_ERROR:r,o=n.message,a=void 0===o?"Unknown error occurred.":o,s=e.call(this,a)||this;return s.code=i,Object.setPrototypeOf(s,t.prototype),s}return P(t,e),Object.defineProperty(t,"storeNotDefined",{get:function(){return new t({code:Ut.STORE_NOT_DEFINED,message:"Store is not defined. Specify the store on NestDB()"})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"storeNotAvailable",{get:function(){return new t({code:Ut.STORE_NOT_AVAILABLE,message:"Store is not available. Check your environment settings."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"storeNotAvailableInPrivateBrowsing",{get:function(){return new t({code:Ut.STORE_NOT_AVAILABLE_IN_PRIVATE_BROWSING,message:"Store is not available because it is in private browsing."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"storeIsFull",{get:function(){return new t({code:Ut.STORE_IS_FULL,message:"Store is full."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"storeKeyTypeIsInvalid",{get:function(){return new t({code:Ut.STORE_INVALID_KEY_TYPE,message:"Store key should be string type."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"storeBrokenIntegrity",{get:function(){return new t({code:Ut.STORE_BROKEN_INTEGRITY,message:"Data should be in a store but it does not. Integrity is broken."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"storeBrokenBlob",{get:function(){return new t({code:Ut.STORE_BROKEN_BLOB,message:"Data should be in a store but it does not. Blob data is broken."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"storeEncryptionInvalid",{get:function(){return new t({code:Ut.STORE_ENCRYPTION_INVALID,message:"Encryption algorithm has changed. All the store should reset."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"storeItemSizeExceeded",{get:function(){return new t({code:Ut.STORE_ITEM_SIZE_LIMIT_EXCEEDED,message:"The size of the item exceeds the limit that the store allows."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"storeReadFailed",{get:function(){return new t({code:Ut.STORE_READ_FAILED,message:"Failed to read from store."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"storeWriteFailed",{get:function(){return new t({code:Ut.STORE_WRITE_FAILED,message:"Failed to write to store."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"databaseSchemaNotOnUpgrade",{get:function(){return new t({code:Ut.DATABASE_SCHEMA_NOT_ON_UPGRADE,message:"Committing schema is not allowed when upgrade is not running."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"collectionNotReady",{get:function(){return new t({code:Ut.COLLECTION_NOT_READY,message:"Collection is not ready due to an error during initialization."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"collectionKeyNotMatch",{get:function(){return new t({code:Ut.COLLECTION_KEY_NOT_MATCH,message:"keyName of collection could not change."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"collectionQueryNotValid",{get:function(){return new t({code:Ut.COLLECTION_QUERY_NOT_VALID,message:"Query parameter is not a valid format."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"collectionInsertDuplicate",{get:function(){return new t({code:Ut.COLLECTION_INSERT_DUPLICATE,message:"The key already exists."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"collectionKeyNotFound",{get:function(){return new t({code:Ut.COLLECTION_KEY_NOT_FOUND,message:"The key is not found."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"collectionKeyNotGiven",{get:function(){return new t({code:Ut.COLLECTION_KEY_NOT_GIVEN,message:"The item should contain [keyName] property."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"collectionWriteFailed",{get:function(){return new t({code:Ut.COLLECTION_WRITE_FAILED,message:"Failed to write an item."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"collectionItemSizeExceeded",{get:function(){return new t({code:Ut.COLLECTION_ITEM_SIZE_LIMIT_EXCEEDED,message:"The size of the item exceeds the limit that a collection allows."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"indexTableIsRequired",{get:function(){return new t({code:Ut.INDEX_TABLE_IS_REQUIRED,message:"Index table is required."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"indexTypesNotMatch",{get:function(){return new t({code:Ut.INDEX_TYPE_NOT_MATCH,message:"Indexed column should have primitive type."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"compareTypesNotMatch",{get:function(){return new t({code:Ut.COMPARE_TYPE_NOT_MATCH,message:"Values to compare have different types."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"circularReferenceFound",{get:function(){return new t({code:Ut.CIRCULAR_REFERENCE_FOUND,message:"Cannot handle circular referenced object."})},enumerable:!1,configurable:!0}),t}(Error);!function(e){e.INIT="init",e.READY="ready",e.CLOSED="closed"}(Bt||(Bt={}));var qt,Gt=function e(t,n){if(void 0===n&&(n=new WeakMap),"object"==typeof t&&null!==t){if(n.has(t))throw Vt.circularReferenceFound;n.set(t,!0);var r=null;if(Array.isArray(t))r=t.map(function(t){return e(t,n)});else if(t instanceof RegExp)r=t;else if(t instanceof Date)r=t;else for(var i in r={},t)r[i]=e(t[i],n);return n.delete(t),r}return t},zt=function(e,t){if(null==t)return 1;if(null==e)return-1;if(typeof e!=typeof t)throw Vt.compareTypesNotMatch;var n=0;switch(typeof e){case"boolean":case"number":n=e-t;break;case"string":n=e.localeCompare(t)}return n},Wt=function(e,t){for(var n=0,r=0;r<e.length;r++)n=e.charCodeAt(r)+(n<<6)+(n<<16)-n;return(n>>>0)%t},Kt=function(e){return new Promise(function(t){setTimeout(function(){return t()},e)})},Yt=function e(t,n){if(!n)return!1;if("function"!=typeof t){for(var r in t)if(["/and","&&"].includes(r)){if(t[r].some(function(t){return!e(t,n)}))return!1}else if(["/or","||"].includes(r)){if(t[r].every(function(t){return!e(t,n)}))return!1}else if("/where"===r){if(!(0,t[r])(n))return!1}else{var i=r;if("object"==typeof t[i]){var o=t[i];for(var a in o)switch(a){case"/eq":case"=":if((s=n[i])!==(u=o[a]))return!1;break;case"/neq":case"!=":if((s=n[i])===(u=o[a]))return!1;break;case"/gt":case">":var s=n[i],u=o[a];if(!(zt(s,u)>0))return!1;break;case"/gte":case">=":if(s=n[i],u=o[a],!(zt(s,u)>=0))return!1;break;case"/lt":case"<":if(s=n[i],u=o[a],!(zt(s,u)<0))return!1;break;case"/lte":case"<=":if(s=n[i],u=o[a],!(zt(s,u)<=0))return!1;break;case"/in":if(s=n[i],!(u=o[a]).includes(s))return!1;break;case"/nin":if(s=n[i],(u=o[a]).includes(s))return!1;break;case"/contain":if(s=n[i],u=o[a],!s.includes(u))return!1;break;case"/regex":if(s=n[i],!(u=o[a]).test(s))return!1;break;case"/where":if(s=n[i],!(0,o[a])(s))return!1}}else if("function"==typeof t[i]){if(!t[i](n[i]))return!1}else if(t[i]!==n[i])return!1}return!0}return t(n)},Qt=function(){},$t=function(){return Promise.resolve()},Xt=function(e){return e},Jt=function(e,t){t(null)};!function(e){e[e.FORWARD=0]="FORWARD",e[e.BACKWARD=1]="BACKWARD"}(qt||(qt={}));var Zt,en,tn,nn=function(){function e(e){var t=e.initialPrevValue,n=void 0===t?null:t,r=e.initialNextValue,i=void 0===r?null:r,o=e.iterator,a=e.map,s=void 0===a?Xt:a,u=e.backward,c=void 0===u?$t:u,l=e.forward,h=void 0===l?$t:l,f=e.complete,d=void 0===f?Qt:f;this._prevValue=n,this._nextValue=i,this._error=null,this._map=s,this._backward=c,this._forward=h,this._iterator=o,this._complete=d}return Object.defineProperty(e.prototype,"prevValue",{get:function(){return this._map(this._prevValue)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextValue",{get:function(){return this._map(this._nextValue)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"error",{get:function(){return this._error},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasPrevious",{get:function(){return!!this._prevValue},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasNext",{get:function(){return!!this._nextValue},enumerable:!1,configurable:!0}),e.prototype.prev=function(){return M(this,void 0,void 0,function(){var e,t,n;return L(this,function(r){switch(r.label){case 0:if(!this.hasPrevious)return[3,6];r.label=1;case 1:return r.trys.push([1,3,,4]),e=this._prevValue,t=this,[4,this._backward()];case 2:return t._prevValue=r.sent()||null,this._nextValue=e,[3,4];case 3:return n=r.sent(),this._error=n,[3,4];case 4:return[4,this._iterator(this)];case 5:return[2,r.sent()];case 6:this._complete(),r.label=7;case 7:return[2]}})})},e.prototype.next=function(){return M(this,void 0,void 0,function(){var e,t,n;return L(this,function(r){switch(r.label){case 0:if(!this.hasNext)return[3,6];r.label=1;case 1:return r.trys.push([1,3,,4]),e=this._nextValue,t=this,[4,this._forward()];case 2:return t._nextValue=r.sent()||null,this._prevValue=e,[3,4];case 3:return n=r.sent(),this._error=n,[3,4];case 4:return[4,this._iterator(this)];case 5:return[2,r.sent()];case 6:this._complete(),r.label=7;case 7:return[2]}})})},e.prototype.stop=function(){this._prevValue=null,this._nextValue=null,this._complete()},e}(),rn=function(){function e(e){var t=e.condition,n=void 0===t?{}:t,r=e.backward,i=void 0!==r&&r,o=e.blockManager,a=e.indexer;this.condition=n,this.backward=i,this._blockManager=o,this._indexer=a}return e.prototype.findOptimizedStartPosition=function(){var e=this,t=["=","/eq",">",">=","/gt","/gte"],n=["=","/eq","<","<=","/lt","/lte"];if(this.backward){var r=this._indexer.origin.length-1;if("function"!=typeof this.condition)for(var i in this._indexer.fields){var o=this._indexer.fields[i],a=1;if("-"===o[0]&&(o=o.slice(1),a=-1),this.condition[o])if("object"==typeof this.condition[o]){var s=a>0?n:t;for(var u in this.condition[o])if(s.includes(u))for(var c=r;c>=0;c--)if(a*zt(this._indexer.origin[c].columnValues[i],this.condition[o][u])<=0){r=c;break}}else for(c=r;c>=0;c--)if(a*zt(this._indexer.origin[c].columnValues[i],this.condition[o])<=0){r=c;break}}return Math.min(r+1,this._indexer.origin.length-1)}var l=0;if("function"!=typeof this.condition)for(var h=function(r){var i=f._indexer.fields[r],o=1;if("-"===i[0]&&(i=i.slice(1),o=-1),f.condition[i])if("object"==typeof f.condition[i])Object.keys(f.condition[i]).forEach(function(a){if((o>0?t:n).includes(a))for(var s=l;s<e._indexer.origin.length;s++)if(o*zt(e._indexer.origin[s].columnValues[r],e.condition[i][a])>=0){l=s;break}});else for(var a=l;a<f._indexer.origin.length;a++)if(o*zt(f._indexer.origin[a].columnValues[r],f.condition[i])>=0){l=a;break}},f=this,i=0;i<this._indexer.fields.length;i++)h(i);return Math.max(l-1,0)},e.prototype.each=function(e){return M(this,void 0,void 0,function(){var t,n,r,i,o,a,s,u=this;return L(this,function(c){switch(c.label){case 0:if(t=this.findOptimizedStartPosition(),n=0,this.backward&&this._indexer.origin[t]&&(n=this._indexer.origin[t].keys.length-1),r=function(){if(u._indexer.origin[t]){if(!u._indexer.origin[t].keys[++n]){if(!u._indexer.origin[++t])return!1;n=0}return!0}return!1},i=function(){if(u._indexer.origin[t]){if(!u._indexer.origin[t].keys[--n]){if(!u._indexer.origin[--t])return!1;n=u._indexer.origin[t].keys.length-1}return!0}return!1},o=null,!this._indexer.origin[t])return[3,4];a=this.backward?i:r,c.label=1;case 1:return[4,this._blockManager.getFromBlock(this._indexer.origin[t].keys[n])];case 2:if(s=c.sent(),Yt(this.condition,s))return o=s,[3,4];c.label=3;case 3:if(a())return[3,1];c.label=4;case 4:return[4,new Promise(function(a){var s=new nn({initialNextValue:Gt(o),iterator:e,forward:function(){return M(u,void 0,void 0,function(){var e,o;return L(this,function(a){switch(a.label){case 0:e=this.backward?i:r,a.label=1;case 1:return e()?[4,this._blockManager.getFromBlock(this._indexer.origin[t].keys[n])]:[3,3];case 2:return o=a.sent(),Yt(this.condition,o)?[2,Gt(o)]:[3,1];case 3:return[2,null]}})})},backward:function(){return M(u,void 0,void 0,function(){var e,o;return L(this,function(a){switch(a.label){case 0:e=this.backward?r:i,a.label=1;case 1:return e()?[4,this._blockManager.getFromBlock(this._indexer.origin[t].keys[n])]:[3,3];case 2:return o=a.sent(),Yt(this.condition,o)?[2,Gt(o)]:[3,1];case 3:return[2,null]}})})},complete:a});e(s)})];case 5:return[2,c.sent()]}})})},e}(),on=function(){function e(e){var t=e.condition,n=void 0===t?{}:t,r=e.backward,i=void 0!==r&&r,o=e.mutex,a=e.blockManager,s=e.indexer;this._mutex=o,this._iterator=new rn({condition:n,backward:i,blockManager:a,indexer:s})}return e.prototype.fetch=function(e){return void 0===e&&(e={}),M(this,void 0,void 0,function(){var t,n,r,i,o=this;return L(this,function(a){switch(a.label){case 0:if(t=Math.max(e.offset||0,0),0===(n="number"==typeof e.limit?e.limit:Number.MAX_SAFE_INTEGER))return[2,[]];if(n<0)throw Vt.collectionQueryNotValid;a.label=1;case 1:return a.trys.push([1,4,,5]),r=[],[4,this._mutex.lock()];case 2:return a.sent(),[4,this._iterator.each(function(e){return M(o,void 0,void 0,function(){return L(this,function(i){return e.error?e.stop():e.hasNext?0===t?(r.push(e.nextValue),0<n&&n<=r.length?e.stop():e.next()):(t--,e.next()):e.stop(),[2]})})})];case 3:return a.sent(),this._mutex.unlock(),[2,r];case 4:throw i=a.sent(),this._mutex.unlock(),i;case 5:return[2]}})})},e.prototype.count=function(){return M(this,void 0,void 0,function(){var e,t,n=this;return L(this,function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),e=0,[4,this._mutex.lock()];case 1:return r.sent(),[4,this._iterator.each(function(t){return M(n,void 0,void 0,function(){return L(this,function(n){return t.error?t.stop():t.hasNext?(e++,t.next()):t.stop(),[2]})})})];case 2:return r.sent(),this._mutex.unlock(),[2,e];case 3:throw t=r.sent(),this._mutex.unlock(),t;case 4:return[2]}})})},e}(),an=function(e){return"".concat("nest","@").concat(e)},sn=function(e,t){return"".concat(an(e),"/").concat(t)},un=function(e,t){return"".concat(sn(e,t),".metadata")},cn=function(e,t){return"".concat(sn(e,t),"/block.")},ln=function(e,t){return"".concat(sn(e,t),"/blob.")},hn=function(e,t,n,r){return void 0===r&&(r=0),"".concat(ln(e,t)).concat(n,".").concat(r)},fn=function(){function e(e){var t=e.dbname,n=e.collectionName,r=e.store;this.dbname=t,this.collectionName=n,this._store=r}return e.prototype._makeShards=function(e,t){var n=Math.max(this._store.itemSizeLimit-1024,0);if(n>0){for(var r=Math.ceil(e.data.length/n),i="".concat(r,".").concat(e.type,".").concat(t),o=[],a=0;a<e.data.length;a+=n){var s=e.data.slice(a,a+n);o.push(s)}return{blobId:i,shards:o}}return{blobId:null,shards:null}},e.prototype._encode=function(e){return M(this,void 0,void 0,function(){return L(this,function(t){switch(t.label){case 0:return[4,new Promise(function(t){var n=new FileReader;n.onload=function(){t({data:n.result,type:e.type})},n.readAsDataURL(e)})];case 1:return[2,t.sent()]}})})},e.prototype._decode=function(e){return M(this,void 0,void 0,function(){var t,n,r,i,o,a;return L(this,function(s){switch(s.label){case 0:return"undefined"==typeof fetch?[3,3]:[4,fetch(e.data)];case 1:return[4,s.sent().blob()];case 2:return[2,s.sent()];case 3:for(t=[],n=atob(e.data.split(",")[1]),r=0;r<n.length;r+=512){for(i=n.slice(r,r+512),o=new Array(i.length),a=0;a<i.length;a++)o[a]=i.charCodeAt(a);t.push(new Uint8Array(o))}return[2,new Blob(t,{type:e.type})]}})})},e.prototype.get=function(e){return M(this,void 0,void 0,function(){var t,n,r,i,o,a,s,u;return L(this,function(c){switch(c.label){case 0:if(t=[],n=e.split("."),r=n[0],i=n[1],!((o=parseInt(r))>0))return[3,6];a=0,c.label=1;case 1:return a<o?(s=hn(this.dbname,this.collectionName,e,a),[4,this._store.get(s)]):[3,4];case 2:if(!(u=c.sent())||!u.d)throw Vt.storeBrokenBlob;t.push(u.d),c.label=3;case 3:return a++,[3,1];case 4:return[4,this._decode({data:t.join(""),type:i})];case 5:return[2,c.sent()];case 6:return[2,null]}})})},e.prototype.save=function(e,t){return void 0===t&&(t="".concat(Date.now())),M(this,void 0,void 0,function(){var n,r,i,o,a,s,u;return L(this,function(c){switch(c.label){case 0:return n=[],[4,this._encode(e)];case 1:if(r=c.sent(),i=this._makeShards(r,t),o=i.blobId,a=i.shards,!o)return[3,3];for(s=0;s<a.length;s++)u=hn(this.dbname,this.collectionName,o,s),n.push({key:u,value:{d:a[s]},generation:1});return[4,this._store.setMany(n)];case 2:if(c.sent().some(function(e){return e instanceof Error}))throw Vt.storeWriteFailed;return[2,o];case 3:return[2,null]}})})},e.prototype.remove=function(e){return M(this,void 0,void 0,function(){var t,n,r,i;return L(this,function(o){switch(o.label){case 0:if(t=[],n=e.split(".")[0],!((r=parseInt(n))>0))return[3,2];for(i=0;i<r;i++)t.push(hn(this.dbname,this.collectionName,e,i));return[4,this._store.removeMany(t)];case 1:o.sent(),o.label=2;case 2:return[2]}})})},e.prototype.clear=function(){return M(this,void 0,void 0,function(){var e,t,n,r,i,o;return L(this,function(a){switch(a.label){case 0:return e=ln(this.dbname,this.collectionName),t=[],[4,this._store.getAllKeys()];case 1:for(n=a.sent(),r=0,i=n;r<i.length;r++)(o=i[r]).startsWith(e)&&t.push(o);return[4,this._store.removeMany(n)];case 2:return a.sent(),[2]}})})},e}();!function(e){e[e.COMMIT=0]="COMMIT",e[e.WRITE=1]="WRITE",e[e.ERROR=2]="ERROR"}(Zt||(Zt={})),function(e){e.PENDING="pending",e.PERSISTENT="persistent",e.VOLATILE="volatile"}(en||(en={})),function(e){e[e.NO_CACHE=0]="NO_CACHE",e[e.DEFAULT=1]="DEFAULT",e[e.PERSISTENT=2]="PERSISTENT"}(tn||(tn={}));var dn=[en.PENDING,en.VOLATILE],pn={},gn=function(){function e(e){var t=e.dbname,n=e.limit,r=void 0===n?256:n;return pn[t]||(this.dbname=t,this._items=[],this._limit=r,pn[t]=this),pn[t]}return e.get=function(e){return pn[e]},Object.defineProperty(e.prototype,"items",{get:function(){return this._items},enumerable:!1,configurable:!0}),e.prototype.find=function(e,t,n){return void 0===n&&(n=tn.DEFAULT),M(this,void 0,void 0,function(){var r,i;return L(this,function(o){switch(o.label){case 0:return(r=this.get(t))?[3,2]:[4,e.get(t)];case 1:return(i=o.sent())&&(r={key:t,value:i,generation:1,state:n===tn.PERSISTENT?en.PERSISTENT:en.VOLATILE},this.put(r)),[3,3];case 2:n===tn.PERSISTENT&&(r.state=en.PERSISTENT),o.label=3;case 3:return[2,r]}})})},e.prototype.get=function(e,t){void 0===t&&(t=tn.DEFAULT);var n=this._items.map(function(e){return e.key}).indexOf(e);if(n>-1){var r=this._items[n];return t===tn.PERSISTENT&&(r.state=en.PERSISTENT),t!==tn.NO_CACHE&&this.put(r),r}return null},e.prototype.put=function(e){if(this._limit>0){var t=this._items.map(function(e){return e.key}).indexOf(e.key);if(t>-1)dn.includes(this._items[t].state)&&dn.includes(e.state)?(this._items.splice(t,1),this._items.push(e)):(this._items[t].state=e.state,this._items[t].generation=e.generation,this._items[t].value=e.value);else{this._items.push(e);var n=this._items.filter(function(e){return e.state===en.VOLATILE}),r=n.length-this._limit;if(r>0){for(var i=[],o=0,a=this._items;o<a.length;o++){var s=a[o];s.state===en.VOLATILE&&r>0?r--:i.push(s)}this._items=i}}}},e.prototype.remove=function(e){var t=this._items.map(function(e){return e.key}).indexOf(e);t>-1&&this._items.splice(t,1)},e.prototype.clearByCondition=function(e){this._items=this._items.filter(function(t){return!e(t)})},e.prototype.clear=function(e){void 0===e&&(e=!1),this._items=e?[]:this._items.filter(function(e){return e.state!==en.VOLATILE})},e}(),yn=function(){function e(e){var t=e.dbname,n=e.collectionName,r=e.store;this._metadata=null,this._requests=[],this._onCommit=new Map,this._onWrite=new Map,this._onError=new Map,this.dbname=t,this.collectionName=n,this.metadataKey=function(e,t){return"".concat(sn(e,t),"/trans.metadata")}(t,n),this.recordsetKey=function(e,t){return"".concat(sn(e,t),"/trans.recordset")}(t,n),this._store=r}return Object.defineProperty(e.prototype,"generation",{get:function(){return this._metadata?this._metadata.generation:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"requestCount",{get:function(){return this._requests.length},enumerable:!1,configurable:!0}),e.prototype._getReducedRecordset=function(e){return void 0===e&&(e=[]),M(this,void 0,void 0,function(){var t;return L(this,function(n){switch(n.label){case 0:return[4,this._store.get(this.recordsetKey)];case 1:return(t=n.sent()||[]).push.apply(t,e),[2,this._reduceRecordSet(t)]}})})},e.prototype._reduceRecordSet=function(e){for(var t=[],n={},r=e.length-1;r>=0;r--){for(var i=e[r],o=[],a=i.requests.length-1;a>=0;a--){var s=i.requests[a],u=s.data;n[u.key]||(o.unshift(s),n[u.key]=!0)}o.length>0&&(i.requests=o,t.unshift(i))}return t},e.prototype._applyRecord=function(e,t){return M(this,void 0,void 0,function(){var n,r,i,o,a,s,u,c,l;return L(this,function(h){switch(h.label){case 0:n=gn.get(this.dbname),r=t.generation,i=t.requests,o=null,h.label=1;case 1:return h.trys.push([1,3,,4]),[4,this._store.setMany(i.map(function(e){return x(x({},e.data),{generation:r})}))];case 2:for(a=h.sent(),s=0;s<i.length;s++)a[s]instanceof Error&&(o||(o=a[s]),u=i[s].data,n.put(x(x({},u),{generation:r,state:en.PERSISTENT})));return[3,4];case 3:return c=h.sent(),o=c,[3,4];case 4:return o?[3,6]:(l=e.filter(function(e){return e.generation!==r}),[4,this._store.set({key:this.recordsetKey,value:l,generation:r})]);case 5:return h.sent(),this._onWrite.forEach(function(e){e(i.map(function(e){return e.data}))}),[3,7];case 6:this._onError.forEach(function(e){return e(o)}),h.label=7;case 7:return[2]}})})},e.prototype.init=function(){return M(this,void 0,void 0,function(){var e,t,n,r,i;return L(this,function(o){switch(o.label){case 0:return e=this,[4,this._store.get(this.metadataKey)];case 1:return e._metadata=o.sent()||{generation:1},[4,this._getReducedRecordset()];case 2:t=o.sent(),n=0,r=t,o.label=3;case 3:return n<r.length?(i=r[n],[4,this._applyRecord(t,i)]):[3,6];case 4:o.sent(),o.label=5;case 5:return n++,[3,3];case 6:return[2]}})})},e.prototype.on=function(e,t,n){switch(e){case Zt.COMMIT:this._onCommit.set(t,n);break;case Zt.WRITE:this._onWrite.set(t,n);break;case Zt.ERROR:this._onError.set(t,n)}},e.prototype.requestWrite=function(e,t){void 0===t&&(t=null),this._requests.push({data:e,options:t}),gn.get(this.dbname).put(x({state:en.PENDING,generation:this.generation},e))},e.prototype.requestMultipleWrite=function(e,t){void 0===t&&(t=null);for(var n=gn.get(this.dbname),r=0,i=e;r<i.length;r++){var o=i[r];this._requests.push({data:o,options:t}),n.put(x({state:en.PENDING,generation:this.generation},o))}},e.prototype.clear=function(){return M(this,void 0,void 0,function(){return L(this,function(e){return gn.get(this.dbname).clearByCondition(function(e){return e.state===en.PENDING}),this._requests=[],[2]})})},e.prototype.commit=function(){return M(this,void 0,void 0,function(){var e,t,n,r,i,o,a,s,u,c,l,h,f=this;return L(this,function(d){switch(d.label){case 0:if(!((e=this._requests).length>0))return[3,4];for(t=[],n={},s=e.length-1;s>=0;s--)r=e[s],c=r.data,n[c.key]||(n[c.key]=!0,t.unshift(r));return i={generation:this.generation,requests:t},[4,this._getReducedRecordset([i])];case 1:return o=d.sent(),[4,this._store.set({key:this.recordsetKey,value:o,generation:this.generation})];case 2:return d.sent(),this._metadata.generation++,[4,this._store.set({key:this.metadataKey,value:this._metadata,generation:1})];case 3:for(d.sent(),a=gn.get(this.dbname),s=0;s<t.length;s++)u=t[s],c=u.data,l=u.options,a.put(x(x({},c),{generation:i.generation,state:l&&l.persistent?en.PERSISTENT:en.VOLATILE}));this._requests=[],this._onCommit.forEach(function(t){t(e.map(function(e){return e.data}))}),h=Ht.get(this.dbname),setTimeout(function(){try{f._applyRecord(o,i)}catch(e){f._onError.forEach(function(n){return n(e)})}},h.transactionApplyDelay),d.label=4;case 4:return[2]}})})},e}(),vn=function(){function e(e){var t=e.blockId,n=e.keyName,r=e.items,i=void 0===r?[]:r,o=e.limit;this.blockId=t,this.keyName=n,this.limit=o,this._items=D([],i,!0)}return e.createFromCacheItem=function(t){return t?new e(t.value):null},Object.defineProperty(e.prototype,"isEmpty",{get:function(){return 0===this._items.length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"items",{get:function(){return this._items},enumerable:!1,configurable:!0}),e.prototype.serialize=function(){return{blockId:this.blockId,keyName:this.keyName,limit:this.limit,items:this._items}},e.prototype.getItemByKey=function(e){var t=this;return this._items.find(function(n){var r=n[t.keyName];return e===r})},e.prototype.has=function(e){var t=this;return this._items.map(function(e){return e[t.keyName]}).includes(e)},e.prototype.add=function(e){var t=this,n=this._items.map(function(e){return e[t.keyName]}).indexOf(e[this.keyName]);return n<0?this._items.length<this.limit&&(this._items.push(e),!0):(this._items[n]=e,!0)},e.prototype.remove=function(e){for(var t in this._items)if(this._items[t][this.keyName]===e)return this._items.splice(parseInt(t),1),!0;return!1},e.prototype.clear=function(){this._items=[]},e}(),mn=function(){function e(e){var t=e.dbname,n=e.collectionName,r=e.metadata,i=e.hashFunction,o=void 0===i?Wt:i,a=e.transaction,s=e.store;this.dbname=t,this.collectionName=n,this.hashFunction=o,this.metadata=r,this._transaction=a,this._store=s}return Object.defineProperty(e.prototype,"keyName",{get:function(){return this.metadata.keyName},enumerable:!1,configurable:!0}),e.prototype.createBlockId=function(e,t){return void 0===t&&(t=this.metadata.blockLevel),n=this.dbname,r=this.collectionName,i=t,o="".concat(function(e,t,n){var r=n.base*Math.pow(n.multiplier,t)+n.constant;return(n.hashFunction||Wt)(e,r)}(e,t,{hashFunction:this.hashFunction,base:this.metadata.blockHashBase,multiplier:this.metadata.blockHashMultiplier,constant:this.metadata.blockHashConstant})),"".concat(cn(n,r)).concat(i,".").concat(o);var n,r,i,o},e.prototype._findBlock=function(e){return M(this,void 0,void 0,function(){var t,n,r,i,o;return L(this,function(a){switch(a.label){case 0:t=gn.get(this.dbname),n=this.metadata.blockLevel,a.label=1;case 1:return n>0?(r=this.createBlockId(e,n),[4,t.find(this._store,r)]):[3,4];case 2:if((i=a.sent())&&(o=vn.createFromCacheItem(i)).getItemByKey(e))return[2,o];a.label=3;case 3:return n--,[3,1];case 4:return[2,null]}})})},e.prototype.getFromBlock=function(e){return M(this,void 0,void 0,function(){var t;return L(this,function(n){switch(n.label){case 0:return[4,this._findBlock(e)];case 1:return[2,(t=n.sent())?t.getItemByKey(e):null]}})})},e.prototype.putToBlock=function(e,t){return M(this,void 0,void 0,function(){var n,r,i,o,a;return L(this,function(s){switch(s.label){case 0:return n=Ht.get(this.dbname),r=this.createBlockId(e),i=Math.floor(this._store.itemSizeLimit/n.itemSizeLimit),[4,gn.get(this.dbname).find(this._store,r)];case 1:return o=s.sent(),(a=o?vn.createFromCacheItem(o):new vn({blockId:r,keyName:this.keyName,items:[],limit:i})).add(t)?(this._transaction.requestWrite({key:a.blockId,value:a.serialize()}),[2,!0]):[2,!1]}})})},e.prototype.removeFromBlock=function(e){return M(this,void 0,void 0,function(){var t;return L(this,function(n){switch(n.label){case 0:return[4,this._findBlock(e)];case 1:return(t=n.sent())&&t.remove(e)?(this._transaction.requestWrite({key:t.blockId,value:t.serialize()}),[2,!0]):[2,!1]}})})},e.prototype.clearAllBlocks=function(){return M(this,void 0,void 0,function(){var e,t,n,r,i,o,a;return L(this,function(s){switch(s.label){case 0:return e=cn(this.dbname,this.collectionName),[4,this._store.getAllKeys()];case 1:return t=s.sent(),n=t.filter(function(t){return t.startsWith(e)}),[4,this._store.removeMany(n)];case 2:for(s.sent(),r=gn.get(this.dbname),i=0,o=n;i<o.length;i++)a=o[i],r.remove(a);return[2]}})})},e}(),bn=function(){function e(e){var t=e.dbname,n=e.collectionName,r=e.keyName,i=e.fields,o=e.transaction,a=e.store,s=this;this._origin=[],this._table=[],this.dbname=t,this.collectionName=n,this.keyName=r,this.fields=i,this.indexerKey=function(e,t,n){return"".concat(sn(e,t),"/index.").concat(n)}(this.dbname,this.collectionName,this.fields.join(">")),this._transaction=o,this._store=a,this._transaction.on(Zt.COMMIT,this.indexerKey,function(){return s.commit()}),this._transaction.on(Zt.ERROR,this.indexerKey,function(){return s.abort()})}return e.createKey=function(e){return e.join(">")},e.parseKey=function(e){return e.split(">")},e.prototype._addItem=function(e){var t=e[this.keyName],n=this.getColumnValues(e),r=this.indexOf(n),i=r[0];return r[1]?!this._table[i].keys.includes(t)&&(this._table[i].keys.push(t),!0):(this._table.splice(i,0,{columnValues:n,keys:[t]}),!0)},e.prototype._removeItem=function(e){var t=e[this.keyName],n=this.getColumnValues(e),r=this.indexOf(n),i=r[0];if(r[1]){var o=this._table[i].keys.indexOf(t);if(o>-1)return this._table[i].keys.splice(o,1),0===this._table[i].keys.length&&this._table.splice(i,1),!0}return!1},Object.defineProperty(e.prototype,"origin",{get:function(){return this._origin},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"table",{get:function(){return this._table},enumerable:!1,configurable:!0}),e.prototype.getColumnValues=function(e){for(var t,n,r=[],i=0,o=this.fields;i<o.length;i++){var a=o[i];if("-"===a[0]&&(a=a.slice(1)),t=e[a],n=void 0,n=typeof t,null!==t&&"undefined"!==n&&"boolean"!==n&&"number"!==n&&"string"!==n)throw Vt.indexTypesNotMatch;r.push(e[a])}return r},e.prototype.diff=function(e,t){for(var n in this.fields){var r="-"===this.fields[n][0]?-1:1,i=zt(e[n],t[n]);if(0!==i)return r*i}return 0},e.prototype.indexOf=function(e){if(this._table.length>0){for(var t=0,n=this._table.length-1;t<=n;){var r=Math.floor((t+n)/2),i=this.diff(e,this._table[r].columnValues);if(i>0)t=r+1;else{if(!(i<0))return[r,!0];n=r-1}}return[t,!1]}return[0,!1]},e.prototype.ensure=function(){return M(this,void 0,void 0,function(){var e,t,n,r,i,o,a,s,u,c,l,h;return L(this,function(f){switch(f.label){case 0:return[4,(e=gn.get(this.dbname)).find(this._store,this.indexerKey,tn.PERSISTENT)];case 1:return(t=f.sent())?[3,7]:(n=cn(this.dbname,this.collectionName),[4,this._store.getAllKeys()]);case 2:r=f.sent(),i=0,o=r,f.label=3;case 3:return i<o.length?(a=o[i]).startsWith(n)?[4,e.find(this._store,a,tn.NO_CACHE)]:[3,5]:[3,6];case 4:for(s=f.sent(),u=vn.createFromCacheItem(s),c=0,l=u.items;c<l.length;c++)h=l[c],this._addItem(h);f.label=5;case 5:return i++,[3,3];case 6:return this._transaction.requestWrite({key:this.indexerKey,value:this._table},{persistent:!0}),[3,8];case 7:this._origin=t.value,this._table=Gt(this._origin),f.label=8;case 8:return[2]}})})},e.prototype.drop=function(){return M(this,void 0,void 0,function(){return L(this,function(e){switch(e.label){case 0:return gn.get(this.dbname).remove(this.indexerKey),[4,this._store.remove(this.indexerKey)];case 1:return e.sent(),[2]}})})},e.prototype.addItem=function(e){return M(this,void 0,void 0,function(){return L(this,function(t){return this._addItem(e)&&this._transaction.requestWrite({key:this.indexerKey,value:this._table},{persistent:!0}),[2]})})},e.prototype.removeItem=function(e){return M(this,void 0,void 0,function(){return L(this,function(t){return this._removeItem(e)&&this._transaction.requestWrite({key:this.indexerKey,value:this._table},{persistent:!0}),[2]})})},e.prototype.clear=function(){return M(this,void 0,void 0,function(){return L(this,function(e){return this._table=[],this._transaction.requestWrite({key:this.indexerKey,value:this._table},{persistent:!0}),[2]})})},e.prototype.commit=function(){this._origin=this._table,this._table=Gt(this._origin)},e.prototype.abort=function(){this._table=Gt(this._origin)},e}(),_n="undefined"!=typeof document&&"undefined"!=typeof navigator;_n&&navigator.userAgent&&navigator.userAgent.includes("Chrome/")&&navigator.userAgent.includes("Chromium/");var wn=_n&&navigator.userAgent&&navigator.userAgent.includes("Firefox/")&&!navigator.userAgent.includes("Seamonkey/");_n&&navigator.userAgent&&navigator.userAgent.includes("Safari/")&&!navigator.userAgent.includes("Chrome/")&&navigator.userAgent.includes("Chromium/"),_n&&navigator.userAgent&&(navigator.userAgent.includes("OPR/")||navigator.userAgent.includes("Opera/")),_n&&navigator.userAgent&&navigator.userAgent.includes("Trident/7.0");var En,Sn,Cn=_n&&navigator.userAgent&&navigator.userAgent.includes("Edge/"),On=function(){var e=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var n=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"===t?n:3&n|8).toString(16)})};!function(e){e[e.PROCESSING=0]="PROCESSING",e[e.DONE=1]="DONE"}(En||(En={})),function(e){e.NEWNODE="newnode",e.REMOVENODE="removenode",e.CLAIM_HOST="claimhost",e.SYNC_HOST="synchost",e.REQUEST_LOCK="requestlock",e.ACQUIRE_LOCK="acquirelock",e.RELEASE_LOCK="releaselock"}(Sn||(Sn={}));var Tn,kn={},In=function(){function e(e,t){void 0===t&&(t={});var n=this;return this._state=En.PROCESSING,this._hostId=null,this._queue=[],this._currentItem=null,this._activationTimeout=null,this._activationQueue=[],kn[e]&&!t.forceCreate||(this.nodeId=On(),this.key=e,_n&&(t.startAsInvisible?this.registerNode():"visible"===document.visibilityState?this.claimHost():this.registerNode(),document.addEventListener("visibilitychange",function(){"visible"===document.visibilityState&&n.claimHost()}),window.addEventListener("message",function(e){var t=e.data,r=t.nodeId,i=t.requestId,o=t.key,a=t.op,s=t.data;if(r!==n.nodeId&&o===n.key)switch(a){case Sn.NEWNODE:n._sendSync();break;case Sn.CLAIM_HOST:n._sendSync(),n._hostId=r;break;case Sn.SYNC_HOST:if(!n.isInSync){n._activationTimeout&&clearTimeout(n._activationTimeout);for(var u=s,c=u.currentItemRequestId,l=function(e){var t=n._queue.findIndex(function(t){return t.requestId===e.requestId});t<0&&n._requestLock({nodeId:e.nodeId,requestId:e.requestId,key:n.key,op:Sn.REQUEST_LOCK,ts:e.ts})},h=0,f=u.queue;h<f.length;h++)l(f[h]);n._currentItem=n._queue.find(function(e){return e.requestId===c}),n._completeSync()}break;case Sn.REMOVENODE:n._queue=n._queue.filter(function(e){return e.nodeId!==t.nodeId}),n._currentItem&&n._currentItem.nodeId===t.nodeId&&(n._currentItem=null,n._acquire(n._queue[0]));break;case Sn.REQUEST_LOCK:n._requestLock(t);break;case Sn.ACQUIRE_LOCK:var d=n._queue.find(function(e){return e.requestId===i});n._acquire(d);break;case Sn.RELEASE_LOCK:n._release(i)}}),window.addEventListener("beforeunload",function(){n._send(Sn.REMOVENODE)})),kn[e]=this),kn[e]}return Object.defineProperty(e.prototype,"locked",{get:function(){return!!this._currentItem},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isHost",{get:function(){return this._hostId===this.nodeId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isInSync",{get:function(){return this._state==En.DONE},enumerable:!1,configurable:!0}),e.prototype._send=function(e,t){var n,r;void 0===t&&(t={});var i={nodeId:this.nodeId,requestId:null!==(n=null==t?void 0:t.requestId)&&void 0!==n?n:On(),key:this.key,op:e,data:null!==(r=t.data)&&void 0!==r?r:null,ts:Date.now()};return _n&&window.postMessage(i,"*"),i},e.prototype._acquire=function(e){void 0===e&&(e=null),e?(this._currentItem=e,this._currentItem.onAcquired(e.requestId)):this._currentItem=null},e.prototype._release=function(e){if(this._currentItem&&this._currentItem.requestId===e){var t=this._currentItem;this._currentItem=null,t.nodeId===this.nodeId&&this._send(Sn.RELEASE_LOCK,{requestId:t.requestId});var n=this._queue.findIndex(function(t){return t.requestId===e});n>-1&&this._queue.splice(n,1),t.onReleased(e)}},e.prototype._requestLock=function(e){var t=this;return new Promise(function(n){var r={nodeId:e.nodeId,requestId:e.requestId,ts:e.ts,onAcquired:function(e){t.isHost&&t._send(Sn.ACQUIRE_LOCK,{requestId:e}),n()},onReleased:function(){t._acquire(t._queue[0])}},i=!1;for(var o in t._queue)if(t._queue[o].ts>r.ts){t._queue.splice(parseInt(o),0,r),i=!0;break}i||t._queue.push(r),t._currentItem||t._acquire(t._queue[0])})},e.prototype._sendSync=function(){var e;this.isHost&&this._send(Sn.SYNC_HOST,{data:{currentItemRequestId:null===(e=this._currentItem)||void 0===e?void 0:e.requestId,queue:this._queue.map(function(e){return{nodeId:e.nodeId,requestId:e.requestId,ts:e.ts}})}})},e.prototype._waitUntilSyncCompleted=function(){return M(this,void 0,void 0,function(){var e=this;return L(this,function(t){return this.isHost&&!this.isInSync?[2,new Promise(function(t){e._activationQueue.push(t)})]:[2]})})},e.prototype._waitSync=function(){var e=this;this.isInSync||(this._activationTimeout=setTimeout(function(){e._completeSync()},8))},e.prototype._completeSync=function(){this.isInSync||(this._state=En.DONE,this._activationQueue.forEach(function(e){return e()}),this._activationQueue=[])},e.prototype.registerNode=function(){this._send(Sn.NEWNODE),this._waitSync()},e.prototype.claimHost=function(){this._hostId=this.nodeId,this._send(Sn.CLAIM_HOST),this._waitSync()},e.prototype.lock=function(){return M(this,void 0,void 0,function(){var e;return L(this,function(t){switch(t.label){case 0:return[4,this._waitUntilSyncCompleted()];case 1:return t.sent(),e=this._send(Sn.REQUEST_LOCK),[4,this._requestLock(e)];case 2:return t.sent(),[2]}})})},e.prototype.unlock=function(){var e;this._release(null===(e=this._currentItem)||void 0===e?void 0:e.requestId)},e}(),An=function(){function e(e){var t=e.dbname,n=e.collectionName,r=e.keyName,i=e.keyHash,o=e.indexes,a=e.store,s=this;this._state=Bt.INIT,this._metadata=null,this._indexers=[],this.dbname=t,this.name=n,this.keyName=r,this.indexes=D([[r]],o.filter(function(e){return bn.createKey(e)!==s.keyName}),!0),this._keyHash=i,this._store=a,this._mutex=new In(function(e,t){return"".concat(sn(e,t),".lock")}(t,n)),this._blobContainer=new fn({dbname:t,collectionName:n,store:a}),this._transaction=new yn({dbname:t,collectionName:n,store:a})}return e.metadataOf=function(e,t,n){return M(this,void 0,void 0,function(){var r;return L(this,function(i){switch(i.label){case 0:return r=un(e,t),[4,n.get(r)];case 1:return[2,i.sent()]}})})},Object.defineProperty(e.prototype,"state",{get:function(){return this._state},enumerable:!1,configurable:!0}),e.prototype.init=function(){return M(this,void 0,void 0,function(){var t,n,r,i,o,a,s,u,c,l,h,f,d=this;return L(this,function(p){switch(p.label){case 0:return[4,this._mutex.lock()];case 1:p.sent(),p.label=2;case 2:return p.trys.push([2,9,,10]),t=Ht.get(this.dbname),[4,e.metadataOf(this.dbname,this.name,this._store)];case 3:return n=p.sent(),this._metadata=n||{keyName:this.keyName,blockLevel:1,blockHashBase:t.blockHashBase,blockHashMultiplier:t.blockHashMultiplier,blockHashConstant:t.blockHashConstant,indexes:this.indexes},[4,this._transaction.init()];case 4:for(p.sent(),this._blockManager=new mn({dbname:this.dbname,collectionName:this.name,hashFunction:this._keyHash,metadata:this._metadata,transaction:this._transaction,store:this._store}),r=D([],this.indexes,!0),i=[],o=r.map(function(e){return bn.createKey(e)}),a=n?n.indexes.map(function(e){return bn.createKey(e)}):[],s=0,u=a;s<u.length;s++)c=u[s],o.includes(c)||i.push(bn.parseKey(c));return(l=[]).push.apply(l,r.map(function(e){var t=new bn({dbname:d.dbname,collectionName:d.name,keyName:d.keyName,fields:e,transaction:d._transaction,store:d._store});return d._indexers.push(t),t.ensure()})),l.push.apply(l,i.map(function(e){return new bn({dbname:d.dbname,collectionName:d.name,keyName:d.keyName,fields:e,transaction:d._transaction,store:d._store}).drop()})),[4,Promise.all(l)];case 5:return p.sent(),[4,this._transaction.commit()];case 6:return p.sent(),o.sort().join(",")===a.sort().join(",")?[3,8]:(h=un(this.dbname,this.name),this._metadata.indexes=r,[4,this._store.set({key:h,value:this._metadata,generation:1})]);case 7:p.sent(),p.label=8;case 8:return this._state=Bt.READY,this._mutex.unlock(),[3,10];case 9:throw f=p.sent(),this._mutex.unlock(),f;case 10:return[2]}})})},e.prototype.close=function(){this._state=Bt.CLOSED},e.prototype._hasPropertyOfKeyName=function(e){var t=e[this.keyName];return"string"==typeof t&&!!t},e.prototype._getIndexerBy=function(e){void 0===e&&(e=null),e||(e=[this.keyName]);for(var t=bn.createKey(e),n=0,r=this._indexers;n<r.length;n++){var i=r[n];if(t===bn.createKey(i.fields))return i}return null},e.prototype._upgradeBlockLevel=function(){return M(this,void 0,void 0,function(){var e;return L(this,function(t){switch(t.label){case 0:return e=un(this.dbname,this.name),this._metadata.blockLevel++,[4,this._store.set({key:e,value:this._metadata,generation:1})];case 1:return t.sent(),[2]}})})},e.prototype._requestInsert=function(e){return M(this,void 0,void 0,function(){var t,n,r;return L(this,function(i){switch(i.label){case 0:return t=e[this.keyName],[4,this._blockManager.getFromBlock(t)];case 1:return i.sent()?[3,10]:[4,this._blockManager.putToBlock(t,e)];case 2:return i.sent()?[3,5]:[4,this._upgradeBlockLevel()];case 3:return i.sent(),[4,this._blockManager.putToBlock(t,e)];case 4:i.sent(),i.label=5;case 5:n=0,r=this._indexers,i.label=6;case 6:return n<r.length?[4,r[n].addItem(e)]:[3,9];case 7:i.sent(),i.label=8;case 8:return n++,[3,6];case 9:return[3,11];case 10:throw Vt.collectionInsertDuplicate;case 11:return[2]}})})},e.prototype._requestUpsert=function(e){return M(this,void 0,void 0,function(){var t,n,r,i,o,a,s;return L(this,function(u){switch(u.label){case 0:return t=e[this.keyName],[4,this._blockManager.getFromBlock(t)];case 1:return(n=u.sent())?[3,10]:[4,this._blockManager.putToBlock(t,e)];case 2:return u.sent()?[3,5]:[4,this._upgradeBlockLevel()];case 3:return u.sent(),[4,this._blockManager.putToBlock(t,e)];case 4:u.sent(),u.label=5;case 5:r=0,i=this._indexers,u.label=6;case 6:return r<i.length?[4,(s=i[r]).addItem(e)]:[3,9];case 7:u.sent(),u.label=8;case 8:return r++,[3,6];case 9:return[3,16];case 10:return[4,this._blockManager.putToBlock(t,e)];case 11:u.sent(),o=0,a=this._indexers,u.label=12;case 12:return o<a.length?0===(s=a[o]).diff(s.getColumnValues(n),s.getColumnValues(e))?[3,15]:[4,s.removeItem(n)]:[3,16];case 13:return u.sent(),[4,s.addItem(e)];case 14:u.sent(),u.label=15;case 15:return o++,[3,12];case 16:return[2]}})})},e.prototype._requestUpdate=function(e){return M(this,void 0,void 0,function(){var t,n,r,i,o;return L(this,function(a){switch(a.label){case 0:return t=e[this.keyName],[4,this._blockManager.getFromBlock(t)];case 1:return(n=a.sent())?[4,this._blockManager.putToBlock(t,e)]:[3,7];case 2:a.sent(),r=0,i=this._indexers,a.label=3;case 3:return r<i.length?0===(o=i[r]).diff(o.getColumnValues(n),o.getColumnValues(e))?[3,6]:[4,o.removeItem(n)]:[3,7];case 4:return a.sent(),[4,o.addItem(e)];case 5:a.sent(),a.label=6;case 6:return r++,[3,3];case 7:return[2]}})})},e.prototype._requestRemove=function(e){return M(this,void 0,void 0,function(){var t,n,r;return L(this,function(i){switch(i.label){case 0:return[4,this._blockManager.getFromBlock(e)];case 1:return(t=i.sent())?[4,this._blockManager.removeFromBlock(e)]:[3,6];case 2:i.sent(),n=0,r=this._indexers,i.label=3;case 3:return n<r.length?[4,r[n].removeItem(t)]:[3,6];case 4:i.sent(),i.label=5;case 5:return n++,[3,3];case 6:return[2]}})})},e.prototype._requestClear=function(){return M(this,void 0,void 0,function(){var e,t;return L(this,function(n){switch(n.label){case 0:return[4,this._blockManager.clearAllBlocks()];case 1:n.sent(),e=0,t=this._indexers,n.label=2;case 2:return e<t.length?[4,t[e].clear()]:[3,5];case 3:n.sent(),n.label=4;case 4:return e++,[3,2];case 5:return[2]}})})},e.prototype.getByKey=function(e){return M(this,void 0,void 0,function(){var t,n;return L(this,function(r){switch(r.label){case 0:return this._state!==Bt.READY?[3,6]:[4,this._mutex.lock()];case 1:r.sent(),r.label=2;case 2:return r.trys.push([2,4,,5]),[4,this._blockManager.getFromBlock(e)];case 3:return t=r.sent(),this._mutex.unlock(),[2,Gt(t)];case 4:throw n=r.sent(),this._mutex.unlock(),n;case 5:return[3,7];case 6:throw Vt.collectionNotReady;case 7:return[2]}})})},e.prototype.query=function(e){return void 0===e&&(e={}),this._state===Bt.READY?new on({condition:e.where,mutex:this._mutex,blockManager:this._blockManager,indexer:this._getIndexerBy(e.index),backward:!!e.backward}):null},e.prototype.insertOne=function(e){return M(this,void 0,void 0,function(){var t;return L(this,function(n){switch(n.label){case 0:return this._state!==Bt.READY?[3,8]:[4,this._mutex.lock()];case 1:n.sent(),n.label=2;case 2:if(n.trys.push([2,5,,7]),!this._hasPropertyOfKeyName(e))throw Vt.collectionKeyNotGiven;return[4,this._requestInsert(Gt(e))];case 3:return n.sent(),[4,this._transaction.commit()];case 4:return n.sent(),this._mutex.unlock(),[2,e];case 5:return t=n.sent(),[4,this._transaction.clear()];case 6:throw n.sent(),this._mutex.unlock(),t;case 7:return[3,9];case 8:throw Vt.collectionNotReady;case 9:return[2]}})})},e.prototype.insertMany=function(e){return M(this,void 0,void 0,function(){var t,n,r,i,o=this;return L(this,function(a){switch(a.label){case 0:return this._state!==Bt.READY?[3,11]:[4,this._mutex.lock()];case 1:a.sent(),a.label=2;case 2:if(a.trys.push([2,8,,10]),e.some(function(e){return!o._hasPropertyOfKeyName(e)}))throw Vt.collectionKeyNotGiven;t=0,n=e,a.label=3;case 3:return t<n.length?(r=n[t],[4,this._requestInsert(Gt(r))]):[3,6];case 4:a.sent(),a.label=5;case 5:return t++,[3,3];case 6:return[4,this._transaction.commit()];case 7:return a.sent(),this._mutex.unlock(),[2,e];case 8:return i=a.sent(),[4,this._transaction.clear()];case 9:throw a.sent(),this._mutex.unlock(),i;case 10:return[3,12];case 11:throw Vt.collectionNotReady;case 12:return[2]}})})},e.prototype.upsertOne=function(e){return M(this,void 0,void 0,function(){var t;return L(this,function(n){switch(n.label){case 0:return this._state!==Bt.READY?[3,8]:[4,this._mutex.lock()];case 1:n.sent(),n.label=2;case 2:if(n.trys.push([2,5,,7]),!this._hasPropertyOfKeyName(e))throw Vt.collectionKeyNotGiven;return[4,this._requestUpsert(Gt(e))];case 3:return n.sent(),[4,this._transaction.commit()];case 4:return n.sent(),this._mutex.unlock(),[2,e];case 5:return t=n.sent(),[4,this._transaction.clear()];case 6:throw n.sent(),this._mutex.unlock(),t;case 7:return[3,9];case 8:throw Vt.collectionNotReady;case 9:return[2]}})})},e.prototype.upsertMany=function(e){return M(this,void 0,void 0,function(){var t,n,r,i,o=this;return L(this,function(a){switch(a.label){case 0:return this._state!==Bt.READY?[3,11]:[4,this._mutex.lock()];case 1:a.sent(),a.label=2;case 2:if(a.trys.push([2,8,,10]),e.some(function(e){return!o._hasPropertyOfKeyName(e)}))throw Vt.collectionKeyNotGiven;t=0,n=e,a.label=3;case 3:return t<n.length?(r=n[t],[4,this._requestUpsert(Gt(r))]):[3,6];case 4:a.sent(),a.label=5;case 5:return t++,[3,3];case 6:return[4,this._transaction.commit()];case 7:return a.sent(),this._mutex.unlock(),[2,e];case 8:return i=a.sent(),[4,this._transaction.clear()];case 9:throw a.sent(),this._mutex.unlock(),i;case 10:return[3,12];case 11:throw Vt.collectionNotReady;case 12:return[2]}})})},e.prototype.update=function(e){return M(this,void 0,void 0,function(){var t;return L(this,function(n){switch(n.label){case 0:return this._state!==Bt.READY?[3,8]:[4,this._mutex.lock()];case 1:n.sent(),n.label=2;case 2:if(n.trys.push([2,5,,7]),!this._hasPropertyOfKeyName(e))throw Vt.collectionKeyNotGiven;return[4,this._requestUpdate(Gt(e))];case 3:return n.sent(),[4,this._transaction.commit()];case 4:return n.sent(),this._mutex.unlock(),[2,e];case 5:return t=n.sent(),[4,this._transaction.clear()];case 6:throw n.sent(),this._mutex.unlock(),t;case 7:return[3,9];case 8:throw Vt.collectionNotReady;case 9:return[2]}})})},e.prototype.updateIf=function(e,t){return M(this,void 0,void 0,function(){var n,r,i,o,a,s,u,c,l,h,f,d=this;return L(this,function(p){switch(p.label){case 0:return this._state!==Bt.READY?[3,12]:[4,this._mutex.lock()];case 1:p.sent(),p.label=2;case 2:return p.trys.push([2,9,,11]),n=e.where,r=void 0===n?{}:n,i=e.index,o=void 0===i?null:i,a=e.backward,s=void 0!==a&&a,u=[],[4,new rn({condition:r,blockManager:this._blockManager,backward:s,indexer:this._getIndexerBy(o)}).each(function(e){return M(d,void 0,void 0,function(){var n,i;return L(this,function(o){if(e.error)throw e.stop(),e.error;if(e.hasNext){if(n=e.nextValue,Yt(r,n)&&t.set){if("function"!=typeof t.set)for(i in t.set)n[i]=t.set[i];else t.set(n);u.push(n)}e.next()}else e.stop();return[2]})})})];case 3:p.sent(),c=0,l=u,p.label=4;case 4:return c<l.length?(h=l[c],[4,this._requestUpdate(Gt(h))]):[3,7];case 5:p.sent(),p.label=6;case 6:return c++,[3,4];case 7:return[4,this._transaction.commit()];case 8:return p.sent(),this._mutex.unlock(),[2,u];case 9:return f=p.sent(),[4,this._transaction.clear()];case 10:throw p.sent(),this._mutex.unlock(),f;case 11:return[3,13];case 12:throw this._transaction.clear(),Vt.collectionNotReady;case 13:return[2]}})})},e.prototype.remove=function(e){return M(this,void 0,void 0,function(){var t;return L(this,function(n){switch(n.label){case 0:return this._state!==Bt.READY?[3,8]:[4,this._mutex.lock()];case 1:n.sent(),n.label=2;case 2:return n.trys.push([2,5,,7]),[4,this._requestRemove(e)];case 3:return n.sent(),[4,this._transaction.commit()];case 4:return n.sent(),this._mutex.unlock(),[3,7];case 5:return t=n.sent(),[4,this._transaction.clear()];case 6:throw n.sent(),this._mutex.unlock(),t;case 7:return[3,9];case 8:throw Vt.collectionNotReady;case 9:return[2]}})})},e.prototype.removeIf=function(e){return M(this,void 0,void 0,function(){var t,n,r,i,o,a,s,u,c,l,h,f=this;return L(this,function(d){switch(d.label){case 0:return this._state!==Bt.READY?[3,11]:[4,this._mutex.lock()];case 1:d.sent(),d.label=2;case 2:return d.trys.push([2,9,,10]),t=e.where,n=void 0===t?{}:t,r=e.index,i=void 0===r?null:r,o=e.backward,a=void 0!==o&&o,s=[],[4,new rn({condition:n,blockManager:this._blockManager,backward:a,indexer:this._getIndexerBy(i)}).each(function(e){return M(f,void 0,void 0,function(){var t,r;return L(this,function(i){if(e.error)throw e.stop(),e.error;return e.hasNext?(t=e.nextValue,Yt(n,t)&&(r=t[this.keyName],s.push(r)),e.next()):e.stop(),[2]})})})];case 3:d.sent(),u=0,c=s,d.label=4;case 4:return u<c.length?(l=c[u],[4,this._requestRemove(l)]):[3,7];case 5:d.sent(),d.label=6;case 6:return u++,[3,4];case 7:return[4,this._transaction.commit()];case 8:return d.sent(),this._mutex.unlock(),[2,s];case 9:throw h=d.sent(),this._mutex.unlock(),h;case 10:return[3,12];case 11:throw this._transaction.clear(),Vt.collectionNotReady;case 12:return[2]}})})},e.prototype.clear=function(){return M(this,void 0,void 0,function(){var e;return L(this,function(t){switch(t.label){case 0:return this._state!==Bt.READY?[3,8]:[4,this._mutex.lock()];case 1:t.sent(),t.label=2;case 2:return t.trys.push([2,5,,7]),[4,this._requestClear()];case 3:return t.sent(),[4,this._transaction.commit()];case 4:return t.sent(),this._mutex.unlock(),[3,7];case 5:return e=t.sent(),[4,this._transaction.clear()];case 6:throw t.sent(),this._mutex.unlock(),e;case 7:return[3,9];case 8:throw Vt.collectionNotReady;case 9:return[2]}})})},e.prototype.getBlob=function(e){return M(this,void 0,void 0,function(){return L(this,function(t){switch(t.label){case 0:return[4,this._blobContainer.get(e)];case 1:return[2,t.sent()]}})})},e.prototype.saveBlob=function(e,t){return void 0===t&&(t=null),M(this,void 0,void 0,function(){return L(this,function(n){switch(n.label){case 0:return[4,this._blobContainer.save(e,t)];case 1:return[2,n.sent()]}})})},e.prototype.removeBlob=function(e){return M(this,void 0,void 0,function(){return L(this,function(t){switch(t.label){case 0:return[4,this._blobContainer.remove(e)];case 1:return t.sent(),[2]}})})},e.prototype.removeAllBlobs=function(){return M(this,void 0,void 0,function(){return L(this,function(e){switch(e.label){case 0:return[4,this._blobContainer.clear()];case 1:return e.sent(),[2]}})})},e}(),Nn={key:"__ev",value:{k:"__ev",v:"scs"},generation:1},Rn={encrypt:function(e){return e},decrypt:function(e){return e}},Pn={},xn=function(){function e(e){void 0===e&&(e={});var t=e.itemSizeLimit,n=void 0===t?4194304:t,r=e.delay,i=void 0===r?1:r,o=e.encryption,a=void 0===o?Rn:o;this._encryption=a,this.itemSizeLimit=n,this.delay=i,this.observer={}}return Object.defineProperty(e.prototype,"rawData",{get:function(){return Pn[this.dbname]},set:function(e){Pn[this.dbname]=e},enumerable:!1,configurable:!0}),e.prototype.observe=function(e,t,n){var r=this;this.observer[e]={},t.forEach(function(t){return r.observer[e][t]=n})},e.prototype.init=function(e){return M(this,void 0,void 0,function(){var t;return L(this,function(n){switch(n.label){case 0:this.dbname=e,Pn[this.dbname]={},n.label=1;case 1:return n.trys.push([1,,3,5]),[4,this.get(Nn.key)];case 2:if((t=n.sent())&&JSON.stringify(t)!==JSON.stringify(Nn.value))throw Vt.storeEncryptionInvalid;return[3,5];case 3:return[4,this.set(Nn)];case 4:return n.sent(),[7];case 5:return[2]}})})},e.prototype.getAllKeys=function(){return M(this,void 0,void 0,function(){return L(this,function(e){return[2,Object.keys(Pn[this.dbname]).filter(function(e){return e!==Nn.key})]})})},e.prototype.get=function(e){return M(this,void 0,void 0,function(){var t,n;return L(this,function(r){switch(r.label){case 0:return[4,Kt(this.delay)];case 1:if(r.sent(),t=this.observer[e],n=t&&t.get?t.get(e):null)throw n;return[2,Pn[this.dbname][e]?this._encryption.decrypt(Pn[this.dbname][e]):null]}})})},e.prototype.set=function(e){return M(this,void 0,void 0,function(){var t,n,r,i,o,a;return L(this,function(s){switch(s.label){case 0:return[4,Kt(this.delay)];case 1:if(s.sent(),t=e.key,n=e.value,r=this.observer[t],i=r&&r.set?r.set(t):null)throw i;if(o=this._encryption.encrypt(n),a=JSON.stringify(o),t===Nn.key||a.length<this.itemSizeLimit)return Pn[this.dbname][t]=o,[2,Pn[this.dbname][t]];throw Vt.storeItemSizeExceeded}})})},e.prototype.setMany=function(e){return M(this,void 0,void 0,function(){var t,n=this;return L(this,function(r){switch(r.label){case 0:return[4,Kt(this.delay)];case 1:return r.sent(),t=[],e.forEach(function(e){var r=e.key,i=e.value,o=n.observer[r];if(o&&o.set&&o.set(r))t.push(Vt.collectionWriteFailed);else{var a=n._encryption.encrypt(i),s=JSON.stringify(a);r===Nn.key||s.length<n.itemSizeLimit?(Pn[n.dbname][r]=a,t.push(i)):t.push(Vt.storeItemSizeExceeded)}}),[2,t]}})})},e.prototype.remove=function(e){return M(this,void 0,void 0,function(){var t,n;return L(this,function(r){switch(r.label){case 0:return[4,Kt(this.delay)];case 1:if(r.sent(),t=this.observer[e],n=t&&t.remove?t.remove(e):null)throw n;return Pn[this.dbname][e]&&delete Pn[this.dbname][e],[2,e]}})})},e.prototype.removeMany=function(e){return M(this,void 0,void 0,function(){var t,n,r,i,o;return L(this,function(a){switch(a.label){case 0:return[4,Kt(this.delay)];case 1:for(a.sent(),t=0,n=e;t<n.length;t++){if(r=n[t],i=this.observer[r],o=i&&i.remove?i.remove(r):null)throw o;Pn[this.dbname][r]&&delete Pn[this.dbname][r]}return[2,e]}})})},e.prototype.clear=function(){return M(this,void 0,void 0,function(){return L(this,function(e){switch(e.label){case 0:return[4,Kt(this.delay)];case 1:return e.sent(),Pn[this.dbname]={},[2]}})})},e}(),Mn="NestDBStore",Ln=function(){function e(e){void 0===e&&(e={}),this.itemSizeLimit=104857600;var t=e.encryption,n=void 0===t?Rn:t;this._window="undefined"!=typeof window?window:null,this._indexedDB=this._window?this._window.indexedDB||this._window.mozIndexedDB||this._window.webkitIndexedDB||this._window.msIndexedDB:null,this._encryption=n}return e.prototype.init=function(e){return M(this,void 0,void 0,function(){var t,n,r=this;return L(this,function(i){switch(i.label){case 0:return this.dbname=e,[4,new Promise(function(e,t){if(r._window&&_n)if(wn){var n=r._indexedDB.open("_testMozilla");n.onerror=function(){return t(Vt.storeNotAvailableInPrivateBrowsing)},n.onsuccess=function(){return e()}}else Cn?r._window.indexedDB||!r._window.PointerEvent&&!r._window.MSPointerEvent||t(Vt.storeNotAvailableInPrivateBrowsing):e();else t(Vt.storeNotAvailable)})];case 1:return i.sent(),t=this,[4,new Promise(function(t,n){var i=r._indexedDB.open(e);i.addEventListener("upgradeneeded",function(e){e.target.result.createObjectStore(Mn,{keyPath:"key"})}),i.addEventListener("success",function(e){return t(e.target.result)}),i.addEventListener("error",function(e){return n(e.target.error)})})];case 2:t._database=i.sent(),i.label=3;case 3:return i.trys.push([3,,5,7]),[4,this.get(Nn.key)];case 4:if((n=i.sent())&&JSON.stringify(n)!==JSON.stringify(Nn.value))throw Vt.storeEncryptionInvalid;return[3,7];case 5:return[4,this.set(Nn)];case 6:return i.sent(),[7];case 7:return[2]}})})},e.prototype.getAllKeys=function(){return M(this,void 0,void 0,function(){var e=this;return L(this,function(t){switch(t.label){case 0:return[4,new Promise(function(t,n){var r=e._database.transaction(Mn,"readonly").objectStore(Mn).getAllKeys();r.addEventListener("success",function(e){t(e.target.result.filter(function(e){return e!==Nn.key}))}),r.addEventListener("error",function(e){return n(e.target.error)})})];case 1:return[2,t.sent()]}})})},e.prototype.get=function(e){return M(this,void 0,void 0,function(){var t=this;return L(this,function(n){switch(n.label){case 0:return[4,new Promise(function(n,r){var i=t._database.transaction(Mn,"readonly").objectStore(Mn).get(e);i.addEventListener("success",function(e){return n(e.target.result?t._encryption.decrypt(e.target.result.value):null)}),i.addEventListener("error",function(e){return r(e.target.error)})})];case 1:return[2,n.sent()]}})})},e.prototype.set=function(e){return M(this,void 0,void 0,function(){var t,n,r=this;return L(this,function(i){switch(i.label){case 0:return t=e.key,n=e.value,[4,new Promise(function(e,i){var o=r._database.transaction(Mn,"readwrite").objectStore(Mn).put({key:t,value:r._encryption.encrypt(n)});o.addEventListener("success",function(t){e(t.target.result)}),o.addEventListener("error",function(e){return i(e.target.error)})})];case 1:return i.sent(),[2,n]}})})},e.prototype.setMany=function(e){return M(this,void 0,void 0,function(){var t,n,r=this;return L(this,function(i){switch(i.label){case 0:return t=[],n=this._database.transaction(Mn,"readwrite").objectStore(Mn),e.forEach(function(e){var i=e.key,o=e.value;t.push(new Promise(function(e){var t=n.put({key:i,value:r._encryption.encrypt(o)});t.addEventListener("success",function(t){e(t.target.result)}),t.addEventListener("error",function(){e(Vt.collectionWriteFailed)})}))}),[4,Promise.all(t)];case 1:return i.sent(),[2,e.map(function(e){return e.value})]}})})},e.prototype.remove=function(e){return M(this,void 0,void 0,function(){var t=this;return L(this,function(n){switch(n.label){case 0:return[4,new Promise(function(n,r){var i=t._database.transaction(Mn,"readwrite").objectStore(Mn).delete(e);i.addEventListener("success",function(){return n(e)}),i.addEventListener("error",function(e){return r(e.target.error)})})];case 1:return[2,n.sent()]}})})},e.prototype.removeMany=function(e){return M(this,void 0,void 0,function(){var t;return L(this,function(n){switch(n.label){case 0:return t=this._database.transaction(Mn,"readwrite").objectStore(Mn),[4,Promise.all(e.map(function(e){return new Promise(function(n,r){var i=t.delete(e);i.addEventListener("success",function(){return n(e)}),i.addEventListener("error",function(e){return r(e.target.error)})})}))];case 1:return[2,n.sent()]}})})},e.prototype.clear=function(){return M(this,void 0,void 0,function(){var e=this;return L(this,function(t){switch(t.label){case 0:return[4,new Promise(function(t,n){var r=e._database.transaction(Mn,"readwrite").objectStore(Mn).clear();r.addEventListener("success",function(){return t()}),r.addEventListener("error",function(e){return n(e.target.error)})})];case 1:return[2,t.sent()]}})})},e}(),Dn=function(){function e(e){var t=e.AsyncStorage,n=e.encryption,r=void 0===n?Rn:n;this.itemSizeLimit=6291456,this._asyncStorage=t,this._encryption=r}return e.prototype._isBelonging=function(e){return e.startsWith("".concat(this.dbname,"/"))},e.prototype._getActualKey=function(e){return"".concat(this.dbname,"/").concat(e)},e.prototype.init=function(e){return M(this,void 0,void 0,function(){var t;return L(this,function(n){switch(n.label){case 0:this.dbname=e,n.label=1;case 1:return n.trys.push([1,,3,5]),[4,this.get(Nn.key)];case 2:if((t=n.sent())&&JSON.stringify(t)!==JSON.stringify(Nn.value))throw Vt.storeEncryptionInvalid;return[3,5];case 3:return[4,this.set(Nn)];case 4:return n.sent(),[7];case 5:return[2]}})})},e.prototype.getAllKeys=function(){return M(this,void 0,void 0,function(){var e,t=this;return L(this,function(n){switch(n.label){case 0:return e=this._getActualKey(Nn.key),[4,this._asyncStorage.getAllKeys()];case 1:return[2,n.sent().filter(function(n){return t._isBelonging(n)&&n!==e}).map(function(e){return e.substring("".concat(t.dbname,"/").length)})]}})})},e.prototype.get=function(e){return M(this,void 0,void 0,function(){var t;return L(this,function(n){switch(n.label){case 0:return[4,this._asyncStorage.getItem(this._getActualKey(e))];case 1:return[2,(t=n.sent())?this._encryption.decrypt(JSON.parse(t)):null]}})})},e.prototype.set=function(e){return M(this,void 0,void 0,function(){var t,n,r;return L(this,function(i){switch(i.label){case 0:return t=e.key,n=e.value,r=JSON.stringify(this._encryption.encrypt(n)),t===Nn.key||r.length<this.itemSizeLimit?[4,this._asyncStorage.setItem(this._getActualKey(t),r)]:[3,2];case 1:return i.sent(),[2,JSON.parse(r)];case 2:throw Vt.storeItemSizeExceeded}})})},e.prototype.setMany=function(e){return M(this,void 0,void 0,function(){var t,n,r,i,o,a,s;return L(this,function(u){switch(u.label){case 0:t=[],n=0,r=e,u.label=1;case 1:if(!(n<r.length))return[3,8];i=r[n],u.label=2;case 2:return u.trys.push([2,6,,7]),o=i.key,a=i.value,s=JSON.stringify(this._encryption.encrypt(a)),o===Nn.key||s.length<this.itemSizeLimit?[4,this._asyncStorage.setItem(this._getActualKey(o),s)]:[3,4];case 3:return u.sent(),t.push(a),[3,5];case 4:t.push(Vt.storeItemSizeExceeded),u.label=5;case 5:return[3,7];case 6:return u.sent(),t.push(Vt.collectionWriteFailed),[3,7];case 7:return n++,[3,1];case 8:return[2,t]}})})},e.prototype.remove=function(e){return M(this,void 0,void 0,function(){return L(this,function(t){switch(t.label){case 0:return[4,this._asyncStorage.removeItem(this._getActualKey(e))];case 1:return t.sent(),[2,e]}})})},e.prototype.removeMany=function(e){return M(this,void 0,void 0,function(){var t,n,r;return L(this,function(i){switch(i.label){case 0:t=0,n=e,i.label=1;case 1:return t<n.length?(r=n[t],[4,this._asyncStorage.removeItem(this._getActualKey(r))]):[3,4];case 2:i.sent(),i.label=3;case 3:return t++,[3,1];case 4:return[2,e]}})})},e.prototype.clear=function(){return M(this,void 0,void 0,function(){var e;return L(this,function(t){switch(t.label){case 0:return[4,this.getAllKeys()];case 1:return e=t.sent(),[4,this.removeMany(e)];case 2:return t.sent(),[4,this.remove(Nn.key)];case 3:return t.sent(),[2]}})})},e}(),jn=function(){function e(e){var t=e.MMKV,n=e.encryption,r=void 0===n?Rn:n;this.itemSizeLimit=6291456,this._mmkv=t,this._encryption=r}return e.prototype._isBelonging=function(e){return e.startsWith("".concat(this.dbname,"/"))},e.prototype._getActualKey=function(e){return"".concat(this.dbname,"/").concat(e)},e.prototype.init=function(e){return M(this,void 0,void 0,function(){var t;return L(this,function(n){switch(n.label){case 0:this.dbname=e,n.label=1;case 1:return n.trys.push([1,,3,5]),[4,this.get(Nn.key)];case 2:if((t=n.sent())&&JSON.stringify(t)!==JSON.stringify(Nn.value))throw Vt.storeEncryptionInvalid;return[3,5];case 3:return[4,this.set(Nn)];case 4:return n.sent(),[7];case 5:return[2]}})})},e.prototype.getAllKeys=function(){return M(this,void 0,void 0,function(){var e,t=this;return L(this,function(n){return e=this._getActualKey(Nn.key),[2,this._mmkv.getAllKeys().filter(function(n){return t._isBelonging(n)&&n!==e}).map(function(e){return e.substr("".concat(t.dbname,"/").length)})]})})},e.prototype.get=function(e){return M(this,void 0,void 0,function(){var t;return L(this,function(n){switch(n.label){case 0:return[4,this._mmkv.getString(this._getActualKey(e))];case 1:return[2,(t=n.sent())?this._encryption.decrypt(JSON.parse(t)):null]}})})},e.prototype.set=function(e){return M(this,void 0,void 0,function(){var t,n,r;return L(this,function(i){if(t=e.key,n=e.value,r=JSON.stringify(this._encryption.encrypt(n)),t===Nn.key||r.length<this.itemSizeLimit)return this._mmkv.set(this._getActualKey(t),r),[2,JSON.parse(r)];throw Vt.storeItemSizeExceeded})})},e.prototype.setMany=function(e){return M(this,void 0,void 0,function(){var t,n,r,i,o,a,s;return L(this,function(u){for(t=[],n=0,r=e;n<r.length;n++){i=r[n];try{o=i.key,a=i.value,s=JSON.stringify(this._encryption.encrypt(a)),o===Nn.key||s.length<this.itemSizeLimit?(this._mmkv.set(this._getActualKey(o),s),t.push(a)):t.push(Vt.storeItemSizeExceeded)}catch(e){t.push(Vt.collectionWriteFailed)}}return[2,t]})})},e.prototype.remove=function(e){return M(this,void 0,void 0,function(){return L(this,function(t){return this._mmkv.delete(this._getActualKey(e)),[2,e]})})},e.prototype.removeMany=function(e){return M(this,void 0,void 0,function(){var t,n,r;return L(this,function(i){for(t=0,n=e;t<n.length;t++)r=n[t],this._mmkv.delete(this._getActualKey(r));return[2,e]})})},e.prototype.clear=function(){return M(this,void 0,void 0,function(){var e;return L(this,function(t){switch(t.label){case 0:return[4,this.getAllKeys()];case 1:return e=t.sent(),[4,this.removeMany(e)];case 2:return t.sent(),[4,this.remove(Nn.key)];case 3:return t.sent(),[2]}})})},e}(),Un="[NESTDB]",Fn=!0,Hn=function(){function e(){}return e.off=function(){Fn=!1},e.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];Fn&&console.log.apply(console,D(["".concat(Un,"[LOG]")],e,!1))},e.warning=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];Fn&&console.warn.apply(console,D(["".concat(Un,"[WARNING]")],e,!1))},e.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];Fn&&console.error.apply(console,D(["".concat(Un,"[ERROR]")],e,!1))},e}();!function(e){e.INIT="INIT",e.OPENING="OPENING",e.OPENED="OPENED",e.CLOSED="CLOSED"}(Tn||(Tn={}));var Bn,Vn,qn,Gn,zn,Wn,Kn,Yn=function(){function e(e){var t=e.name,n=e.version,r=e.store,i=e.config;this.name=t,this._version=n,this._state=Tn.INIT,this._config=i||new Ht({dbname:t}),this._store=r,this._event={success:Qt,error:Qt,upgrade:Jt},this._collections=new Map,this._globalMutex=new In("".concat(this.name,".lock")),this._config.disableLogger&&Hn.off(),new gn({dbname:t,limit:this._config.cacheLimit})}return Object.defineProperty(e.prototype,"version",{get:function(){return this._version},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._state},enumerable:!1,configurable:!0}),e.prototype.commitSchema=function(e){return M(this,void 0,void 0,function(){var t=this;return L(this,function(n){switch(n.label){case 0:return this._state!==Tn.OPENING?[3,2]:[4,Promise.all(e.map(function(e){return M(t,void 0,void 0,function(){var t,n,r,i;return L(this,function(o){switch(o.label){case 0:return t=e.collectionName,n=e.keyName,r=e.index,i=void 0===r?[]:r,this._collections.has(t)||this._collections.set(t,new An({dbname:this.name,collectionName:t,keyName:n,keyHash:e.keyHash||null,indexes:i,store:this._store})),[4,this._collections.get(t).init()];case 1:return o.sent(),[2]}})})}))];case 1:return n.sent(),[3,3];case 2:throw Vt.databaseSchemaNotOnUpgrade;case 3:return[2]}})})},e.prototype.open=function(){var e;return M(this,void 0,void 0,function(){var t,n,r,i,o=this;return L(this,function(a){switch(a.label){case 0:return[4,this._globalMutex.lock()];case 1:if(a.sent(),this._state===Tn.OPENED)return[3,15];this._state=Tn.OPENING,a.label=2;case 2:return a.trys.push([2,5,,15]),[4,this._store.init(this.name)];case 3:return a.sent(),s=this.name,t="".concat(an(s),".metadata"),n={version:0,collectionNames:[]},[4,this._store.get(t)];case 4:return r=null!==(e=a.sent())&&void 0!==e?e:n,[2,new Promise(function(e,n){var i=function(e){r.version<o._version?o._event.upgrade(r.version,function(n){return M(o,void 0,void 0,function(){var i;return L(this,function(o){switch(o.label){case 0:if(n)return[3,5];r.version++,r.collectionNames=Array.from(this._collections.keys()),o.label=1;case 1:return o.trys.push([1,3,,4]),[4,this._store.set({key:t,value:r,generation:this._version})];case 2:return o.sent(),e({continued:!0}),[3,4];case 3:return i=o.sent(),e({continued:!1,err:i}),[3,4];case 4:return[3,6];case 5:e({continued:!1,err:n}),o.label=6;case 6:return[2]}})})}):e({continued:!1})};i(function t(a){var s=a.continued,u=void 0!==s&&s,c=a.err,l=void 0===c?null:c;if(u)setTimeout(function(){return i(t)},10);else if(l)Hn.error(l.message),o._globalMutex.unlock(),o._event.error(l),n(l);else{var h=[];r.collectionNames.forEach(function(e){o._collections.has(e)||h.push(M(o,void 0,void 0,function(){var t,n;return L(this,function(r){switch(r.label){case 0:return[4,An.metadataOf(this.name,e,this._store)];case 1:return(t=r.sent())?(n=new An({dbname:this.name,collectionName:e,keyName:t.keyName,indexes:t.indexes,store:this._store}),this._collections.set(e,n),[4,n.init()]):[3,3];case 2:r.sent(),r.label=3;case 3:return[2]}})}))}),Promise.all(h).then(function(){o._state=Tn.OPENED,o._globalMutex.unlock(),o._event.success(),e()}).catch(function(e){Hn.error(e.message),o._globalMutex.unlock(),o._event.error(e),n(e)})}})})];case 5:switch((i=a.sent()).code){case Ut.STORE_NOT_AVAILABLE_IN_PRIVATE_BROWSING:return[3,6];case Ut.STORE_NOT_AVAILABLE:return[3,8];case Ut.STORE_ENCRYPTION_INVALID:return[3,10]}return[3,13];case 6:return Hn.warning("Access to the local storage is not allowed in private browsing. Switched to MemoryStore automatically."),this._store=new xn({}),this._globalMutex.unlock(),this._event.error(i),[4,this.open()];case 7:return a.sent(),[3,14];case 8:return Hn.warning("IndexedDB is not available in this environment. Switched to MemoryStore automatically. Consider using other store to save data persistently (e.g. AsyncStorage)."),this._store=new xn({}),this._globalMutex.unlock(),this._event.error(i),[4,this.open()];case 9:return a.sent(),[3,14];case 10:return Hn.warning("Encryption algorithm has changed. Stored data would be cleared."),[4,this._store.clear()];case 11:return a.sent(),this._globalMutex.unlock(),this._event.error(i),[4,this.open()];case 12:return a.sent(),[3,14];case 13:throw Hn.error(i.message),this._globalMutex.unlock(),this._event.error(i),i;case 14:return[3,15];case 15:return[2]}var s})})},e.prototype.close=function(){this._state=Tn.CLOSED,this._collections.forEach(function(e){return e.close()})},e.prototype.reset=function(){return M(this,void 0,void 0,function(){var e,t=this;return L(this,function(n){switch(n.label){case 0:return(e=gn.get(this.name))&&e.clearByCondition(function(e){return e.key.startsWith(an(t.name))}),[4,this._store.clear()];case 1:return n.sent(),[2]}})})},e.prototype.on=function(e,t){this._event[e]=t},e.prototype.off=function(e){"function"==typeof this._event[e]&&(this._event[e]="upgrade"===e?Jt:Qt)},e.prototype.collection=function(e){return this._collections.get(e)||null},e}(),Qn=function(){function e(){}return e.create=function(){return"".concat(Math.floor(1e5*Math.random()),"-").concat((new Date).getTime())},e}();!function(e){e.AND="AND",e.OR="OR"}(Bn||(Bn={})),function(e){e.MEMBER_NICKNAME="member_nickname",e.CHANNEL_NAME="channel_name"}(Vn||(Vn={})),function(e){e.ALL="all",e.JOINED="joined_only",e.INVITED="invited_only",e.INVITED_BY_FRIEND="invited_by_friend",e.INVITED_BY_NON_FRIEND="invited_by_non_friend"}(qn||(qn={})),function(e){e.ALL="all",e.SUPER="super",e.NON_SUPER="nonsuper"}(Gn||(Gn={})),function(e){e.ALL="all",e.PUBLIC="public",e.PRIVATE="private"}(zn||(zn={})),function(e){e.ALL="all",e.UNREAD_MESSAGE="unread_message"}(Wn||(Wn={})),function(e){e.ALL="all",e.UNHIDDEN="unhidden_only",e.HIDDEN="hidden_only",e.HIDDEN_ALLOW_AUTO_UNHIDE="hidden_allow_auto_unhide",e.HIDDEN_PREVENT_AUTO_UNHIDE="hidden_prevent_auto_unhide"}(Kn||(Kn={}));var $n=function(){function e(){this._iid=null,this._searchFilter={},this._userIdsFilter={userIds:[],includeMode:!0,queryType:Bn.AND},this.includeEmpty=!1,this.nicknameContainsFilter="",this.nicknameStartsWithFilter="",this.nicknameExactMatchFilter="",this.channelNameContainsFilter="",this.memberStateFilter=qn.ALL,this.customTypesFilter=[],this.channelUrlsFilter=[],this.superChannelFilter=Gn.ALL,this.publicChannelFilter=zn.ALL,this.customTypeStartsWithFilter=null,this.unreadChannelFilter=Wn.ALL,this.hiddenChannelFilter=Kn.UNHIDDEN,this.includeFrozen=!0}return Object.defineProperty(e.prototype,"searchFilter",{get:function(){return this._searchFilter},enumerable:!1,configurable:!0}),e.prototype._isFriend=function(e){return!!e.friendDiscoveryKey||!!e.friendName},Object.defineProperty(e.prototype,"iid",{set:function(e){this._iid=e},enumerable:!1,configurable:!0}),e.prototype.setSearchFilter=function(e,t){Array.isArray(e)&&0!==e.length&&"string"==typeof t&&t&&(this._searchFilter={searchQuery:t,searchFields:e})},Object.defineProperty(e.prototype,"userIdsFilter",{get:function(){return this._userIdsFilter},enumerable:!1,configurable:!0}),e.prototype.setUserIdsFilter=function(e,t,n){void 0===n&&(n=Bn.AND),this._userIdsFilter={userIds:e,includeMode:t,queryType:n}},e.prototype.clone=function(){var t=new e;t.setSearchFilter(this.searchFilter.searchFields,this.searchFilter.searchQuery),t.setUserIdsFilter(this.userIdsFilter.userIds,this.userIdsFilter.includeMode,this.userIdsFilter.queryType);var n=JSON.parse(JSON.stringify(this));return Object.keys(n).forEach(function(e){t[e]=n[e]}),t},e.prototype.match=function(e){var t=this._searchFilter,n=t.searchQuery,r=t.searchFields;if(n&&r&&r.length>0&&!r.some(function(t){switch(t){case Vn.CHANNEL_NAME:return e.name.toLowerCase().includes(n.toLowerCase());case Vn.MEMBER_NICKNAME:return e.members.some(function(e){return e.nickname.toLowerCase().includes(n.toLowerCase())});default:return!0}}))return!1;var i=this._userIdsFilter,o=i.includeMode,a=i.queryType,s=i.userIds,u=N.get(this._iid).get("currentUserId"),c=e.members.map(function(e){return e.userId});if(o){if(s.length>0)switch(a){case Bn.AND:if(s.some(function(e){return!c.includes(e)}))return!1;break;case Bn.OR:if(s.every(function(e){return!c.includes(e)}))return!1}}else{if(s.includes(u)||s.push(u),e.members.length>s.length)return!1;if(!function(e,t){if(e===t)return!0;if(null==e||null==t)return!1;if(e.length!==t.length)return!1;for(var n=D([],e,!0).sort(),r=D([],t,!0).sort(),i=0;i<n.length;++i)if(n[i]!==r[i])return!1;return!0}(s,c))return!1}if(!this.includeEmpty&&!e.lastMessage)return!1;if(!this.includeFrozen&&e.isFrozen)return!1;if(this.customTypesFilter.length>0&&!this.customTypesFilter.includes(e.customType))return!1;if(this.customTypeStartsWithFilter&&!new RegExp("^".concat(this.customTypeStartsWithFilter)).test(e.customType))return!1;if(this.channelNameContainsFilter&&!e.name.toLowerCase().includes(this.channelNameContainsFilter.toLowerCase()))return!1;if(this.nicknameContainsFilter){var l=this.nicknameContainsFilter.toLowerCase();if(e.members.every(function(e){return!e.nickname.toLowerCase().includes(l)}))return!1}if(this.nicknameStartsWithFilter){var h=this.nicknameStartsWithFilter.toLowerCase();if(e.members.every(function(e){return!e.nickname.toLowerCase().startsWith(h)}))return!1}if(this.nicknameExactMatchFilter){var f=this.nicknameExactMatchFilter.toLowerCase();if(e.members.every(function(e){return e.nickname.toLowerCase()!==f}))return!1}if(this.channelUrlsFilter.length>0&&!this.channelUrlsFilter.includes(e.url))return!1;if(this.memberStateFilter)switch(this.memberStateFilter){case qn.JOINED:if("joined"!==e.myMemberState)return!1;break;case qn.INVITED:if("invited"!==e.myMemberState)return!1;break;case qn.INVITED_BY_FRIEND:if("invited"!==e.myMemberState||!this._isFriend(e.inviter))return!1;break;case qn.INVITED_BY_NON_FRIEND:if("invited"!==e.myMemberState||this._isFriend(e.inviter))return!1}if(this.hiddenChannelFilter)switch(this.hiddenChannelFilter){case Kn.UNHIDDEN:if(e.isHidden||"unhidden"!==e.hiddenState)return!1;break;case Kn.HIDDEN:if(!e.isHidden)return!1;break;case Kn.HIDDEN_ALLOW_AUTO_UNHIDE:if(!e.isHidden||"hidden_allow_auto_unhide"!==e.hiddenState)return!1;break;case Kn.HIDDEN_PREVENT_AUTO_UNHIDE:if(!e.isHidden||"hidden_prevent_auto_unhide"!==e.hiddenState)return!1}if(this.unreadChannelFilter&&this.unreadChannelFilter===Wn.UNREAD_MESSAGE&&0===e.unreadMessageCount)return!1;if(this.publicChannelFilter)switch(this.publicChannelFilter){case zn.PUBLIC:if(!e.isPublic||"none"===e.myMemberState)return!1;break;case zn.PRIVATE:if(e.isPublic)return!1}if(this.superChannelFilter)switch(this.superChannelFilter){case Gn.SUPER:if(!e.isSuper)return!1;break;case Gn.NON_SUPER:if(e.isSuper)return!1}return!0},e.QueryType=Bn,e.SearchField=Vn,e.MemberStateFilter=qn,e.SuperChannelFilter=Gn,e.PublicChannelFilter=zn,e.UnreadChannelFilter=Wn,e.HiddenChannelFilter=Kn,e}(),Xn=function(){function e(e){var t=e.iid;this._iid=t,this._filter=new $n,this._filter.iid=this._iid,this._order=st.LATEST_LAST_MESSAGE,this._limit=20}return e.prototype.setFilter=function(e){return this._filter=e.clone(),this._filter.iid=this._iid,this},e.prototype.setOrder=function(e){return this._order=e,this},e.prototype.setLimit=function(e){return this._limit=e,this},e.prototype.build=function(){return new bt({iid:this._iid,filter:this._filter,order:this._order,limit:this._limit})},e}(),Jn=function(){function e(e){var t=e.iid,n=e.channel;this._iid=t,this._channel=n,this._startingPoint=Date.now(),this._filter=new Pe,this._limit=100}return e.prototype.setFilter=function(e){return this._filter=e.clone(),this},e.prototype.setStartingPoint=function(e){return this._startingPoint=e,this},e.prototype.setLimit=function(e){return this._limit=e,this},e.prototype.build=function(){return new nt({iid:this._iid,channel:this._channel,startingPoint:this._startingPoint,filter:this._filter,limit:this._limit})},e}(),Zn={},er={},tr=new WeakMap,nr=new WeakMap,rr=new WeakMap,ir=function(e){v(n,e);var t=w(n);function n(e){var r;return d(this,n),(r=t.call(this,e)).channelType=Rt.CHANNEL_TYPE_GROUP,r.isDistinct=!1,r.isSuper=!1,r.isBroadcast=!1,r.isPublic=!1,r.unreadMessageCount=0,r.inviter=null,r.members=[],r.memberMap={},r.lastMessage=null,r.memberCount=0,r.joinedMemberCount=0,r.cachedReadReceiptStatus={},r.cachedDeliveryReceiptStatus=null,r.myPushTriggerOption=n.PushTriggerOption.DEFAULT,r.isPushEnabled,r.isHidden=!1,r.hiddenState=n.HiddenState.UNHIDDEN,r.isDiscoverable=!0,r.myLastRead=0,r.messageSurvivalSeconds=-1,r.invitedAt=0,r.joinedAt=0,r._messageOffsetTimestamp=0,r._cachedLastDeliveredReceipt={sentAt:0,timeout:null},tr.set(_(r),{}),nr.set(_(r),{start:0,end:0}),rr.set(_(r),0),e&&r._update(e),r}return g(n,[{key:"messageOffsetTimestamp",get:function(){return this._messageOffsetTimestamp}},{key:"createMessageCollection",value:function(){return new Jn({iid:this._iid,channel:this})}},{key:"_setGroupChannelUnreadCount",value:function(e,t){try{if("number"==typeof e&&e>=0)if("all"===this.myCountPreference||"unread_message_count_only"===this.myCountPreference)if(this.isSuper||this.isBroadcast){var n=N.get(this._iid).container.maxUnreadCountOfSuperGroupChannel;this.unreadMessageCount=e>=n?n:e}else this.unreadMessageCount=e;else this.unreadMessageCount=0;"number"==typeof t&&t>=0&&("all"===this.myCountPreference||"unread_mention_count_only"===this.myCountPreference?this.unreadMentionCount=t:this.unreadMentionCount=0)}catch(e){}}},{key:"_update",value:function(e){var t=this,n=B.get(this._iid),r=n.BaseChannel,i=n.GroupChannel,o=n.User,a=n.Member;if(this.isAccessCodeRequired=!!e.is_access_code_required&&e.is_access_code_required,this.isDistinct=!!e.is_distinct&&e.is_distinct,this.isPushEnabled=!!e.is_push_enabled&&e.is_push_enabled,this.isHidden=!!e.hasOwnProperty("is_hidden")&&e.is_hidden,this.myPushTriggerOption=e.push_trigger_option?e.push_trigger_option:i.PushTriggerOption.DEFAULT,this.myCountPreference=e.hasOwnProperty("count_preference")?e.count_preference:i.CountPreference.ALL,this.unreadMessageCount=0,this.unreadMentionCount=0,this._setGroupChannelUnreadCount(parseInt(e.unread_message_count),parseInt(e.unread_mention_count)),e.hasOwnProperty("read_receipt")&&(this.cachedReadReceiptStatus={},Object.keys(e.read_receipt).forEach(function(n){var r=e.read_receipt[n];t.updateReadReceipt(n,parseInt(r))})),e.hasOwnProperty("delivery_receipt")&&"object"===f(e.delivery_receipt)&&null!==e.delivery_receipt&&(this.cachedDeliveryReceiptStatus||(this.cachedDeliveryReceiptStatus={}),Object.keys(e.delivery_receipt).forEach(function(n){var r=e.delivery_receipt[n];t.updateDeliveryReceipt(n,parseInt(r))})),e.hasOwnProperty("user_last_read")&&"number"==typeof e.user_last_read?this.myLastRead=e.user_last_read:this.myLastRead=0,e.hasOwnProperty("members")){this.members=[],this.memberMap={};for(var s=0;s<e.members.length;s++){var u=new a(e.members[s]);this.members.push(u),this.memberMap[u.userId]=u}}this.myMemberState=e.member_state||"none",this.myRole=e.my_role||i.Role.NONE,e.hasOwnProperty("is_muted")?"string"==typeof e.is_muted?this.myMutedState=e.is_muted:"boolean"==typeof e.is_muted?this.myMutedState=e.is_muted?"muted":"unmuted":this.myMutedState="unmuted":this.myMutedState="unmuted",e.hasOwnProperty("member_count")&&(this.memberCount=parseInt(e.member_count)),e.hasOwnProperty("joined_member_count")&&(this.joinedMemberCount=parseInt(e.joined_member_count)),e.hasOwnProperty("last_message")&&"object"===f(e.last_message)&&e.last_message?e.last_message instanceof Tt?this.lastMessage=e.last_message:this.lastMessage=r.buildMessage(e.last_message,this):this.lastMessage=null,e.hasOwnProperty("inviter")&&null!==e.inviter&&"object"===f(e.inviter)&&Object.keys(e.inviter).length>0?this.inviter=new o(e.inviter):this.inviter=null,this.invitedAt=e.invited_at||0,this.joinedAt=e.joined_ts||0,e.hasOwnProperty("is_super")&&"boolean"==typeof e.is_super?this.isSuper=e.is_super:this.isSuper=!1,e.hasOwnProperty("is_broadcast")&&"boolean"==typeof e.is_broadcast?this.isBroadcast=e.is_broadcast:this.isBroadcast=!1,e.hasOwnProperty("is_public")&&"boolean"==typeof e.is_public?this.isPublic=e.is_public:this.isPublic=!1,e.hasOwnProperty("hidden_state")?this.hiddenState=e.hidden_state:this.hiddenState=i.HiddenState.UNHIDDEN,e.hasOwnProperty("is_discoverable")&&"boolean"==typeof e.is_discoverable?this.isDiscoverable=e.is_discoverable:this.isDiscoverable=this.isPublic,e.hasOwnProperty("ts_message_offset")&&(this._messageOffsetTimestamp=e.ts_message_offset),e.hasOwnProperty("message_survival_seconds")&&"number"==typeof e.message_survival_seconds&&(this.messageSurvivalSeconds=e.message_survival_seconds)}},{key:"addMember",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!this.isSuper&&!this.isBroadcast){var n=B.get(this._iid),r=n.Member,i=this.removeMember(e);i&&i.state===r.JOINED&&(e.state=r.JOINED),this.memberMap[e.userId]=e,this.members.push(e),this.memberCount++,this.updateReadReceipt(e.userId,t),this.updateDeliveryReceipt(e.userId,t)}}},{key:"removeMember",value:function(e){var t=null;if(!this.isSuper&&!this.isBroadcast&&this.memberMap.hasOwnProperty(e.userId)){delete this.memberMap[e.userId];for(var n=0;n<this.members.length;n++){var r=this.members[n];if(r.userId===e.userId){t=r,this.members.splice(n,1);break}}this.memberCount--}return t}},{key:"parse",value:function(e){this._update(e)}},{key:"update",value:function(e){this.__update(e),this._update(e)}},{key:"isIdentical",value:function(e){return e&&this.url===e.url}},{key:"isEqual",value:function(e){return ae.deepEqual(this,e)}},{key:"createMemberListQuery",value:function(){return new(0,B.get(this._iid).MemberListQuery)(this.url)}},{key:"createBannedUserListQuery",value:function(){return new(0,B.get(this._iid).BannedUserListQuery)({channelUrl:this.url,isOpenChannel:this.isOpenChannel()})}},{key:"refresh",value:function(e){return B.get(this._iid).GroupChannel.getChannelWithoutCache(this.url,e)}},{key:"updateChannel",value:function(){var e=this,t=me.toArray(arguments),n=void 0;"function"==typeof t[t.length-1]&&(n=t.pop());var r=B.get(this._iid),i=r.GroupChannel,o=r.GroupChannelParams;if(t[0]instanceof o&&1===t.length)return ue(this._iid,function(n){var r=t[0];r.channelUrl=e.url,r._validate()?N.get(e._iid).container.apiClient.updateGroupChannel(h(h({},r),{},{operatorUserIds:r.operatorUserIds}),function(e,t){var r=null;e||(r=i.upsert(t)),n(e,r)}):n(me.error,null)},n);if(3===t.length){var a=new o;return a.channelUrl=this.url,a.name=t[0],"string"==typeof t[1]?a.coverUrl=t[1]:a.coverImage=t[1],a.data=t[2],n?this.updateChannel(a,n):this.updateChannel(a)}if(4===t.length){var s=new o;return s.channelUrl=this.url,s.isDistinct=t[0],s.name=t[1],"string"==typeof t[1]?s.coverUrl=t[2]:s.coverImage=t[2],s.data=t[3],n?this.updateChannel(s,n):this.updateChannel(s)}if(5===t.length){var u=new o;return u.channelUrl=this.url,u.isDistinct=t[0],u.name=t[1],"string"==typeof t[2]?u.coverUrl=t[2]:u.coverImage=t[2],u.data=t[3],u.customType=t[4],n?this.updateChannel(u,n):this.updateChannel(u)}return ue(this._iid,function(e){return e(me.error,null)},n)}},{key:"invite",value:function(e,t){var n=null,r=me.parse(arguments,[new me({type:"array",constraint:function(e){return e.length>0&&e.every(function(e){return!!e.userId&&"string"==typeof e.userId})}}),new me({type:"callback"})]),i=S(r,3);return n=i[0],e=i[1],t=i[2],n?ue(this._iid,function(e){return e(me.error,null)},t):this.inviteWithUserIds(e.map(function(e){return e.userId}),t)}},{key:"inviteWithUserIds",value:function(e,t){var n=this,r=null,i=me.parse(arguments,[new me({type:"array",constraint:function(e){return e.every(function(e){return"string"==typeof e})}}),new me({type:"callback"})]),o=S(i,3);return r=o[0],e=o[1],t=o[2],ue(this._iid,function(t){r?t(r,null):N.get(n._iid).container.apiClient.inviteToGroupChannel({channelUrl:n.url,userIds:e},function(e,r){var i=null;e||(i=B.get(n._iid).GroupChannel.upsert(r)),t(e,i)})},t)}},{key:"acceptInvitation",value:function(e,t){var n=this,r=null,i=me.parse(arguments,[new me({type:"string",optional:!0,defaultValue:null}),new me({type:"callback"})]),o=S(i,3);return r=o[0],e=o[1],t=o[2],ue(this._iid,function(t){r?t(r,null):N.get(n._iid).container.apiClient.acceptInvitation({channelUrl:n.url,accessCode:e},function(e,r){var i=null;e||((i=B.get(n._iid).GroupChannel.upsert(r)).myMemberState="joined"),t(e,i)})},t)}},{key:"declineInvitation",value:function(e){var t=this;return ue(this._iid,function(e){N.get(t._iid).container.apiClient.declineInvitation({channelUrl:t.url},function(n,r){var i=null;if(!n){var o=B.get(t._iid).GroupChannel;(i=o.upsert(r)).myMemberState="none",t.isPublic||o.removeCachedChannel(t.url)}e(n,i)})},e)}},{key:"join",value:function(e,t){var n=this,r=null,i=me.parse(arguments,[new me({type:"string",optional:!0,defaultValue:null}),new me({type:"callback"})]),o=S(i,3);return r=o[0],e=o[1],t=o[2],ue(this._iid,function(t){r?t(r,null):N.get(n._iid).container.apiClient.joinGroupChannel({channelUrl:n.url,accessCode:e},function(e,r){var i=null;e||((i=B.get(n._iid).GroupChannel.upsert(r)).myMemberState="joined"),t(e,i)})},t)}},{key:"leave",value:function(e){var t=this;return ue(this._iid,function(e){N.get(t._iid).container.apiClient.leaveGroupChannel({channelUrl:t.url},function(t,n){return e(t,null)})},e)}},{key:"muteUser",value:function(e,t,n,r){return this.muteUserWithUserId(e?e.userId:null,t,n,r)}},{key:"muteUserWithUserId",value:function(e,t,n,r){var i=this,o=null,a=me.parse(arguments,[new me({type:"string"}),new me({type:"number",optional:!0,defaultValue:-1,constraint:function(e){return e>=-1}}),new me({type:"string",optional:!0,defaultValue:""}),new me({type:"callback"})]),s=S(a,5);return o=s[0],e=s[1],t=s[2],n=s[3],r=s[4],ue(this._iid,function(r){o?r(o,null):N.get(i._iid).container.apiClient.muteUser({channelUrl:i.url,userId:e,description:n,seconds:t,isGroupChannel:!0},function(e,t){r(e,null)})},r)}},{key:"unmuteUser",value:function(e,t){return this.unmuteUserWithUserId(e?e.userId:null,t)}},{key:"unmuteUserWithUserId",value:function(e,t){var n=this,r=null,i=me.parse(arguments,[new me({type:"string"}),new me({type:"callback"})]),o=S(i,3);return r=o[0],e=o[1],t=o[2],ue(this._iid,function(t){r?t(r,null):N.get(n._iid).container.apiClient.unmuteUser({channelUrl:n.url,userId:e,isGroupChannel:!0},function(e,n){t(e,null)})},t)}},{key:"banUser",value:function(e,t,n,r){return this.banUserWithUserId(e?e.userId:null,t,n,r)}},{key:"banUserWithUserId",value:function(e,t,n,r){var i=this,o=null,a=me.parse(arguments,[new me({type:"string"}),new me({type:"number",optional:!0,defaultValue:-1,constraint:function(e){return e>=-1}}),new me({type:"string"}),new me({type:"callback"})]),s=S(a,5);return o=s[0],e=s[1],t=s[2],n=s[3],r=s[4],ue(this._iid,function(r){o?r(o,null):N.get(i._iid).container.apiClient.banUser({channelUrl:i.url,userId:e,description:n,seconds:t,isGroupChannel:!0},function(e,t){r(e,null)})},r)}},{key:"unbanUser",value:function(e,t){return this.unbanUserWithUserId(e?e.userId:null,t)}},{key:"unbanUserWithUserId",value:function(e,t){var n=this,r=null,i=me.parse(arguments,[new me({type:"string"}),new me({type:"callback"})]),o=S(i,3);return r=o[0],e=o[1],t=o[2],ue(this._iid,function(t){r?t(r,null):N.get(n._iid).container.apiClient.unbanUser({channelUrl:n.url,userId:e,isGroupChannel:!0},function(e,n){t(e,null)})},t)}},{key:"updateJoinedMemberCount",value:function(){if(!this.isSuper&&!this.isBroadcast){var e=B.get(this._iid).Member;this.joinedMemberCount=this.members.filter(function(t){return t.state===e.JOINED}).length}}},{key:"setLatestMemberCount",value:function(e,t,n){var r=!1;return"number"==typeof e&&"number"==typeof t&&"number"==typeof n&&n>=rr.get(this)&&(rr.set(this,n),r=t!==this.joinedMemberCount||e!==this.memberCount,this.memberCount=e,this.joinedMemberCount=t),r}},{key:"hide",value:function(e,t,n){var r=this,i=null,o=me.parse(arguments,[new me({type:"boolean",optional:!0,defaultValue:!1}),new me({type:"boolean",optional:!0,defaultValue:!0}),new me({type:"callback"})]),a=S(o,4);return i=a[0],e=a[1],t=a[2],n=a[3],ue(this._iid,function(n){i?n(i,null):N.get(r._iid).container.apiClient.hideGroupChannel({channelUrl:r.url,hidePreviousMessages:e,allowAutoUnhide:t},function(i,o){if(!i){var a=B.get(r._iid).GroupChannel;r.isHidden=!0,r.hiddenState=t?a.HiddenState.HIDDEN_ALLOW_AUTO_UNHIDE:a.HiddenState.HIDDEN_PREVENT_AUTO_UNHIDE,e&&r._setGroupChannelUnreadCount(0,0),o.hasOwnProperty("ts_message_offset")&&(r._messageOffsetTimestamp=o.ts_message_offset),a.cachedChannels[r.url]=r}n(i,o)})},n)}},{key:"unhide",value:function(e){var t=this;return ue(this._iid,function(e){N.get(t._iid).container.apiClient.unhideGroupChannel({channelUrl:t.url},function(n,r){if(!n){var i=B.get(t._iid).GroupChannel;t.isHidden=!1,t.hiddenState=i.HiddenState.UNHIDDEN,i.cachedChannels[t.url]=t}e(n,r)})},e)}},{key:"freeze",value:function(e){var t=this;return ue(this._iid,function(e){N.get(t._iid).container.apiClient.freeze({channelUrl:t.url,isGroupChannel:!0,freezing:!0},function(n,r){if(!n){var i=B.get(t._iid).GroupChannel;t.isFrozen=!0,i.cachedChannels[t.url]=t}e(n,null)})},e)}},{key:"unfreeze",value:function(e){var t=this;return ue(this._iid,function(e){N.get(t._iid).container.apiClient.freeze({channelUrl:t.url,isGroupChannel:!0,freezing:!1},function(n,r){if(!n){var i=B.get(t._iid).GroupChannel;t.isFrozen=!1,i.cachedChannels[t.url]=t}e(n,null)})},e)}},{key:"delete",value:function(e){var t=this;return ue(this._iid,function(e){N.get(t._iid).container.apiClient.deleteGroupChannel({channelUrl:t.url},function(n,r){n||B.get(t._iid).GroupChannel.removeCachedChannel(t.url),e(n,r)})},e)}},{key:"markAsRead",value:function(e){var t=this;return ue(this._iid,function(e){var n=B.get(t._iid).Command,r=Fi.getInstance(t._iid),i=n.bRead({channelUrl:t.url});r.sendCommand(i,function(n,i){if(r.getErrorFirstCallback()){var o=[n,i];i=o[0],n=o[1]}if(i)e(i,null);else if(r.currentUser){var a=wt.of(t._iid),s=ye.of(t._iid);t.updateReadReceipt(r.currentUser.userId,n.getJsonElement().ts);var u=!1;(t.unreadMessageCount>0||t.unreadMentionCount>0)&&(t._setGroupChannelUnreadCount(0,0),Object.keys(r.channelHandlers).forEach(function(e){r.channelHandlers[e].onChannelChanged(t)}),u=!0),e(null,null),a.upsert([t]).then(function(){u&&s.send({source:he.EVENT_CHANNEL_CHANGED,payload:{channel:t}}),s.send({source:he.EVENT_READ_RECEIPT_UPDATED,payload:{channel:t}})}).catch(function(e){X.error(e)})}else{var c=new SendBirdException("Connection should be made first.",SendBirdException.CONNECTION_REQUIRED);e(c,null)}})},e)}},{key:"getUnreadMemberCount",value:function(e){var t=N.get(this._iid),n=B.get(this._iid).Member,r=t.container.currentUserId;if(e instanceof Tt&&!e.isAdminMessage()&&r&&!this.isSuper&&!this.isBroadcast){for(var i=0,o=e.createdAt,a=this.members,s=0;s<a.length;s++){var u=a[s];r===u.userId||u.state!==n.JOINED||e.sender&&e.sender.userId===u.userId||(this.cachedReadReceiptStatus[u.userId]||0)<o&&i++}return i}return 0}},{key:"getReadReceipt",value:function(e){return this.getUnreadMemberCount(e)}},{key:"markAsDelivered",value:function(){var e=this,t=Fi.getInstance(this._iid),n=t.currentUser?t.currentUser.userId:null;N.get(this._iid).container.apiClient.markAsDelivered({channelUrl:this.url,userId:n},function(t,r){if(t)X.debug(t);else{var i=r.hasOwnProperty("ts")?r.ts:0;e.updateDeliveryReceipt(n,i)}})}},{key:"getUndeliveredMemberCount",value:function(e){var t=N.get(this._iid),n=B.get(this._iid).Member,r=t.container.currentUserId;if(this.cachedDeliveryReceiptStatus&&e instanceof Tt&&!e.isAdminMessage()&&r&&!this.isSuper&&!this.isBroadcast){var i,o=e.createdAt,a=0,s=k(this.members);try{for(s.s();!(i=s.n()).done;){var u=i.value;r===u.userId||u.state!==n.JOINED||e.sender&&e.sender.userId===u.userId||this.cachedDeliveryReceiptStatus[u.userId]<o&&a++}}catch(e){s.e(e)}finally{s.f()}return a}return 0}},{key:"getDeliveryReceipt",value:function(e){return this.getUndeliveredMemberCount(e)}},{key:"getReadMembers",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Fi.getInstance(this._iid);if(n.currentUser&&!this.isSuper&&!this.isBroadcast&&e instanceof Tt&&!e.isAdminMessage()){for(var r=[],i=0;i<this.members.length;i++){var o=this.members[i];if(t||o.userId!==n.currentUser.userId&&o.userId!==e.sender.userId){var a=this.cachedReadReceiptStatus[o.userId]||0;a>=e.createdAt&&r.push(o)}}return r}return[]}},{key:"getUnreadMembers",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Fi.getInstance(this._iid);if(n.currentUser&&!this.isSuper&&!this.isBroadcast&&e instanceof Tt&&!e.isAdminMessage()){for(var r=[],i=0;i<this.members.length;i++){var o=this.members[i];if(t||o.userId!==n.currentUser.userId&&o.userId!==e.sender.userId){var a=this.cachedReadReceiptStatus[o.userId]||0;a<e.createdAt&&r.push(o)}}return r}return[]}},{key:"getReadStatus",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=Fi.getInstance(this._iid);if(n.currentUser&&!this.isSuper&&!this.isBroadcast){for(var r={},i=Object.keys(this.cachedReadReceiptStatus),o=function(o){var a=i[o];if(!t&&a===n.currentUser.userId)return"continue";var s=e.cachedReadReceiptStatus[a],u=e.members.filter(function(e){return e.userId===a});r[a]={user:u.length>0?u[0]:null,last_seen_at:parseInt(s)}},a=0;a<i.length;a++)o(a);return r}return{}}},{key:"updateReadReceipt",value:function(e,t){var n=this.cachedReadReceiptStatus[e];if(!n||n<t){this.cachedReadReceiptStatus[e]=t;var r=Fi.getInstance(this._iid);r.currentUser&&e===r.currentUser.userId&&(this.myLastRead=t)}}},{key:"updateDeliveryReceipt",value:function(e,t){if(this.cachedDeliveryReceiptStatus)if(this.cachedDeliveryReceiptStatus.hasOwnProperty(e)){var n=this.cachedDeliveryReceiptStatus[e];(!n||n<t)&&(this.cachedDeliveryReceiptStatus[e]=t)}else this.cachedDeliveryReceiptStatus[e]=t}},{key:"startTyping",value:function(){var e=Fi.getInstance(this._iid),t=(new Date).getTime(),n=e.Options.typingIndicatorThrottle;("number"!=typeof n||n<1e3||n>9e3)&&(n=1e3);var r=nr.get(this);if(t-r.start>=n){r.end=0,r.start=t;var i=B.get(this._iid).Command.bTypeStart({channelUrl:this.url,time:r.start});e.sendCommand(i,null)}}},{key:"endTyping",value:function(){var e=Fi.getInstance(this._iid),t=(new Date).getTime(),n=e.Options.typingIndicatorThrottle;("number"!=typeof n||n<1e3||n>9e3)&&(n=1e3);var r=nr.get(this);if(t-r.end>=n){r.start=0,r.end=t;var i=B.get(this._iid).Command.bTypeEnd({channelUrl:this.url,time:r.end});e.sendCommand(i,null)}}},{key:"invalidateTypingStatus",value:function(){var e=tr.get(this),t=(new Date).getTime(),n=!1;return Object.keys(e).forEach(function(r){var i=e[r].ts;t-i>=1e4&&(delete e[r],n=!0)}),n}},{key:"getTypingMembers",value:function(){var e=this,t=tr.get(this),n=[];return Object.keys(t).forEach(function(t){var r=e.memberMap[t];r&&n.push(r)}),n}},{key:"getTypingUsers",value:function(){var e=tr.get(this),t=[];return Object.keys(e).forEach(function(n){var r=e[n].user;t.push(r)}),t}},{key:"updateTypingStatus",value:function(e,t){var n=tr.get(this);t?n[e.userId]={user:e,ts:(new Date).getTime()}:delete n[e.userId]}},{key:"isTyping",value:function(){var e=tr.get(this);return 0!==Object.keys(e).length}},{key:"registerScheduledUserMessage",value:function(e,t){var n=this,r=B.get(this._iid),i=r.ScheduledUserMessage,o=r.ScheduledUserMessageParams,a=null,s=me.parse(arguments,[new me({type:o,constraint:function(e){return"string"==typeof e.message&&"string"==typeof e._getScheduleString()}}),new me({type:"callback"})]),u=S(s,3);return a=u[0],e=u[1],t=u[2],ue(this._iid,function(t){a?t(a,null):N.get(n._iid).container.apiClient.registerScheduledUserMessage({groupChannelParams:e,channelUrl:n.url,isOpenChannel:!1},function(e,r){var o=null;if(!e){o=new i(r);var a=Fi.getInstance(n._iid).currentUser;a&&o._sender&&a.userId===o._sender.userId&&(a.nickname=o._sender.nickname,a.plainProfileUrl=o._sender.plainProfileUrl,a.metaData=o._sender.metaData)}t(e,o)})},t)}},{key:"getPushPreference",value:function(e){var t=this;return ue(this._iid,function(e){N.get(t._iid).container.apiClient.getMyPushTriggerOption({channelUrl:t.url},function(n,r){var i=null;if(!n){try{i=r.enable}catch(e){i=!1}t.isPushEnabled=i}e&&e(n,i)})},e)}},{key:"setPushPreference",value:function(e,t){var n=this;return ue(this._iid,function(t){var r=B.get(n._iid).GroupChannel;N.get(n._iid).container.apiClient.setMyPushTriggerOption({channelUrl:n.url,enable:e},function(e,i){e||(n.isPushEnabled=i.enable,n.isPushEnabled||(n.myPushTriggerOption=r.PushTriggerOption.OFF)),t(e,i)})},t)}},{key:"getMyPushTriggerOption",value:function(e){var t=this;return ue(this._iid,function(e){N.get(t._iid).container.apiClient.getMyPushTriggerOption({channelUrl:t.url},function(r,i){var o=null;if(!r){try{o=i.push_trigger_option||n.PushTriggerOption.DEFAULT}catch(e){X.debug(e)}t.myPushTriggerOption=o}e(r,o)})},e)}},{key:"setMyPushTriggerOption",value:function(e,t){var n=this,r=B.get(this._iid),i=r.GroupChannel,o=null,a=me.parse(arguments,[new me({type:i.PushTriggerOption}),new me({type:"callback"})]),s=S(a,3);return o=s[0],e=s[1],t=s[2],ue(this._iid,function(t){o?t(o,null):N.get(n._iid).container.apiClient.setMyPushTriggerOption({channelUrl:n.url,pushTriggerOption:e},function(e,r){var i=null;if(!e){try{i=r.push_trigger_option}catch(e){X.debug(e)}n.myPushTriggerOption=i}t(e,i)})},t)}},{key:"setMyCountPreference",value:function(e,t){var n=this,r=B.get(this._iid),i=r.GroupChannel,o=null,a=me.parse(arguments,[new me({type:i.CountPreference}),new me({type:"callback"})]),s=S(a,3);return o=s[0],e=s[1],t=s[2],ue(this._iid,function(t){o?t(o,null):N.get(n._iid).container.apiClient.setMyCountPreference({channelUrl:n.url,countPreference:e},function(e,r){var o=null;e||(o=n.myCountPreference=r.count_preference,n._setGroupChannelUnreadCount(n.unreadMessageCount,n.unreadMentionCount),i.cachedChannels[n.url]=n),t(e,o)})},t)}},{key:"resetMyHistory",value:function(e){var t=this;return ue(this._iid,function(e){N.get(t._iid).container.apiClient.resetMyHistory({channelUrl:t.url},function(n,r){if(!n&&r.hasOwnProperty("ts_message_offset")){var i=B.get(t._iid).GroupChannel;t._messageOffsetTimestamp=r.ts_message_offset,i.cachedChannels[t.url]=t}e(n,r)})},e)}}],[{key:"MemberStateFilter",get:function(){return{ALL:"all",JOINED:"joined_only",INVITED:"invited_only",INVITED_BY_FRIEND:"invited_by_friend",INVITED_BY_NON_FRIEND:"invited_by_non_friend"}}},{key:"PushTriggerOption",get:function(){return{DEFAULT:"default",ALL:"all",MENTION_ONLY:"mention_only",OFF:"off"}}},{key:"CountPreference",get:function(){return{ALL:"all",UNREAD_MESSAGE_COUNT_ONLY:"unread_message_count_only",UNREAD_MENTION_COUNT_ONLY:"unread_mention_count_only",OFF:"off"}}},{key:"HiddenState",get:function(){return{UNHIDDEN:"unhidden",HIDDEN_ALLOW_AUTO_UNHIDE:"hidden_allow_auto_unhide",HIDDEN_PREVENT_AUTO_UNHIDE:"hidden_prevent_auto_unhide"}}},{key:"PublicChannelFilter",get:function(){return{ALL:"all",PUBLIC:"public",PRIVATE:"private"}}},{key:"SuperChannelFilter",get:function(){return{ALL:"all",SUPER:"super",NON_SUPER:"nonsuper",BROADCAST_ONLY:"broadcast_only"}}},{key:"UnreadChannelFilter",get:function(){return{ALL:"all",UNREAD_MESSAGE:"unread_message"}}},{key:"HiddenChannelFilter",get:function(){return{ALL:"all",UNHIDDEN:"unhidden_only",HIDDEN:"hidden_only",HIDDEN_ALLOW_AUTO_UNHIDE:"hidden_allow_auto_unhide",HIDDEN_PREVENT_AUTO_UNHIDE:"hidden_prevent_auto_unhide"}}},{key:"Role",get:function(){return{OPERATOR:"operator",NONE:"none"}}},{key:"UnreadItemKey",get:function(){return{GROUP_CHANNEL_UNREAD_MENTION_COUNT:"group_channel_unread_mention_count",NONSUPER_UNREAD_MENTION_COUNT:"non_super_group_channel_unread_mention_count",SUPER_UNREAD_MENTION_COUNT:"super_group_channel_unread_mention_count",GROUP_CHANNEL_UNREAD_MESSAGE_COUNT:"group_channel_unread_message_count",NONSUPER_UNREAD_MESSAGE_COUNT:"non_super_group_channel_unread_message_count",SUPER_UNREAD_MESSAGE_COUNT:"super_group_channel_unread_message_count",GROUP_CHANNEL_INVITATION_COUNT:"group_channel_invitation_count",NONSUPER_INVITATION_COUNT:"non_super_group_channel_invitation_count",SUPER_INVITATION_COUNT:"super_group_channel_invitation_count"}}},{key:"cachedChannels",get:function(){return Zn[this._iid]||(Zn[this._iid]={}),Zn[this._iid]}},{key:"createGroupChannelCollection",value:function(){return new Xn({iid:this._iid})}},{key:"buildFromSerializedData",value:function(e){var t=B.get(this._iid),n=t.User,r=t.Member,i=t.GroupChannel,o=t.BaseMessage,a=t.UserMessage,s=t.FileMessage,u=t.AdminMessage,c=St.deserialize(e),l=function(e){return null!=e&&"object"===f(e)?e.messageType===o.MESSAGE_TYPE_USER?new a(a.objectify(h(h({},e),{},{channel:{url:e.channelUrl,channelType:e.channelType},user:e.sender,mentionedUsers:e.mentionedUsers}))):e.messageType===o.MESSAGE_TYPE_FILE?new s(s.objectify(h(h({},e),{},{channel:{url:e.channelUrl,channelType:e.channelType},user:e.sender,mentionedUsers:e.mentionedUsers}))):new u(u.objectify(h(h({},e),{},{channel:{url:e.channelUrl,channelType:e.channelType},mentionedUsers:e.mentionedUsers}))):null}(c.lastMessage);return new i({channel_url:c.url,name:c.name,cover_url:c.coverUrl,data:c.data,custom_type:c.customType,invited_at:c.invitedAt,created_at:c.createdAt/1e3,joined_ts:c.joinedAt,is_access_code_required:c.isAccessCodeRequired,is_distinct:c.isDistinct,is_super:c.isSuper,is_broadcast:c.isBroadcast,is_public:c.isPublic,is_discoverable:c.isDiscoverable,is_hidden:c.isHidden,is_ephemeral:c.isEphemeral,is_muted:c.myMutedState,is_push_enabled:c.isPushEnabled,freeze:c.isFrozen,unread_message_count:c.unreadMessageCount,unread_mention_count:c.unreadMentionCount,push_trigger_option:c.myPushTriggerOption,count_preference:c.myCountPreference,hidden_state:c.hiddenState,member_count:c.memberCount,joined_member_count:c.joinedMemberCount,member_state:c.myMemberState,my_role:c.myRole,user_last_read:c.myLastRead,ts_message_offset:c.messageOffsetTimestamp,message_survival_seconds:c.messageSurvivalSeconds,read_receipt:c.cachedReadReceiptStatus,delivery_receipt:c.cachedDeliveryReceiptStatus,members:c.members.map(function(e){return r.objectify(h({},e))}),last_message:l,created_by:null!==c.creator&&void 0!==c.creator&&"object"===f(c.creator)?n.objectify(c.creator):null,inviter:null!==c.inviter&&void 0!==c.inviter&&"object"===f(c.inviter)?n.objectify(c.inviter):null,metadata:c.metadata,cached_primary_key:c.cachedPrimaryKey})}},{key:"upsert",value:function(e){var t=B.get(this._iid).GroupChannel,n=new t(e);if(t.cachedChannels.hasOwnProperty(n.url)){if(n.isEphemeral){var r=t.cachedChannels[n.url];e.last_message=r.lastMessage,e.unread_message_count=r.unreadMessageCount}t.cachedChannels[n.url].update(e)}else t.cachedChannels[n.url]=n;return t.cachedChannels[n.url]}},{key:"removeCachedChannel",value:function(e){var t=B.get(this._iid),n=t.GroupChannel,r=t.FileMessageQueue;n.cachedChannels[e]&&delete n.cachedChannels[e],r.delete(e)}},{key:"clearCache",value:function(){Zn[this._iid]={},B.get(this._iid).FileMessageQueue.clear()}},{key:"getChannel",value:function(e,t){var n=null,r=null,i=me.parse(arguments,[new me({type:"string",constraint:function(e){return e.length>0}}),new me({type:"string",optional:!0,nullable:!0,defaultValue:null}),new me({type:"callback"})]),o=S(i,4);if(n=o[0],e=o[1],r=o[2],t=o[3],n)return ue(this._iid,function(e){e(n,null)},t);var a=B.get(this._iid),s=a.GroupChannel;return s.cachedChannels[e]?ue(this._iid,function(t){t(null,s.cachedChannels[e])},t):s.getChannelWithoutCache(e,r,t)}},{key:"getChannelWithoutCache",value:function(e,t){var n=this,r=null,i=null,o=me.parse(arguments,[new me({type:"string",constraint:function(e){return e.length>0}}),new me({type:"string",optional:!0,nullable:!0,defaultValue:null}),new me({type:"callback"})]),a=S(o,4);return r=a[0],e=a[1],i=a[2],t=a[3],ue(this._iid,function(t){r?t(r,null):N.get(n._iid).container.apiClient.getGroupChannel({channelUrl:e,internalCall:i,showMember:!0},function(e,r){var i=null;e||(i=n.upsert(r)),t(e,i)})},t)}},{key:"createDistinctChannelIfNotExist",value:function(e,t){var n=this,r=B.get(this._iid),i=r.GroupChannelParams,o=null,a=me.parse(arguments,[new me({type:i,constraint:function(e){return e._validate()}}),new me({type:"callback"})]),s=S(a,3);return o=s[0],e=s[1],t=s[2],ue(this._iid,function(t){o?t(o,null):(e.isPublic||(e.accessCode=null),N.get(n._iid).container.apiClient.createGroupChannel(h(h({},e),{},{isDistinct:!0}),function(e,r){var i=null;if(!e){var o=B.get(n._iid).GroupChannel;i={channel:new o(r),isCreated:r.is_created},o.cachedChannels[i.channel.url]=i.channel}t(e,i)}))},t)}},{key:"createChannel",value:function(){var e=this,t=me.toArray(arguments),n=void 0;"function"==typeof t[t.length-1]&&(n=t.pop());var r=B.get(this._iid),i=r.GroupChannel,o=r.GroupChannelParams;if(t[0]instanceof o&&1===t.length)return ue(this._iid,function(n){var r=t[0];r.isPublic||(r.accessCode=null),r._validate()?N.get(e._iid).container.apiClient.createGroupChannel(r,function(e,t){var r=null;e||(r=new i(t),i.cachedChannels[r.url]=r),n(e,r)}):n(me.error,null)},n);if(Array.isArray(t[0])){var a=new o;switch(t.length){case 1:a.addUsers(t[0]);break;case 2:a.addUsers(t[0]),a.isDistinct=t[1];break;case 3:a.addUsers(t[0]),a.isDistinct=t[1],a.customType=t[2];break;case 5:a.addUsers(t[0]),a.isDistinct=t[1],a.name=t[2],"string"==typeof t[3]?a.coverUrl=t[3]:a.coverImage=t[3],a.data=t[4];break;case 6:a.addUsers(t[0]),a.isDistinct=t[1],a.name=t[2],"string"==typeof t[3]?a.coverUrl=t[3]:a.coverImage=t[3],a.data=t[4],a.customType=t[5];break;default:return ue(this._iid,function(e){return e(me.error,null)},n)}return n?i.createChannel(a,n):i.createChannel(a)}return ue(this._iid,function(e){return e(me.error,null)},n)}},{key:"createChannelWithUserIds",value:function(){var e=me.toArray(arguments),t=void 0;"function"==typeof e[e.length-1]&&(t=e.pop());var n=B.get(this._iid),r=n.GroupChannel,i=n.GroupChannelParams,o=new i;switch(e.length){case 1:o.addUserIds(e[0]);break;case 2:o.addUserIds(e[0]),o.isDistinct=e[1];break;case 3:o.addUserIds(e[0]),o.isDistinct=e[1],o.customType=e[2];break;case 5:o.addUserIds(e[0]),o.isDistinct=e[1],o.name=e[2],"string"==typeof e[3]?o.coverUrl=e[3]:o.coverImage=e[3],o.data=e[4];break;case 6:o.addUserIds(e[0]),o.isDistinct=e[1],o.name=e[2],"string"==typeof e[3]?o.coverUrl=e[3]:o.coverImage=e[3],o.data=e[4],o.customType=e[5];break;default:return ue(this._iid,function(e){return e(me.error,null)},t)}return t?r.createChannel(o,t):r.createChannel(o)}},{key:"createMyGroupChannelListQuery",value:function(){return new(0,B.get(this._iid).GroupChannelListQuery)}},{key:"createPublicGroupChannelListQuery",value:function(){return new(0,B.get(this._iid).PublicGroupChannelListQuery)}},{key:"markAsReadAllLastSentAt",get:function(){return er[this._iid]||0},set:function(e){er[this._iid]=e}},{key:"getChannelCount",value:function(e,t){return Fi.getInstance(this._iid).getGroupChannelCount(e,t)}},{key:"getUnreadItemCount",value:function(e,t){return Fi.getInstance(this._iid).getUnreadItemCount(e,t)}},{key:"getTotalUnreadMessageCount",value:function(){var e=me.toArray(arguments),t="function"==typeof e[e.length-1]?e.pop():null,n=Fi.getInstance(this._iid);return n.getTotalUnreadMessageCount.apply(n,C(e).concat([t]))}},{key:"getTotalUnreadChannelCount",value:function(e){return Fi.getInstance(this._iid).getTotalUnreadChannelCount(e)}}]),n}(Rt),or=function(e){function t(t){var n=e.call(this,t)||this;return n.state="",n.role="",n.isMuted=!1,n.isBlockedByMe=!1,n.isBlockingMe=!1,n.restrictionInfo=null,t&&n._update(t),n}return P(t,e),t.objectify=function(e){var t=B.get(this._iid),n=t.User,r=t.RestrictedUser,i=t.RestrictionInfo,o=e.state,a=e.role,s=void 0===a?"":a,u=e.isMuted,c=void 0!==u&&u,l=e.isBlockedByMe,h=void 0!==l&&l,f=e.isBlockingMe,d=void 0!==f&&f,p=e.restrictionInfo,g=void 0===p?null:p,y=c?r.objectify(e):n.objectify(e);if(y.state=o,y.role=s,y.is_muted=c,y.is_blocked_by_me=h,y.is_blocking_me=d,g){var v=i.objectify(g);y.restriction_type=v.restriction_type,y.muted_description=v.description,y.muted_end_at=v.end_at}return y},t.buildFromSerializedData=function(e){var t=B.get(this._iid).Member,n=St.deserialize(e);return new t(t.objectify(x({},n)))},t.prototype._update=function(e){var t=B.get(this._iid),n=t.RestrictedUser,r=t.RestrictionInfo;this.state=e.state,this.role=e.role||ir.Role.NONE,e.hasOwnProperty("is_muted")&&(this.isMuted=e.is_muted),e.hasOwnProperty("is_blocked_by_me")&&(this.isBlockedByMe=e.is_blocked_by_me),e.hasOwnProperty("is_blocking_me")&&(this.isBlockingMe=e.is_blocking_me),this.isMuted&&(this.restrictionInfo=new r(e),this.restrictionInfo.restrictionType=n.RestrictionType.MUTED)},t.prototype.parse=function(e){this._update(e)},Object.defineProperty(t,"JOINED",{get:function(){return"joined"},enumerable:!1,configurable:!0}),Object.defineProperty(t,"INVITED",{get:function(){return"invited"},enumerable:!1,configurable:!0}),t}(kt),ar=function(e){function t(t){var n=e.call(this,t)||this;return n.role="",n.isBlockedByMe=!1,t&&n._update(t),n}return P(t,e),t.objectify=function(e){var t=B.get(this._iid).User,n=e.role,r=void 0===n?"":n,i=e.isBlockedByMe,o=void 0!==i&&i,a=t.objectify(e);return a.role=r,a.is_blocked_by_me=o,a},t.buildFromSerializedData=function(e){var t=B.get(this._iid).Sender,n=St.deserialize(e);return new t(t.objectify(x({},n)))},t.prototype.parse=function(e){this._update(e)},t.prototype._update=function(e){this.role=e.role||ir.Role.NONE,e.hasOwnProperty("is_blocked_by_me")&&(this.isBlockedByMe=e.is_blocked_by_me)},t}(kt),sr=function(e){v(n,e);var t=w(n);function n(e){var r;return d(this,n),(r=t.call(this,e)).restrictionInfo=null,e&&r._update(e),r}return g(n,[{key:"_update",value:function(e){var t=B.get(this._iid).RestrictionInfo;this.restrictionInfo=new t(e)}}],[{key:"RestrictionType",get:function(){return{MUTED:"muted",BANNED:"banned"}}},{key:"objectify",value:function(e){var t=B.get(this._iid),n=t.User,r=t.RestrictionInfo,i=e.restrictionInfo,o=void 0===i?{}:i;return h(h({},n.objectify(e)),r.objectify(o))}}]),n}(kt),ur=function(){function e(e){this.emojiHash=null,this.emojiCategories=null,e&&this._update(e)}return e.prototype._update=function(e){var t=B.get(this._iid).EmojiCategory;this.emojiHash=e.emoji_hash||"",this.emojiCategories=e.emoji_categories?e.emoji_categories.map(function(e){return new t(e)}):[]},e}(),cr=function(){function e(e){this.id=null,this.name=null,this.url=null,this.emojis=null,e&&this._update(e)}return e.prototype._update=function(e){var t=B.get(this._iid).Emoji;this.id=e.id||0,this.name=e.name||"",this.url=e.url||"",this.emojis=e.emojis?e.emojis.map(function(e){return new t(e)}):[]},e}(),lr=function(){function e(e){this.key=null,this.url=null,e&&this._update(e)}return e.prototype._update=function(e){this.key=e.key,this.url=e.url},e}(),hr={},fr={},dr=new WeakMap,pr=function(e){v(n,e);var t=w(n);function n(e){var r;return d(this,n),(r=t.call(this,e)).channelType=Rt.CHANNEL_TYPE_OPEN,r.participantCount=0,dr.set(_(r),0),r.operators=[],e&&r._update(e),r}return g(n,[{key:"_update",value:function(e){var t=B.get(this._iid).User;e.hasOwnProperty("participant_count")&&(this.participantCount=parseInt(e.participant_count)),e.hasOwnProperty("operators")&&Array.isArray(e.operators)&&(this.operators=e.operators.map(function(e){return new t(e)}))}},{key:"parse",value:function(e){this._update(e)}},{key:"update",value:function(e){this.__update(e),this._update(e)}},{key:"createParticipantListQuery",value:function(){return new(0,B.get(this._iid).ParticipantListQuery)({channelUrl:this.url})}},{key:"createMutedUserListQuery",value:function(){return new(0,B.get(this._iid).MutedUserListQuery)({channelUrl:this.url,isOpenChannel:!0})}},{key:"createBannedUserListQuery",value:function(){return new(0,B.get(this._iid).BannedUserListQuery)({channelUrl:this.url,isOpenChannel:!0})}},{key:"isOperator",value:function(e){return!!e&&this.isOperatorWithUserId(e.userId)}},{key:"isOperatorWithUserId",value:function(e){return this.operators.map(function(e){return e.userId}).indexOf(e)>-1}},{key:"refresh",value:function(e){return B.get(this._iid).OpenChannel.getChannelWithoutCache(this.url,e)}},{key:"enter",value:function(e){var t=this;return ue(this._iid,function(e){var n=B.get(t._iid).Command.bEnter({channelUrl:t.url}),r=Fi.getInstance(t._iid);r.sendCommand(n,function(n,i){if(r.getErrorFirstCallback()){var o=[n,i];i=o[0],n=o[1]}i?(i=i?new U(i.message,i.code):null,e(i,null)):(B.get(t._iid).OpenChannel.enteredChannels[t.url]=t,ye.of(t._iid).send({source:he.EVENT_CHANNEL_ENTER,payload:{channel:t}}),t.refresh(function(){return e(null,null)}))})},e)}},{key:"exit",value:function(e){var t=this;return ue(this._iid,function(e){var n=B.get(t._iid),r=n.Command,i=n.FileMessageQueue,o=r.bExit({channelUrl:t.url}),a=Fi.getInstance(t._iid);a.sendCommand(o,function(n,r){if(a.getErrorFirstCallback()){var o=[n,r];r=o[0],n=o[1]}r?(r=r?new U(r.message,r.code):null,e(r,null)):(delete B.get(t._iid).OpenChannel.enteredChannels[t.url],i.delete(t.url),ye.of(t._iid).send({source:he.EVENT_CHANNEL_EXIT,payload:{channel:t}}),e(null,null))})},e)}},{key:"updateChannel",value:function(){var e=this,t=me.toArray(arguments),n=null;"function"==typeof t[t.length-1]&&(n=t.pop());var r=B.get(this._iid),i=r.OpenChannel,o=r.OpenChannelParams;if(t[0]instanceof o&&1===t.length)return ue(this._iid,function(n){var r=t[0];r.channelUrl=e.url,r._validate()?N.get(e._iid).container.apiClient.updateOpenChannel(r,function(e,t){var r=null;e||(r=i.upsert(t)),n(e,r)}):n(me.error,null)},n);if(3===t.length){var a=new o;return a.channelUrl=this.url,a.name=t[0],a.coverUrlOrImage=t[1],a.data=t[2],a.operatorUserIds=this.operators.map(function(e){return e.userId}),n?this.updateChannel(a,n):this.updateChannel(a)}if(4===t.length){var s=new o;return s.channelUrl=this.url,s.name=t[0],s.coverUrlOrImage=t[1],s.data=t[2],Array.isArray(t[3])&&(s.operatorUserIds=t[3]),n?this.updateChannel(s,n):this.updateChannel(s)}if(5===t.length){var u=new o;return u.channelUrl=this.url,u.name=t[0],u.coverUrlOrImage=t[1],u.data=t[2],Array.isArray(t[3])&&(u.operatorUserIds=t[3]),u.customType=t[4],n?this.updateChannel(u,n):this.updateChannel(u)}return ue(this._iid,function(e){return e(me.error,null)},n)}},{key:"updateChannelWithOperatorUserIds",value:function(){var e=me.toArray(arguments),t=void 0;switch("function"==typeof e[e.length-1]&&(t=e.pop()),e.length){case 4:case 5:return t?this.updateChannel(params,t):this.updateChannel(params);default:return ue(this._iid,function(e){return e(me.error,null)},t)}}},{key:"muteUser",value:function(e,t,n,r){return this.muteUserWithUserId(e?e.userId:null,t,n,r)}},{key:"muteUserWithUserId",value:function(e,t,n,r){var i=this,o=null,a=me.parse(arguments,[new me({type:"string"}),new me({type:"number",optional:!0,defaultValue:-1,constraint:function(e){return e>=-1}}),new me({type:"string",optional:!0,defaultValue:""}),new me({type:"callback"})]),s=S(a,5);return o=s[0],e=s[1],t=s[2],n=s[3],r=s[4],ue(this._iid,function(r){o?r(o,null):N.get(i._iid).container.apiClient.muteUser({channelUrl:i.url,userId:e,description:n,seconds:t,isGroupChannel:!1},function(e,t){r(e,null)})},r)}},{key:"unmuteUser",value:function(e,t){return this.unmuteUserWithUserId(e?e.userId:null,t)}},{key:"unmuteUserWithUserId",value:function(e,t){var n=this,r=null,i=me.parse(arguments,[new me({type:"string"}),new me({type:"callback"})]),o=S(i,3);return r=o[0],e=o[1],t=o[2],ue(this._iid,function(t){r?t(r,null):N.get(n._iid).container.apiClient.unmuteUser({channelUrl:n.url,userId:e,isGroupChannel:!1},function(e,n){t(e,null)})},t)}},{key:"banUser",value:function(e,t,n){return this.banUserWithUserId(e?e.userId:null,t,n)}},{key:"banUserWithUserId",value:function(e,t,n){var r=this,i=null,o=me.parse(arguments,[new me({type:"string"}),new me({type:"number",optional:!0,defaultValue:-1,constraint:function(e){return e>=-1}}),new me({type:"callback"})]),a=S(o,4);return i=a[0],e=a[1],t=a[2],n=a[3],ue(this._iid,function(n){i?n(i,null):N.get(r._iid).container.apiClient.banUser({channelUrl:r.url,userId:e,description:null,seconds:t,isGroupChannel:!1},function(e,t){n(e,null)})},n)}},{key:"unbanUser",value:function(e,t){return this.unbanUserWithUserId(e?e.userId:null,t)}},{key:"unbanUserWithUserId",value:function(e,t){var n=this,r=null,i=me.parse(arguments,[new me({type:"string"}),new me({type:"callback"})]),o=S(i,3);return r=o[0],e=o[1],t=o[2],ue(this._iid,function(t){r?t(r,null):N.get(n._iid).container.apiClient.unbanUser({channelUrl:n.url,userId:e,isGroupChannel:!1},function(e,n){t(e,null)})},t)}},{key:"setLatestParticipantCount",value:function(e,t){var n=!1;return"number"==typeof e&&"number"==typeof t&&t>=dr.get(this)&&(dr.set(this,t),n=e!==this.participantCount,this.participantCount=e),n}},{key:"delete",value:function(e){var t=this;return ue(this._iid,function(e){N.get(t._iid).container.apiClient.deleteOpenChannel({channelUrl:t.url},function(n,r){n||(delete B.get(t._iid).OpenChannel.cachedChannels[t.url],B.get(t._iid).FileMessageQueue.delete(t.url)),e(n,r)})},e)}}],[{key:"cachedChannels",get:function(){return hr[this._iid]||(hr[this._iid]={}),hr[this._iid]}},{key:"enteredChannels",get:function(){return fr[this._iid]||(fr[this._iid]={}),fr[this._iid]}},{key:"buildFromSerializedData",value:function(e){var t=B.get(this._iid),n=t.User,r=t.OpenChannel,i=St.deserialize(e);return new r({channel_url:i.url,name:i.name,cover_url:i.coverUrl,data:i.data,custom_type:i.customType,created_at:i.createdAt/1e3,freeze:i.isFrozen,is_ephemeral:i.isEphemeral,participant_count:i.participantCount,operators:i.operators.map(function(e){return n.objectify(e)})})}},{key:"getChannel",value:function(e,t){var n=null,r=null,i=me.parse(arguments,[new me({type:"string",constraint:function(e){return e.length>0}}),new me({type:"string",optional:!0,nullable:!0,defaultValue:null}),new me({type:"callback"})]),o=S(i,4);if(n=o[0],e=o[1],r=o[2],t=o[3],n)return ue(this._iid,function(e){e(n,null)},t);var a=B.get(this._iid),s=a.OpenChannel;return s.cachedChannels[e]?ue(this._iid,function(t){t(null,s.cachedChannels[e])},t):s.getChannelWithoutCache(e,r,t)}},{key:"getChannelWithoutCache",value:function(e,t){var n=this,r=null,i=null,o=me.parse(arguments,[new me({type:"string",constraint:function(e){return e.length>0}}),new me({type:"string",optional:!0,nullable:!0,defaultValue:null}),new me({type:"callback"})]),a=S(o,4);return r=a[0],e=a[1],i=a[2],t=a[3],ue(this._iid,function(t){r?t(r,null):N.get(n._iid).container.apiClient.getOpenChannel({channelUrl:e,internalCall:i},function(e,r){var i=null;e||(i=B.get(n._iid).OpenChannel.upsert(r)),t(e,i)})},t)}},{key:"createChannel",value:function(){var e=this,t=me.toArray(arguments),n=null;"function"==typeof t[t.length-1]&&(n=t.pop());var r=B.get(this._iid),i=r.OpenChannel,o=r.OpenChannelParams;if(t[0]instanceof o&&1===t.length)return ue(this._iid,function(n){var r=t[0];r._validate()?N.get(e._iid).container.apiClient.createOpenChannel(r,function(t,r){var i=null;t||(i=B.get(e._iid).OpenChannel.upsert(r)),n(t,i)}):n(me.error,null)},n);var a=new o;switch(t.length){case 0:break;case 1:a.name=t[0];break;case 2:a.name=t[0],a.coverUrlOrImage=t[1];break;case 3:a.name=t[0],a.coverUrlOrImage=t[1],a.data=t[2];break;case 4:a.name=t[0],a.coverUrlOrImage=t[1],a.data=t[2],a.operatorUserIds=t[3];break;case 5:a.name=t[0],a.coverUrlOrImage=t[1],a.data=t[2],a.operatorUserIds=t[3],a.customType=t[4];break;default:return ue(this._iid,function(e){return e(me.error,null)},n)}return n?i.createChannel(a,n):i.createChannel(a)}},{key:"createChannelWithOperatorUserIds",value:function(){var e=me.toArray(arguments),t=void 0;switch("function"==typeof e[e.length-1]&&(t=e.pop()),e.length){case 4:case 5:return t?this.createChannel.apply(this,C(e).concat([t])):this.createChannel.apply(this,C(e));default:return ue(this._iid,function(e){return e(me.error,null)},t)}}},{key:"upsert",value:function(e){var t=new(0,B.get(this._iid).OpenChannel)(e);return this.cachedChannels.hasOwnProperty(t.url)?this.cachedChannels[t.url].update(e):this.cachedChannels[t.url]=t,this.cachedChannels[t.url]}},{key:"removeCachedChannel",value:function(e){this.cachedChannels[e]&&delete this.cachedChannels[e],B.get(this._iid).FileMessageQueue.delete(e)}},{key:"clearCache",value:function(){hr[this._iid]={},B.get(this._iid).FileMessageQueue.clear()}},{key:"clearEnteredChannels",value:function(){fr[this._iid]={}}},{key:"createOpenChannelListQuery",value:function(){return new(0,B.get(this._iid).OpenChannelListQuery)}}]),n}(Rt),gr="default",yr=function(){function e(e){this.name=gr,this.volume=1,e&&this._update(e)}return e.prototype._update=function(e){e.hasOwnProperty("name")&&(this.name=e.name),e.hasOwnProperty("volume")&&(this.volume=e.volume)},e.objectify=function(e){var t=e.name,n=void 0===t?gr:t,r=e.volume;return{name:n,volume:void 0===r?1:r}},e.prototype.serialize=function(){return St.serialize(this)},e}(),vr=function(){function e(e,t){void 0===t&&(t=[]),this.key=e,this.value=Array.isArray(t)&&t.every(function(e){return"string"==typeof e})?t:[]}return e.prototype.encode=function(){return{key:this.key,value:this.value||[]}},e}(),mr=new WeakMap,br=function(){function e(t){d(this,e),this._mentionType=e.MentionType.USERS,this._mentionedUserIds=[],this._cachedMentionedUsers=[],this._cachedMentionedUserIds=[],this._metaArrays=[],mr.set(this,null),this._parentMessageId=null,this._reqId=null,this.data=null,this.customType=null,this.pushNotificationDeliveryOption=null,this.appleCriticalAlertOptions=null,this.isReplyToChannel=!1,this.mentionedMessageTemplate=null,t&&this._update(t)}return g(e,[{key:"mentionType",get:function(){return this._mentionType},set:function(e){var t=B.get(this._iid).BaseMessageParams;Object.keys(t.MentionType).map(function(e){return t.MentionType[e]}).indexOf(e)>-1&&(this._mentionType=e)}},{key:"mentionedUserIds",get:function(){return this._cachedMentionedUserIds},set:function(e){if(Array.isArray(e))for(var t=Fi.getInstance(this._iid),n=0;n<e.length;n++){var r=e[n];if("string"!=typeof r){this._cachedMentionedUserIds=[],this._mentionedUserIds=[];break}this._mentionedUserIds.indexOf(r)<0&&t.currentUser&&t.currentUser.userId!==r&&(this._cachedMentionedUserIds.push(r),this._mentionedUserIds.push(r))}}},{key:"mentionedUsers",get:function(){return this._cachedMentionedUsers},set:function(e){if(Array.isArray(e))for(var t=Fi.getInstance(this._iid),n=0;n<e.length;n++){var r=e[n];if(!r.hasOwnProperty("userId")){this._cachedMentionedUsers=[],this._mentionedUserIds=[];break}this._mentionedUserIds.indexOf(r.userId)<0&&t.currentUser&&t.currentUser.userId!==r.userId&&(this._cachedMentionedUsers.push(r),this._mentionedUserIds.push(r.userId))}}},{key:"metaArrayKeys",get:function(){return this._metaArrays.map(function(e){return e.key})},set:function(e){var t=B.get(this._iid).MessageMetaArray,n={};if(Array.isArray(e)){this._metaArrays=[];for(var r=0;r<e.length;r++)"string"!=typeof e[r]||n[e[r]]||(n[e[r]]=!0,this._metaArrays.push(new t(e[r])))}}},{key:"metaArrays",get:function(){return this._metaArrays},set:function(e){var t=B.get(this._iid).MessageMetaArray;if(Array.isArray(e)){this._metaArrays=[];for(var n=0;n<e.length;n++){var r=e[n];if(r instanceof t){var i,o=this._metaArrays.map(function(e){return e.key}).indexOf(r.key);o<0?this._metaArrays.push(r):(i=this._metaArrays[o].value).push.apply(i,C(r.value))}}}}},{key:"rootMessageId",get:function(){return mr.get(this)}},{key:"parentMessageId",get:function(){return this._parentMessageId},set:function(e){mr.set(this,e),this._parentMessageId=e}},{key:"_serialize",value:function(e){return St.serialize(this,function(t){t.hasOwnProperty("_mentionType")&&(t.mentionType=t._mentionType,delete t._mentionType),t.hasOwnProperty("_mentionedUserIds")&&(t.mentionedUserIds=t._mentionedUserIds,delete t._mentionedUserIds),t.hasOwnProperty("_cachedMentionedUsers")&&(t.cachedMentionedUsers=t._cachedMentionedUsers,delete t._cachedMentionedUsers),t.hasOwnProperty("_cachedMentionedUserIds")&&(t.cachedMentionedUserIds=t._cachedMentionedUserIds,delete t._cachedMentionedUserIds),t.hasOwnProperty("_metaArrays")&&(t.metaArrays=t._metaArrays,delete t._metaArrays),t.hasOwnProperty("_parentMessageId")&&(t.parentMessageId=t._parentMessageId,delete t._parentMessageId),e&&e(t)})}},{key:"_update",value:function(e){e.hasOwnProperty("mention_type")&&(this._mentionType=e.mention_type),e.hasOwnProperty("mentioned_user_ids")&&(this._mentionedUserIds=e.mentioned_user_ids),e.hasOwnProperty("mentioned_message_template")&&(this.mentionedMessageTemplate=e.mentioned_message_template),e.hasOwnProperty("cached_mentioned_users")&&(this._cachedMentionedUsers=e.cached_mentioned_users),e.hasOwnProperty("cached_mentioned_user_ids")&&(this._cachedMentionedUserIds=e.cached_mentioned_user_ids),e.hasOwnProperty("meta_arrays")&&(this._metaArrays=e.meta_arrays.map(function(e){return new vr(e.key,e.value)})),e.hasOwnProperty("parent_message_id")&&(this.parentMessageId=e.parent_message_id),e.hasOwnProperty("data")&&(this.data=e.data),e.hasOwnProperty("custom_type")&&(this.customType=e.custom_type),e.hasOwnProperty("push_notification_delivery_option")&&(this.pushNotificationDeliveryOption=e.push_notification_delivery_option),e.hasOwnProperty("apple_critical_alert_options")&&(this.appleCriticalAlertOptions=new yr(e.apple_critical_alert_options)),e.hasOwnProperty("is_reply_to_channel")&&(this.isReplyToChannel=e.is_reply_to_channel)}},{key:"_validate",value:function(){var e=B.get(this._iid),t=e.BaseMessageParams,n=e.MessageMetaArray,r=mr.get(this);return Object.keys(t.MentionType).map(function(e){return t.MentionType[e]}).indexOf(this.mentionType)>-1&&this._mentionedUserIds.every(function(e){return"string"==typeof e})&&("string"==typeof this.mentionedMessageTemplate||null===this.mentionedMessageTemplate)&&Array.isArray(this._metaArrays)&&this._metaArrays.every(function(e){return e instanceof n})&&("number"==typeof r||null===r)&&("number"==typeof this._parentMessageId||null===this._parentMessageId)&&("string"==typeof this.data||null===this.data)&&("string"==typeof this.customType||null===this.customType)&&(null===this.pushNotificationDeliveryOption||Object.keys(t.PushNotificationDeliveryOption).map(function(e){return t.PushNotificationDeliveryOption[e]}).indexOf(this.pushNotificationDeliveryOption)>-1)&&(null===this.appleCriticalAlertOptions||this.appleCriticalAlertOptions instanceof yr)&&"boolean"==typeof this.isReplyToChannel}}],[{key:"_objectify",value:function(t){var n=t.mentionType,r=void 0===n?e.MentionType.USERS:n,i=t.mentionedUserIds,o=void 0===i?[]:i,a=t.mentionedMessageTemplate,s=void 0===a?null:a,u=t.cachedMentionedUsers,c=void 0===u?[]:u,l=t.cachedMentionedUserIds,h=void 0===l?[]:l,f=t.metaArrays,d=void 0===f?[]:f,p=t.parentMessageId,g=void 0===p?null:p,y=t.pushNotificationDeliveryOption,v=void 0===y?null:y,m=t.appleCriticalAlertOptions,b=void 0===m?null:m,_=t.isReplyToChannel;return{mention_type:r,mentioned_user_ids:o,mentioned_message_template:s,cached_mentioned_users:c,cached_mentioned_user_ids:h,meta_arrays:d,parent_message_id:g,push_notification_delivery_option:v,apple_critical_alert_options:b,is_reply_to_channel:void 0!==_&&_}}},{key:"MentionType",get:function(){return{USERS:"users",CHANNEL:"channel"}}},{key:"PushNotificationDeliveryOption",get:function(){return{DEFAULT:"default",SUPPRESS:"suppress"}}}]),e}(),_r=function(e){v(n,e);var t=w(n);function n(e){var r;return d(this,n),(r=t.call(this,e)).message=null,r.pollId=void 0,r._translationTargetLanguages=[],e&&r._update(e),r}return g(n,[{key:"serialize",value:function(){return E(m(n.prototype),"_serialize",this).call(this,function(e){e.hasOwnProperty("_translationTargetLanguages")&&(e.translationTargetLanguages=e._translationTargetLanguages,delete e._translationTargetLanguages)})}},{key:"targetLanguages",get:function(){return this.translationTargetLanguages},set:function(e){this.translationTargetLanguages=e}},{key:"translationTargetLanguages",get:function(){return this._translationTargetLanguages},set:function(e){if(Array.isArray(e)){for(var t=0;t<e.length;t++)if("string"!=typeof e[t])return void(this._translationTargetLanguages=[]);this._translationTargetLanguages=e}}},{key:"_update",value:function(e){E(m(n.prototype),"_update",this).call(this,e),e.hasOwnProperty("message")&&(this.message=e.message),e.hasOwnProperty("translation_target_languages")&&(this._translationTargetLanguages=e.translation_target_languages),e.hasOwnProperty("poll_id")&&(this.pollId=e.poll_id)}},{key:"_validate",value:function(){return E(m(n.prototype),"_validate",this).call(this)&&("string"==typeof this.message||null===this.message)&&Array.isArray(this.translationTargetLanguages)&&this.translationTargetLanguages.every(function(e){return"string"==typeof e})&&("number"==typeof this.pollId||null===this.pollId||void 0===this.pollId)}}],[{key:"objectify",value:function(e){var t=e.message,n=void 0===t?null:t,r=e.data,i=void 0===r?null:r,o=e.customType,a=void 0===o?null:o,s=e.translationTargetLanguages,u=void 0===s?[]:s,c=e.pollId,l=void 0===c?void 0:c;return h(h({},br._objectify(e)),{},{message:n,data:i,custom_type:a,translation_target_languages:u,poll_id:l})}}]),n}(br),wr=function(){function e(e,t,n){void 0===t&&(t=[]),void 0===n&&(n=0),this.key=e,this.userIds=t,this.updatedAt=n;for(var r={},i=0,o=this.userIds;i<o.length;i++)r[o[i]]=this.updatedAt;this._version=r}return Object.defineProperty(e.prototype,"isEmpty",{get:function(){return 0===this.userIds.length},enumerable:!1,configurable:!0}),e.createFromJson=function(e){var t=e.key,n=e.user_ids,r=e.updated_at;return"string"==typeof t&&t&&Array.isArray(n)&&n.length>0&&"number"==typeof r?new this(t,n,r):null},e.objectify=function(e){return{key:e.key,user_ids:e.userIds,updated_at:e.updatedAt}},e.prototype._applyEvent=function(e){if(e.key===this.key&&(!this._version[e.userId]||this._version[e.userId]<e.updatedAt)){var t=this.userIds.indexOf(e.userId);switch(e.operation){case"add":t<0&&this.userIds.push(e.userId);break;case"delete":t>=0&&this.userIds.splice(t,1)}this._version[e.userId]=e.updatedAt}},e}(),Er=function(e){v(n,e);var t=w(n);function n(e){var r;return d(this,n),(r=t.call(this,e)).messageType=Tt.MESSAGE_TYPE_USER,r.message=null,r._sender=null,r.translations={},r.requestState=null,r.requestedMentionUserIds=[],r.errorCode=0,r.messageSurvivalSeconds=-1,r.plugins=[],r.poll=null,r._messageParams=null,e&&r._update(e),r}return g(n,[{key:"applyPollUpdateEvent",value:function(e){var t=B.get(this._iid),n=t.Poll,r=t.PollUpdateEvent,i=null,o=me.parse(arguments,[new me({type:r,constraint:function(e){return Object.values(n.Status).includes(e.status)}})]),a=S(o,2);if(i=a[0],e=a[1],!i&&this.poll&&this.poll.id===e.poll.id){if(e.status===n.Status.REMOVED)return this.poll=new n(n.objectify(this.poll)),this.poll.details.status=e.status,!0;if(this.poll.details.updatedAt<e.poll.details.updatedAt)return this.poll=e.poll,!0}return!1}},{key:"applyPollVoteEvent",value:function(e){var t=B.get(this._iid),n=t.PollVoteEvent,r=null,i=me.parse(arguments,[new me({type:n})]),o=S(i,2);if(r=o[0],e=o[1],!r&&this.poll&&this.poll.id===e.pollId){var a,s=k(this.poll.details.options);try{for(s.s();!(a=s.n()).done;){var u=a.value;if(u._applyEvent(e))return!0}}catch(r){s.e(r)}finally{s.f()}}return!1}},{key:"_update",value:function(e){var t=Fi.getInstance(this._iid),n=B.get(this._iid),r=n.Sender,i=n.Plugin,o=n.Poll;this.message=String(e.message),this._sender=new r(e.user),this.reqId=e.hasOwnProperty("req_id")?String(e.req_id):"",this.translations=e.hasOwnProperty("translations")?e.translations:{},this.requestState=this.messageId>0?t.MessageRequestState.SUCCEEDED:t.MessageRequestState.FAILED,e.hasOwnProperty("sending_status")&&(this.requestState=e.sending_status,this.requestState===t.MessageSendingStatus.CANCELED&&(this.requestState=t.MessageRequestState.FAILED)),this.requestedMentionUserIds=[],e.hasOwnProperty("requested_mention_user_ids")&&(this.requestedMentionUserIds=e.requested_mention_user_ids),this.errorCode=0,e.hasOwnProperty("error_code")&&(this.errorCode=e.error_code),this.messageSurvivalSeconds=-1,e.hasOwnProperty("message_survival_seconds")&&(this.messageSurvivalSeconds=e.message_survival_seconds),this.plugins=[],e.hasOwnProperty("plugins")&&Array.isArray(e.plugins)&&(this.plugins=e.plugins.map(function(e){return new i(e)})),this.poll=null,e.hasOwnProperty("poll")&&(this.poll=new o(e.poll)),e.hasOwnProperty("message_params")&&(this._messageParams=new _r(e.message_params))}},{key:"sender",get:function(){var e=Fi.getInstance(this._iid),t=B.get(this._iid).GroupChannel;if(this._sender&&e.Options.useMemberAsMessageSender&&this.isGroupChannel()){var n=t.cachedChannels[this.channelUrl];if(n){var r=n.memberMap[this._sender.userId];r&&(this._sender.nickname!==r.nickname&&(this._sender.nickname=r.nickname),this._sender.plainProfileUrl!==r.plainProfileUrl&&(this._sender.plainProfileUrl=r.plainProfileUrl),ae.deepEqual(this._sender.metaData,r.metaData)||(this._sender.metaData=r.metaData))}}return this._sender},set:function(e){this._sender=e}},{key:"isResendable",value:function(){var e=Fi.getInstance(this._iid);return this.sendingStatus===e.MessageSendingStatus.FAILED&&ae.isResendableError(this.errorCode)}},{key:"serialize",value:function(){var e=this;return E(m(n.prototype),"serialize",this).call(this,function(t){e._messageParams&&(t.messageParams=e._messageParams.serialize())})}},{key:"messageParams",get:function(){return this._messageParams}},{key:"_clone",value:function(){return B.get(this._iid).UserMessage.buildFromSerializedData(this.serialize())}},{key:"_isSentByMe",value:function(){var e=Fi.getInstance(this._iid);return this.sendingStatus===e.MessageSendingStatus.SUCCEEDED&&0===this.updatedAt&&this._sender&&this._sender.userId===e.currentUser.userId}}],[{key:"objectify",value:function(e){var t=Fi.getInstance(this._iid),n=B.get(this._iid),r=n.BaseChannel,i=n.BaseMessageParams,o=n.Sender,a=n.User,s=n.UserMessage,u=n.FileMessage,c=n.AdminMessage,l=n.ThreadInfo,f=n.OGMetaData,d=n.Plugin,p=n.Reaction,g=n.AppleCriticalAlertOptions,y=n.Poll,v=n.UserMessageParams,m=e.messageId,b=e.messageType,_=void 0===b?Tt.MESSAGE_TYPE_BASE:b,w=e.reqId,E=void 0===w?"":w,S=e.user,C=e.channel,O=void 0===C?null:C,T=e.channelUrl,k=void 0===T?"":T,I=e.channelType,A=void 0===I?r.CHANNEL_TYPE_OPEN:I,N=e.message,R=e.data,P=void 0===R?"":R,x=e.customType,M=void 0===x?"":x,L=e.mentionType,D=void 0===L?i.MentionType.USERS:L,j=e.mentionedUsers,U=void 0===j?[]:j,F=e.mentionedUserIds,H=void 0===F?[]:F,V=e.mentionedMessageTemplate,q=void 0===V?null:V,G=e.requestedMentionUserIds,z=void 0===G?[]:G,W=e.reactions,K=void 0===W?[]:W,Y=e.metaArrays,Q=void 0===Y?[]:Y,$=e.rootMessageId,X=void 0===$?0:$,J=e.parentMessageId,Z=void 0===J?0:J,ee=e.parentMessageText,te=void 0===ee?"":ee,ne=e.threadInfo,re=void 0===ne?null:ne,ie=e.isReplyToChannel,oe=void 0!==ie&&ie,ae=e.parentMessage,se=void 0===ae?null:ae,ue=e.translations,ce=void 0===ue?{}:ue,le=e.sendingStatus,he=e.errorCode,fe=void 0===he?0:he,de=e.silent,pe=void 0!==de&&de,ge=e.isGlobalBlocked,ye=void 0!==ge&&ge,ve=e.messageSurvivalSeconds,me=void 0===ve?-1:ve,be=e.ogMetaData,_e=void 0===be?null:be,we=e.isOperatorMessage,Ee=void 0!==we&&we,Se=e.plugins,Ce=void 0===Se?[]:Se,Oe=e.appleCriticalAlertOptions,Te=e.poll,ke=void 0===Te?null:Te,Ie=e.createdAt,Ae=e.updatedAt,Ne=void 0===Ae?0:Ae,Re=e.messageParams,Pe=void 0===Re?null:Re,xe=e.isAutoResendRegistered,Me=void 0!==xe&&xe,Le={};switch(Le.req_id=E,Le.msg_id=m,_){case Tt.MESSAGE_TYPE_USER:Le.type="MESG";break;case Tt.MESSAGE_TYPE_FILE:Le.type="FILE";break;case Tt.MESSAGE_TYPE_ADMIN:Le.type="ADMM"}if(Le.user=o.objectify(h({},S)),Le.channel_url=O?O.url:k,Le.channel_type=O?O.channelType:A,Le.message=N,Le.data=P,Le.custom_type=M,Le.translations=ce,Le.is_global_block=!!ye,Le.ts=Ie,Le.updated_at=Ne,Le.mention_type=D,Le.mentioned_users=U.map(function(e){return a.objectify(e)}),Le.mentioned_user_ids=H,Le.mentioned_message_template=q,Le.requested_mention_user_ids=z,Le.reactions=K.map(function(e){return p.objectify(e)}),Le.metaarray={},Q.forEach(function(e){var t=e.key;Le.metaarray[t]=e.value}),Le.metaarray_key_order=Q.map(function(e){return e.key}),Le.root_message_id=X,Le.parent_message_id=Z,Le.parent_message_text=te,re&&(Le.thread_info=l.objectify(re)),Le.is_reply_to_channel=oe,se)switch(se.messageType){case Tt.MESSAGE_TYPE_USER:Le.parent_message_info=s._objectifySerializedData(se);break;case Tt.MESSAGE_TYPE_FILE:Le.parent_message_info=u._objectifySerializedData(se);break;case Tt.MESSAGE_TYPE_ADMIN:Le.parent_message_info=c._objectifySerializedData(se)}return Le.sending_status=m>0?t.MessageSendingStatus.SUCCEEDED:t.MessageSendingStatus.FAILED,le&&(Le.sending_status=le),Le.silent=!!pe,Le.error_code=fe,Le.message_survival_seconds=me,_e&&(Le.og_tag=f.objectify(_e)),Le.is_op_msg=!!Ee,Le.plugins=Ce.map(function(e){return d.objectify(e)}),ke&&(Le.poll=y.objectify(ke)),Oe&&(Le.apple_critical_alert_options=g.objectify(Oe)),Pe&&(Le.message_params=v.objectify(Pe)),Le.is_auto_resend_registered=Me,Le}},{key:"build",value:function(e,t,n,r,i,o,a,s,u,c,l,h,f,d,p,g,y,v,m,b,_,w,E,S,C,O,T,k,I,A,N){return this.objectify({messageId:t,reqId:e,user:n,channel:r,message:i,data:o,customType:a,mentionType:d,mentionedUsers:p,mentionedUserIds:b,mentionedMessageTemplate:_,requestedMentionUserIds:E,reactions:f,metaArrays:h,rootMessageId:g,parentMessageId:y,parentMessageText:v,threadInfo:m,translations:s,sendingStatus:w,errorCode:S,isGlobalBlocked:u,messageSurvivalSeconds:C,ogMetaData:O,isOperatorMessage:T,plugins:k,appleCriticalAlertOptions:I,poll:A,createdAt:c,updatedAt:l,messageParams:N})}},{key:"buildFromSerializedData",value:function(e){var t=B.get(this._iid).UserMessage,n=St.deserialize(e);return new t(this._objectifySerializedData(n))}},{key:"_objectifySerializedData",value:function(e){return B.get(this._iid).UserMessage.objectify(h(h({},e),{},{channel:{url:e.channelUrl,channelType:e.channelType},user:e.sender,messageParams:e.messageParams?new _r(_r.objectify(e.messageParams)):null}))}}]),n}(Tt),Sr=function(e){v(n,e);var t=w(n);function n(e){var r;return d(this,n),(r=t.call(this,e)).fileName=null,r.mimeType=null,r.fileSize=null,r._isUpdate=!1,r._file=null,r._fileType=null,r._fileUrl=null,r._thumbnailSizes=[],e&&r._update(e),r}return g(n,[{key:"serialize",value:function(){return E(m(n.prototype),"_serialize",this).call(this,function(e){e.hasOwnProperty("_isUpdate")&&(e.isUpdate=e._isUpdate,delete e._isUpdate),e.hasOwnProperty("_file")&&(e.file=e._file,delete e._file),e.hasOwnProperty("_fileType")&&(e.fileType=e._fileType,delete e._fileType),e.hasOwnProperty("_fileUrl")&&(e.fileUrl=e._fileUrl,delete e._fileUrl),e.hasOwnProperty("_thumbnailSizes")&&(e.thumbnailSizes=e._thumbnailSizes,delete e._thumbnailSizes)})}},{key:"file",get:function(){return this._file},set:function(e){ae.isFile(e)&&(this._fileUrl=null,this._file=e,ne.isFile(e)?this._fileType=j.FILE:ne.isBlob(e)?this._fileType=j.BLOB:ne.isFileLikeObject(e)?this._fileType=j.BLOB_LIKE_OBJECT:"string"==typeof e&&(this._fileType=j.URL))}},{key:"fileType",get:function(){return this._fileType}},{key:"fileUrl",get:function(){return this._fileUrl},set:function(e){"string"==typeof e&&(this._fileUrl=e,this._file=null)}},{key:"thumbnailSizes",get:function(){return this._thumbnailSizes},set:function(e){if(Array.isArray(e)){for(var t=0;t<e.length;t++)if("object"!==f(e[t])||"number"!=typeof e[t].maxWidth||"number"!=typeof e[t].maxHeight)return void(this._thumbnailSizes=[]);this._thumbnailSizes=e}}},{key:"_update",value:function(e){E(m(n.prototype),"_update",this).call(this,e),e.hasOwnProperty("file_name")&&(this.fileName=e.file_name),e.hasOwnProperty("mime_type")&&(this.mimeType=e.mime_type),e.hasOwnProperty("file_size")&&(this.fileSize=e.file_size),e.hasOwnProperty("is_update")&&(this._isUpdate=e.is_update),e.hasOwnProperty("file")&&(this._file=e.file),e.hasOwnProperty("file_type")&&(this._fileType=e.file_type),e.hasOwnProperty("file_url")&&(this._fileUrl=e.file_url),e.hasOwnProperty("thumbnail_sizes")&&(this._thumbnailSizes=e.thumbnail_sizes)}},{key:"_validate",value:function(){return E(m(n.prototype),"_validate",this).call(this)&&(this._isUpdate||ae.isFile(this.file)||"string"==typeof this.fileUrl)&&("string"==typeof this.fileName||null===this.fileName)&&("string"==typeof this.mimeType||null===this.mimeType)&&("number"==typeof this.fileSize||null===this.fileSize)&&(null===this._thumbnailSizes||this._thumbnailSizes.every(function(e){return"object"===f(e)&&e.maxWidth>0&&e.maxHeight>0}))}}],[{key:"objectify",value:function(e){var t=e.fileName,n=void 0===t?null:t,r=e.mimeType,i=void 0===r?null:r,o=e.fileSize,a=void 0===o?null:o,s=e.data,u=void 0===s?null:s,c=e.customType,l=void 0===c?null:c,f=e.isUpdate,d=void 0!==f&&f,p=e.file,g=void 0===p?null:p,y=e.fileType,v=void 0===y?null:y,m=e.fileUrl,b=void 0===m?null:m,_=e.thumbnailSizes,w=void 0===_?[]:_;return h(h({},br._objectify(e)),{},{file_name:n,mime_type:i,file_size:a,data:u,custom_type:l,is_update:d,file:g,file_type:v,file_url:b,thumbnail_sizes:w})}}]),n}(br),Cr=function(e){v(n,e);var t=w(n);function n(e){var r;return d(this,n),(r=t.call(this,e)).messageType=Tt.MESSAGE_TYPE_FILE,r.plainUrl=null,r.name="File",r.size=0,r.type=null,r.thumbnails=[],r._sender=null,r.requireAuth=null,r.requestState=null,r.requestedMentionUserIds=[],r.errorCode=0,r.messageSurvivalSeconds=-1,r._messageParams=null,e&&r._update(e),r}return g(n,[{key:"_update",value:function(e){var t=Fi.getInstance(this._iid),n=N.get(this._iid).container.auth,r=B.get(this._iid).Sender;if(this._sender=new r(e.user),this.requireAuth=!!e.hasOwnProperty("require_auth")&&e.require_auth,e.hasOwnProperty("url")&&(this.plainUrl=e.url.split("?auth=")[0]),this.name=e.hasOwnProperty("name")?e.name:"File",this.size=parseInt(e.size)||0,this.type=e.type,e.hasOwnProperty("custom")&&(this.data=e.custom),e.hasOwnProperty("file")){var i=e.file;i.hasOwnProperty("url")&&(this.plainUrl=i.url),i.hasOwnProperty("name")&&(this.name=i.name),i.hasOwnProperty("size")&&(this.size=i.size),i.hasOwnProperty("type")&&(this.type=i.type),i.hasOwnProperty("custom")&&(this.data=i.custom)}if(Object.defineProperty(this,"url",{value:this.requireAuth?"".concat(this.plainUrl,"?auth=").concat(n.eKey):this.plainUrl,configurable:!0,writable:!1}),this.reqId=e.hasOwnProperty("req_id")?String(e.req_id):"",this.thumbnails=e.hasOwnProperty("thumbnails")?e.thumbnails:[],this.requireAuth)for(var o=0;o<this.thumbnails.length;o++)this.thumbnails[o].plainUrl=String(this.thumbnails[o].url).split("?auth=")[0],this.thumbnails[o].url=this.requireAuth?"".concat(this.thumbnails[o].plainUrl,"?auth=").concat(n.eKey):this.thumbnails[o].plainUrl;this.requestState=this.messageId>0?t.MessageRequestState.SUCCEEDED:t.MessageRequestState.FAILED,e.hasOwnProperty("sending_status")&&(this.requestState=e.sending_status,this.requestState===t.MessageSendingStatus.CANCELED&&(this.requestState=t.MessageRequestState.FAILED)),this.requestedMentionUserIds=[],e.hasOwnProperty("requested_mention_user_ids")&&(this.requestedMentionUserIds=e.requested_mention_user_ids),this.errorCode=0,e.hasOwnProperty("error_code")&&(this.errorCode=e.error_code),this.messageSurvivalSeconds=-1,e.hasOwnProperty("message_survival_seconds")&&(this.messageSurvivalSeconds=e.message_survival_seconds),e.hasOwnProperty("message_params")&&(this._messageParams=new Sr(e.message_params))}},{key:"sender",get:function(){var e=Fi.getInstance(this._iid),t=B.get(this._iid).GroupChannel;if(this._sender&&e.Options.useMemberAsMessageSender&&this.isGroupChannel()){var n=t.cachedChannels[this.channelUrl];if(n){var r=n.memberMap[this._sender.userId];r&&(this._sender.nickname!==r.nickname&&(this._sender.nickname=r.nickname),this._sender.plainProfileUrl!==r.plainProfileUrl&&(this._sender.plainProfileUrl=r.plainProfileUrl),ae.deepEqual(this._sender.metaData,r.metaData)||(this._sender.metaData=r.metaData))}}return this._sender},set:function(e){this._sender=e}},{key:"isResendable",value:function(){var e=Fi.getInstance(this._iid);return this.sendingStatus===e.MessageSendingStatus.FAILED&&ae.isResendableError(this.errorCode)}},{key:"serialize",value:function(){var e=this;return E(m(n.prototype),"serialize",this).call(this,function(t){e._messageParams&&(t.messageParams=e._messageParams.serialize())})}},{key:"messageParams",get:function(){return this._messageParams}},{key:"_clone",value:function(){var e=B.get(this._iid).FileMessage.buildFromSerializedData(this.serialize());if(this._messageParams&&e._messageParams){var t=this._messageParams.file;t&&ne.isBlob(t)&&(e._messageParams.file=t.slice())}return e}},{key:"_isSentByMe",value:function(){var e=Fi.getInstance(this._iid);return this.sendingStatus===e.MessageSendingStatus.SUCCEEDED&&0===this.updatedAt&&this._sender&&this._sender.userId===e.currentUser.userId}}],[{key:"objectify",value:function(e){var t=Fi.getInstance(this._iid),n=B.get(this._iid),r=n.BaseChannel,i=n.BaseMessageParams,o=n.Sender,a=n.User,s=n.UserMessage,u=n.FileMessage,c=n.AdminMessage,l=n.ThreadInfo,f=n.OGMetaData,d=n.Reaction,p=n.FileMessageParams,g=n.AppleCriticalAlertOptions,y=e.messageId,v=e.messageType,m=void 0===v?Tt.MESSAGE_TYPE_BASE:v,b=e.reqId,_=void 0===b?"":b,w=e.user,E=void 0===w?{}:w,S=e.channel,C=e.plainUrl,O=e.name,T=void 0===O?null:O,k=e.type,I=e.size,A=void 0===I?0:I,N=e.data,R=void 0===N?"":N,P=e.customType,x=void 0===P?"":P,M=e.mentionType,L=void 0===M?i.MentionType.USERS:M,D=e.mentionedUsers,j=void 0===D?[]:D,U=e.mentionedUserIds,F=void 0===U?[]:U,H=e.requestedMentionUserIds,V=void 0===H?[]:H,q=e.reactions,G=void 0===q?[]:q,z=e.metaArrays,W=void 0===z?[]:z,K=e.rootMessageId,Y=void 0===K?0:K,Q=e.parentMessageId,$=void 0===Q?0:Q,X=e.parentMessageText,J=void 0===X?"":X,Z=e.threadInfo,ee=void 0===Z?null:Z,te=e.isReplyToChannel,ne=void 0!==te&&te,re=e.parentMessage,ie=void 0===re?null:re,oe=e.thumbnails,ae=void 0===oe?[]:oe,se=e.requireAuth,ue=void 0!==se&&se,ce=e.sendingStatus,le=e.errorCode,he=void 0===le?0:le,fe=e.silent,de=void 0!==fe&&fe,pe=e.isGlobalBlocked,ge=void 0!==pe&&pe,ye=e.messageSurvivalSeconds,ve=void 0===ye?-1:ye,me=e.ogMetaData,be=void 0===me?null:me,_e=e.isOperatorMessage,we=void 0!==_e&&_e,Ee=e.appleCriticalAlertOptions,Se=e.createdAt,Ce=e.updatedAt,Oe=void 0===Ce?0:Ce,Te=e.messageParams,ke=void 0===Te?null:Te,Ie=e.isAutoResendRegistered,Ae=void 0!==Ie&&Ie,Ne={};switch(Ne.req_id=_,Ne.msg_id=y,m){case Tt.MESSAGE_TYPE_USER:Ne.type="MESG";break;case Tt.MESSAGE_TYPE_FILE:Ne.type="FILE";break;case Tt.MESSAGE_TYPE_ADMIN:Ne.type="ADMM"}Ne.user=o.objectify(h({},E)),Ne.channel_url=S.url,Ne.channel_type=S.channelType===r.CHANNEL_TYPE_OPEN?r.CHANNEL_TYPE_OPEN:r.CHANNEL_TYPE_GROUP,Ne.url=C,Ne.name=T,Ne.type=k,Ne.size=A,Ne.custom=R,Ne.custom_type=x,Ne.thumbnails=ae,Ne.require_auth=ue,Ne.is_global_block=!!ge,Ne.ts=Se,Ne.updated_at=Oe,Ne.mention_type=L,Ne.mentioned_users=j.map(function(e){return a.objectify(e)}),Ne.mentioned_user_ids=F,Ne.requested_mention_user_ids=V,Ne.reactions=G.map(function(e){return d.objectify(e)}),Ne.metaarray={};for(var Re=0;Re<W.length;Re++){var Pe=W[Re].key;Ne.metaarray[Pe]=W[Re].value}if(Ne.metaarray_key_order=W.map(function(e){return e.key}),Ne.root_message_id=Y,Ne.parent_message_id=$,Ne.parent_message_text=J,ee&&(Ne.thread_info=l.objectify(ee)),Ne.is_reply_to_channel=ne,ie)switch(ie.messageType){case r.MESSAGE_TYPE_USER:Ne.parent_message_info=s._objectifySerializedData(ie);break;case r.MESSAGE_TYPE_FILE:Ne.parent_message_info=u._objectifySerializedData(ie);break;case r.MESSAGE_TYPE_ADMIN:Ne.parent_message_info=c._objectifySerializedData(ie)}return Ne.sending_status=y>0?t.MessageSendingStatus.SUCCEEDED:t.MessageSendingStatus.FAILED,ce&&(Ne.sending_status=ce),Ne.silent=!!de,Ne.error_code=he,Ne.message_survival_seconds=ve,be&&(Ne.og_tag=f.objectify(be)),Ne.is_op_msg=!!we,Ee&&(Ne.apple_critical_alert_options=g.objectify(Ee)),ke&&(Ne.message_params=p.objectify(ke)),Ne.is_auto_resend_registered=Ae,Ne}},{key:"build",value:function(e,t,n,r,i,o,a,s,u,c,l,h,f,d,p,g,y,v,m,b,_,w,E,S,C,O,T,k,I,A,N,R){return this.objectify({messageId:t,reqId:e,user:n,channel:r,plainUrl:i,name:o,type:a,size:s,data:u,customType:c,mentionType:v,mentionedUsers:m,mentionedUserIds:S,requestedMentionUserIds:O,reactions:y,metaArrays:g,rootMessageId:b,parentMessageId:_,parentMessageText:w,threadInfo:E,thumbnails:f,requireAuth:d,sendingStatus:C,errorCode:T,isGlobalBlocked:l,messageSurvivalSeconds:k,ogMetaData:I,isOperatorMessage:A,appleCriticalAlertOptions:N,createdAt:h,updatedAt:p,messageParams:R})}},{key:"buildFromSerializedData",value:function(e){var t=B.get(this._iid).FileMessage,n=St.deserialize(e);return new t(this._objectifySerializedData(n))}},{key:"_objectifySerializedData",value:function(e){return B.get(this._iid).FileMessage.objectify(h(h({},e),{},{channel:{url:e.channelUrl,channelType:e.channelType},user:e.sender,messageParams:e.messageParams?new Sr(Sr.objectify(e.messageParams)):null}))}}]),n}(Tt),Or=function(e){v(n,e);var t=w(n);function n(e){var r;return d(this,n),(r=t.call(this,e)).messageType=Tt.MESSAGE_TYPE_ADMIN,r.message="",r.translations={},e&&r._update(e),r}return g(n,[{key:"_update",value:function(e){this.message=String(e.message),this.translations=e.hasOwnProperty("translations")?e.translations:{}}}],[{key:"objectify",value:function(e){var t=B.get(this._iid),n=t.BaseChannel,r=t.BaseMessageParams,i=t.UserMessage,o=t.FileMessage,a=t.AdminMessage,s=t.User,u=t.ThreadInfo,c=t.OGMetaData,l=t.Reaction,h=e.messageId,f=e.messageType,d=void 0===f?Tt.MESSAGE_TYPE_BASE:f,p=e.channel,g=e.message,y=e.data,v=void 0===y?"":y,m=e.customType,b=void 0===m?"":m,_=e.mentionType,w=void 0===_?r.MentionType.USERS:_,E=e.mentionedUsers,S=void 0===E?[]:E,C=e.mentionedMessageTemplate,O=void 0===C?null:C,T=e.reactions,k=void 0===T?[]:T,I=e.metaArrays,A=void 0===I?[]:I,N=e.rootMessageId,R=void 0===N?0:N,P=e.parentMessageId,x=void 0===P?0:P,M=e.parentMessageText,L=void 0===M?"":M,D=e.threadInfo,j=void 0===D?null:D,U=e.isReplyToChannel,F=void 0!==U&&U,H=e.parentMessage,V=void 0===H?null:H,q=e.translations,G=void 0===q?{}:q,z=e.silent,W=void 0!==z&&z,K=e.ogMetaData,Y=void 0===K?null:K,Q=e.createdAt,$=e.updatedAt,X=void 0===$?0:$,J={msg_id:h,channel_url:p.url,channel_type:p.channelType===n.CHANNEL_TYPE_OPEN?n.CHANNEL_TYPE_OPEN:n.CHANNEL_TYPE_GROUP,message:g,data:v,custom_type:b,silent:W,ts:Q,updated_at:X};switch(d){case Tt.MESSAGE_TYPE_USER:J.type="MESG";break;case Tt.MESSAGE_TYPE_FILE:J.type="FILE";break;case Tt.MESSAGE_TYPE_ADMIN:J.type="ADMM"}J.translations=G,J.mention_type=w,J.mentioned_users=S.map(function(e){return s.objectify(e)}),J.mentioned_message_template=O,J.reactions=k.map(function(e){return l.objectify(e)}),J.metaarray={};for(var Z=0;Z<A.length;Z++){var ee=A[Z].key;J.metaarray[ee]=A[Z].value}if(J.metaarray_key_order=A.map(function(e){return e.key}),J.root_message_id=R,J.parent_message_id=x,J.parent_message_text=L,j&&(J.thread_info=u.objectify(j)),J.is_reply_to_channel=F,V)switch(V.messageType){case n.MESSAGE_TYPE_USER:J.parent_message_info=i._objectifySerializedData(V);break;case n.MESSAGE_TYPE_FILE:J.parent_message_info=o._objectifySerializedData(V);break;case n.MESSAGE_TYPE_ADMIN:J.parent_message_info=a._objectifySerializedData(V)}return Y&&(J.og_tag=c.objectify(Y)),J}},{key:"build",value:function(e,t,n,r,i,o,a,s,u,c,l,h,f,d,p,g,y,v){return this.objectify({messageId:e,channel:t,message:n,data:r,customType:i,mentionType:l,mentionedUsers:h,mentionedMessageTemplate:f,reactions:c,metaArrays:u,rootMessageId:d,parentMessageId:p,parentMessageText:g,threadInfo:y,translations:o,ogMetaData:v,createdAt:a,updatedAt:s})}},{key:"buildFromSerializedData",value:function(e){var t=B.get(this._iid).AdminMessage,n=St.deserialize(e);return new t(this._objectifySerializedData(n))}},{key:"_objectifySerializedData",value:function(e){return B.get(this._iid).AdminMessage.objectify(h(h({},e),{},{channel:{url:e.channelUrl,channelType:e.channelType}}))}}]),n}(Tt),Tr=function(){function e(t){d(this,e);var n=B.get(this._iid),r=n.BaseMessage,i=n.BaseMessageParams;this.scheduledId=0,this.scheduledDateTimeString="",this.scheduledTimezone="",this.status=e.Status.SCHEDULED,this.createdAt=0,this.updatedAt=0,this._messageType=r.MESSAGE_TYPE_BASE,this._sender=null,this._channelType="",this.channelUrl="",this.message="",this.customType="",this.data="",this.metaArrays=[],this.mentionType=i.MentionType.USERS,this.mentionedUsers=[],this.pushNotificationDeliveryOption=i.PushNotificationDeliveryOption.DEFAULT,this.translationTargetLanguages=[],this.errorMessage="",this.errorCode=0,this.appleCriticalAlertOptions=null,t&&this._update(t)}return g(e,[{key:"sender",get:function(){var e=Fi.getInstance(this._iid),t=B.get(this._iid).GroupChannel;if(e.Options.useMemberAsMessageSender&&this.isGroupChannel()){var n=t.cachedChannels[this.channelUrl];if(n){var r=n.memberMap[this._sender.userId];r&&(this._sender.nickname!==r.nickname&&(this._sender.nickname=r.nickname),this._sender.plainProfileUrl!==r.plainProfileUrl&&(this._sender.plainProfileUrl=r.plainProfileUrl),ae.deepEqual(this._sender.metaData,r.metaData)||(this._sender.metaData=r.metaData))}}return this._sender},set:function(e){this._sender=e}},{key:"_update",value:function(t){var n=this,r=B.get(this._iid),i=r.User,o=r.Sender,a=r.BaseMessageParams,s=r.MessageMetaArray,u=r.AppleCriticalAlertOptions;this.scheduledId=t.hasOwnProperty("scheduled_id")?parseInt(t.scheduled_id):0,this.scheduledDateTimeString=t.hasOwnProperty("scheduled_dt")?String(t.scheduled_dt):"",this.scheduledTimezone=t.hasOwnProperty("scheduled_timezone")?String(t.scheduled_timezone):"",this.status=t.hasOwnProperty("status")?String(t.status):"",this.createdAt=t.hasOwnProperty("created_at")?parseInt(t.created_at):0,this.updatedAt=t.hasOwnProperty("updated_at")?parseInt(t.updated_at):0,this.channelUrl=t.hasOwnProperty("channel_url")?String(t.channel_url):"",this._channelType=t.hasOwnProperty("channel_type")?String(t.channel_type):"",this._messageType=t.hasOwnProperty("type")?String(t.type):"",this._sender=t.hasOwnProperty("user")?new o(t.user):null,this.message=t.hasOwnProperty("message")?String(t.message):"",this.customType=t.hasOwnProperty("custom_type")?String(t.custom_type):"",this.data=t.hasOwnProperty("data")?String(t.data):"";var c=t.hasOwnProperty("metaarray")?t.metaarray:{},l=t.hasOwnProperty("metaarray_key_order")?t.metaarray_key_order:Object.keys(c).sort(function(e,t){return e.localeCompare(t)});this.metaArrays=[];for(var h=0;h<l.length;h++){var f=l[h];this.metaArrays.push(new s(f,c[f]||[]))}this.mentionType=t.hasOwnProperty("mention_type")?t.mention_type:a.MentionType.USERS,this.mentionedUsers=[],t.hasOwnProperty("mentioned_users")&&t.mentioned_users.forEach(function(e){var t=new i(e);n.mentionedUsers.push(t)}),this.pushNotificationDeliveryOption=t.hasOwnProperty("push_option")?t.push_option:a.PushNotificationDeliveryOption.DEFAULT,this.translationTargetLanguages=t.hasOwnProperty("translation_target_langs")?t.translation_target_langs:[],this.status===e.Status.FAILED&&(t.hasOwnProperty("error")&&t.error.hasOwnProperty("message")&&(this.errorMessage=String(t.error.message)),t.hasOwnProperty("error")&&t.error.hasOwnProperty("code")&&(this.errorCode=parseInt(t.error.code))),t.hasOwnProperty("apple_critical_alert_options")&&(this.appleCriticalAlertOptions=new u(t.apple_critical_alert_options))}},{key:"isOpenChannel",value:function(){var e=B.get(this._iid).BaseChannel;return this._channelType===e.CHANNEL_TYPE_OPEN}},{key:"isGroupChannel",value:function(){var e=B.get(this._iid).BaseChannel;return this._channelType===e.CHANNEL_TYPE_GROUP}},{key:"metaArray",get:function(){var e={};return this.metaArrays.forEach(function(t){e[t.key]=t.value}),e},set:function(e){if("object"===f(e)&&e){var t=B.get(this._iid).MessageMetaArray,n=[];Object.keys(e).forEach(function(r){n.push(new t(r,e[r]))}),this.metaArrays=n}}}],[{key:"Status",get:function(){return{SCHEDULED:"scheduled",SENT:"sent",CANCELED:"canceled",FAILED:"failed"}}}]),e}(),kr=function(){function e(){this.threadInfo=null,this.targetMessageId=0,this.channelUrl=null,this.channelType=null}return e.createFromJson=function(e){var t=B.get(this._iid),n=t.BaseChannel,r=t.ThreadInfo,i=e.thread_info,o=e.root_message_id,a=e.channel_url,s=e.channel_type;if(i&&"object"==typeof i&&("string"==typeof o||"number"==typeof o)&&"string"==typeof a&&"string"==typeof s&&[n.CHANNEL_TYPE_GROUP,n.CHANNEL_TYPE_OPEN].includes(s)){var u=new this;return u.threadInfo=new r(i),u.targetMessageId=parseInt(o+""),u.channelUrl=a,u.channelType=s,u}return null},e}(),Ir=function(){function e(){d(this,e),this.poll=null,this.status=null}return g(e,null,[{key:"createFromJson",value:function(e){var t=B.get(this._iid).Poll,n=e.poll;if("object"===f(n)){var r=new this;return r.poll=new t(n),r.status=n.status,r}return null}}]),e}(),Ar=function(){function e(){d(this,e),this.pollId=null,this.updatedVoteCounts=null,this.votedAt=null}return g(e,null,[{key:"createFromJson",value:function(e){var t=e.poll_id,n=e.updated_vote_counts,r=e.ts;if("number"==typeof t&&Array.isArray(e.updated_vote_counts)&&"number"==typeof r){var i=new this;return i.pollId=t,i.updatedVoteCounts=n.map(function(e){return{optionId:e.option_id,voteCount:e.vote_count}}),i.votedAt=r,i}return null}}]),e}(),Nr=function(){function e(){d(this,e),this.isLoading=!1,this.hasNext=!0,this.limit=20,this.userIdsFilter=[],this.metaDataKeyFilter="",this.metaDataValuesFilter=[],this.nicknameStartsWithFilter=null,this._token=""}return g(e,[{key:"next",value:function(e){var t=this;return ue(this._iid,function(e){"number"==typeof t.limit&&t.limit>0&&Array.isArray(t.userIdsFilter)&&"string"==typeof t.metaDataKeyFilter&&Array.isArray(t.metaDataValuesFilter)&&!!t.metaDataKeyFilter==t.metaDataValuesFilter.length>0&&("string"==typeof t.nicknameStartsWithFilter||null===t.nicknameStartsWithFilter)?t.isLoading?e(new U("Query in progress.",U.QUERY_IN_PROGRESS),null):t.hasNext?(t.isLoading=!0,N.get(t._iid).container.apiClient.loadUserList(h(h({},t),{},{token:t._token}),function(n,r){var i=null;if(!n){var o=B.get(t._iid).User,a=String(r.next);t._token=a,t.hasNext=!!a,i=r.users.map(function(e){return new o(e)})}t.isLoading=!1,e(n,i)})):e(null,[]):e(me.error,null)},e)}}]),e}(),Rr=function(){function e(t){d(this,e),this.isLoading=!1,this.hasNext=!0,this.limit=20,this._isOpenChannel=!1,this._channelUrl=null,this._token="",t.channelUrl&&(this._channelUrl=t.channelUrl),t.isOpenChannel&&(this._isOpenChannel=t.isOpenChannel)}return g(e,[{key:"next",value:function(e){var t=this;return ue(this._iid,function(e){"number"==typeof t.limit&&t.limit>0?t.isLoading?e(new U("Query in progress.",U.QUERY_IN_PROGRESS),null):t.hasNext?(t.isLoading=!0,N.get(t._iid).container.apiClient.loadBannedUserList(h(h({},t),{},{channelUrl:t._channelUrl,isOpenChannel:t._isOpenChannel,token:t._token}),function(n,r){var i=null;if(!n){var o=B.get(t._iid).RestrictedUser,a=String(r.next);t._token=a,t.hasNext=!!a,i=r.banned_list.map(function(e){var t=new o(e);return t.restrictionInfo.restrictionType=o.RestrictionType.BANNED,t})}t.isLoading=!1,e(n,i)})):e(null,[]):e(me.error,null)},e)}}]),e}(),Pr=function(){function e(){d(this,e),this.isLoading=!1,this.hasNext=!0,this.limit=20,this.userIdsFilter=[],this._token=""}return g(e,[{key:"next",value:function(e){var t=this;return ue(this._iid,function(e){"number"==typeof t.limit&&t.limit>0&&Array.isArray(t.userIdsFilter)?t.isLoading?e(new U("Query in progress.",U.QUERY_IN_PROGRESS),null):t.hasNext?(t.isLoading=!0,N.get(t._iid).container.apiClient.loadBlockedUserList(h(h({},t),{},{token:t._token}),function(n,r){var i=null;if(!n){var o=B.get(t._iid).User,a=String(r.next);t._token=a,t.hasNext=!!a,i=r.users.map(function(e){return new o(e)})}t.isLoading=!1,e(n,i)})):e(null,[]):e(me.error,null)},e)}}]),e}(),xr=function(){function e(){d(this,e),this.isLoading=!1,this.hasMore=!0,this.limit=20,this._token=""}return g(e,[{key:"next",value:function(e){var t=this;return ue(this._iid,function(e){"number"==typeof t.limit&&t.limit>0?t.isLoading?e(new U("Query in progress.",U.QUERY_IN_PROGRESS),null):t.hasMore?(t.isLoading=!0,N.get(t._iid).container.apiClient.loadFriendList(h(h({},t),{},{token:t._token}),function(n,r){var i=null;if(!n){var o=B.get(t._iid).User,a=String(r.next);t._token=a,t.hasMore=!!a,i=r.users.map(function(e){return new o(e)})}t.isLoading=!1,e(n,i)})):e(null,[]):e(me.error,null)},e)}}]),e}(),Mr=function(){function e(){d(this,e),this.isLoading=!1,this.hasNext=!0,this.limit=20,this.includeEmpty=!1,this.order=e.ORDER_LATEST_LAST_MESSAGE,this._token="",this._searchFilter={},this._userIdsFilter={userIds:[],includeMode:!0,queryType:e.QueryType.AND},this._userIdsExactFilter=[],this._userIdsIncludeFilter=[],this._userIdsIncludeFilterQueryType=e.QueryType.AND,this.nicknameContainsFilter="",this.nicknameStartsWithFilter="",this.nicknameExactMatchFilter="",this.channelNameContainsFilter="",this.memberStateFilter=ir.MemberStateFilter.ALL,this.customTypesFilter=[],this.channelUrlsFilter=[],this.superChannelFilter=ir.SuperChannelFilter.ALL,this.publicChannelFilter=ir.PublicChannelFilter.ALL,this.customTypeStartsWithFilter=null,this.unreadChannelFilter=ir.UnreadChannelFilter.ALL,this.metadataOrderKeyFilter=null,this.metadataKey=null,this.metadataValues=[],this.metadataValueStartsWith=null,this.hiddenChannelFilter=ir.HiddenChannelFilter.UNHIDDEN,this.includeFrozen=!0,this.includeMetaData=!0}return g(e,[{key:"userIdsExactFilter",get:function(){return this._userIdsExactFilter},set:function(e){Array.isArray(e)&&(this._userIdsExactFilter=e,this._userIdsIncludeFilter=[],this._userIdsFilter.userIds=this._userIdsExactFilter,this._userIdsFilter.includeMode=!1)}},{key:"userIdsIncludeFilter",get:function(){return this._userIdsIncludeFilter},set:function(e){Array.isArray(e)&&(this._userIdsIncludeFilter=e,this._userIdsExactFilter=[],this._userIdsFilter.userIds=this._userIdsIncludeFilter,this._userIdsFilter.includeMode=!0)}},{key:"userIdsIncludeFilterQueryType",get:function(){return this._userIdsIncludeFilterQueryType},set:function(t){Object.keys(e.QueryType).map(function(t){return e.QueryType[t]}).indexOf(t)>-1&&(this._userIdsIncludeFilterQueryType=t.toUpperCase(),this._userIdsFilter.queryType=this._userIdsIncludeFilterQueryType)}},{key:"setSearchFilter",value:function(e,t){Array.isArray(e)&&0!==e.length&&"string"==typeof t&&t&&(this._searchFilter={search_query:t,search_fields:e.join(",").toLocaleLowerCase()})}},{key:"serialize",value:function(){return St.serialize(this,function(e){e.isLoading=!1})}},{key:"next",value:function(e){var t=this;return ue(this._iid,function(e){var n=B.get(t._iid),r=n.GroupChannel,i=n.GroupChannelListQuery;!("number"==typeof t.limit&&t.limit>0&&"boolean"==typeof t.includeEmpty&&"string"==typeof t.order&&[i.ORDER_CHRONOLOGICAL,i.ORDER_LATEST_LAST_MESSAGE,i.CHANNEL_NAME_ALPHABETICAL,i.METADATA_VALUE_ALPHABETICAL].indexOf(t.order.toLowerCase())>-1&&Array.isArray(t._userIdsExactFilter)&&Array.isArray(t._userIdsIncludeFilter)&&Array.isArray(t.customTypesFilter)&&Array.isArray(t.channelUrlsFilter)&&Object.keys(i.QueryType).map(function(e){return i.QueryType[e]}).indexOf(t._userIdsIncludeFilterQueryType.toUpperCase())>-1&&Object.keys(r.MemberStateFilter).map(function(e){return r.MemberStateFilter[e]}).indexOf(t.memberStateFilter)>-1&&Object.keys(r.SuperChannelFilter).map(function(e){return r.SuperChannelFilter[e]}).indexOf(t.superChannelFilter)>-1&&Object.keys(r.PublicChannelFilter).map(function(e){return r.PublicChannelFilter[e]}).indexOf(t.publicChannelFilter)>-1&&Object.keys(r.UnreadChannelFilter).map(function(e){return r.UnreadChannelFilter[e]}).indexOf(t.unreadChannelFilter)>-1&&Object.keys(r.HiddenChannelFilter).map(function(e){return r.HiddenChannelFilter[e]}).indexOf(t.hiddenChannelFilter)>-1)||"string"!=typeof t.customTypeStartsWithFilter&&null!==t.customTypeStartsWithFilter||"string"!=typeof t.nicknameContainsFilter||"string"!=typeof t.nicknameStartsWithFilter||"string"!=typeof t.nicknameExactMatchFilter||"string"!=typeof t.channelNameContainsFilter||"string"!=typeof t.metadataOrderKeyFilter&&null!==t.metadataOrderKeyFilter||"string"!=typeof t.metadataKey&&null!==t.metadataKey||!Array.isArray(t.metadataValues)||!t.metadataValues.every(function(e){return"string"==typeof e})||"string"!=typeof t.metadataValueStartsWith&&null!==t.metadataValueStartsWith||"boolean"!=typeof t.includeFrozen||"boolean"!=typeof t.includeMetaData?e(me.error,null):t.isLoading?e(new U("Query in progress.",U.QUERY_IN_PROGRESS),null):t.hasNext?(t.isLoading=!0,N.get(t._iid).container.apiClient.loadGroupChannelList(h(h({},t),{},{token:t._token,userIdsFilter:t._userIdsFilter,searchFilter:t._searchFilter})).then(function(n){var r=B.get(t._iid).GroupChannel,i=String(n.next);t._token=i,t.hasNext=!!i;var o=n.channels;if(!o||!Array.isArray(o))throw new U("Failed at loading group channels.",U.MALFORMED_DATA);var a=o.map(function(e){return"number"==typeof n.ts&&(e.ts=n.ts),r.upsert(e)});t.isLoading=!1,e(null,a)}).catch(function(n){t.isLoading=!1,e(n,null)})):e(null,[])},e)}}],[{key:"ORDER_LATEST_LAST_MESSAGE",get:function(){return"latest_last_message"}},{key:"ORDER_CHRONOLOGICAL",get:function(){return"chronological"}},{key:"CHANNEL_NAME_ALPHABETICAL",get:function(){return"channel_name_alphabetical"}},{key:"METADATA_VALUE_ALPHABETICAL",get:function(){return"metadata_value_alphabetical"}},{key:"QueryType",get:function(){return{AND:"AND",OR:"OR"}}},{key:"SearchField",get:function(){return{MEMBER_NICKNAME:"member_nickname",CHANNEL_NAME:"channel_name"}}},{key:"buildFromSerializedData",value:function(e){var t=B.get(this._iid).GroupChannel,n=St.deserialize(e),r=t.createMyGroupChannelListQuery();return Object.keys(n).forEach(function(e){r.hasOwnProperty(e)&&(r[e]=n[e])}),r}}]),e}(),Lr=function(){function e(t){d(this,e),this.isLoading=!1,this.hasNext=!0,this.limit=20,this.mutedMemberFilter=e.MutedMemberFilter.ALL,this.memberStateFilter=ir.MemberStateFilter.ALL,this.nicknameStartsWithFilter=null,this.order=e.Order.MEMBER_NICKNAME_ALPHABETICAL,this._token="",this._channelUrl=t}return g(e,[{key:"next",value:function(e){var t=this;return ue(this._iid,function(e){var n=B.get(t._iid),r=n.GroupChannel,i=n.Member,o=n.MemberListQuery;"number"==typeof t.limit&&t.limit>0&&Object.keys(o.MutedMemberFilter).map(function(e){return o.MutedMemberFilter[e]}).indexOf(t.mutedMemberFilter)>-1&&Object.keys(r.MemberStateFilter).map(function(e){return r.MemberStateFilter[e]}).indexOf(t.memberStateFilter)>-1&&Object.keys(o.Order).map(function(e){return o.Order[e]}).indexOf(t.order)>-1&&("string"==typeof t.nicknameStartsWithFilter||null===t.nicknameStartsWithFilter)?t.isLoading?e(new U("Query in progress.",U.QUERY_IN_PROGRESS),null):t.hasNext?(t.isLoading=!0,N.get(t._iid).container.apiClient.loadMemberList(h(h({},t),{},{channelUrl:t._channelUrl,token:t._token}),function(n,r){var o=null;if(!n){var a=String(r.next);t._token=a,t.hasNext=!!a,o=r.members.map(function(e){return new i(e)})}t.isLoading=!1,e(n,o)})):e(null,[]):e(me.error,null)},e)}}],[{key:"MutedMemberFilter",get:function(){return{ALL:"all",MUTED:"muted",UNMUTED:"unmuted"}}},{key:"Order",get:function(){return{MEMBER_NICKNAME_ALPHABETICAL:"member_nickname_alphabetical",OPERATOR_THEN_MEMBER_ALPHABETICAL:"operator_then_member_alphabetical"}}}]),e}(),Dr=function(){function e(t){d(this,e),this.isLoading=!1,this.hasNext=!0,this.limit=20,this._token="",t.channelUrl&&(this._channelUrl=t.channelUrl),t.isOpenChannel&&(this._isOpenChannel=t.isOpenChannel)}return g(e,[{key:"next",value:function(e){var t=this;return ue(this._iid,function(e){"number"==typeof t.limit&&t.limit>0?t.isLoading?e(new U("Query in progress.",U.QUERY_IN_PROGRESS),null):t.hasNext?(t.isLoading=!0,N.get(t._iid).container.apiClient.loadMutedUserList(h(h({},t),{},{channelUrl:t._channelUrl,isOpenChannel:t._isOpenChannel,token:t._token}),function(n,r){var i=null;if(!n){var o=B.get(t._iid).RestrictedUser,a=String(r.next);t._token=a,t.hasNext=!!a,i=r.muted_list.map(function(e){var t=new o(e);return t.restrictionInfo.restrictionType=o.RestrictionType.MUTED,t})}t.isLoading=!1,e(n,i)})):e(null,[]):e(me.error,null)},e)}}]),e}(),jr=function(){function e(){d(this,e),this.limit=20,this.isLoading=!1,this.hasNext=!0,this.nameKeyword=null,this.urlKeyword=null,this.customTypes=[],this.includeFrozen=!0,this.includeMetaData=!0}return g(e,[{key:"next",value:function(e){var t=this;return ue(this._iid,function(e){!("number"==typeof t.limit&&t.limit>0&&Array.isArray(t.customTypes))||"string"!=typeof t.nameKeyword&&null!==t.nameKeyword||"string"!=typeof t.urlKeyword&&null!==t.urlKeyword||"boolean"!=typeof t.includeFrozen||"boolean"!=typeof t.includeMetaData?e(me.error,null):t.isLoading?e(new U("Query in progress.",U.QUERY_IN_PROGRESS),null):t.hasNext?(t.isLoading=!0,N.get(t._iid).container.apiClient.loadOpenChannelList(h(h({},t),{},{token:t._token}),function(n,r){var i=null;if(!n){var o=B.get(t._iid).OpenChannel,a=String(r.next);t._token=a,t.hasNext=!!a;var s=r.channels;s&&Array.isArray(s)?i=s.map(function(e){return"number"==typeof r.ts&&(e.ts=r.ts),o.upsert(e)}):n=new U("Failed at loading open channels.",U.MALFORMED_DATA)}t.isLoading=!1,e(n,i)})):e(null,[])},e)}}]),e}(),Ur=new WeakMap,Fr=function(){function e(t){d(this,e),this.isLoading=!1,this.hasNext=!0,this.limit=20,this._token="",Ur.set(this,t)}return g(e,[{key:"next",value:function(e){var t=this;return ue(this._iid,function(e){if("number"==typeof t.limit&&t.limit>0)if(t.isLoading)e(new U("Query in progress.",U.QUERY_IN_PROGRESS),null);else if(t.hasNext){t.isLoading=!0;var n=Ur.get(t);N.get(t._iid).container.apiClient.loadOperatorList(h(h({},t),{},{token:t._token,channelUrl:n.url,isOpenChannel:n.isOpenChannel()}),function(n,r){var i=null;if(!n){var o=B.get(t._iid).User,a=String(r.next);t._token=a,t.hasNext=!!a,i=r.operators.map(function(e){return new o(e)})}t.isLoading=!1,e(n,i)})}else e(null,[]);else e(me.error,null)},e)}}]),e}(),Hr=new WeakMap,Br=function(){function e(t){d(this,e),this.isLoading=!1,this.hasNext=!0,this.limit=20,this._token="",t&&Hr.set(this,t.channelUrl)}return g(e,[{key:"next",value:function(e){var t=this;return ue(this._iid,function(e){"number"==typeof t.limit&&t.limit>0?t.isLoading?e(new U("Query in progress.",U.QUERY_IN_PROGRESS),null):t.hasNext?(t.isLoading=!0,N.get(t._iid).container.apiClient.loadParticipantList(h(h({},t),{},{channelUrl:Hr.get(t),token:t._token}),function(n,r){var i=null;if(!n){var o=B.get(t._iid).User,a=String(r.next);t._token=a,t.hasNext=!!a,i=r.participants.map(function(e){return new o(e)})}t.isLoading=!1,e(n,i)})):e(null,[]):e(me.error,null)},e)}}]),e}(),Vr=new WeakMap,qr=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.limit,i=void 0===r?20:r,o=n.reverse,a=void 0!==o&&o,s=n.exactMatch,u=void 0!==s&&s,c=n.channelUrl,l=void 0===c?"":c,h=n.channelCustomType,f=void 0===h?"":h,p=n.messageTimestampFrom,g=void 0===p?null:p,y=n.messageTimestampTo,v=void 0===y?null:y,m=n.order,b=void 0===m?"score":m,_=n.advancedQuery,w=void 0!==_&&_,E=n.targetFields,S=void 0===E?null:E;d(this,e),this.isLoading=!1,this.hasNext=!0,Vr.set(this,{keyword:t,limit:i,reverse:a,exactMatch:u,channelUrl:l,channelCustomType:f,messageTimestampFrom:g,messageTimestampTo:v,order:b,advancedQuery:w,targetFields:S,previousToken:"",nextToken:""})}return g(e,[{key:"key",get:function(){return Vr.get(this).keyword}},{key:"limit",get:function(){return Vr.get(this).limit}},{key:"reverse",get:function(){return Vr.get(this).reverse}},{key:"exactMatch",get:function(){return Vr.get(this).exactMatch}},{key:"channelUrl",get:function(){return Vr.get(this).channelUrl}},{key:"channelCustomType",get:function(){return Vr.get(this).channelCustomType}},{key:"messageTimestampFrom",get:function(){return Vr.get(this).messageTimestampFrom}},{key:"messageTimestampTo",get:function(){return Vr.get(this).messageTimestampTo}},{key:"order",get:function(){return Vr.get(this).order}},{key:"next",value:function(e){var t=this,n=B.get(this._iid),r=n.BaseChannel,i=n.GroupChannel,o=n.OpenChannel;return ue(this._iid,function(e){var n=Vr.get(t),a=n.keyword,s=n.limit,u=n.reverse,c=n.exactMatch,l=n.channelUrl,h=n.channelCustomType,f=n.messageTimestampFrom,d=n.messageTimestampTo,p=n.order,g=n.advancedQuery,y=n.targetFields,v=n.nextToken;!("number"==typeof s&&s>0&&s<=1e3&&"boolean"==typeof u&&"boolean"==typeof c)||"string"!=typeof l&&null!==l||"string"!=typeof h&&null!==h||"number"!=typeof f&&null!==f||"number"!=typeof d&&null!==d||!(["score","ts"].indexOf(p)>=0)||"boolean"!=typeof g&&null!==g||!Array.isArray(y)&&null!==y?e(me.error,null):t.isLoading?e(new U("Query in progress.",U.QUERY_IN_PROGRESS),null):t.hasNext?(t.isLoading=!0,N.get(t._iid).container.apiClient.searchMessages({keyword:a,limit:s,reverse:u,exactMatch:c,channelUrl:l,channelCustomType:h,messageTimestampFrom:f,messageTimestampTo:d,order:p,advancedQuery:g,targetFields:y,nextToken:v},function(n,a){var s=null;n||(s=[],a.results.forEach(function(e){if(e.channel.hasOwnProperty("members")){var t=new i(e.channel);i.cachedChannels[t.url]=t,s.push(r.buildMessage(e,t))}else{var n=new o(e.channel);o.cachedChannels[n.url]=n,s.push(r.buildMessage(e,n))}}),t.hasNext=a.has_next,Vr.get(t).nextToken=a.end_cursor),t.isLoading=!1,e(n,s)})):e(null,[])},e)}}]),e}(),Gr=new WeakMap,zr=new WeakMap,Wr=function(){function e(t){d(this,e),this.isLoading=!1,this.hasMore=!0,this.limit=20,zr.set(this,Number.MAX_SAFE_INTEGER),Gr.set(this,t),this.reverse=!1,this.messageTypeFilter=null,this.customTypeFilter=null,this.customTypesFilter=[],this.senderUserIdsFilter=[],this.includeMetaArray=!1,this.includeReaction=null,this.includeReactions=null,this.includeReplies=null,this.includeParentMessageText=null,this.includeThreadInfo=!1,this.replyType=null,this.includeParentMessageInfo=null,this.showSubchannelMessagesOnly=!1,this.includePollDetails=!1}return g(e,[{key:"load",value:function(e,t,n,r){var i=this,o=B.get(this._iid),a=o.BaseChannel,s=o.BaseMessage,u=null,c=me.parse(arguments,[new me({type:"number",optional:!0,defaultValue:this.limit}),new me({type:"boolean",optional:!0,defaultValue:this.reverse}),new me({type:["string","number"],optional:!0,defaultValue:this.messageTypeFilter,constraint:function(e){return Object.keys(a.MessageTypeFilter).map(function(e){return a.MessageTypeFilter[e]}).indexOf(e)>-1||[0,1,2,3].indexOf(e)>-1}}),new me({type:"callback"})]),l=S(c,5);return u=l[0],e=l[1],t=l[2],n=l[3],r=l[4],ue(this._iid,function(r){if(("string"!=typeof i.customTypeFilter&&null!==i.customTypeFilter||!Array.isArray(i.customTypesFilter)||!i.customTypesFilter.every(function(e){return"string"==typeof e||null===e})||!Array.isArray(i.senderUserIdsFilter)||!i.senderUserIdsFilter.every(function(e){return"string"==typeof e})||"boolean"!=typeof i.includeMetaArray||null!==i.includeReaction&&"boolean"!=typeof i.includeReaction||null!==i.includeReactions&&"boolean"!=typeof i.includeReactions||"boolean"!=typeof i.includeThreadInfo||null!==i.includeReplies&&"boolean"!=typeof i.includeReplies||!(null===i.replyType||"string"==typeof i.replyType&&Object.values(s.ReplyType).includes(i.replyType))||null!==i.includeParentMessageText&&"boolean"!=typeof i.includeParentMessageText||null!==i.includeParentMessageInfo&&"boolean"!=typeof i.includeParentMessageInfo||"boolean"!=typeof i.showSubchannelMessagesOnly)&&(u=me.error),u)r(u,null);else{if(i.limit=e,i.reverse=t,i.messageTypeFilter=n,"number"==typeof i.messageTypeFilter)switch(i.messageTypeFilter){case 0:i.messageTypeFilter=a.MessageTypeFilter.ALL;break;case 1:i.messageTypeFilter=a.MessageTypeFilter.USER;break;case 2:i.messageTypeFilter=a.MessageTypeFilter.FILE;break;case 3:i.messageTypeFilter=a.MessageTypeFilter.ADMIN}if(i.isLoading)r(new U("Query in progress.",U.QUERY_IN_PROGRESS),null);else if(i.hasMore){i.isLoading=!0;var o=Gr.get(i);N.get(i._iid).container.apiClient.getMessageList({channel:o,token:zr.get(i)||(new Date).getTime()+1e4,tokenType:"timestamp",isInclusive:!1,prevResultSize:e,nextResultSize:0,shouldReverse:t,messageType:i.messageTypeFilter,customType:i.customTypeFilter,customTypes:i.customTypesFilter,senderUserIds:i.senderUserIdsFilter,includeMetaArray:i.includeMetaArray,includeReaction:i.includeReaction,includeReactions:i.includeReactions,includeReplies:i.includeReplies,includeParentMessageText:i.includeParentMessageText,includeThreadInfo:i.includeThreadInfo,replyType:i.replyType,includeParentMessageInfo:i.includeParentMessageInfo,showSubchannelMessagesOnly:i.showSubchannelMessagesOnly,includePollDetails:i.includePollDetails}).then(function(t){var n=t.messages.map(function(e){return a.buildMessage(e,o)});(0===n.length||n.length<e)&&(i.hasMore=!1);var s=zr.get(i);zr.set(i,Math.min.apply(Math,C(n.map(function(e){return e.createdAt})).concat([s]))),i.isLoading=!1,r(null,n)}).catch(function(e){i.isLoading=!1,r(e,null)})}else r(null,[])}},r)}}]),e}(),Kr=function(){function e(){d(this,e),this.isLoading=!1,this.hasNext=!0,this.limit=20,this.includeEmpty=!1,this.order=Mr.ORDER_LATEST_LAST_MESSAGE,this._token="",this.channelNameContainsFilter="",this.channelUrlsFilter=[],this.customTypesFilter=[],this.customTypeStartsWithFilter=null,this.superChannelFilter=ir.SuperChannelFilter.ALL,this.membershipFilter=e.MembershipType.JOINED,this.metadataOrderKeyFilter=null,this.metadataKey=null,this.metadataValues=[],this.metadataValueStartsWith=null,this.includeFrozen=!0,this.includeMetaData=!0}return g(e,[{key:"next",value:function(t){var n=this;return ue(this._iid,function(t){var r=B.get(n._iid).GroupChannel;!("number"==typeof n.limit&&n.limit>0&&"boolean"==typeof n.includeEmpty&&"string"==typeof n.order&&[e.ORDER_CHRONOLOGICAL,e.CHANNEL_NAME_ALPHABETICAL,e.METADATA_VALUE_ALPHABETICAL,e.ORDER_LATEST_LAST_MESSAGE].indexOf(n.order.toLowerCase())>-1&&Array.isArray(n.customTypesFilter)&&Array.isArray(n.channelUrlsFilter)&&Object.keys(e.MembershipType).map(function(t){return e.MembershipType[t]}).indexOf(n.membershipFilter)>-1&&Object.keys(r.SuperChannelFilter).map(function(e){return r.SuperChannelFilter[e]}).indexOf(n.superChannelFilter)>-1)||"string"!=typeof n.customTypeStartsWithFilter&&null!==n.customTypeStartsWithFilter||"string"!=typeof n.channelNameContainsFilter||"string"!=typeof n.metadataOrderKeyFilter&&null!==n.metadataOrderKeyFilter||"string"!=typeof n.metadataKey&&null!==n.metadataKey||!Array.isArray(n.metadataValues)||!n.metadataValues.every(function(e){return"string"==typeof e})||"string"!=typeof n.metadataValueStartsWith&&null!==n.metadataValueStartsWith||"boolean"!=typeof n.includeFrozen||"boolean"!=typeof n.includeMetaData?t(me.error,null):n.isLoading?t(new U("Query in progress.",U.QUERY_IN_PROGRESS),null):n.hasNext?(n.isLoading=!0,N.get(n._iid).container.apiClient.loadPublicGroupChannelList(h(h({},n),{},{token:n._token}),function(e,i){var o=null;if(!e){var a=String(i.next);n._token=a,n.hasNext=!!a;var s=i.channels;s&&Array.isArray(s)?o=s.map(function(e){return"number"==typeof i.ts&&(e.ts=i.ts),r.upsert(e)}):e=new U("Failed at loading group channels.",U.MALFORMED_DATA)}n.isLoading=!1,t(e,o)})):t(null,[])},t)}}],[{key:"MembershipType",get:function(){return{ALL:"all",JOINED:"joined"}}},{key:"ORDER_LATEST_LAST_MESSAGE",get:function(){return"latest_last_message"}},{key:"ORDER_CHRONOLOGICAL",get:function(){return"chronological"}},{key:"CHANNEL_NAME_ALPHABETICAL",get:function(){return"channel_name_alphabetical"}},{key:"METADATA_VALUE_ALPHABETICAL",get:function(){return"metadata_value_alphabetical"}}]),e}(),Yr=new WeakMap,Qr=new WeakMap,$r=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.channelUrl,r=void 0===n?null:n,i=t.token,o=void 0===i?"":i,a=t.limit,s=void 0===a?20:a;d(this,e),this.channelUrl=r,this.token=o,this.limit=s,Yr.set(this,!1),Qr.set(this,!0)}return g(e,[{key:"isLoading",get:function(){return!!Yr.get(this)}},{key:"hasNext",get:function(){return!!Qr.get(this)}},{key:"next",value:function(e){var t=this;return ue(this._iid,function(e){"string"==typeof t.channelUrl&&"number"==typeof t.limit&&t.limit>0&&t.limit<=100?t.isLoading?e(new U("Query in progress.",U.QUERY_IN_PROGRESS),null):t.hasNext?(Yr.set(t,!0),N.get(t._iid).container.apiClient.getPollList(h({},t),function(n,r){if(n)Yr.set(t,!1),e(n,null);else{var i=B.get(t._iid).Poll,o=r.hasOwnProperty("polls")&&Array.isArray(r.polls)?r.polls.map(function(e){return new i(e)}):[],a=r.hasOwnProperty("next")&&r.next?String(r.next):"";t.token=a,Yr.set(t,!1),Qr.set(t,!!a),e(null,o)}})):e(null,[]):e(me.error,null)},e)}}]),e}(),Xr=new WeakMap,Jr=new WeakMap,Zr=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.channelUrl,r=void 0===n?null:n,i=t.pollId,o=void 0===i?null:i,a=t.optionId,s=void 0===a?null:a,u=t.token,c=void 0===u?"":u,l=t.limit,h=void 0===l?100:l;d(this,e),this.channelUrl=r,this.pollId=o,this.optionId=s,this.token=c,this.limit=h,Xr.set(this,!1),Jr.set(this,!0)}return g(e,[{key:"isLoading",get:function(){return!!Xr.get(this)}},{key:"hasNext",get:function(){return!!Jr.get(this)}},{key:"next",value:function(e){var t=this;return ue(this._iid,function(e){"string"==typeof t.channelUrl&&"number"==typeof t.pollId&&"number"==typeof t.optionId&&"number"==typeof t.limit&&t.limit>0&&t.limit<=100?t.isLoading?e(new U("Query in progress.",U.QUERY_IN_PROGRESS),null):t.hasNext?(Xr.set(t,!0),N.get(t._iid).container.apiClient.getPollOptionVoterList(h({},t),function(n,r){if(n)Xr.set(t,!1),e(n,null);else{var i=B.get(t._iid).User,o=r.hasOwnProperty("voters")&&Array.isArray(r.voters)?r.voters.map(function(e){return new i(e)}):[],a=r.hasOwnProperty("next")&&r.next?String(r.next):"";t.token=a,Xr.set(t,!1),Jr.set(t,!!a),e(null,o)}})):e(null,[]):e(me.error,null)},e)}}]),e}(),ei=function(){function e(){d(this,e),this.isDistinct=null,this.isSuper=null,this.isBroadcast=null,this.isPublic=null,this.channelUrl=null,this.isEphemeral=null,this.isDiscoverable=null,this.isStrict=null,this.name=null,this.data=null,this.customType=null,this.channelCover=null,this.coverUrl=null,this.coverImage=null,this.accessCode=null,this.messageSurvivalSeconds=null,this._invitedUserIds=[];var t=null;Object.defineProperty(this,"operators",{set:function(e){Array.isArray(e)&&e.filter(function(e){return e.hasOwnProperty("userId")}).length===e.length&&(t=e.map(function(e){return e.userId}))}}),Object.defineProperty(this,"operatorUserIds",{get:function(){return t},set:function(e){Array.isArray(e)&&e.filter(function(e){return"string"==typeof e}).length===e.length&&(t=e)}})}return g(e,[{key:"_validate",value:function(){return Array.isArray(this._invitedUserIds)&&this._invitedUserIds.every(function(e){return"string"==typeof e})&&("string"==typeof this.channelUrl||null===this.channelUrl)&&("string"==typeof this.coverUrl||null===this.coverUrl)&&(ae.isFile(this.coverImage)||null===this.coverImage)&&("string"==typeof this.name||null===this.name)&&("string"==typeof this.data||null===this.data)&&("string"==typeof this.customType||null===this.customType)&&("boolean"==typeof this.isDistinct||null===this.isDistinct)&&("boolean"==typeof this.isSuper||null===this.isSuper)&&("boolean"==typeof this.isBroadcast||null===this.isBroadcast)&&("boolean"==typeof this.isPublic||null===this.isPublic)&&("boolean"==typeof this.isEphemeral||null===this.isEphemeral)&&("boolean"==typeof this.isDiscoverable||null===this.isDiscoverable)&&("boolean"==typeof this.isStrict||null===this.isStrict)&&(Array.isArray(this.operatorUserIds)&&this.operatorUserIds.every(function(e){return"string"==typeof e})||null===this.operatorUserIds)&&("string"==typeof this.accessCode||null===this.accessCode)&&("number"==typeof this.messageSurvivalSeconds||null===this.messageSurvivalSeconds)}},{key:"addUsers",value:function(e){if(Array.isArray(e)){var t,n=e.filter(function(e){return e.hasOwnProperty("userId")&&"string"==typeof e.userId}).map(function(e){return e.userId});(t=this._invitedUserIds).push.apply(t,C(n))}}},{key:"addUser",value:function(e){e.hasOwnProperty("userId")&&"string"==typeof e.userId&&this._invitedUserIds.push(e.userId)}},{key:"addUserIds",value:function(e){if(Array.isArray(e)){var t,n=e.filter(function(e){return"string"==typeof e});(t=this._invitedUserIds).push.apply(t,C(n))}}},{key:"addUserId",value:function(e){"string"==typeof e&&this._invitedUserIds.push(e)}}]),e}(),ti=function(){function e(){d(this,e),this.channelUrl=null,this.name=null,this.coverUrlOrImage=null,this.data=null,this.customType=null,this._operatorUserIds=[]}return g(e,[{key:"operatorUserIds",get:function(){return this._operatorUserIds},set:function(e){Array.isArray(e)&&e.every(function(e){return"string"==typeof e})&&(this._operatorUserIds=e)}},{key:"operators",set:function(e){Array.isArray(e)&&e.every(function(e){return e.hasOwnProperty("userId")})&&(this._operatorUserIds=e.map(function(e){return e.userId}))}},{key:"_validate",value:function(){return(Array.isArray(this.operatorUserIds)&&this.operatorUserIds.every(function(e){return"string"==typeof e})||null===this.operatorUserIds)&&("string"==typeof this.coverUrlOrImage||ae.isFile(this.coverUrlOrImage)||null===this.coverUrlOrImage)&&("string"==typeof this.name||null===this.name)&&("string"==typeof this.data||null===this.data)&&("string"==typeof this.customType||null===this.customType)&&("string"==typeof this.channelUrl&&/^\w+$/.test(this.channelUrl)||null===this.channelUrl)}}]),e}(),ni=function(e){v(n,e);var t=w(n);function n(e){var r;return d(this,n),(r=t.call(this)).year=null,r.month=null,r.day=null,r.hour=null,r.min=null,r.timezone=null,r._scheduledDateTimeString=null,e&&r._update(e),r}return g(n,[{key:"scheduledDateTimeString",get:function(){return this._scheduledDateTimeString?this._scheduledDateTimeString:"number"==typeof this.year&&4===this.year.toString().length&&"number"==typeof this.month&&this.month>=1&&this.month<=12&&"number"==typeof this.day&&this.day>=1&&this.day<=31&&"number"==typeof this.hour&&this.hour>=0&&this.hour<=24&&"number"==typeof this.min&&this.min>=0&&this.min<=60&&"string"==typeof this.timezone&&this.timezone.length>0?this.year.toString()+"-"+("0"+this.month.toString()).substr(-2)+"-"+("0"+this.day.toString()).substr(-2)+" "+("0"+this.hour.toString()).substr(-2)+":"+("0"+this.min.toString()).substr(-2):null},set:function(e){e&&"string"==typeof e&&(this._scheduledDateTimeString=e)}},{key:"_update",value:function(e){e.hasOwnProperty("message")&&(this.message=e.message),e.hasOwnProperty("year")&&(this.year=e.year),e.hasOwnProperty("month")&&(this.month=e.month),e.hasOwnProperty("day")&&(this.day=e.day),e.hasOwnProperty("hour")&&(this.hour=e.hour),e.hasOwnProperty("min")&&(this.min=e.min),e.hasOwnProperty("timezone")&&(this.timezone=e.timezone)}},{key:"_getScheduleString",value:function(){return this.scheduledDateTimeString?this.scheduledDateTimeString+" "+this.timezone:"number"==typeof this.year&&4===this.year.toString().length&&"number"==typeof this.month&&this.month>=1&&this.month<=12&&"number"==typeof this.day&&this.day>=1&&this.day<=31&&"number"==typeof this.hour&&this.hour>=0&&this.hour<=24&&"number"==typeof this.min&&this.min>=0&&this.min<=60&&"string"==typeof this.timezone&&this.timezone.length>0?this.year.toString()+"-"+("0"+this.month.toString()).substr(-2)+"-"+("0"+this.day.toString()).substr(-2)+" "+("0"+this.hour.toString()).substr(-2)+":"+("0"+this.min.toString()).substr(-2)+" "+this.timezone:null}},{key:"setSchedule",value:function(e,t,n,r,i,o){"number"==typeof e&&4===e.toString().length&&"number"==typeof t&&t>=1&&t<=12&&"number"==typeof n&&n>=1&&n<=31&&"number"==typeof r&&r>=0&&r<=24&&"number"==typeof i&&i>=0&&i<=60&&"string"==typeof o&&o.length>0&&(this.scheduledDateTimeString=e.toString()+"-"+("0"+t.toString()).substr(-2)+"-"+("0"+n.toString()).substr(-2)+" "+("0"+r.toString()).substr(-2)+":"+("0"+i.toString()).substr(-2),this.timezone=o)}}]),n}(_r),ri=g(function e(){d(this,e),this.channelCustomTypesFilter=[],this.superChannelFilter=ir.SuperChannelFilter.ALL}),ii=function(e){v(n,e);var t=w(n);function n(){return d(this,n),t.call(this)}return g(n)}(ri),oi=function(e){v(n,e);var t=w(n);function n(){return d(this,n),t.call(this)}return g(n)}(ri),ai=function(){function e(){d(this,e),this.channelUrl=null,this.channelType=null,this.messageId=0,this.includeMetaArray=!1,this.includeReactions=!1,this.includeParentMessageText=null,this.includeThreadInfo=!1,this.includeParentMessageInfo=null,this.includePollDetails=!1}return g(e,[{key:"_validate",value:function(){var e=B.get(this._iid).BaseChannel;return"string"==typeof this.channelUrl&&"string"==typeof this.channelType&&[e.CHANNEL_TYPE_BASE,e.CHANNEL_TYPE_OPEN,e.CHANNEL_TYPE_GROUP].includes(this.channelType)&&"number"==typeof this.messageId&&"boolean"==typeof this.includeMetaArray&&"boolean"==typeof this.includeReactions&&"boolean"==typeof this.includeThreadInfo&&(null===this.includeParentMessageText||"boolean"==typeof this.includeParentMessageText)&&(null===this.includeParentMessageInfo||"boolean"==typeof this.includeParentMessageInfo)&&"boolean"==typeof this.includePollDetails}}]),e}(),si=function(){function e(){d(this,e);var t=B.get(this._iid).BaseChannel;this.prevResultSize=0,this.nextResultSize=0,this.isInclusive=!1,this.reverse=!1,this.messageType=t.MessageTypeFilter.ALL,this.customType=null,this.customTypes=[],this.senderUserIds=null,this.includeMetaArray=!1,this.includeReaction=null,this.includeReactions=null,this.includeReplies=null,this.includeParentMessageText=null,this.includeThreadInfo=!1,this.replyType=null,this.includeParentMessageInfo=null,this.showSubchannelMessagesOnly=!1,this.includePollDetails=!1}return g(e,[{key:"_validate",value:function(){var e=B.get(this._iid),t=e.BaseChannel,n=e.BaseMessage;return"number"==typeof this.prevResultSize&&"number"==typeof this.nextResultSize&&"boolean"==typeof this.isInclusive&&"boolean"==typeof this.reverse&&"string"==typeof this.messageType&&Object.values(t.MessageTypeFilter).includes(this.messageType)&&("string"==typeof this.customType||null===this.customType)&&Array.isArray(this.customTypes)&&this.customTypes.every(function(e){return"string"==typeof e||null===e})&&(Array.isArray(this.senderUserIds)&&this.senderUserIds.every(function(e){return"string"==typeof e})||null===this.senderUserIds)&&"boolean"==typeof this.includeMetaArray&&(null===this.includeReaction||"boolean"==typeof this.includeReaction)&&(null===this.includeReactions||"boolean"==typeof this.includeReactions)&&"boolean"==typeof this.includeThreadInfo&&(null===this.includeReplies||"boolean"==typeof this.includeReplies)&&(null===this.replyType||"string"==typeof this.replyType&&Object.values(n.ReplyType).includes(this.replyType))&&(null===this.includeParentMessageText||"boolean"==typeof this.includeParentMessageText)&&(null===this.includeParentMessageInfo||"boolean"==typeof this.includeParentMessageInfo)&&"boolean"==typeof this.showSubchannelMessagesOnly&&"boolean"==typeof this.includePollDetails}},{key:"belongsTo",value:function(e){var t=B.get(this._iid),n=t.BaseChannel,r=t.UserMessageParams,i=t.FileMessageParams,o=t.BaseMessage;if(this.messageType!==n.MessageTypeFilter.ALL){if(e instanceof r&&this.messageType!==n.MessageTypeFilter.USER)return!1;if(e instanceof i&&this.messageType!==n.MessageTypeFilter.FILE)return!1}if(Array.isArray(this.customTypes)&&this.customTypes.length>0&&!this.customTypes.includes(e.customType))return!1;if("string"==typeof this.customType&&this.customType!==e.customType)return!1;if(Array.isArray(this.senderUserIds)&&this.senderUserIds.length>0){var a=Fi.getInstance(e._iid);if(!a||!a.currentUser||!this.senderUserIds.includes(a.currentUser.userId))return!1}if("string"==typeof this.replyType&&e.parentMessageId){if(this.replyType===o.ReplyType.NONE)return!1;if(this.replyType===o.ReplyType.ONLY_REPLY_TO_CHANNEL&&!e.isReplyToChannel)return!1}else if(!1===this.includeReplies&&e.parentMessageId)return!1;return!0}}]),e}(),ui=function(){function e(){d(this,e);var t=B.get(this._iid).BaseChannel;this.prevResultSize=0,this.nextResultSize=0,this.isInclusive=!1,this.reverse=!1,this.messageType=t.MessageTypeFilter.ALL,this.customType=null,this.customTypes=[],this.senderUserIds=null,this.includeMetaArray=!1,this.includeReaction=null,this.includeReactions=null,this.includeParentMessageText=null,this.includeParentMessageInfo=null,this.includePollDetails=!1}return g(e,[{key:"_validate",value:function(){var e=B.get(this._iid).BaseChannel;return"number"==typeof this.prevResultSize&&"number"==typeof this.nextResultSize&&"boolean"==typeof this.isInclusive&&"boolean"==typeof this.reverse&&"string"==typeof this.messageType&&Object.values(e.MessageTypeFilter).includes(this.messageType)&&("string"==typeof this.customType||null===this.customType)&&Array.isArray(this.customTypes)&&this.customTypes.every(function(e){return"string"==typeof e||null===e})&&(Array.isArray(this.senderUserIds)&&this.senderUserIds.every(function(e){return"string"==typeof e})||null===this.senderUserIds)&&"boolean"==typeof this.includeMetaArray&&(null===this.includeReaction||"boolean"==typeof this.includeReaction)&&(null===this.includeReactions||"boolean"==typeof this.includeReactions)&&(null===this.includeParentMessageText||"boolean"==typeof this.includeParentMessageText)&&(null===this.includeParentMessageInfo||"boolean"==typeof this.includeParentMessageInfo)&&"boolean"==typeof this.includePollDetails}}]),e}(),ci=function(){function e(){d(this,e),this.includeMetaArray=!1,this.includeReaction=null,this.includeReactions=null,this.includeReplies=null,this.includeParentMessageText=null,this.includeThreadInfo=!1,this.replyType=null,this.includeParentMessageInfo=null,this.includePollDetails=!1}return g(e,[{key:"_validate",value:function(){return"boolean"==typeof this.includeMetaArray&&(null===this.includeReaction||"boolean"==typeof this.includeReaction)&&(null===this.includeReactions||"boolean"==typeof this.includeReactions)&&"boolean"==typeof this.includeThreadInfo&&(null===this.includeReplies||"boolean"==typeof this.includeReplies)&&(null===this.replyType||"string"==typeof this.replyType&&Object.values(BaseMessage.ReplyType).includes(this.replyType))&&(null===this.includeParentMessageText||"boolean"==typeof this.includeParentMessageText)&&(null===this.includeParentMessageInfo||"boolean"==typeof this.includeParentMessageInfo)&&"boolean"==typeof this.includePollDetails}}]),e}(),li=function(){function e(){d(this,e),this.customTypes=[],this.includeEmpty=!1,this.includeFrozen=!0}return g(e,[{key:"_validate",value:function(){return(Array.isArray(this.customTypes)&&this.customTypes.every(function(e){return"string"==typeof e})||null===this.customTypes)&&("boolean"==typeof this.includeEmpty||null===this.includeEmpty)&&"boolean"==typeof this.includeFrozen}}]),e}(),hi=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.title,r=void 0===n?null:n,i=t.options,o=void 0===i?null:i,a=t.data,s=void 0===a?null:a,u=t.isAnonymous,c=void 0===u?null:u,l=t.allowUserSuggestion,h=void 0===l?null:l,f=t.allowMultipleVotes,p=void 0===f?null:f,g=t.closeAt,y=void 0===g?null:g;d(this,e),this.title=r,this.options=o,this.data=s,this.isAnonymous=c,this.allowUserSuggestion=h,this.allowMultipleVotes=p,this.closeAt=y}return g(e,[{key:"_validate",value:function(){return"string"==typeof this.title&&(Array.isArray(this.options)&&this.options.length>0&&this.options.every(function(e){return"string"==typeof e})||null===this.options)&&("string"==typeof this.data||null==this.data)&&("boolean"==typeof this.isAnonymous||null===this.isAnonymous)&&("boolean"==typeof this.allowUserSuggestion||null===this.allowUserSuggestion)&&("boolean"==typeof this.allowMultipleVotes||null===this.allowMultipleVotes)&&("number"==typeof this.closeAt||null===this.closeAt)}}]),e}(),fi=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.channelUrl,r=void 0===n?null:n,i=t.pollId,o=void 0===i?null:i,a=t.showPartialVoters,s=void 0!==a&&a;d(this,e),this.channelUrl=r,this.pollId=o,this.showPartialVoters=s}return g(e,[{key:"_validate",value:function(){return"string"==typeof this.channelUrl&&"number"==typeof this.pollId&&"boolean"==typeof this.showPartialVoters}}]),e}(),di=function(){this.onReconnectStarted=function(){},this.onReconnectSucceeded=function(){},this.onReconnectFailed=function(){}},pi=function(){this.onFriendsDiscovered=function(){},this.onTotalUnreadMessageCountUpdated=function(){}},gi=g(function e(){d(this,e),this.onMessageReceived=function(e,t){},this.onMessageUpdated=function(e,t){},this.onMessageDeleted=function(e,t){},this.onReadReceiptUpdated=function(e){},this.onReactionUpdated=function(e,t){},this.onDeliveryReceiptUpdated=function(e){},this.onTypingStatusUpdated=function(e){},this.onUserJoined=function(e,t){},this.onUserLeft=function(e,t){},this.onOperatorUpdated=function(e,t){},this.onUserEntered=function(e,t){},this.onUserExited=function(e,t){},this.onUserMuted=function(e,t){},this.onUserUnmuted=function(e,t){},this.onUserBanned=function(e,t){},this.onUserUnbanned=function(e,t){},this.onChannelFrozen=function(e){},this.onChannelUnfrozen=function(e){},this.onChannelChanged=function(e){},this.onChannelDeleted=function(e,t){},this.onUserReceivedInvitation=function(e,t,n){},this.onUserDeclinedInvitation=function(e,t,n){},this.onMetaDataCreated=function(e,t){},this.onMetaDataUpdated=function(e,t){},this.onMetaDataDeleted=function(e,t){},this.onMetaCountersCreated=function(e,t){},this.onMetaCountersUpdated=function(e,t){},this.onMetaCountersDeleted=function(e,t){},this.onChannelHidden=function(e){},this.onMentionReceived=function(e,t){},this.onThreadInfoUpdated=function(e,t){},this.onChannelMemberCountChanged=function(e){},this.onChannelParticipantCountChanged=function(e){},this.onPollUpdated=function(e){},this.onPollVoted=function(e){}}),yi=g(function e(t){if(d(this,e),t){var n=B.get(this._iid),r=n.User,i=n.BaseChannel;this.reader=new r(t.user),this.timestamp=parseInt(t.ts),this.channelUrl=t.hasOwnProperty("channel_url")?String(t.channel_url):"",this.channelType=t.hasOwnProperty("channel_type")?String(t.channel_type):i.CHANNEL_TYPE_GROUP}}),vi=function(){function e(e){this.replyCount=0,this.mostRepliedUsers=[],this.lastRepliedAt=0,this.updatedAt=0,e&&this._update(e)}return e.objectify=function(e){var t=B.get(this._iid).User,n=e.replyCount,r=void 0===n?0:n,i=e.mostRepliedUsers,o=void 0===i?[]:i,a=e.lastRepliedAt,s=void 0===a?0:a,u=e.updatedAt,c=void 0===u?0:u,l={};return l.reply_count=r,Array.isArray(o)&&o.every(function(e){return e instanceof t})&&(l.most_replies=o.map(function(e){return t.objectify(e)})),l.last_replied_at=s,l.updated_at=c,l},e.build=function(e,t,n,r){return this.objectify({replyCount:e,mostRepliedUsers:t,lastRepliedAt:n,updatedAt:r})},e.prototype._update=function(e){var t=B.get(this._iid).User;e.hasOwnProperty("reply_count")&&(this.replyCount=parseInt(e.reply_count)),e.hasOwnProperty("most_replies")&&Array.isArray(e.most_replies)&&e.most_replies.every(function(e){return"object"==typeof e})&&(this.mostRepliedUsers=e.most_replies.map(function(e){return new t(e)})),e.hasOwnProperty("last_replied_at")&&(this.lastRepliedAt=parseInt(e.last_replied_at)),e.hasOwnProperty("updated_at")&&(this.updatedAt=parseInt(e.updated_at))},e}(),mi=function(){function e(e){this.title=null,this.url=null,this.description=null,this.defaultImage=null,e&&this._update(e)}return e.objectify=function(e){var t=B.get(this._iid).OGImage,n=e.title,r=void 0===n?null:n,i=e.url,o=void 0===i?null:i,a=e.description,s=void 0===a?null:a,u=e.defaultImage,c=void 0===u?null:u,l={};return l["og:title"]=r,l["og:url"]=o,l["og:description"]=s,c&&(l["og:image"]=t.objectify(c)),l},e.prototype._update=function(e){var t=B.get(this._iid).OGImage;e.hasOwnProperty("og:title")&&(this.title=e["og:title"]),e.hasOwnProperty("og:url")&&(this.url=e["og:url"]),e.hasOwnProperty("og:description")&&(this.description=e["og:description"]),e.hasOwnProperty("og:image")&&(this.defaultImage=new t(e["og:image"]))},e}(),bi=function(){function e(e){this.url=null,this.secureUrl=null,this.type=null,this.width=0,this.height=0,this.alt=null,e&&this._update(e)}return e.objectify=function(e){var t=e.url,n=void 0===t?null:t,r=e.secureUrl,i=void 0===r?null:r,o=e.type,a=void 0===o?null:o,s=e.width,u=void 0===s?0:s,c=e.height,l=void 0===c?0:c,h=e.alt,f=void 0===h?null:h,d={};return d.url=n,d.secure_url=i,d.type=a,d.width=u,d.height=l,d.alt=f,d},e.prototype._update=function(e){e.hasOwnProperty("url")&&(this.url=e.url),e.hasOwnProperty("secure_url")&&(this.secureUrl=e.secure_url),e.hasOwnProperty("type")&&(this.type=e.type),e.hasOwnProperty("width")&&(this.width=parseInt(e.width)),e.hasOwnProperty("height")&&(this.height=parseInt(e.height)),e.hasOwnProperty("alt")&&(this.alt=e.alt)},e}(),_i=function(){function e(e){this.type=null,this.vendor=null,this.detail={},e&&this._update(e)}return e.objectify=function(e){var t=e.type,n=void 0===t?"":t,r=e.vendor,i=void 0===r?"":r,o=e.detail,a=void 0===o?{}:o,s={};return s.type=n,s.vendor=i,s.detail=a,s},e.prototype._update=function(e){this.type=e.hasOwnProperty("type")?e.type:"",this.vendor=e.hasOwnProperty("vendor")?e.vendor:"",e.hasOwnProperty("detail")&&"object"==typeof e.detail&&!Array.isArray(e.detail)&&(this.detail=e.detail)},e}(),wi=function(){function e(t){d(this,e),this.id=0,this.title="",this.details=null,this._update(t)}return g(e,[{key:"update",value:function(e,t){var n=this,r=B.get(this._iid),i=r.PollParams,o=null,a=me.parse(arguments,[new me({type:i,constraint:function(e){return e._validate()}}),new me({type:"callback"})]),s=S(a,3);return o=s[0],e=s[1],t=s[2],ue(this._iid,function(t){if(o)t(o,null);else{var r={text:e.data};N.get(n._iid).container.apiClient.updatePoll(h(h({pollId:n.id},e),{},{data:r}),function(e,r){if(e)t(e,null);else{var i=new(0,B.get(n._iid).Poll)(r);t(null,i)}})}},t)}},{key:"delete",value:function(e){var t=this,n=null,r=me.parse(arguments,[new me({type:"callback"})]),i=S(r,2);return n=i[0],e=i[1],ue(this._iid,function(e){n?e(n,null):N.get(t._iid).container.apiClient.deletePoll({pollId:t.id},function(t,n){e(t||null,null)})},e)}},{key:"addOption",value:function(e,t,n){var r=this,i=null,o=me.parse(arguments,[new me({type:"string"}),new me({type:"string"}),new me({type:"callback"})]),a=S(o,4);return i=a[0],e=a[1],t=a[2],n=a[3],ue(this._iid,function(n){i?n(i,null):N.get(r._iid).container.apiClient.addPollOption({channelUrl:e,pollId:r.id,text:t},function(e,t){if(e)n(e,null);else{var i=new(0,B.get(r._iid).Poll)(t);n(null,i)}})},n)}},{key:"vote",value:function(e,t,n){var r=this,i=null,o=me.parse(arguments,[new me({type:"string"}),new me({type:"array",constraint:function(e){return e.every(function(e){return"number"==typeof e})}}),new me({type:"callback"})]),a=S(o,4);return i=a[0],e=a[1],t=a[2],n=a[3],ue(this._iid,function(n){i?n(i,null):N.get(r._iid).container.apiClient.votePoll({channelUrl:e,pollId:r.id,optionIds:t},function(e,t){if(e)n(e,null);else{var i=new(0,B.get(r._iid).Poll)(t);n(null,i)}})},n)}},{key:"close",value:function(e){var t=this,n=null,r=me.parse(arguments,[new me({type:"callback"})]),i=S(r,2);return n=i[0],e=i[1],ue(this._iid,function(e){n?e(n,null):N.get(t._iid).container.apiClient.closePoll({pollId:t.id},function(n,r){if(n)e(n,null);else{var i=new(0,B.get(t._iid).Poll)(r);e(null,i)}})},e)}},{key:"_update",value:function(e){var t=B.get(this._iid).PollDetails;this.id=parseInt(e.id),this.title=e.title,e.hasOwnProperty("options")&&e.hasOwnProperty("is_anonymous")&&e.hasOwnProperty("allow_user_suggestion")&&e.hasOwnProperty("allow_multiple_votes")&&e.hasOwnProperty("close_at")&&e.hasOwnProperty("voter_count")&&e.hasOwnProperty("status")&&e.hasOwnProperty("created_by")&&e.hasOwnProperty("created_at")&&e.hasOwnProperty("updated_at")&&(this.details=new t(e))}}],[{key:"Status",get:function(){return{OPEN:"open",CLOSED:"closed",REMOVED:"removed"}}},{key:"objectify",value:function(e){var t=B.get(this._iid).PollDetails,n=e.id,r=void 0===n?0:n,i=e.title,o=void 0===i?"":i,a=e.details,s=void 0===a?null:a,u=h({},s?t.objectify(s):{});return u.id=r,u.title=o,u}},{key:"get",value:function(e,t){var n=this,r=B.get(this._iid),i=r.PollRetrievalParams,o=null,a=me.parse(arguments,[new me({type:i,constraint:function(e){return e._validate()}}),new me({type:"callback"})]),s=S(a,3);return o=s[0],e=s[1],t=s[2],ue(this._iid,function(t){o?t(o,null):N.get(n._iid).container.apiClient.getPoll(h({},e),function(e,r){if(e)t(e,null);else{var i=new(0,B.get(n._iid).Poll)(r);t(null,i)}})},t)}},{key:"create",value:function(e,t){var n=this,r=B.get(this._iid),i=r.PollParams,o=null,a=me.parse(arguments,[new me({type:i,constraint:function(e){return e._validate()}}),new me({type:"callback"})]),s=S(a,3);return o=s[0],e=s[1],t=s[2],ue(this._iid,function(t){if(o)t(o,null);else{var r={text:e.data};N.get(n._iid).container.apiClient.createPoll(h(h({},e),{},{data:r}),function(e,r){if(e)t(e,null);else{var i=new(0,B.get(n._iid).Poll)(r);t(null,i)}})}},t)}}]),e}(),Ei=function(){function e(t){d(this,e),this.options=[],this.data=null,this.isAnonymous=!1,this.allowUserSuggestion=!1,this.allowMultipleVotes=!1,this.closeAt=-1,this.voterCount=0,this.votedOptionIds=[],this.status="",this.createdBy=null,this.createdAt=0,this.updatedAt=0,this._update(t)}return g(e,[{key:"_update",value:function(e){var t=B.get(this._iid).PollOption;e.hasOwnProperty("options")&&Array.isArray(e.options)&&(this.options=e.options.map(function(e){return new t(e)}));try{this.data=JSON.parse(e.data)}catch(t){this.data=e.data}this.isAnonymous=!!e.hasOwnProperty("is_anonymous")&&e.is_anonymous,this.allowUserSuggestion=!!e.hasOwnProperty("allow_user_suggestion")&&e.allow_user_suggestion,this.allowMultipleVotes=!!e.hasOwnProperty("allow_multiple_votes")&&e.allow_multiple_votes,this.closeAt=parseInt(e.close_at),this.voterCount=parseInt(e.voter_count),e.hasOwnProperty("voted_option_ids")&&Array.isArray(e.voted_option_ids)&&(this.votedOptionIds=e.voted_option_ids.map(function(e){return parseInt(e)})),this.status=e.status,this.createdBy=e.created_by,this.createdAt=parseInt(e.created_at),this.updatedAt=parseInt(e.updated_at)}}],[{key:"objectify",value:function(e){var t=B.get(this._iid).PollOption,n=e.options,r=void 0===n?[]:n,i=e.data,o=void 0===i?null:i,a=e.isAnonymous,s=void 0!==a&&a,u=e.allowUserSuggestion,c=void 0!==u&&u,l=e.allowMultipleVotes,h=void 0!==l&&l,f=e.closeAt,d=void 0===f?-1:f,p=e.voterCount,g=void 0===p?0:p,y=e.votedOptionIds,v=void 0===y?[]:y,m=e.status,b=void 0===m?"":m,_=e.createdBy,w=void 0===_?"":_,E=e.createdAt,S=void 0===E?0:E,C=e.updatedAt,O=void 0===C?0:C,T={};return T.options=r.map(function(e){return t.objectify(e)}),T.data=JSON.stringify(o),T.is_anonymous=s,T.allow_user_suggestion=c,T.allow_multiple_votes=h,T.close_at=d,T.voter_count=g,T.voted_option_ids=v,T.status=b,T.created_by=w,T.created_at=S,T.updated_at=O,T}}]),e}(),Si=new WeakMap,Ci=function(){function e(t){d(this,e),this.pollId=0,this.id=0,this.text="",this.voteCount=0,this.partialVoters=[],this.createdBy="",this.createdAt=0,this.updatedAt=0,Si.set(this,null),this._update(t)}return g(e,[{key:"lastVotedAt",get:function(){return Si.get(this)}},{key:"update",value:function(e,t){var n=this,r=null,i=me.parse(arguments,[new me({type:"string"}),new me({type:"callback"})]),o=S(i,3);return r=o[0],e=o[1],t=o[2],ue(this._iid,function(t){r?t(r,null):N.get(n._iid).container.apiClient.updatePollOption({pollId:n.pollId,optionId:n.id,text:e},function(e,r){if(e)t(e,null);else{var i=new(0,B.get(n._iid).Poll)(r);t(null,i)}})},t)}},{key:"delete",value:function(e){var t=this,n=null,r=me.parse(arguments,[new me({type:"callback"})]),i=S(r,2);return n=i[0],e=i[1],ue(this._iid,function(e){n?e(n,null):N.get(t._iid).container.apiClient.deletePollOption({pollId:t.pollId,optionId:t.id},function(t,n){e(t||null,null)})},e)}},{key:"_applyEvent",value:function(e){return this.id===e.optionId&&this.lastVotedAt<e.votedAt&&(this.voteCount=e.voteCount,Si.set(this,e.votedAt),!0)}},{key:"_update",value:function(e){var t=B.get(this._iid).User;this.pollId=parseInt(e.poll_id),this.id=parseInt(e.id),this.text=e.text,this.voteCount=parseInt(e.vote_count),e.hasOwnProperty("partial_voter_list")&&Array.isArray(e.partial_voter_list)&&(this.partialVoters=e.partial_voter_list.map(function(e){return new t(e)})),this.createdBy=e.created_by,this.createdAt=parseInt(e.created_at),this.updatedAt=parseInt(e.updated_at)}}],[{key:"VoteAction",get:function(){return{CAST:"cast",CANCEL:"cancel"}}},{key:"objectify",value:function(e){var t=B.get(this._iid).User,n=e.pollId,r=void 0===n?0:n,i=e.id,o=void 0===i?0:i,a=e.text,s=void 0===a?"":a,u=e.voteCount,c=void 0===u?0:u,l=e.partialVoters,h=void 0===l?[]:l,f=e.createdBy,d=void 0===f?"":f,p=e.createdAt,g=void 0===p?0:p,y=e.updatedAt,v=void 0===y?0:y,m={};return m.poll_id=r,m.id=o,m.text=s,m.vote_count=c,Array.isArray(h)&&(m.partial_voter_list=h.filter(function(e){return e instanceof t}).map(function(e){return t.objectify(e)})),m.created_by=d,m.created_at=g,m.updated_at=v,m}},{key:"get",value:function(e,t,n,r){var i=this,o=null,a=me.parse(arguments,[new me({type:"string"}),new me({type:"number"}),new me({type:"number"}),new me({type:"callback"})]),s=S(a,5);return o=s[0],e=s[1],t=s[2],n=s[3],r=s[4],ue(this._iid,function(r){o?r(o,null):N.get(i._iid).container.apiClient.getPollOption({channelUrl:e,pollId:t,optionId:n},function(e,t){if(e)r(e,null);else{var n=new(0,B.get(i._iid).PollOption)(t);r(null,n)}})},r)}}]),e}(),Oi=function(){function e(t){d(this,e),this.restrictionType=null,this.description=null,this.endAt=-1,t&&this._update(t)}return g(e,[{key:"_update",value:function(e){e.hasOwnProperty("restriction_type")&&(this.restrictionType=e.restriction_type),e.hasOwnProperty("description")?this.description=e.description:e.hasOwnProperty("muted_description")&&(this.description=e.muted_description),e.hasOwnProperty("end_at")?this.endAt=parseInt(e.end_at):e.hasOwnProperty("muted_end_at")&&(this.endAt=parseInt(e.muted_end_at))}}],[{key:"objectify",value:function(e){var t=e.restrictionType,n=void 0===t?null:t,r=e.description,i=void 0===r?null:r,o=e.endAt,a=void 0===o?-1:o,s={};return s.restriction_type=n,s.description=i,s.end_at=a,s}}]),e}(),Ti=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];d(this,e),this.isLoading=!1,this.hasNext=!0,this.limit=20,this.userIds=t,this.metaDataKey="",this.metaDataValues=[],this._token=""}return g(e,[{key:"next",value:function(e){var t=this;return ue(this._iid,function(e){"number"==typeof t.limit&&t.limit>0&&Array.isArray(t.userIds)&&"string"==typeof t.metaDataKey&&Array.isArray(t.metaDataValues)&&!!t.metaDataKey==t.metaDataValues.length>0?t.isLoading?e(new U("Query in progress.",U.QUERY_IN_PROGRESS),null):t.hasNext?(t.isLoading=!0,N.get(t._iid).container.apiClient.loadUserList(h(h({},t),{},{userIdsFilter:t.userIds,metaDataKeyFilter:t.metaDataKey,metaDataValuesFilter:t.metaDataValues,token:t._token}),function(n,r){var i=null;if(!n){var o=B.get(t._iid).User,a=String(r.next);t._token=a,t.hasNext=!!a,i=r.users.map(function(e){return new o(e)})}t.isLoading=!1,e(n,i)})):e(null,[]):e(me.error,null)},e)}}]),e}(),ki=new WeakMap,Ii=function(){function e(t){d(this,e),this.isLoading=!1,ki.set(this,t)}return g(e,[{key:"prev",value:function(e,t,n,r){var i=arguments,o=this;return ue(this._iid,function(r){var a,s=B.get(o._iid).BaseChannel,u=S(me.parse(i,[new me({type:"number"}),new me({type:"number"}),new me({type:"boolean"}),new me({type:"function"})]),5);if(a=u[0],e=u[1],t=u[2],n=u[3],r=u[4],a)r(a,null);else if(o.isLoading)r(new U("Query in progress.",U.QUERY_IN_PROGRESS),null);else{o.isLoading=!0;var c=ki.get(o);N.get(o._iid).container.apiClient.getMessageList({channelUrl:c.url,channelType:c.channelType,token:e,tokenType:"timestamp",isInclusive:!1,prevResultSize:t,nextResultSize:0,shouldReverse:n,messageType:"",customType:""}).then(function(e){var t=e.messages.map(function(e){return s.buildMessage(e,c)});o.isLoading=!1,r(null,t)}).catch(function(e){o.isLoading=!1,r(e,null)})}},r)}},{key:"next",value:function(e,t,n,r){var i=arguments,o=this;return ue(this._iid,function(r){var a,s=B.get(o._iid).BaseChannel,u=S(me.parse(i,[new me({type:"number"}),new me({type:"number"}),new me({type:"boolean"}),new me({type:"function"})]),5);if(a=u[0],e=u[1],t=u[2],n=u[3],r=u[4],a)r(a,null);else if(o.isLoading)r(new U("Query in progress.",U.QUERY_IN_PROGRESS),null);else{o.isLoading=!0;var c=ki.get(o);N.get(o._iid).container.apiClient.getMessageList({channelUrl:c.url,channelType:c.channelType,token:e,tokenType:"timestamp",isInclusive:!1,prevResultSize:0,nextResultSize:t,shouldReverse:n,messageType:"",customType:""}).then(function(e){var t=e.messages.map(function(e){return s.buildMessage(e,c)});o.isLoading=!1,r(null,t)}).catch(function(e){o.isLoading=!1,r(e,null)})}},r)}},{key:"load",value:function(e,t,n,r,i){var o=arguments,a=this;return ue(this._iid,function(i){var s,u=B.get(a._iid).BaseChannel,c=S(me.parse(o,[new me({type:"number"}),new me({type:"number"}),new me({type:"number"}),new me({type:"boolean"}),new me({type:"callback"})]),6);if(s=c[0],e=c[1],t=c[2],n=c[3],r=c[4],i=c[5],s)i(s,null);else if(a.isLoading)i(new U("Query in progress.",U.QUERY_IN_PROGRESS),null);else{a.isLoading=!0;var l=ki.get(a);N.get(a._iid).container.apiClient.getMessageList({channelUrl:l.url,channelType:l.channelType,token:e,tokenType:"timestamp",isInclusive:!1,prevResultSize:t,nextResultSize:n,shouldReverse:r,messageType:"",customType:""}).then(function(e){var t=e.messages.map(function(e){return u.buildMessage(e,l)});a.isLoading=!1,i(null,t)}).catch(function(e){a.isLoading=!1,i(e,null)})}},i)}}]),e}(),Ai=0,Ni=1,Ri=2,Pi=function(){function e(t){var n=this;if(d(this,e),this.state=Ai,this._value=null,this._reason=null,"function"!=typeof t)throw"Promise resolver ".concat(t," is not a function");t(function(e){n.state===Ai&&(n.state=Ni,n._value=e)},function(e){n.state===Ai&&(n.state=Ri,n._reason=e)})}return g(e,[{key:"length",get:function(){return 1}},{key:"then",value:function(t,n){var r=this,i=this;switch(this.state){case Ai:setTimeout(function(){return r.then(t,n)},100);break;case Ni:t&&"function"==typeof t&&(i=t(this._value));break;case Ri:n&&"function"==typeof n&&(i=n(this._reason))}return i instanceof e?i:this}},{key:"catch",value:function(t){var n=this,r=this;switch(this.state){case Ai:setTimeout(function(){return n.catch(t)},100);break;case Ni:break;case Ri:r=t(this._reason)}return r instanceof e?r:this}},{key:"finally",value:function(t){var n=this,r=this;switch(this.state){case Ai:setTimeout(function(){return n.finally(t)},100);break;case Ni:case Ri:r=t()}return r instanceof e?r:this}}],[{key:"all",value:function(t){return new e(function(n,r){if(Array.isArray(t)||"string"==typeof t)if(t.length>0){for(var i=[],o=0;o<t.length;o++)t[o]instanceof e?i.push(t[o]):i.push(e.resolve(t[o]));var a=new Array(i.length).fill(null),s=i.length,u=function(e,t,i){t?r(t):(s--,a[e]=i,s<=0&&n(a))};i.forEach(function(e,t){e.then(function(e){u(t,null,e)}).catch(function(e){u(t,e,null)})})}else n([]);else r(new Error("Uncaught (in promise) TypeError: ".concat(f(t)," ").concat(t," is not iterable")))})}},{key:"resolve",value:function(t){return new e(function(e){e(t)})}},{key:"reject",value:function(t){return new e(function(e,n){n(t)})}}]),e}(),xi=function(){"undefined"==typeof Promise&&("undefined"!=typeof window?window.Promise=Pi:"undefined"!=typeof i?i.Promise=Pi:"undefined"!=typeof self?self.Promise=Pi:"undefined"!=typeof globalThis&&(globalThis.Promise=Pi)),Object.values||(Object.values=function(e){return Object.keys(e).map(function(t){return e[t]})}),Number.MAX_SAFE_INTEGER||Object.defineProperty(Number,"MAX_SAFE_INTEGER",{value:Math.pow(2,53)-1})},Mi=3e5,Li=null,Di={},ji=!1,Ui=null,Fi=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};d(this,e),xi();var r=!1;if((n.newInstance||!Li||Li&&n.appId!==Li.getApplicationId()&&Li.getConnectionState()===Li.ConnectionState.CLOSED)&&(r=!0,Li=this),r){try{if(!n.hasOwnProperty("appId"))return X.warn("Must be set appId."),Li=null,null}catch(e){return X.warn("Must be set appId."),Li=null,null}var i=Qn.create();Object.defineProperty(this,"_iid",{get:function(){return i}}),Di[i]=this,this.customApiHost=null,this.customWsHost=null,this.connecting=!1,this.reconnecting=!1,this.isReconnectingOnError=!1,this.connectionCallbacks=[],this.ConnectionManager=new be(this),this.GCMPushToken="",this.APNSPushToken="",this.PUSH_TEMPLATE_DEFAULT="default",this.PUSH_TEMPLATE_ALTERNATIVE="alternative",this.currentUser=null,this.isSessionOpened=!1,this.globalTimer,this.loginTimer,this.reconnectTimer,this.loginHandler=null,this.onLoginTimerCancel,this.onReconnectTimerCancel,this.BaseChannel={MessageTypeFilter:Rt.MessageTypeFilter},this.GroupChannelFilter=$n,this.MessageFilter=Pe,this.GroupChannelCollection={GroupChannelOrder:st},this.MessageCollection={MessageCollectionInitPolicy:Ue},this.CollectionEventSource=he,this._currentUserId=null;var o={User:kt,Member:or,RestrictedUser:sr,GroupChannel:ir,OpenChannel:pr,UserMessage:Er,FileMessage:Cr,AdminMessage:Or,GroupChannelListQuery:Mr,MemberListQuery:Lr,GroupChannelParams:ei,OpenChannelParams:ti,BaseMessageParams:br,UserMessageParams:_r,FileMessageParams:Sr,ScheduledUserMessageParams:ni,GroupChannelTotalUnreadMessageCountParams:ii,GroupChannelTotalUnreadChannelCountParams:oi,MessageRetrievalParams:ai,MessageListParams:si,ThreadedMessageListParams:ui,MessageChangeLogsParams:ci,GroupChannelChangeLogsParams:li,PollParams:hi,PollRetrievalParams:fi,MessageMetaArray:vr,UserEventHandler:pi,SessionHandler:_e,ChannelHandler:gi,ConnectionHandler:di,AppleCriticalAlertOptions:yr,Poll:wi,PollOption:Ci},a={SessionManager:we,BaseChannel:Rt,BaseMessage:Tt,UserListQuery:Ti,ApplicationUserListQuery:Nr,BannedUserListQuery:Rr,BlockedUserListQuery:Pr,FriendListQuery:xr,MutedUserListQuery:Dr,OpenChannelListQuery:jr,OperatorListQuery:Fr,ParticipantListQuery:Br,MessageListQuery:Ii,PreviousMessageListQuery:Wr,MessageSearchQuery:qr,PublicGroupChannelListQuery:Kr,PollListQuery:$r,PollVoterListQuery:Zr,ScheduledUserMessage:Tr,ThreadInfo:vi,ThreadInfoUpdateEvent:kr,OGMetaData:mi,OGImage:bi,Plugin:_i,Command:Ce,Sender:ar,ReadStatus:yi,Reaction:wr,ReactionEvent:Et,Emoji:lr,EmojiCategory:cr,EmojiContainer:ur,PollDetails:Ei,PollUpdateEvent:Ir,PollVoteEvent:Ar,RestrictionInfo:Oi,FileMessageQueue:jt},s=new B(this._iid,h(h({},o),a));this.BaseMessage={ReplyType:Tt.ReplyType,getMessage:s.BaseMessage.getMessage.bind(s.BaseMessage)},Object.keys(s).forEach(function(e){o[e]&&(t[e]=s[e])});var u={encrypt:function(e){return e},decrypt:function(e){return e}};N.create(i,{appId:n.appId,pinger:new Z(this),apiClient:new ce(this),wsAdapter:new ve(this),commandHandler:new Mt(this),onlineDetector:new Ee(this),ackStateMap:{},subscribedUnreadMessageCount:{all:0,custom_types:{},ts:0},maxUnreadCountOfSuperGroupChannel:I.DEFAULT_MAX_UNREAD_COUNT_OF_SUPER_GROUP_CHANNEL,nestdb:null,currentUserId:null,localCacheEnabled:"boolean"==typeof n.localCacheEnabled&&n.localCacheEnabled,localCacheLock:new J,debugCache:!1,encryption:u,store:new Ln({encryption:u}),preference:null,auth:new F,appInfo:null,pingInterval:15e3,pongTimeout:5e3,connectedAt:0,extensions:{},supportedExtensionKeys:["sb_uikit","sb_syncmanager","device-os-platform"],getUserAgentWithExtensions:function(e){var t=ee()?"reactnative":"JS",n=e.sb_syncmanager?"s".concat(e.sb_syncmanager):"",r=e.sb_uikit?"u".concat(e.sb_uikit):"",i=e["device-os-platform"]?"o".concat(e["device-os-platform"]):"";return"".concat(t,"/c").concat(I.SDK_VERSION,"/").concat(n,"/").concat(r,"/").concat(i)},sessionManager:new s.SessionManager(this),stateChangeEnabled:!0,isInBackground:!1,closedByGoingBackground:!1,isErrorFirstInCallback:!1,autoResendQueue:[],isProcessingAutoResend:!1}),this.userEventHandlers={},this.channelHandlers={},this.connectionHandlers={},this.Options={_useMemberAsMessageSender:!0,get UseMemberAsMessageSender(){return this._useMemberAsMessageSender},set UseMemberAsMessageSender(e){"boolean"==typeof e&&(this._useMemberAsMessageSender=e)},get useMemberAsMessageSender(){return this._useMemberAsMessageSender},set useMemberAsMessageSender(e){"boolean"==typeof e&&(this._useMemberAsMessageSender=e)},_typingIndicatorThrottle:1e3,get typingIndicatorThrottle(){return this._typingIndicatorThrottle},set typingIndicatorThrottle(e){"number"==typeof e&&e>=1e3&&e<=9e3&&(this._typingIndicatorThrottle=e)},_websocketResponseTimeout:1e4,get websocketResponseTimeout(){return this._websocketResponseTimeout},set websocketResponseTimeout(e){"number"==typeof e&&e>=5e3&&e<=Mi&&(this._websocketResponseTimeout=e)},includePollDetails:!1};var c=de.of(i);c.addObserver({onConnect:function(){t.isCacheEnabled&&!t.getIsProcessingAutoResend()&&(0===t.getAutoResendQueue().length?nt._processAutoResendRegisteredPendingMessages(t).then(function(){nt._processNextAutoResend(t)}):nt._processNextAutoResend(t))},onDisconnect:function(){}})}return Li}return g(e,[{key:"ConnectionState",get:function(){return{CONNECTING:"CONNECTING",OPEN:"OPEN",CLOSED:"CLOSED"}}},{key:"MessageRequestState",get:function(){return{NONE:"none",PENDING:"pending",FAILED:"failed",SUCCEEDED:"succeeded"}}},{key:"MessageSendingStatus",get:function(){return{NONE:"none",PENDING:"pending",FAILED:"failed",CANCELED:"canceled",SUCCEEDED:"succeeded"}}},{key:"pushTokenRegistrationState",get:function(){return{SUCCESS:"success",PENDING:"pending",ERROR:"error"}}},{key:"PushTriggerOption",get:function(){return{ALL:"all",MENTION_ONLY:"mention_only",OFF:"off"}}},{key:"appInfo",get:function(){return N.get(this._iid).container.appInfo}},{key:"isCacheEnabled",get:function(){return N.get(this._iid).container.localCacheEnabled}},{key:"ekey",get:function(){var e=N.get(this._iid).container.auth;return e?e.eKey:""}},{key:"getApplicationId",value:function(){return N.get(this._iid).get("appId")}},{key:"getCurrentUserId",value:function(){return this.currentUser?this.currentUser.userId:null}},{key:"getDebugMode",value:function(){return ji}},{key:"setDebugMode",value:function(e){ji=e,X.mode=e?X.Mode.DEBUG:X.Mode.PRODUCTION}},{key:"getErrorFirstCallback",value:function(){return N.get(this._iid).container.isErrorFirstInCallback}},{key:"setErrorFirstCallback",value:function(e){"boolean"==typeof e&&N.get(this._iid).set("isErrorFirstInCallback",e)}},{key:"getAutoResendQueue",value:function(){return N.get(this._iid).container.autoResendQueue}},{key:"getIsProcessingAutoResend",value:function(){return N.get(this._iid).container.isProcessingAutoResend}},{key:"setIsProcessingAutoResend",value:function(e){N.get(this._iid).set("isProcessingAutoResend",e)}},{key:"getCurrentApiHost",value:function(){return this.customApiHost?this.customApiHost:"https://api.sendbird.com"}},{key:"clearCurrentApiHost",value:function(){this.customApiHost=null}},{key:"getCurrentWsHost",value:function(){return this.customWsHost?this.customWsHost:"wss://ws.sendbird.com"}},{key:"clearCurrentWsHost",value:function(){this.customWsHost=null}},{key:"getConnectionState",value:function(){try{var e=N.get(this._iid).container.wsAdapter;return this.connecting||this.reconnecting?this.ConnectionState.CONNECTING:e.client?this.connecting||this.reconnecting?this.ConnectionState.CONNECTING:this.isSessionOpened?e.client.getConnectionState():this.ConnectionState.CLOSED:this.ConnectionState.CLOSED}catch(e){return this.ConnectionState.CLOSED}}},{key:"getPendingGCMToken",value:function(){return this.GCMPushToken}},{key:"getPendingAPNSToken",value:function(){return this.APNSPushToken}},{key:"hasLoggedIn",value:function(){var e=N.get(this._iid);return this.currentUser&&e.get("auth").hasSession()}},{key:"getLastConnectedAt",value:function(){var e=N.get(this._iid);return this.getConnectionState()===this.ConnectionState.OPEN&&this.currentUser?e.get("connectedAt"):0}},{key:"setOnlineListener",value:function(e){N.get(this._iid).container.onlineDetector.setOnlineListener(e)}},{key:"setOfflineListener",value:function(e){N.get(this._iid).container.onlineDetector.setOfflineListener(e)}},{key:"getMemoryStoreForDebugging",value:function(){var e=N.get(this._iid);return e.container.debugCache&&e.container.store instanceof xn?e.container.store:null}},{key:"useMemoryAsDatabaseForDebugging",value:function(){var e=N.get(this._iid);e.container.debugCache=!0,e.container.store=new xn}},{key:"useAsyncStorageAsDatabase",value:function(e){var t=N.get(this._iid);t.container.store=new Dn({AsyncStorage:e,encryption:t.container.encryption})}},{key:"useMMKVAsDatabase",value:function(e){var t=N.get(this._iid);t.container.store=new jn({MMKV:e,encryption:t.container.encryption})}},{key:"initializeDatabase",value:function(e,t){var n=this,r=N.get(this._iid),i=r.container,o=i.appId,a=i.nestdb,s=i.store,u=i.localCacheEnabled;return ue(this._iid,function(t){if(u)if(a)t(null);else{var i=r.container.nestdb=new Yn({name:"sendbird=".concat(o,"-").concat(e,".db"),version:1,store:s});i.on("upgrade",function(e,t){0===e?i.commitSchema([{collectionName:"GroupChannel",keyName:"url",index:[Ae.NAME_ALPHABETICAL,Ae.CHRONOLOGICAL,Ae.LATEST_LAST_MESSAGE]},{collectionName:"SucceededMessage",keyName:"messageId",index:[Ne.LATEST,Ne.CHILD_MESSAGE_FIRST]},{collectionName:"UnsentMessage",keyName:"reqId",index:[Ne.LATEST_UNSENT,Ne.CHILD_MESSAGE_FIRST]}]).then(function(){return t()}).catch(function(e){throw e}):t()}),i.on("error",function(e){e?e.code===Ut.STORE_NOT_AVAILABLE||e.code===Ut.STORE_NOT_AVAILABLE_IN_PRIVATE_BROWSING?t(null):(X.error("Database initialize failed with an error: ",e),t(e)):t(null)}),i.on("success",function(){r.container.currentUserId=e,new wt({iid:n._iid,collection:i.collection("GroupChannel")}),new Fe({iid:n._iid,collections:{succeeded:i.collection("SucceededMessage"),unsent:i.collection("UnsentMessage")}}),X.debug("Database initialize succeeded."),t(null)}),i.open()}else r.container.currentUserId=e,new wt({iid:n._iid,collection:null}),new Fe({iid:n._iid,collections:{succeeded:null,unsent:null}}),t(null)},t)}},{key:"clearCachedData",value:function(){var e=N.get(this._iid),t=e.container,n=t.localCacheEnabled,r=t.nestdb;return new Promise(function(t,i){n&&r?(r.close(),r.reset().then(function(){X.debug("Database clear succeeded."),e.container.nestdb=null,t()}).catch(function(e){X.error("Database clear failed with an error: ",e),i(e)})):t()})}},{key:"connect",value:function(e,t,n,r,i){var o=this,a=N.get(this._iid),s=a.container,u=s.wsAdapter,c=s.onlineDetector,l=s.localCacheEnabled;c&&c.start();var h=null,f=me.parse(arguments,[new me({type:"string",constraint:function(e){return e.length>0}}),new me({type:"string",nullable:!0,ignoreIf:function(e){return 1===e.length||3===e.length}}),new me({type:"string",nullable:!0,ignoreIf:function(e){return 1===e.length||2===e.length}}),new me({type:"string",nullable:!0,ignoreIf:function(e){return 1===e.length||2===e.length}}),new me({type:"callback"})]),d=S(f,6);return h=d[0],e=d[1],t=d[2],n=d[3],r=d[4],i=d[5],(n||r)&&X.debug("Please note that apiHost and wsHost are for internal use only."),ue(this._iid,function(i){if(h)i(h,null);else if(o.customApiHost=n,o.customWsHost=r,o.connecting=!0,o.reconnecting=!1,o.isReconnectingOnError=!1,o.reconnectTimer&&(clearTimeout(o.reconnectTimer),o.reconnectTimer=null,o.onReconnectTimerCancel=null),o.getConnectionState()===o.ConnectionState.OPEN&&o.currentUser&&o.currentUser.userId===e)o.connecting=!1,i(null,o.currentUser);else if(l&&(o._currentUserId=e),o.connectionCallbacks.push(i),1===o.connectionCallbacks.length){u.disconnect({clearSession:!0,err:null},null);var s=a.container,c=s.nestdb,f=s.localCacheLock;c?u.connect(e,t).then(function(){if(l)return nt._processNonAutoResendRegisteredPendingMessages(o)}):f.lock(function(n){o.initializeDatabase(e).then(function(){n(),u.connect(e,t)}).then(function(){if(l)return nt._processNonAutoResendRegisteredPendingMessages(o)}).catch(function(e){a.container.localCacheEnabled=!1,n(),i(e,null)})})}},i)}},{key:"reconnect",value:function(){var e=this,t=N.get(this._iid).container,n=t.wsAdapter,r=t.auth,i=t.localCacheLock;if(r.sessionKey&&this.currentUser){var o=!0;return n.reconnectCount>0&&(o=!1),i.lock(function(t){n.disconnect({clearSession:!1,err:new U("Connection has been canceled.",U.CONNECTION_CANCELED)},null),n.reconnectCount=0,n.reconnect(e.currentUser.userId,o),t()}),!0}return!1}},{key:"disconnect",value:function(e){var t=this;return ue(this._iid,function(e){var n=N.get(t._iid).container,r=n.localCacheLock,i=n.wsAdapter,o=n.onlineDetector;o&&o.stop(),r.lock(function(n){i.disconnect({clearSession:!0,err:new U("Connection has been canceled.",U.CONNECTION_CANCELED)},function(){t.clearCachedData().finally(function(){n(),e(null)})})})},e)}},{key:"setBackgroundState",value:function(){var e=N.get(this._iid),t=e.container,n=t.wsAdapter,r=t.stateChangeEnabled;!t.isInBackground&&r&&(e.set("isInBackground",!0),this.getConnectionState()!==this.ConnectionState.CLOSED?(e.set("closedByGoingBackground",!0),n.disconnect({clearSession:!1,err:new U("Websocket connection failed.",U.WEBSOCKET_CONNECTION_FAILED)},null),de.of(this._iid).invokeDisconnect()):e.set("closedByGoingBackground",!1))}},{key:"isInBackground",get:function(){return N.get(this._iid).container.isInBackground}},{key:"setForegroundState",value:function(){var e=N.get(this._iid),t=e.container,n=t.wsAdapter,r=t.stateChangeEnabled,i=t.isInBackground,o=t.closedByGoingBackground;i&&r&&(e.set("isInBackground",!1),o&&this.currentUser&&n.reconnect(this.currentUser.userId,!0))}},{key:"enableStateChange",value:function(){N.get(this._iid).set("enableStateChange",!0)}},{key:"disableStateChange",value:function(){N.get(this._iid).set("enableStateChange",!1)}},{key:"addExtension",value:function(e,t){var n=N.get(this._iid).container,r=n.extensions;n.supportedExtensionKeys.indexOf(e)>-1&&(r[e]=t)}},{key:"createUserListQuery",value:function(e){return new(0,B.get(this._iid).UserListQuery)(e)}},{key:"createApplicationUserListQuery",value:function(){return new(0,B.get(this._iid).ApplicationUserListQuery)}},{key:"createBlockedUserListQuery",value:function(){return new(0,B.get(this._iid).BlockedUserListQuery)}},{key:"createFriendListQuery",value:function(){return new(0,B.get(this._iid).FriendListQuery)}},{key:"createMessageSearchQuery",value:function(e,t){return new(0,B.get(this._iid).MessageSearchQuery)(e,t)}},{key:"sendCommand",value:function(e,t){var n=this;return ue(this._iid,function(t){n.ConnectionManager.ready(function(r,i){if(r)t(r,null);else{var o=N.get(n._iid).container,a=o.wsAdapter,s=o.ackStateMap;if(null==a||null==a.client||a.client.getConnectionState()!==n.ConnectionState.OPEN||n.getConnectionState()!==n.ConnectionState.OPEN)return void t(new U("Connection is not valid. Please reconnect.",U.WEBSOCKET_CONNECTION_CLOSED),null);if(e.isAckRequired){var u=e.requestId,c={handler:t,timer:setTimeout(function(){t(new U("Command received no ack.",U.ACK_TIMEOUT),null),delete s[u]},n.Options.websocketResponseTimeout)};s[u]=c,a.client.send(e,function(e){e&&(clearTimeout(c.timer),t(e,null))})}else a.client.send(e,t)}},!1)},t).catch(function(e){X.error(e)})}},{key:"setSessionHandler",value:function(e){N.get(this._iid).container.sessionManager.setHandler(e)}},{key:"addUserEventHandler",value:function(e,t){t instanceof B.get(this._iid).UserEventHandler&&(this.userEventHandlers[e]=t)}},{key:"removeUserEventHandler",value:function(e){delete this.userEventHandlers[e]}},{key:"removeAllUserEventHandler",value:function(){this.userEventHandlers={}}},{key:"addChannelHandler",value:function(e,t){t instanceof B.get(this._iid).ChannelHandler&&(this.channelHandlers[e]=t)}},{key:"removeChannelHandler",value:function(e){delete this.channelHandlers[e]}},{key:"removeAllChannelHandlers",value:function(){this.channelHandlers={}}},{key:"addConnectionHandler",value:function(e,t){t instanceof B.get(this._iid).ConnectionHandler&&(this.connectionHandlers[e]=t)}},{key:"removeConnectionHandler",value:function(e){delete this.connectionHandlers[e]}},{key:"removeAllConnectionHandlers",value:function(){this.connectionHandlers={}}},{key:"updateCurrentUserInfo",value:function(e,t,n){var r=this,i=null,o=me.parse(arguments,[new me({type:"string",nullable:!0}),new me({type:"string",nullable:!0}),new me({type:"callback"})]),a=S(o,4);return i=a[0],e=a[1],t=a[2],n=a[3],ue(this._iid,function(n){if(i)n(i,null);else{var o=N.get(r._iid);o.container.apiClient.updateCurrentUserInfo({nickname:e,profileUrl:t},function(i,a){var s=null;i||(r.currentUser&&(e&&(r.currentUser.nickname=e),t&&(r.currentUser.plainProfileUrl=t,Object.defineProperty(r.currentUser,"profileUrl",{value:r.currentUser.requireAuth?"".concat(r.currentUser.plainProfileUrl,"?auth=").concat(o.container.auth.eKey):r.currentUser.plainProfileUrl,configurable:!0,writable:!1}))),s=r.currentUser),n(i,s)})}},n)}},{key:"updateCurrentUserInfoWithProfileImage",value:function(e,t,n){var r=this,i=null,o=me.parse(arguments,[new me({type:"string",nullable:!0}),new me({type:"file",nullable:!0}),new me({type:"callback"})]),a=S(o,4);return i=a[0],e=a[1],t=a[2],n=a[3],ue(this._iid,function(n){if(i)n(i,null);else{var o=N.get(r._iid);o.container.apiClient.updateCurrentUserInfo({nickname:e,profileImage:t},function(t,i){var a=null;t||(r.currentUser&&(e&&(r.currentUser.nickname=e),i.profile_url&&(r.currentUser.plainProfileUrl=i.profile_url,Object.defineProperty(r.currentUser,"profileUrl",{value:r.currentUser.requireAuth?"".concat(r.currentUser.plainProfileUrl,"?auth=").concat(o.container.auth.eKey):r.currentUser.plainProfileUrl,configurable:!0,writable:!1}))),a=r.currentUser),n(t,a)})}},n)}},{key:"updateCurrentUserInfoWithPreferredLanguages",value:function(e,t){var n=this,r=null,i=me.parse(arguments,[new me({type:"array",constraint:function(e){return e.every(function(e){return"string"==typeof e})}}),new me({type:"callback"})]),o=S(i,3);return r=o[0],e=o[1],t=o[2],ue(this._iid,function(t){r?t(r,null):N.get(n._iid).container.apiClient.updateCurrentUserInfo({preferredLanguages:e},function(r,i){var o=null;r||(n.currentUser&&e&&(n.currentUser._preferredLanguages=e),o=n.currentUser),t(r,o)})},t)}},{key:"registerGCMPushTokenForCurrentUser",value:function(e,t){var n=this,r=null,i=me.parse(arguments,[new me({type:"string",constraint:function(e){return e.length>0}}),new me({type:"callback"})]),o=S(i,3);return r=o[0],e=o[1],t=o[2],ue(this._iid,function(t){r?t(r,n.pushTokenRegistrationState.ERROR):n.currentUser?N.get(n._iid).container.apiClient.registerGCMPushToken({token:e},function(e,r){var i=n.pushTokenRegistrationState.ERROR;e||(n.GCMPushToken="",i=n.pushTokenRegistrationState.SUCCESS),t(e,i)}):(n.GCMPushToken=e,t(null,n.pushTokenRegistrationState.PENDING))},t)}},{key:"unregisterGCMPushTokenForCurrentUser",value:function(e,t){var n=this,r=null,i=me.parse(arguments,[new me({type:"string",constraint:function(e){return e.length>0}}),new me({type:"callback"})]),o=S(i,3);return r=o[0],e=o[1],t=o[2],ue(this._iid,function(t){r?t(r,null):n.currentUser?N.get(n._iid).container.apiClient.unregisterGCMPushToken({token:e},function(e,n){t(e,null)}):(n.GCMPushToken=e,t(null,n.pushTokenRegistrationState.PENDING))},t)}},{key:"unregisterGCMPushTokenAllForCurrentUser",value:function(e){var t=this;return ue(this._iid,function(e){N.get(t._iid).container.apiClient.unregisterAllGCMPushTokens({},function(t,n){e(t,null)})},e)}},{key:"registerAPNSPushTokenForCurrentUser",value:function(e,t){var n=this,r=null,i=me.parse(arguments,[new me({type:"string",constraint:function(e){return e.length>0}}),new me({type:"callback"})]),o=S(i,3);return r=o[0],e=o[1],t=o[2],ue(this._iid,function(t){r?t(r,n.pushTokenRegistrationState.ERROR):n.currentUser?N.get(n._iid).container.apiClient.registerAPNSPushToken({token:e},function(e,r){var i=n.pushTokenRegistrationState.ERROR;e||(n.APNSPushToken="",i=n.pushTokenRegistrationState.SUCCESS),t(e,i)}):(n.APNSPushToken=e,t(null,n.pushTokenRegistrationState.PENDING))},t)}},{key:"unregisterAPNSPushTokenForCurrentUser",value:function(e,t){var n=this,r=null,i=me.parse(arguments,[new me({type:"string",constraint:function(e){return e.length>0}}),new me({type:"callback"})]),o=S(i,3);return r=o[0],e=o[1],t=o[2],ue(this._iid,function(t){r?t(r,null):n.currentUser?N.get(n._iid).container.apiClient.unregisterAPNSPushToken({token:e},function(e,n){t(e,null)}):(n.APNSPushToken=e,t(null,n.pushTokenRegistrationState.PENDING))},t)}},{key:"unregisterAPNSPushTokenAllForCurrentUser",value:function(e){var t=this;return ue(this._iid,function(e){N.get(t._iid).container.apiClient.unregisterAllAPNSPushTokens({},function(t,n){e(t,null)})},e)}},{key:"unregisterPushTokenAllForCurrentUser",value:function(e){var t=this;return ue(this._iid,function(e){N.get(t._iid).container.apiClient.unregisterAllPushTokens({},function(t,n){e(t,null)})},e)}},{key:"getMyGroupChannelChangeLogsByToken",value:function(e,t,n,r){var i=this,o=null,a=me.parse(arguments,[new me({type:"string",nullable:!0}),new me({type:"array",optional:!0,nullable:!0,defaultValue:null}),new me({type:"boolean",nullable:!0,optional:!0,defaultValue:null}),new me({type:"callback"})]),s=S(a,5);o=s[0],e=s[1],t=s[2],n=s[3],r=s[4];var u=B.get(this._iid),c=u.GroupChannelChangeLogsParams,l=null;if(o){var f=me.parse(arguments,[new me({type:"string",nullable:!0}),new me({type:c,constraint:function(e){return e._validate()}}),new me({type:"callback"})]),d=S(f,4);o=d[0],e=d[1],l=d[2],r=d[3]}else(l=new c).customTypes=t,l.includeEmpty=n,l.includeFrozen=!0;return ue(this._iid,function(t){o?t(o,null):N.get(i._iid).container.apiClient.getMyGroupChannelChangeLogs(h({ts:null,token:e},l)).then(function(e){var n=B.get(i._iid).GroupChannel,r=e.updated.map(function(e){return new n(e)}),o=e.deleted,a=e.has_more,s=e.next;t(null,{updatedChannels:r,deletedChannelUrls:o,hasMore:a,token:s})}).catch(function(e){t(e,null)})},r)}},{key:"getMyGroupChannelChangeLogsByTimestamp",value:function(e,t,n,r){var i=this,o=null,a=me.parse(arguments,[new me({type:"number",constraint:function(e){return e>=0}}),new me({type:"array",optional:!0,nullable:!0,defaultValue:null}),new me({type:"boolean",nullable:!0,optional:!0,defaultValue:null}),new me({type:"callback"})]),s=S(a,5);o=s[0],e=s[1],t=s[2],n=s[3],r=s[4];var u=B.get(this._iid),c=u.GroupChannelChangeLogsParams,l=null;if(o){var f=me.parse(arguments,[new me({type:"number",constraint:function(e){return e>=0}}),new me({type:c,constraint:function(e){return e._validate()}}),new me({type:"callback"})]),d=S(f,4);o=d[0],e=d[1],l=d[2],r=d[3]}else(l=new c).customTypes=t,l.includeEmpty=n,l.includeFrozen=!0;return ue(this._iid,function(t){o?t(o,null):N.get(i._iid).container.apiClient.getMyGroupChannelChangeLogs(h({ts:e,token:null},l)).then(function(e){var n=B.get(i._iid).GroupChannel,r=e.updated.map(function(e){return new n(e)}),o=e.deleted,a=e.has_more,s=e.next;t(null,{updatedChannels:r,deletedChannelUrls:o,hasMore:a,token:s})}).catch(function(e){t(e,null)})},r)}},{key:"getChannelInvitationPreference",value:function(e){var t=this;return ue(this._iid,function(e){N.get(t._iid).container.apiClient.getChannelInvitationPreference({},function(t,n){var r=null;t||(r={autoAccept:n.auto_accept}),e(t,r)})},e)}},{key:"setChannelInvitationPreference",value:function(e,t){var n=this,r=null,i=me.parse(arguments,[new me({type:"boolean"}),new me({type:"callback"})]),o=S(i,3);return r=o[0],e=o[1],t=o[2],ue(this._iid,function(t){r?t(r,null):N.get(n._iid).container.apiClient.setChannelInvitationPreference({isAutoAccept:e},function(e,n){var r=null;e||(r={autoAccept:n.auto_accept}),t(e,r)})},t)}},{key:"getDoNotDisturb",value:function(e){var t=this;return ue(this._iid,function(e){N.get(t._iid).container.apiClient.getDoNotDisturb({},function(t,n){var r=null;t||(r={doNotDisturbOn:n.do_not_disturb,startHour:n.start_hour,startMin:n.start_min,endHour:n.end_hour,endMin:n.end_min,timezone:n.timezone}),e(t,r)})},e)}},{key:"setDoNotDisturb",value:function(e,t,n,r,i,o,a){var s=this,u=null,c=me.parse(arguments,[new me({type:"boolean"}),new me({type:"number",constraint:function(e){return 0<=e&&e<=23}}),new me({type:"number",constraint:function(e){return 0<=e&&e<=59}}),new me({type:"number",constraint:function(e){return 0<=e&&e<=23}}),new me({type:"number",constraint:function(e){return 0<=e&&e<=59}}),new me({type:"string"}),new me({type:"callback"})]),l=S(c,8);return u=l[0],e=l[1],t=l[2],n=l[3],r=l[4],i=l[5],o=l[6],a=l[7],ue(this._iid,function(a){u?a(u,null):N.get(s._iid).container.apiClient.setDoNotDisturb({doNotDisturbOn:e,startHour:t,startMin:n,endHour:r,endMin:i,timezone:o},function(e,t){var n=null;e||(n={doNotDisturbOn:t.do_not_disturb,startHour:t.start_hour,startMin:t.start_min,endHour:t.end_hour,endMin:t.end_min,timezone:t.timezone}),a(e,n)})},a)}},{key:"getSnoozePeriod",value:function(e){var t=this;return ue(this._iid,function(e){N.get(t._iid).container.apiClient.getSnoozePeriod({},function(t,n){var r=null;t||(r={isSnoozeOn:n.snooze_enabled,startTs:n.snooze_start_ts,endTs:n.snooze_end_ts}),e(t,r)})},e)}},{key:"setSnoozePeriod",value:function(e,t,n,r){var i=this,o=null,a=me.parse(arguments,[new me({type:"boolean"}),new me({type:"number",constraint:function(e){return e>0}}),new me({type:"number",constraint:function(e){return e>0}}),new me({type:"callback"})]),s=S(a,5);return o=s[0],e=s[1],t=s[2],n=s[3],r=s[4],ue(this._iid,function(r){o?r(o,null):N.get(i._iid).container.apiClient.setSnoozePeriod({snoozeOn:e,startTs:t,endTs:n},function(e,t){var n=null;e||(n={isSnoozeOn:t.snooze_enabled,startTs:t.snooze_start_ts,endTs:t.snooze_end_ts}),r(e,n)})},r)}},{key:"blockUser",value:function(e,t){var n=null,r=me.parse(arguments,[new me({type:"object",constraint:function(e){return e&&e.hasOwnProperty("userId")}}),new me({type:"callback"})]),i=S(r,3);return n=i[0],e=i[1],t=i[2],n?ue(this._iid,function(e){e(n,null)},t):this.blockUserWithUserId(e.userId,t)}},{key:"blockUserWithUserId",value:function(e,t){var n=this,r=null,i=me.parse(arguments,[new me({type:"string",constraint:function(e){return e&&(!n.currentUser||e!==n.currentUser.userId)}}),new me({type:"callback"})]),o=S(i,3);return r=o[0],e=o[1],t=o[2],ue(this._iid,function(t){r?t(r,null):N.get(n._iid).container.apiClient.blockUser({blockedUserId:e},function(e,n){var r=null;e||(r=new kt(n)),t(e,r)})},t)}},{key:"unblockUser",value:function(e,t){var n=null,r=me.parse(arguments,[new me({type:"object",constraint:function(e){return e&&e.hasOwnProperty("userId")}}),new me({type:"callback"})]),i=S(r,3);return n=i[0],e=i[1],t=i[2],n?ue(this._iid,function(e){e(n,null)},t):this.unblockUserWithUserId(e.userId,t)}},{key:"unblockUserWithUserId",value:function(e,t){var n=this,r=null,i=me.parse(arguments,[new me({type:"string",constraint:function(e){return e&&(!n.currentUser||e!==n.currentUser.userId)}}),new me({type:"callback"})]),o=S(i,3);return r=o[0],e=o[1],t=o[2],ue(this._iid,function(t){r?t(r,null):N.get(n._iid).container.apiClient.unblockUser({unblockedUserId:e},function(e,n){t(e,null)})},t)}},{key:"getPushTriggerOption",value:function(e){var t=this;return ue(this._iid,function(e){N.get(t._iid).container.apiClient.getPushTriggerOption({},function(t,n){e(t,n?n.push_trigger_option:null)})},e)}},{key:"setPushTriggerOption",value:function(e,t){var n=this;return ue(this._iid,function(t){Object.keys(n.PushTriggerOption).map(function(e){return n.PushTriggerOption[e]}).indexOf(e)>-1?N.get(n._iid).container.apiClient.setPushTriggerOption({pushTriggerOption:e},function(e,n){t(e,n?n.push_trigger_option:null)}):t(me.error,null)},t)}},{key:"getGroupChannelCount",value:function(e,t){var n=this,r=B.get(this._iid),i=r.GroupChannel,o=null,a=me.parse(arguments,[new me({type:i.MemberStateFilter,optional:!0,defaultValue:i.MemberStateFilter.ALL}),new me({type:"callback"})]),s=S(a,3);return o=s[0],e=s[1],t=s[2],ue(this._iid,function(t){o?t(o,null):N.get(n._iid).container.apiClient.getGroupChannelCount({memberStateFilter:e},function(e,n){var r=null;e||(r=parseInt(n.group_channel_count)),t(e,r)})},t)}},{key:"getTotalUnreadChannelCount",value:function(e,t){var n=this,r=B.get(this._iid),i=r.GroupChannel,o=r.GroupChannelTotalUnreadChannelCountParams,a=null,s=me.parse(arguments,[new me({type:"object",optional:!0,defaultValue:null,constraint:function(e){return e instanceof o}}),new me({type:"callback"})]),u=S(s,3);return a=u[0],e=u[1],t=u[2],ue(this._iid,function(t){if(a)t(a,null);else{var r=null,o=i.SuperChannelFilter.ALL;e&&(r=e.channelCustomTypesFilter,o=e.superChannelFilter),N.get(n._iid).container.apiClient.getTotalUnreadChannelCount({customTypesFilter:r,superChannelFilter:o},function(e,n){var r=null;e||(r=parseInt(n.unread_count)),t(e,r)})}},t)}},{key:"getTotalUnreadMessageCount",value:function(e,t){var n=this,r=B.get(this._iid),i=r.GroupChannel,o=r.GroupChannelTotalUnreadMessageCountParams,a=null,s=me.parse(arguments,[new me({type:"object",optional:!0,defaultValue:null,constraint:function(e){return Array.isArray(e)&&e.every(function(e){return"string"==typeof e})||e instanceof o}}),new me({type:"callback"})]),u=S(s,3);return a=u[0],e=u[1],t=u[2],ue(this._iid,function(t){if(a)t(a,null);else{var r=i.SuperChannelFilter.ALL;if(e instanceof o){var s=e;e=s.channelCustomTypesFilter,r=s.superChannelFilter}N.get(n._iid).container.apiClient.getTotalUnreadMessageCount({customTypesFilter:e,superChannelFilter:r},function(e,n){var r=null;e||(r=parseInt(n.unread_count)),t(e,r)})}},t)}},{key:"getUnreadItemCount",value:function(e,t){var n=this,r=null,i=me.parse(arguments,[new me({type:"array",constraint:function(e){return e.length>0&&e.every(function(e){return Object.keys(ir.UnreadItemKey).map(function(e){return ir.UnreadItemKey[e]}).indexOf(e)>-1})}}),new me({type:"callback"})]),o=S(i,3);return r=o[0],e=o[1],t=o[2],ue(this._iid,function(t){if(r)t(r,null);else{var i=e.filter(function(t,n){return e.indexOf(t)===n});N.get(n._iid).container.apiClient.getUnreadItemCount({keys:i},function(e,n){t(e,n)})}},t)}},{key:"getSubscribedTotalUnreadMessageCount",value:function(){var e=N.get(this._iid).container.subscribedUnreadMessageCount;return e.all>=0?e.all:0}},{key:"getSubscribedCustomTypeTotalUnreadMessageCount",value:function(){var e=N.get(this._iid).container.subscribedUnreadMessageCount;if(Object.keys(e.custom_types).length>0){var t=0;return Object.keys(e.custom_types).forEach(function(n){t+=e.custom_types[n]}),t}return 0}},{key:"getSubscribedCustomTypeUnreadMessageCount",value:function(e){if(e&&"string"==typeof e){var t=N.get(this._iid).container.subscribedUnreadMessageCount;return t.custom_types.hasOwnProperty(e)?t.custom_types[e]:0}return 0}},{key:"getMyPushTokensByToken",value:function(e,t,n){var r=this,i=null,o=me.parse(arguments,[new me({type:"string"}),new me({type:"string",constraint:function(e){return["gcm","apns","apns_voip"].indexOf(e)>-1}}),new me({type:"callback"})]),a=S(o,4);return i=a[0],e=a[1],t=a[2],n=a[3],ue(this._iid,function(n){i?n(i,null):N.get(r._iid).container.apiClient.getPushTokens({ts:null,token:e,type:t},function(e,t){if(e)n(e,null);else{var r=t.type;n(null,{deviceTokens:t.device_tokens,type:r?r.toLowerCase():"unknown",hasMore:t.has_more,token:t.token})}})},n)}},{key:"getPushTemplate",value:function(e){var t=this;return ue(this._iid,function(e){N.get(t._iid).container.apiClient.getPushTemplate({},function(t,n){var r=null;t||(r=n.name.toString()),e(t,r)})},e)}},{key:"setPushTemplate",value:function(e,t){var n=this;return ue(this._iid,function(t){[n.PUSH_TEMPLATE_DEFAULT,n.PUSH_TEMPLATE_ALTERNATIVE].indexOf(e)>-1?N.get(n._iid).container.apiClient.setPushTemplate({templateName:e},function(e,n){var r=null;e||(r=n.name.toString()),t(e,r)}):t(me.error,null)},t)}},{key:"markAsReadAll",value:function(e){var t=this;return ue(this._iid,function(e){var n=B.get(t._iid).GroupChannel,r=(new Date).getTime();r-n.markAsReadAllLastSentAt<1e3?e(new U("MarkAsRead rate limit exceeded.",U.MARK_AS_READ_RATE_LIMIT_EXCEEDED),null):(n.markAsReadAllLastSentAt=r,N.get(t._iid).container.apiClient.markAsReadAll({channelUrls:null},function(i,o){i||Object.keys(n.cachedChannels).forEach(function(e){t.currentUser&&n.cachedChannels[e].updateReadReceipt(t.currentUser.userId,r),n.cachedChannels[e]._setGroupChannelUnreadCount(0,0)}),e(i,null)}))},e)}},{key:"markAsReadWithChannelUrls",value:function(e,t){var n=this,r=null,i=me.parse(arguments,[new me({type:"array",constraint:function(e){return e.every(function(e){return"string"==typeof e})}}),new me({type:"callback"})]),o=S(i,3);return r=o[0],e=o[1],t=o[2],ue(this._iid,function(t){if(r)t(r,null);else{var i=(new Date).getTime();N.get(n._iid).container.apiClient.markAsReadAll({channelUrls:e},function(r,o){r||e.forEach(function(e){ir.cachedChannels[e]&&(n.currentUser&&ir.cachedChannels[e].updateReadReceipt(n.currentUser.userId,i),ir.cachedChannels[e]._setGroupChannelUnreadCount(0,0))}),t(r,null)})}},t)}},{key:"markAsDelivered",value:function(e){"string"==typeof e&&B.get(this._iid).GroupChannel.getChannel(e,I.INTERNAL_CALL).then(function(e){return e.markAsDelivered()}).catch(function(e){return X.debug(e)})}},{key:"getFriendChangeLogsByToken",value:function(e,t){var n=this,r=null,i=me.parse(arguments,[new me({type:"string",optional:!0,defaultValue:null}),new me({type:"callback"})]),o=S(i,3);return r=o[0],e=o[1],t=o[2],ue(this._iid,function(t){r?t(r,null):N.get(n._iid).container.apiClient.getFriendChangeLogsByToken({token:e},function(e,r){var i=null;if(!e){var o=B.get(n._iid).User;i={updatedUsers:r.updated.map(function(e){return new o(e)}),deletedUserIds:r.deleted,hasMore:r.has_more,token:r.next}}t(e,i)})},t)}},{key:"uploadFriendDiscoveries",value:function(e,t){var n=this,r=null,i=me.parse(arguments,[new me({type:"array",constraint:function(e){return e.every(function(e){return e.hasOwnProperty("friendDiscoveryKey")})}}),new me({type:"callback"})]),o=S(i,3);return r=o[0],e=o[1],t=o[2],ue(this._iid,function(t){r?t(r,null):N.get(n._iid).container.apiClient.uploadFriendDiscoveries({discoveries:e},function(e,n){t(e,n)})},t)}},{key:"deleteFriendDiscovery",value:function(e,t){var n=null,r=me.parse(arguments,[new me({type:"string"}),new me({type:"callback"})]),i=S(r,3);return n=i[0],e=i[1],t=i[2],n?ue(this._iid,function(e){e(n,null)},t):this.deleteFriendDiscoveries([e],t)}},{key:"deleteFriendDiscoveries",value:function(e,t){var n=this,r=null,i=me.parse(arguments,[new me({type:"array",constraint:function(e){return e.every(function(e){return"string"==typeof e})}}),new me({type:"callback"})]),o=S(i,3);return r=o[0],e=o[1],t=o[2],ue(this._iid,function(t){r?t(r,null):N.get(n._iid).container.apiClient.deleteFriendDiscoveries({discoveryKeys:e},function(e,n){t(e,n)})},t)}},{key:"addFriends",value:function(e,t){var n=this,r=null,i=me.parse(arguments,[new me({type:"array",constraint:function(e){return e.every(function(e){return"string"==typeof e})}}),new me({type:"callback"})]),o=S(i,3);return r=o[0],e=o[1],t=o[2],ue(this._iid,function(t){r?t(r,null):N.get(n._iid).container.apiClient.addFriends({userIds:e},function(e,r){var i=null;if(!e){var o=B.get(n._iid).User;i=r.users.map(function(e){return new o(e)})}t(e,i)})},t)}},{key:"deleteFriend",value:function(e,t){var n=null,r=me.parse(arguments,[new me({type:"string"}),new me({type:"callback"})]),i=S(r,3);return n=i[0],e=i[1],t=i[2],n?ue(this._iid,function(e){e(n,null)},t):this.deleteFriends([e],t)}},{key:"deleteFriends",value:function(e,t){var n=this,r=null,i=me.parse(arguments,[new me({type:"array",constraint:function(e){return e.every(function(e){return"string"==typeof e})}}),new me({type:"callback"})]),o=S(i,3);return r=o[0],e=o[1],t=o[2],ue(this._iid,function(t){r?t(r,null):N.get(n._iid).container.apiClient.deleteFriends({userIds:e},function(e,n){t(e,n)})},t)}},{key:"getAllEmoji",value:function(e){var t=this,n=null,r=me.parse(arguments,[new me({type:"callback"})]),i=S(r,2);return n=i[0],e=i[1],ue(this._iid,function(e){n?e(n,null):N.get(t._iid).container.apiClient.getAllEmoji(function(n,r){if(n)e(n,null);else{var i=new(0,B.get(t._iid).EmojiContainer)(r);e(null,i)}})},e)}},{key:"getEmojiCategory",value:function(e,t){var n=this,r=null,i=me.parse(arguments,[new me({type:"number",constraint:function(e){return e>=0}}),new me({type:"callback"})]),o=S(i,3);return r=o[0],e=o[1],t=o[2],ue(this._iid,function(t){r?t(r,null):N.get(n._iid).container.apiClient.getEmojiCategory({categoryId:e},function(e,r){if(e)t(e,null);else{var i=new(0,B.get(n._iid).EmojiCategory)(r);t(null,i)}})},t)}},{key:"getEmoji",value:function(e,t){var n=this,r=null,i=me.parse(arguments,[new me({type:"string"}),new me({type:"callback"})]),o=S(i,3);return r=o[0],e=o[1],t=o[2],ue(this._iid,function(t){r?t(r,null):N.get(n._iid).container.apiClient.getEmoji({emojiKey:e},function(e,r){if(e)t(e,null);else{var i=new(0,B.get(n._iid).Emoji)(r);t(null,i)}})},t)}},{key:"getAllowFriendDiscovery",value:function(e){var t=this,n=null,r=me.parse(arguments,[new me({type:"callback"})]),i=S(r,2);return n=i[0],e=i[1],ue(this._iid,function(e){n?e(n,null):N.get(t._iid).container.apiClient.getAllowFriendDiscovery(function(t,n){var r=n.allow_friend_discovery;t?e(t,null):e(null,r)})},e)}},{key:"setAllowFriendDiscovery",value:function(e,t){var n=this,r=null,i=me.parse(arguments,[new me({type:"boolean"}),new me({type:"callback"})]),o=S(i,3);return r=o[0],e=o[1],t=o[2],ue(this._iid,function(t){r?t(r,null):N.get(n._iid).container.apiClient.setAllowFriendDiscovery({allowFriendDiscovery:e},function(n,r){n?t(n,null):t(null,e)})},t)}},{key:"clearCachedMessages",value:function(e){var t=this,n=Fe.of(this._iid);if(n){var r=N.get(this._iid).container.store;return Promise.all(e.map(function(e){return new Promise(function(i,o){n.clearByChannelUrl(e).then(function(){var n=Ve(t._currentUserId,e);return r.remove(n)}).then(function(){var n=ze(t._currentUserId,e);return r.remove(n)}).then(function(){i()}).catch(function(e){o(e)})})}))}return Promise.resolve([])}},{key:"_getCurrentUserDataKey",value:function(){return"sendbird:".concat(this._currentUserId,"@currentUserData")}},{key:"_populateVaultFromCurrentUserData",value:function(e){var t=N.get(this._iid),n=t.container.auth,r=B.get(this._iid).User,i=e.currentUser,o=e.maxUnreadCountOfSuperGroupChannel,a=e.profileImageEncryption,s=e.sessionKey,u=e.eKey,c=e.appInfo,l=e.connectedAt,h=e.firstConnectedAt,f=e.concurrentCallLimit,d=e.backOffDelay;i&&(this.currentUser=r.buildFromSerializedData(i)),o&&t.set("maxUnreadCountOfSuperGroupChannel",o),a&&t.set("profileImageEncryption",a),n?(s&&(n.sessionKey=s),u&&(n.ekey=u)):X.debug("Auth should have been created when populating current user data."),c&&t.set("appInfo",new Te(c)),l&&t.set("connectedAt",l),h&&t.set("firstConnectedAt",h),f&&t.set("concurrentCallLimit",f),d&&t.set("backOffDelay",d)}}],[{key:"version",get:function(){return I.SDK_VERSION}},{key:"LogLevel",get:function(){return X.supportedLogLevels}},{key:"getInstance",value:function(e){return e?Di[e]:Li}},{key:"getLogLevel",value:function(){return X.logLevel}},{key:"setLogLevel",value:function(e){var t=Object.values(X.supportedLogLevels);if(t.includes(e))X.logLevel=e;else{X.logLevel=X.defaultLogLevel;var n=t.map(function(e){return"'".concat(e,"'")}).join(", ");X.warn("`logLevel` parameter should be one of","".concat(n,","),"not `'".concat(e,"'`."),"Set to default log level","`".concat(X.defaultLogLevel,"`."))}}},{key:"getAppVersion",value:function(){return Ui}},{key:"setAppVersion",value:function(e){"string"==typeof e&&ee()&&(Ui=e)}}]),e}();return Fi}(n(820),n(839),n(840))}).call(this,n(149),n(335).Buffer,n(90))},function(e,t,n){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},function(e,t,n){"use strict";var r=n(54);function i(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var o;if(n)o=n(t);else if(r.isURLSearchParams(t))o=t.toString();else{var a=[];r.forEach(t,function(e,t){null!==e&&"undefined"!==typeof e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),a.push(i(t)+"="+i(e))}))}),o=a.join("&")}if(o){var s=e.indexOf("#");-1!==s&&(e=e.slice(0,s)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e}},function(e,t,n){"use strict";e.exports={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1}},function(e,t,n){"use strict";(function(t){var r=n(54);e.exports=function(e,n){n=n||new FormData;var i=[];function o(e){return null===e?"":r.isDate(e)?e.toISOString():r.isArrayBuffer(e)||r.isTypedArray(e)?"function"===typeof Blob?new Blob([e]):t.from(e):e}return function e(t,a){if(r.isPlainObject(t)||r.isArray(t)){if(-1!==i.indexOf(t))throw Error("Circular reference detected in "+a);i.push(t),r.forEach(t,function(t,i){if(!r.isUndefined(t)){var s,u=a?a+"."+i:i;if(t&&!a&&"object"===typeof t)if(r.endsWith(i,"{}"))t=JSON.stringify(t);else if(r.endsWith(i,"[]")&&(s=r.toArray(t)))return void s.forEach(function(e){!r.isUndefined(e)&&n.append(u,o(e))});e(t,u)}}),i.pop()}else n.append(a,o(t))}(e),n}}).call(this,n(335).Buffer)},function(e,t,n){"use strict";var r=n(54),i=n(827),o=n(828),a=n(426),s=n(430),u=n(831),c=n(832),l=n(427),h=n(161),f=n(237),d=n(833);e.exports=function(e){return new Promise(function(t,n){var p,g=e.data,y=e.headers,v=e.responseType;function m(){e.cancelToken&&e.cancelToken.unsubscribe(p),e.signal&&e.signal.removeEventListener("abort",p)}r.isFormData(g)&&r.isStandardBrowserEnv()&&delete y["Content-Type"];var b=new XMLHttpRequest;if(e.auth){var _=e.auth.username||"",w=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";y.Authorization="Basic "+btoa(_+":"+w)}var E=s(e.baseURL,e.url);function S(){if(b){var r="getAllResponseHeaders"in b?u(b.getAllResponseHeaders()):null,o={data:v&&"text"!==v&&"json"!==v?b.response:b.responseText,status:b.status,statusText:b.statusText,headers:r,config:e,request:b};i(function(e){t(e),m()},function(e){n(e),m()},o),b=null}}if(b.open(e.method.toUpperCase(),a(E,e.params,e.paramsSerializer),!0),b.timeout=e.timeout,"onloadend"in b?b.onloadend=S:b.onreadystatechange=function(){b&&4===b.readyState&&(0!==b.status||b.responseURL&&0===b.responseURL.indexOf("file:"))&&setTimeout(S)},b.onabort=function(){b&&(n(new h("Request aborted",h.ECONNABORTED,e,b)),b=null)},b.onerror=function(){n(new h("Network Error",h.ERR_NETWORK,e,b,b)),b=null},b.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",r=e.transitional||l;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(new h(t,r.clarifyTimeoutError?h.ETIMEDOUT:h.ECONNABORTED,e,b)),b=null},r.isStandardBrowserEnv()){var C=(e.withCredentials||c(E))&&e.xsrfCookieName?o.read(e.xsrfCookieName):void 0;C&&(y[e.xsrfHeaderName]=C)}"setRequestHeader"in b&&r.forEach(y,function(e,t){"undefined"===typeof g&&"content-type"===t.toLowerCase()?delete y[t]:b.setRequestHeader(t,e)}),r.isUndefined(e.withCredentials)||(b.withCredentials=!!e.withCredentials),v&&"json"!==v&&(b.responseType=e.responseType),"function"===typeof e.onDownloadProgress&&b.addEventListener("progress",e.onDownloadProgress),"function"===typeof e.onUploadProgress&&b.upload&&b.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(p=function(e){b&&(n(!e||e&&e.type?new f:e),b.abort(),b=null)},e.cancelToken&&e.cancelToken.subscribe(p),e.signal&&(e.signal.aborted?p():e.signal.addEventListener("abort",p))),g||(g=null);var O=d(E);O&&-1===["http","https","file"].indexOf(O)?n(new h("Unsupported protocol "+O+":",h.ERR_BAD_REQUEST,e)):b.send(g)})}},function(e,t,n){"use strict";var r=n(829),i=n(830);e.exports=function(e,t){return e&&!r(t)?i(e,t):t}},function(e,t,n){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},function(e,t,n){"use strict";var r=n(54);e.exports=function(e,t){t=t||{};var n={};function i(e,t){return r.isPlainObject(e)&&r.isPlainObject(t)?r.merge(e,t):r.isPlainObject(t)?r.merge({},t):r.isArray(t)?t.slice():t}function o(n){return r.isUndefined(t[n])?r.isUndefined(e[n])?void 0:i(void 0,e[n]):i(e[n],t[n])}function a(e){if(!r.isUndefined(t[e]))return i(void 0,t[e])}function s(n){return r.isUndefined(t[n])?r.isUndefined(e[n])?void 0:i(void 0,e[n]):i(void 0,t[n])}function u(n){return n in t?i(e[n],t[n]):n in e?i(void 0,e[n]):void 0}var c={url:a,method:a,data:a,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:u};return r.forEach(Object.keys(e).concat(Object.keys(t)),function(e){var t=c[e]||o,i=t(e);r.isUndefined(i)&&t!==u||(n[e]=i)}),n}},function(e,t){e.exports={version:"0.27.2"}},function(e,t,n){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},function(e,t,n){"use strict";var r=n(72);function i(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var o;if(n)o=n(t);else if(r.isURLSearchParams(t))o=t.toString();else{var a=[];r.forEach(t,function(e,t){null!==e&&"undefined"!==typeof e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),a.push(i(t)+"="+i(e))}))}),o=a.join("&")}if(o){var s=e.indexOf("#");-1!==s&&(e=e.slice(0,s)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e}},function(e,t,n){"use strict";e.exports=function(e,t,n,r,i){return e.config=t,n&&(e.code=n),e.request=r,e.response=i,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}},function(e,t,n){"use strict";var r=n(72),i=n(848),o=n(849),a=n(435),s=n(850),u=n(853),c=n(854),l=n(438);e.exports=function(e){return new Promise(function(t,n){var h=e.data,f=e.headers,d=e.responseType;r.isFormData(h)&&delete f["Content-Type"];var p=new XMLHttpRequest;if(e.auth){var g=e.auth.username||"",y=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";f.Authorization="Basic "+btoa(g+":"+y)}var v=s(e.baseURL,e.url);function m(){if(p){var r="getAllResponseHeaders"in p?u(p.getAllResponseHeaders()):null,o={data:d&&"text"!==d&&"json"!==d?p.response:p.responseText,status:p.status,statusText:p.statusText,headers:r,config:e,request:p};i(t,n,o),p=null}}if(p.open(e.method.toUpperCase(),a(v,e.params,e.paramsSerializer),!0),p.timeout=e.timeout,"onloadend"in p?p.onloadend=m:p.onreadystatechange=function(){p&&4===p.readyState&&(0!==p.status||p.responseURL&&0===p.responseURL.indexOf("file:"))&&setTimeout(m)},p.onabort=function(){p&&(n(l("Request aborted",e,"ECONNABORTED",p)),p=null)},p.onerror=function(){n(l("Network Error",e,null,p)),p=null},p.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(l(t,e,e.transitional&&e.transitional.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",p)),p=null},r.isStandardBrowserEnv()){var b=(e.withCredentials||c(v))&&e.xsrfCookieName?o.read(e.xsrfCookieName):void 0;b&&(f[e.xsrfHeaderName]=b)}"setRequestHeader"in p&&r.forEach(f,function(e,t){"undefined"===typeof h&&"content-type"===t.toLowerCase()?delete f[t]:p.setRequestHeader(t,e)}),r.isUndefined(e.withCredentials)||(p.withCredentials=!!e.withCredentials),d&&"json"!==d&&(p.responseType=e.responseType),"function"===typeof e.onDownloadProgress&&p.addEventListener("progress",e.onDownloadProgress),"function"===typeof e.onUploadProgress&&p.upload&&p.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then(function(e){p&&(p.abort(),n(e),p=null)}),h||(h=null),p.send(h)})}},function(e,t,n){"use strict";var r=n(436);e.exports=function(e,t,n,i,o){var a=new Error(e);return r(a,t,n,i,o)}},function(e,t,n){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},function(e,t,n){"use strict";var r=n(72);e.exports=function(e,t){t=t||{};var n={},i=["url","method","data"],o=["headers","auth","proxy","params"],a=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],s=["validateStatus"];function u(e,t){return r.isPlainObject(e)&&r.isPlainObject(t)?r.merge(e,t):r.isPlainObject(t)?r.merge({},t):r.isArray(t)?t.slice():t}function c(i){r.isUndefined(t[i])?r.isUndefined(e[i])||(n[i]=u(void 0,e[i])):n[i]=u(e[i],t[i])}r.forEach(i,function(e){r.isUndefined(t[e])||(n[e]=u(void 0,t[e]))}),r.forEach(o,c),r.forEach(a,function(i){r.isUndefined(t[i])?r.isUndefined(e[i])||(n[i]=u(void 0,e[i])):n[i]=u(void 0,t[i])}),r.forEach(s,function(r){r in t?n[r]=u(e[r],t[r]):r in e&&(n[r]=u(void 0,e[r]))});var l=i.concat(o).concat(a).concat(s),h=Object.keys(e).concat(Object.keys(t)).filter(function(e){return-1===l.indexOf(e)});return r.forEach(h,c),n}},function(e,t,n){"use strict";function r(e){this.message=e}r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,e.exports=r},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){e.exports=!n(96)&&!n(163)(function(){return 7!=Object.defineProperty(n(444)("div"),"a",{get:function(){return 7}}).a})},function(e,t,n){var r=n(111),i=n(95).document,o=r(i)&&r(i.createElement);e.exports=function(e){return o?i.createElement(e):{}}},function(e,t,n){var r=n(133),i=n(164),o=n(870)(!1),a=n(306)("IE_PROTO");e.exports=function(e,t){var n,s=i(e),u=0,c=[];for(n in s)n!=a&&r(s,n)&&c.push(n);for(;t.length>u;)r(s,n=t[u++])&&(~o(c,n)||c.push(n));return c}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,n){e.exports=n(117)},function(e,t,n){var r=n(449),i=n(87)("iterator"),o=n(192);e.exports=n(86).getIteratorMethod=function(e){if(void 0!=e)return e[i]||e["@@iterator"]||o[r(e)]}},function(e,t,n){var r=n(302),i=n(87)("toStringTag"),o="Arguments"==r(function(){return arguments}());e.exports=function(e){var t,n,a;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(n){}}(t=Object(e),i))?n:o?r(t):"Object"==(a=r(t))&&"function"==typeof t.callee?"Arguments":a}},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t,n){"use strict";t.__esModule=!0;var r,i=n(452),o=(r=i)&&r.__esModule?r:{default:r};t.default=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==("undefined"===typeof t?"undefined":(0,o.default)(t))&&"function"!==typeof t?e:t}},function(e,t,n){"use strict";t.__esModule=!0;var r=a(n(883)),i=a(n(885)),o="function"===typeof i.default&&"symbol"===typeof r.default?function(e){return typeof e}:function(e){return e&&"function"===typeof i.default&&e.constructor===i.default&&e!==i.default.prototype?"symbol":typeof e};function a(e){return e&&e.__esModule?e:{default:e}}t.default="function"===typeof i.default&&"symbol"===o(r.default)?function(e){return"undefined"===typeof e?"undefined":o(e)}:function(e){return e&&"function"===typeof i.default&&e.constructor===i.default&&e!==i.default.prototype?"symbol":"undefined"===typeof e?"undefined":o(e)}},function(e,t,n){var r=n(302);e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,t,n){var r=n(445),i=n(308).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},function(e,t,n){var r=n(242),i=n(238),o=n(164),a=n(300),s=n(133),u=n(443),c=Object.getOwnPropertyDescriptor;t.f=n(96)?c:function(e,t){if(e=o(e),t=a(t,!0),u)try{return c(e,t)}catch(n){}if(s(e,t))return i(!r.f.call(e,t),e[t])}},function(e,t){},function(e,t,n){"use strict";t.__esModule=!0;var r=a(n(892)),i=a(n(896)),o=a(n(452));function a(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+("undefined"===typeof t?"undefined":(0,o.default)(t)));e.prototype=(0,i.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(r.default?(0,r.default)(e,t):e.__proto__=t)}},function(e,t,n){var r=n(117);e.exports=function(e,t,n){for(var i in t)n&&e[i]?e[i]=t[i]:r(e,i,t[i]);return e}},function(e,t){e.exports=function(e,t,n,r){if(!(e instanceof t)||void 0!==r&&r in e)throw TypeError(n+": incorrect invocation!");return e}},function(e,t,n){var r=n(111);e.exports=function(e,t){if(!r(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},function(e,t,n){"use strict";var r=n(3),i=n(58),o=(n(43),n(41)),a=n(25),s=n(47),u=n(31),c={}.constructor;function l(e){if(null==e||"object"!==typeof e)return e;if(Array.isArray(e))return e.map(l);if(e.constructor!==c)return e;var t={};for(var n in e)t[n]=l(e[n]);return t}function h(e,t,n){void 0===e&&(e="unnamed");var r=n.jss,i=l(t),o=r.plugins.onCreateRule(e,i,n);return o||(e[0],null)}var f=function(e,t){for(var n="",r=0;r<e.length&&"!important"!==e[r];r++)n&&(n+=t),n+=e[r];return n},d=function(e){if(!Array.isArray(e))return e;var t="";if(Array.isArray(e[0]))for(var n=0;n<e.length&&"!important"!==e[n];n++)t&&(t+=", "),t+=f(e[n]," ");else t=f(e,", ");return"!important"===e[e.length-1]&&(t+=" !important"),t};function p(e){return e&&!1===e.format?{linebreak:"",space:""}:{linebreak:"\n",space:" "}}function g(e,t){for(var n="",r=0;r<t;r++)n+="  ";return n+e}function y(e,t,n){void 0===n&&(n={});var r="";if(!t)return r;var i=n.indent,o=void 0===i?0:i,a=t.fallbacks;!1===n.format&&(o=-1/0);var s=p(n),u=s.linebreak,c=s.space;if(e&&o++,a)if(Array.isArray(a))for(var l=0;l<a.length;l++){var h=a[l];for(var f in h){var y=h[f];null!=y&&(r&&(r+=u),r+=g(f+":"+c+d(y)+";",o))}}else for(var v in a){var m=a[v];null!=m&&(r&&(r+=u),r+=g(v+":"+c+d(m)+";",o))}for(var b in t){var _=t[b];null!=_&&"fallbacks"!==b&&(r&&(r+=u),r+=g(b+":"+c+d(_)+";",o))}return(r||n.allowEmpty)&&e?(r&&(r=""+u+r+u),g(""+e+c+"{"+r,--o)+g("}",o)):r}var v=/([[\].#*$><+~=|^:(),"'`\s])/g,m="undefined"!==typeof CSS&&CSS.escape,b=function(e){return m?m(e):e.replace(v,"\\$1")},_=function(){function e(e,t,n){this.type="style",this.isProcessed=!1;var r=n.sheet,i=n.Renderer;this.key=e,this.options=n,this.style=t,r?this.renderer=r.renderer:i&&(this.renderer=new i)}return e.prototype.prop=function(e,t,n){if(void 0===t)return this.style[e];var r=!!n&&n.force;if(!r&&this.style[e]===t)return this;var i=t;n&&!1===n.process||(i=this.options.jss.plugins.onChangeValue(t,e,this));var o=null==i||!1===i,a=e in this.style;if(o&&!a&&!r)return this;var s=o&&a;if(s?delete this.style[e]:this.style[e]=i,this.renderable&&this.renderer)return s?this.renderer.removeProperty(this.renderable,e):this.renderer.setProperty(this.renderable,e,i),this;var u=this.options.sheet;return u&&u.attached,this},e}(),w=function(e){function t(t,n,r){var i;i=e.call(this,t,n,r)||this;var o=r.selector,a=r.scoped,u=r.sheet,c=r.generateId;return o?i.selectorText=o:!1!==a&&(i.id=c(Object(s.a)(Object(s.a)(i)),u),i.selectorText="."+b(i.id)),i}Object(a.a)(t,e);var n=t.prototype;return n.applyTo=function(e){var t=this.renderer;if(t){var n=this.toJSON();for(var r in n)t.setProperty(e,r,n[r])}return this},n.toJSON=function(){var e={};for(var t in this.style){var n=this.style[t];"object"!==typeof n?e[t]=n:Array.isArray(n)&&(e[t]=d(n))}return e},n.toString=function(e){var t=this.options.sheet,n=!!t&&t.options.link?Object(r.a)({},e,{allowEmpty:!0}):e;return y(this.selectorText,this.style,n)},Object(o.a)(t,[{key:"selector",set:function(e){if(e!==this.selectorText){this.selectorText=e;var t=this.renderer,n=this.renderable;if(n&&t)t.setSelector(n,e)||t.replaceRule(n,this)}},get:function(){return this.selectorText}}]),t}(_),E={onCreateRule:function(e,t,n){return"@"===e[0]||n.parent&&"keyframes"===n.parent.type?null:new w(e,t,n)}},S={indent:1,children:!0},C=/@([\w-]+)/,O=function(){function e(e,t,n){this.type="conditional",this.isProcessed=!1,this.key=e;var i=e.match(C);for(var o in this.at=i?i[1]:"unknown",this.query=n.name||"@"+this.at,this.options=n,this.rules=new Y(Object(r.a)({},n,{parent:this})),t)this.rules.add(o,t[o]);this.rules.process()}var t=e.prototype;return t.getRule=function(e){return this.rules.get(e)},t.indexOf=function(e){return this.rules.indexOf(e)},t.addRule=function(e,t,n){var r=this.rules.add(e,t,n);return r?(this.options.jss.plugins.onProcessRule(r),r):null},t.replaceRule=function(e,t,n){var r=this.rules.replace(e,t,n);return r&&this.options.jss.plugins.onProcessRule(r),r},t.toString=function(e){void 0===e&&(e=S);var t=p(e).linebreak;if(null==e.indent&&(e.indent=S.indent),null==e.children&&(e.children=S.children),!1===e.children)return this.query+" {}";var n=this.rules.toString(e);return n?this.query+" {"+t+n+t+"}":""},e}(),T=/@media|@supports\s+/,k={onCreateRule:function(e,t,n){return T.test(e)?new O(e,t,n):null}},I={indent:1,children:!0},A=/@keyframes\s+([\w-]+)/,N=function(){function e(e,t,n){this.type="keyframes",this.at="@keyframes",this.isProcessed=!1;var i=e.match(A);i&&i[1]?this.name=i[1]:this.name="noname",this.key=this.type+"-"+this.name,this.options=n;var o=n.scoped,a=n.sheet,s=n.generateId;for(var u in this.id=!1===o?this.name:b(s(this,a)),this.rules=new Y(Object(r.a)({},n,{parent:this})),t)this.rules.add(u,t[u],Object(r.a)({},n,{parent:this}));this.rules.process()}return e.prototype.toString=function(e){void 0===e&&(e=I);var t=p(e).linebreak;if(null==e.indent&&(e.indent=I.indent),null==e.children&&(e.children=I.children),!1===e.children)return this.at+" "+this.id+" {}";var n=this.rules.toString(e);return n&&(n=""+t+n+t),this.at+" "+this.id+" {"+n+"}"},e}(),R=/@keyframes\s+/,P=/\$([\w-]+)/g,x=function(e,t){return"string"===typeof e?e.replace(P,function(e,n){return n in t?t[n]:e}):e},M=function(e,t,n){var r=e[t],i=x(r,n);i!==r&&(e[t]=i)},L={onCreateRule:function(e,t,n){return"string"===typeof e&&R.test(e)?new N(e,t,n):null},onProcessStyle:function(e,t,n){return"style"===t.type&&n?("animation-name"in e&&M(e,"animation-name",n.keyframes),"animation"in e&&M(e,"animation",n.keyframes),e):e},onChangeValue:function(e,t,n){var r=n.options.sheet;if(!r)return e;switch(t){case"animation":case"animation-name":return x(e,r.keyframes);default:return e}}},D=function(e){function t(){return e.apply(this,arguments)||this}return Object(a.a)(t,e),t.prototype.toString=function(e){var t=this.options.sheet,n=!!t&&t.options.link?Object(r.a)({},e,{allowEmpty:!0}):e;return y(this.key,this.style,n)},t}(_),j={onCreateRule:function(e,t,n){return n.parent&&"keyframes"===n.parent.type?new D(e,t,n):null}},U=function(){function e(e,t,n){this.type="font-face",this.at="@font-face",this.isProcessed=!1,this.key=e,this.style=t,this.options=n}return e.prototype.toString=function(e){var t=p(e).linebreak;if(Array.isArray(this.style)){for(var n="",r=0;r<this.style.length;r++)n+=y(this.at,this.style[r]),this.style[r+1]&&(n+=t);return n}return y(this.at,this.style,e)},e}(),F=/@font-face/,H={onCreateRule:function(e,t,n){return F.test(e)?new U(e,t,n):null}},B=function(){function e(e,t,n){this.type="viewport",this.at="@viewport",this.isProcessed=!1,this.key=e,this.style=t,this.options=n}return e.prototype.toString=function(e){return y(this.key,this.style,e)},e}(),V={onCreateRule:function(e,t,n){return"@viewport"===e||"@-ms-viewport"===e?new B(e,t,n):null}},q=function(){function e(e,t,n){this.type="simple",this.isProcessed=!1,this.key=e,this.value=t,this.options=n}return e.prototype.toString=function(e){if(Array.isArray(this.value)){for(var t="",n=0;n<this.value.length;n++)t+=this.key+" "+this.value[n]+";",this.value[n+1]&&(t+="\n");return t}return this.key+" "+this.value+";"},e}(),G={"@charset":!0,"@import":!0,"@namespace":!0},z=[E,k,L,j,H,V,{onCreateRule:function(e,t,n){return e in G?new q(e,t,n):null}}],W={process:!0},K={force:!0,process:!0},Y=function(){function e(e){this.map={},this.raw={},this.index=[],this.counter=0,this.options=e,this.classes=e.classes,this.keyframes=e.keyframes}var t=e.prototype;return t.add=function(e,t,n){var i=this.options,o=i.parent,a=i.sheet,s=i.jss,u=i.Renderer,c=i.generateId,l=i.scoped,f=Object(r.a)({classes:this.classes,parent:o,sheet:a,jss:s,Renderer:u,generateId:c,scoped:l,name:e,keyframes:this.keyframes,selector:void 0},n),d=e;e in this.raw&&(d=e+"-d"+this.counter++),this.raw[d]=t,d in this.classes&&(f.selector="."+b(this.classes[d]));var p=h(d,t,f);if(!p)return null;this.register(p);var g=void 0===f.index?this.index.length:f.index;return this.index.splice(g,0,p),p},t.replace=function(e,t,n){var i=this.get(e),o=this.index.indexOf(i);i&&this.remove(i);var a=n;return-1!==o&&(a=Object(r.a)({},n,{index:o})),this.add(e,t,a)},t.get=function(e){return this.map[e]},t.remove=function(e){this.unregister(e),delete this.raw[e.key],this.index.splice(this.index.indexOf(e),1)},t.indexOf=function(e){return this.index.indexOf(e)},t.process=function(){var e=this.options.jss.plugins;this.index.slice(0).forEach(e.onProcessRule,e)},t.register=function(e){this.map[e.key]=e,e instanceof w?(this.map[e.selector]=e,e.id&&(this.classes[e.key]=e.id)):e instanceof N&&this.keyframes&&(this.keyframes[e.name]=e.id)},t.unregister=function(e){delete this.map[e.key],e instanceof w?(delete this.map[e.selector],delete this.classes[e.key]):e instanceof N&&delete this.keyframes[e.name]},t.update=function(){var e,t,n;if("string"===typeof(arguments.length<=0?void 0:arguments[0])?(e=arguments.length<=0?void 0:arguments[0],t=arguments.length<=1?void 0:arguments[1],n=arguments.length<=2?void 0:arguments[2]):(t=arguments.length<=0?void 0:arguments[0],n=arguments.length<=1?void 0:arguments[1],e=null),e)this.updateOne(this.get(e),t,n);else for(var r=0;r<this.index.length;r++)this.updateOne(this.index[r],t,n)},t.updateOne=function(t,n,r){void 0===r&&(r=W);var i=this.options,o=i.jss.plugins,a=i.sheet;if(t.rules instanceof e)t.rules.update(n,r);else{var s=t.style;if(o.onUpdate(n,t,a,r),r.process&&s&&s!==t.style){for(var u in o.onProcessStyle(t.style,t,a),t.style){var c=t.style[u];c!==s[u]&&t.prop(u,c,K)}for(var l in s){var h=t.style[l],f=s[l];null==h&&h!==f&&t.prop(l,null,K)}}}},t.toString=function(e){for(var t="",n=this.options.sheet,r=!!n&&n.options.link,i=p(e).linebreak,o=0;o<this.index.length;o++){var a=this.index[o].toString(e);(a||r)&&(t&&(t+=i),t+=a)}return t},e}(),Q=function(){function e(e,t){for(var n in this.attached=!1,this.deployed=!1,this.classes={},this.keyframes={},this.options=Object(r.a)({},t,{sheet:this,parent:this,classes:this.classes,keyframes:this.keyframes}),t.Renderer&&(this.renderer=new t.Renderer(this)),this.rules=new Y(this.options),e)this.rules.add(n,e[n]);this.rules.process()}var t=e.prototype;return t.attach=function(){return this.attached?this:(this.renderer&&this.renderer.attach(),this.attached=!0,this.deployed||this.deploy(),this)},t.detach=function(){return this.attached?(this.renderer&&this.renderer.detach(),this.attached=!1,this):this},t.addRule=function(e,t,n){var r=this.queue;this.attached&&!r&&(this.queue=[]);var i=this.rules.add(e,t,n);return i?(this.options.jss.plugins.onProcessRule(i),this.attached?this.deployed?(r?r.push(i):(this.insertRule(i),this.queue&&(this.queue.forEach(this.insertRule,this),this.queue=void 0)),i):i:(this.deployed=!1,i)):null},t.replaceRule=function(e,t,n){var r=this.rules.get(e);if(!r)return this.addRule(e,t,n);var i=this.rules.replace(e,t,n);return i&&this.options.jss.plugins.onProcessRule(i),this.attached?this.deployed?(this.renderer&&(i?r.renderable&&this.renderer.replaceRule(r.renderable,i):this.renderer.deleteRule(r)),i):i:(this.deployed=!1,i)},t.insertRule=function(e){this.renderer&&this.renderer.insertRule(e)},t.addRules=function(e,t){var n=[];for(var r in e){var i=this.addRule(r,e[r],t);i&&n.push(i)}return n},t.getRule=function(e){return this.rules.get(e)},t.deleteRule=function(e){var t="object"===typeof e?e:this.rules.get(e);return!(!t||this.attached&&!t.renderable)&&(this.rules.remove(t),!(this.attached&&t.renderable&&this.renderer)||this.renderer.deleteRule(t.renderable))},t.indexOf=function(e){return this.rules.indexOf(e)},t.deploy=function(){return this.renderer&&this.renderer.deploy(),this.deployed=!0,this},t.update=function(){var e;return(e=this.rules).update.apply(e,arguments),this},t.updateOne=function(e,t,n){return this.rules.updateOne(e,t,n),this},t.toString=function(e){return this.rules.toString(e)},e}(),$=function(){function e(){this.plugins={internal:[],external:[]},this.registry={}}var t=e.prototype;return t.onCreateRule=function(e,t,n){for(var r=0;r<this.registry.onCreateRule.length;r++){var i=this.registry.onCreateRule[r](e,t,n);if(i)return i}return null},t.onProcessRule=function(e){if(!e.isProcessed){for(var t=e.options.sheet,n=0;n<this.registry.onProcessRule.length;n++)this.registry.onProcessRule[n](e,t);e.style&&this.onProcessStyle(e.style,e,t),e.isProcessed=!0}},t.onProcessStyle=function(e,t,n){for(var r=0;r<this.registry.onProcessStyle.length;r++)t.style=this.registry.onProcessStyle[r](t.style,t,n)},t.onProcessSheet=function(e){for(var t=0;t<this.registry.onProcessSheet.length;t++)this.registry.onProcessSheet[t](e)},t.onUpdate=function(e,t,n,r){for(var i=0;i<this.registry.onUpdate.length;i++)this.registry.onUpdate[i](e,t,n,r)},t.onChangeValue=function(e,t,n){for(var r=e,i=0;i<this.registry.onChangeValue.length;i++)r=this.registry.onChangeValue[i](r,t,n);return r},t.use=function(e,t){void 0===t&&(t={queue:"external"});var n=this.plugins[t.queue];-1===n.indexOf(e)&&(n.push(e),this.registry=[].concat(this.plugins.external,this.plugins.internal).reduce(function(e,t){for(var n in t)n in e&&e[n].push(t[n]);return e},{onCreateRule:[],onProcessRule:[],onProcessStyle:[],onProcessSheet:[],onChangeValue:[],onUpdate:[]}))},e}(),X=new(function(){function e(){this.registry=[]}var t=e.prototype;return t.add=function(e){var t=this.registry,n=e.options.index;if(-1===t.indexOf(e))if(0===t.length||n>=this.index)t.push(e);else for(var r=0;r<t.length;r++)if(t[r].options.index>n)return void t.splice(r,0,e)},t.reset=function(){this.registry=[]},t.remove=function(e){var t=this.registry.indexOf(e);this.registry.splice(t,1)},t.toString=function(e){for(var t=void 0===e?{}:e,n=t.attached,r=Object(u.a)(t,["attached"]),i=p(r).linebreak,o="",a=0;a<this.registry.length;a++){var s=this.registry[a];null!=n&&s.attached!==n||(o&&(o+=i),o+=s.toString(r))}return o},Object(o.a)(e,[{key:"index",get:function(){return 0===this.registry.length?0:this.registry[this.registry.length-1].options.index}}]),e}()),J="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window&&window.Math===Math?window:"undefined"!==typeof self&&self.Math===Math?self:Function("return this")(),Z="2f1acc6c3a606b082e5eef5e54414ffb";null==J[Z]&&(J[Z]=0);var ee=J[Z]++,te=function(e){void 0===e&&(e={});var t=0;return function(n,r){t+=1;var i="",o="";return r&&(r.options.classNamePrefix&&(o=r.options.classNamePrefix),null!=r.options.jss.id&&(i=String(r.options.jss.id))),e.minify?""+(o||"c")+ee+i+t:o+n.key+"-"+ee+(i?"-"+i:"")+"-"+t}},ne=function(e){var t;return function(){return t||(t=e()),t}},re=function(e,t){try{return e.attributeStyleMap?e.attributeStyleMap.get(t):e.style.getPropertyValue(t)}catch(n){return""}},ie=function(e,t,n){try{var r=n;if(Array.isArray(n)&&(r=d(n)),e.attributeStyleMap)e.attributeStyleMap.set(t,r);else{var i=r?r.indexOf("!important"):-1,o=i>-1?r.substr(0,i-1):r;e.style.setProperty(t,o,i>-1?"important":"")}}catch(a){return!1}return!0},oe=function(e,t){try{e.attributeStyleMap?e.attributeStyleMap.delete(t):e.style.removeProperty(t)}catch(n){}},ae=function(e,t){return e.selectorText=t,e.selectorText===t},se=ne(function(){return document.querySelector("head")});function ue(e){var t=X.registry;if(t.length>0){var n=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.attached&&r.options.index>t.index&&r.options.insertionPoint===t.insertionPoint)return r}return null}(t,e);if(n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element};if((n=function(e,t){for(var n=e.length-1;n>=0;n--){var r=e[n];if(r.attached&&r.options.insertionPoint===t.insertionPoint)return r}return null}(t,e))&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element.nextSibling}}var r=e.insertionPoint;if(r&&"string"===typeof r){var i=function(e){for(var t=se(),n=0;n<t.childNodes.length;n++){var r=t.childNodes[n];if(8===r.nodeType&&r.nodeValue.trim()===e)return r}return null}(r);if(i)return{parent:i.parentNode,node:i.nextSibling}}return!1}var ce=ne(function(){var e=document.querySelector('meta[property="csp-nonce"]');return e?e.getAttribute("content"):null}),le=function(e,t,n){try{"insertRule"in e?e.insertRule(t,n):"appendRule"in e&&e.appendRule(t)}catch(r){return!1}return e.cssRules[n]},he=function(e,t){var n=e.cssRules.length;return void 0===t||t>n?n:t},fe=function(){var e=document.createElement("style");return e.textContent="\n",e},de=function(){function e(e){this.getPropertyValue=re,this.setProperty=ie,this.removeProperty=oe,this.setSelector=ae,this.hasInsertedRules=!1,this.cssRules=[],e&&X.add(e),this.sheet=e;var t=this.sheet?this.sheet.options:{},n=t.media,r=t.meta,i=t.element;this.element=i||fe(),this.element.setAttribute("data-jss",""),n&&this.element.setAttribute("media",n),r&&this.element.setAttribute("data-meta",r);var o=ce();o&&this.element.setAttribute("nonce",o)}var t=e.prototype;return t.attach=function(){if(!this.element.parentNode&&this.sheet){!function(e,t){var n=t.insertionPoint,r=ue(t);if(!1!==r&&r.parent)r.parent.insertBefore(e,r.node);else if(n&&"number"===typeof n.nodeType){var i=n,o=i.parentNode;o&&o.insertBefore(e,i.nextSibling)}else se().appendChild(e)}(this.element,this.sheet.options);var e=Boolean(this.sheet&&this.sheet.deployed);this.hasInsertedRules&&e&&(this.hasInsertedRules=!1,this.deploy())}},t.detach=function(){if(this.sheet){var e=this.element.parentNode;e&&e.removeChild(this.element),this.sheet.options.link&&(this.cssRules=[],this.element.textContent="\n")}},t.deploy=function(){var e=this.sheet;e&&(e.options.link?this.insertRules(e.rules):this.element.textContent="\n"+e.toString()+"\n")},t.insertRules=function(e,t){for(var n=0;n<e.index.length;n++)this.insertRule(e.index[n],n,t)},t.insertRule=function(e,t,n){if(void 0===n&&(n=this.element.sheet),e.rules){var r=e,i=n;if("conditional"===e.type||"keyframes"===e.type){var o=he(n,t);if(!1===(i=le(n,r.toString({children:!1}),o)))return!1;this.refCssRule(e,o,i)}return this.insertRules(r.rules,i),i}var a=e.toString();if(!a)return!1;var s=he(n,t),u=le(n,a,s);return!1!==u&&(this.hasInsertedRules=!0,this.refCssRule(e,s,u),u)},t.refCssRule=function(e,t,n){e.renderable=n,e.options.parent instanceof Q&&this.cssRules.splice(t,0,n)},t.deleteRule=function(e){var t=this.element.sheet,n=this.indexOf(e);return-1!==n&&(t.deleteRule(n),this.cssRules.splice(n,1),!0)},t.indexOf=function(e){return this.cssRules.indexOf(e)},t.replaceRule=function(e,t){var n=this.indexOf(e);return-1!==n&&(this.element.sheet.deleteRule(n),this.cssRules.splice(n,1),this.insertRule(t,n))},t.getRules=function(){return this.element.sheet.cssRules},e}(),pe=0,ge=function(){function e(e){this.id=pe++,this.version="10.9.1",this.plugins=new $,this.options={id:{minify:!1},createGenerateId:te,Renderer:i.a?de:null,plugins:[]},this.generateId=te({minify:!1});for(var t=0;t<z.length;t++)this.plugins.use(z[t],{queue:"internal"});this.setup(e)}var t=e.prototype;return t.setup=function(e){return void 0===e&&(e={}),e.createGenerateId&&(this.options.createGenerateId=e.createGenerateId),e.id&&(this.options.id=Object(r.a)({},this.options.id,e.id)),(e.createGenerateId||e.id)&&(this.generateId=this.options.createGenerateId(this.options.id)),null!=e.insertionPoint&&(this.options.insertionPoint=e.insertionPoint),"Renderer"in e&&(this.options.Renderer=e.Renderer),e.plugins&&this.use.apply(this,e.plugins),this},t.createStyleSheet=function(e,t){void 0===t&&(t={});var n=t.index;"number"!==typeof n&&(n=0===X.index?0:X.index+1);var i=new Q(e,Object(r.a)({},t,{jss:this,generateId:t.generateId||this.generateId,insertionPoint:this.options.insertionPoint,Renderer:this.options.Renderer,index:n}));return this.plugins.onProcessSheet(i),i},t.removeStyleSheet=function(e){return e.detach(),X.remove(e),this},t.createRule=function(e,t,n){if(void 0===t&&(t={}),void 0===n&&(n={}),"object"===typeof e)return this.createRule(void 0,e,t);var i=Object(r.a)({},n,{name:e,jss:this,Renderer:this.options.Renderer});i.generateId||(i.generateId=this.generateId),i.classes||(i.classes={}),i.keyframes||(i.keyframes={});var o=h(e,t,i);return o&&this.plugins.onProcessRule(o),o},t.use=function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.forEach(function(t){e.plugins.use(t)}),this},e}();"object"===typeof CSS&&null!=CSS&&CSS;new ge(ye);var ye,ve=Date.now(),me="fnValues"+ve,be="fnStyle"+ ++ve,_e=function(){return{onCreateRule:function(e,t,n){if("function"!==typeof t)return null;var r=h(e,{},n);return r[be]=t,r},onProcessStyle:function(e,t){if(me in t||be in t)return e;var n={};for(var r in e){var i=e[r];"function"===typeof i&&(delete e[r],n[r]=i)}return t[me]=n,e},onUpdate:function(e,t,n,r){var i=t,o=i[be];o&&(i.style=o(e)||{});var a=i[me];if(a)for(var s in a)i.prop(s,a[s](e),r)}}},we={}.constructor;function Ee(e){if(null==e||"object"!==typeof e)return e;if(Array.isArray(e))return e.map(Ee);if(e.constructor!==we)return e;var t={};for(var n in e)t[n]=Ee(e[n]);return t}function Se(e,t,n){void 0===e&&(e="unnamed");var r=n.jss,i=Ee(t),o=r.plugins.onCreateRule(e,i,n);return o||(e[0],null)}var Ce=function(e,t){for(var n="",r=0;r<e.length&&"!important"!==e[r];r++)n&&(n+=t),n+=e[r];return n},Oe=function(e){if(!Array.isArray(e))return e;var t="";if(Array.isArray(e[0]))for(var n=0;n<e.length&&"!important"!==e[n];n++)t&&(t+=", "),t+=Ce(e[n]," ");else t=Ce(e,", ");return"!important"===e[e.length-1]&&(t+=" !important"),t};function Te(e){return e&&!1===e.format?{linebreak:"",space:""}:{linebreak:"\n",space:" "}}function ke(e,t){for(var n="",r=0;r<t;r++)n+="  ";return n+e}function Ie(e,t,n){void 0===n&&(n={});var r="";if(!t)return r;var i=n.indent,o=void 0===i?0:i,a=t.fallbacks;!1===n.format&&(o=-1/0);var s=Te(n),u=s.linebreak,c=s.space;if(e&&o++,a)if(Array.isArray(a))for(var l=0;l<a.length;l++){var h=a[l];for(var f in h){var d=h[f];null!=d&&(r&&(r+=u),r+=ke(f+":"+c+Oe(d)+";",o))}}else for(var p in a){var g=a[p];null!=g&&(r&&(r+=u),r+=ke(p+":"+c+Oe(g)+";",o))}for(var y in t){var v=t[y];null!=v&&"fallbacks"!==y&&(r&&(r+=u),r+=ke(y+":"+c+Oe(v)+";",o))}return(r||n.allowEmpty)&&e?(r&&(r=""+u+r+u),ke(""+e+c+"{"+r,--o)+ke("}",o)):r}var Ae=/([[\].#*$><+~=|^:(),"'`\s])/g,Ne="undefined"!==typeof CSS&&CSS.escape,Re=function(e){return Ne?Ne(e):e.replace(Ae,"\\$1")},Pe=function(){function e(e,t,n){this.type="style",this.isProcessed=!1;var r=n.sheet,i=n.Renderer;this.key=e,this.options=n,this.style=t,r?this.renderer=r.renderer:i&&(this.renderer=new i)}return e.prototype.prop=function(e,t,n){if(void 0===t)return this.style[e];var r=!!n&&n.force;if(!r&&this.style[e]===t)return this;var i=t;n&&!1===n.process||(i=this.options.jss.plugins.onChangeValue(t,e,this));var o=null==i||!1===i,a=e in this.style;if(o&&!a&&!r)return this;var s=o&&a;if(s?delete this.style[e]:this.style[e]=i,this.renderable&&this.renderer)return s?this.renderer.removeProperty(this.renderable,e):this.renderer.setProperty(this.renderable,e,i),this;var u=this.options.sheet;return u&&u.attached,this},e}(),xe=function(e){function t(t,n,r){var i;i=e.call(this,t,n,r)||this;var o=r.selector,a=r.scoped,u=r.sheet,c=r.generateId;return o?i.selectorText=o:!1!==a&&(i.id=c(Object(s.a)(Object(s.a)(i)),u),i.selectorText="."+Re(i.id)),i}Object(a.a)(t,e);var n=t.prototype;return n.applyTo=function(e){var t=this.renderer;if(t){var n=this.toJSON();for(var r in n)t.setProperty(e,r,n[r])}return this},n.toJSON=function(){var e={};for(var t in this.style){var n=this.style[t];"object"!==typeof n?e[t]=n:Array.isArray(n)&&(e[t]=Oe(n))}return e},n.toString=function(e){var t=this.options.sheet,n=!!t&&t.options.link?Object(r.a)({},e,{allowEmpty:!0}):e;return Ie(this.selectorText,this.style,n)},Object(o.a)(t,[{key:"selector",set:function(e){if(e!==this.selectorText){this.selectorText=e;var t=this.renderer,n=this.renderable;if(n&&t)t.setSelector(n,e)||t.replaceRule(n,this)}},get:function(){return this.selectorText}}]),t}(Pe),Me={onCreateRule:function(e,t,n){return"@"===e[0]||n.parent&&"keyframes"===n.parent.type?null:new xe(e,t,n)}},Le={indent:1,children:!0},De=/@([\w-]+)/,je=function(){function e(e,t,n){this.type="conditional",this.isProcessed=!1,this.key=e;var i=e.match(De);for(var o in this.at=i?i[1]:"unknown",this.query=n.name||"@"+this.at,this.options=n,this.rules=new at(Object(r.a)({},n,{parent:this})),t)this.rules.add(o,t[o]);this.rules.process()}var t=e.prototype;return t.getRule=function(e){return this.rules.get(e)},t.indexOf=function(e){return this.rules.indexOf(e)},t.addRule=function(e,t,n){var r=this.rules.add(e,t,n);return r?(this.options.jss.plugins.onProcessRule(r),r):null},t.replaceRule=function(e,t,n){var r=this.rules.replace(e,t,n);return r&&this.options.jss.plugins.onProcessRule(r),r},t.toString=function(e){void 0===e&&(e=Le);var t=Te(e).linebreak;if(null==e.indent&&(e.indent=Le.indent),null==e.children&&(e.children=Le.children),!1===e.children)return this.query+" {}";var n=this.rules.toString(e);return n?this.query+" {"+t+n+t+"}":""},e}(),Ue=/@media|@supports\s+/,Fe={onCreateRule:function(e,t,n){return Ue.test(e)?new je(e,t,n):null}},He={indent:1,children:!0},Be=/@keyframes\s+([\w-]+)/,Ve=function(){function e(e,t,n){this.type="keyframes",this.at="@keyframes",this.isProcessed=!1;var i=e.match(Be);i&&i[1]?this.name=i[1]:this.name="noname",this.key=this.type+"-"+this.name,this.options=n;var o=n.scoped,a=n.sheet,s=n.generateId;for(var u in this.id=!1===o?this.name:Re(s(this,a)),this.rules=new at(Object(r.a)({},n,{parent:this})),t)this.rules.add(u,t[u],Object(r.a)({},n,{parent:this}));this.rules.process()}return e.prototype.toString=function(e){void 0===e&&(e=He);var t=Te(e).linebreak;if(null==e.indent&&(e.indent=He.indent),null==e.children&&(e.children=He.children),!1===e.children)return this.at+" "+this.id+" {}";var n=this.rules.toString(e);return n&&(n=""+t+n+t),this.at+" "+this.id+" {"+n+"}"},e}(),qe=/@keyframes\s+/,Ge=/\$([\w-]+)/g,ze=function(e,t){return"string"===typeof e?e.replace(Ge,function(e,n){return n in t?t[n]:e}):e},We=function(e,t,n){var r=e[t],i=ze(r,n);i!==r&&(e[t]=i)},Ke={onCreateRule:function(e,t,n){return"string"===typeof e&&qe.test(e)?new Ve(e,t,n):null},onProcessStyle:function(e,t,n){return"style"===t.type&&n?("animation-name"in e&&We(e,"animation-name",n.keyframes),"animation"in e&&We(e,"animation",n.keyframes),e):e},onChangeValue:function(e,t,n){var r=n.options.sheet;if(!r)return e;switch(t){case"animation":case"animation-name":return ze(e,r.keyframes);default:return e}}},Ye=function(e){function t(){return e.apply(this,arguments)||this}return Object(a.a)(t,e),t.prototype.toString=function(e){var t=this.options.sheet,n=!!t&&t.options.link?Object(r.a)({},e,{allowEmpty:!0}):e;return Ie(this.key,this.style,n)},t}(Pe),Qe={onCreateRule:function(e,t,n){return n.parent&&"keyframes"===n.parent.type?new Ye(e,t,n):null}},$e=function(){function e(e,t,n){this.type="font-face",this.at="@font-face",this.isProcessed=!1,this.key=e,this.style=t,this.options=n}return e.prototype.toString=function(e){var t=Te(e).linebreak;if(Array.isArray(this.style)){for(var n="",r=0;r<this.style.length;r++)n+=Ie(this.at,this.style[r]),this.style[r+1]&&(n+=t);return n}return Ie(this.at,this.style,e)},e}(),Xe=/@font-face/,Je={onCreateRule:function(e,t,n){return Xe.test(e)?new $e(e,t,n):null}},Ze=function(){function e(e,t,n){this.type="viewport",this.at="@viewport",this.isProcessed=!1,this.key=e,this.style=t,this.options=n}return e.prototype.toString=function(e){return Ie(this.key,this.style,e)},e}(),et={onCreateRule:function(e,t,n){return"@viewport"===e||"@-ms-viewport"===e?new Ze(e,t,n):null}},tt=function(){function e(e,t,n){this.type="simple",this.isProcessed=!1,this.key=e,this.value=t,this.options=n}return e.prototype.toString=function(e){if(Array.isArray(this.value)){for(var t="",n=0;n<this.value.length;n++)t+=this.key+" "+this.value[n]+";",this.value[n+1]&&(t+="\n");return t}return this.key+" "+this.value+";"},e}(),nt={"@charset":!0,"@import":!0,"@namespace":!0},rt=[Me,Fe,Ke,Qe,Je,et,{onCreateRule:function(e,t,n){return e in nt?new tt(e,t,n):null}}],it={process:!0},ot={force:!0,process:!0},at=function(){function e(e){this.map={},this.raw={},this.index=[],this.counter=0,this.options=e,this.classes=e.classes,this.keyframes=e.keyframes}var t=e.prototype;return t.add=function(e,t,n){var i=this.options,o=i.parent,a=i.sheet,s=i.jss,u=i.Renderer,c=i.generateId,l=i.scoped,h=Object(r.a)({classes:this.classes,parent:o,sheet:a,jss:s,Renderer:u,generateId:c,scoped:l,name:e,keyframes:this.keyframes,selector:void 0},n),f=e;e in this.raw&&(f=e+"-d"+this.counter++),this.raw[f]=t,f in this.classes&&(h.selector="."+Re(this.classes[f]));var d=Se(f,t,h);if(!d)return null;this.register(d);var p=void 0===h.index?this.index.length:h.index;return this.index.splice(p,0,d),d},t.replace=function(e,t,n){var i=this.get(e),o=this.index.indexOf(i);i&&this.remove(i);var a=n;return-1!==o&&(a=Object(r.a)({},n,{index:o})),this.add(e,t,a)},t.get=function(e){return this.map[e]},t.remove=function(e){this.unregister(e),delete this.raw[e.key],this.index.splice(this.index.indexOf(e),1)},t.indexOf=function(e){return this.index.indexOf(e)},t.process=function(){var e=this.options.jss.plugins;this.index.slice(0).forEach(e.onProcessRule,e)},t.register=function(e){this.map[e.key]=e,e instanceof xe?(this.map[e.selector]=e,e.id&&(this.classes[e.key]=e.id)):e instanceof Ve&&this.keyframes&&(this.keyframes[e.name]=e.id)},t.unregister=function(e){delete this.map[e.key],e instanceof xe?(delete this.map[e.selector],delete this.classes[e.key]):e instanceof Ve&&delete this.keyframes[e.name]},t.update=function(){var e,t,n;if("string"===typeof(arguments.length<=0?void 0:arguments[0])?(e=arguments.length<=0?void 0:arguments[0],t=arguments.length<=1?void 0:arguments[1],n=arguments.length<=2?void 0:arguments[2]):(t=arguments.length<=0?void 0:arguments[0],n=arguments.length<=1?void 0:arguments[1],e=null),e)this.updateOne(this.get(e),t,n);else for(var r=0;r<this.index.length;r++)this.updateOne(this.index[r],t,n)},t.updateOne=function(t,n,r){void 0===r&&(r=it);var i=this.options,o=i.jss.plugins,a=i.sheet;if(t.rules instanceof e)t.rules.update(n,r);else{var s=t.style;if(o.onUpdate(n,t,a,r),r.process&&s&&s!==t.style){for(var u in o.onProcessStyle(t.style,t,a),t.style){var c=t.style[u];c!==s[u]&&t.prop(u,c,ot)}for(var l in s){var h=t.style[l],f=s[l];null==h&&h!==f&&t.prop(l,null,ot)}}}},t.toString=function(e){for(var t="",n=this.options.sheet,r=!!n&&n.options.link,i=Te(e).linebreak,o=0;o<this.index.length;o++){var a=this.index[o].toString(e);(a||r)&&(t&&(t+=i),t+=a)}return t},e}(),st=function(){function e(e,t){for(var n in this.attached=!1,this.deployed=!1,this.classes={},this.keyframes={},this.options=Object(r.a)({},t,{sheet:this,parent:this,classes:this.classes,keyframes:this.keyframes}),t.Renderer&&(this.renderer=new t.Renderer(this)),this.rules=new at(this.options),e)this.rules.add(n,e[n]);this.rules.process()}var t=e.prototype;return t.attach=function(){return this.attached?this:(this.renderer&&this.renderer.attach(),this.attached=!0,this.deployed||this.deploy(),this)},t.detach=function(){return this.attached?(this.renderer&&this.renderer.detach(),this.attached=!1,this):this},t.addRule=function(e,t,n){var r=this.queue;this.attached&&!r&&(this.queue=[]);var i=this.rules.add(e,t,n);return i?(this.options.jss.plugins.onProcessRule(i),this.attached?this.deployed?(r?r.push(i):(this.insertRule(i),this.queue&&(this.queue.forEach(this.insertRule,this),this.queue=void 0)),i):i:(this.deployed=!1,i)):null},t.replaceRule=function(e,t,n){var r=this.rules.get(e);if(!r)return this.addRule(e,t,n);var i=this.rules.replace(e,t,n);return i&&this.options.jss.plugins.onProcessRule(i),this.attached?this.deployed?(this.renderer&&(i?r.renderable&&this.renderer.replaceRule(r.renderable,i):this.renderer.deleteRule(r)),i):i:(this.deployed=!1,i)},t.insertRule=function(e){this.renderer&&this.renderer.insertRule(e)},t.addRules=function(e,t){var n=[];for(var r in e){var i=this.addRule(r,e[r],t);i&&n.push(i)}return n},t.getRule=function(e){return this.rules.get(e)},t.deleteRule=function(e){var t="object"===typeof e?e:this.rules.get(e);return!(!t||this.attached&&!t.renderable)&&(this.rules.remove(t),!(this.attached&&t.renderable&&this.renderer)||this.renderer.deleteRule(t.renderable))},t.indexOf=function(e){return this.rules.indexOf(e)},t.deploy=function(){return this.renderer&&this.renderer.deploy(),this.deployed=!0,this},t.update=function(){var e;return(e=this.rules).update.apply(e,arguments),this},t.updateOne=function(e,t,n){return this.rules.updateOne(e,t,n),this},t.toString=function(e){return this.rules.toString(e)},e}(),ut=function(){function e(){this.plugins={internal:[],external:[]},this.registry={}}var t=e.prototype;return t.onCreateRule=function(e,t,n){for(var r=0;r<this.registry.onCreateRule.length;r++){var i=this.registry.onCreateRule[r](e,t,n);if(i)return i}return null},t.onProcessRule=function(e){if(!e.isProcessed){for(var t=e.options.sheet,n=0;n<this.registry.onProcessRule.length;n++)this.registry.onProcessRule[n](e,t);e.style&&this.onProcessStyle(e.style,e,t),e.isProcessed=!0}},t.onProcessStyle=function(e,t,n){for(var r=0;r<this.registry.onProcessStyle.length;r++)t.style=this.registry.onProcessStyle[r](t.style,t,n)},t.onProcessSheet=function(e){for(var t=0;t<this.registry.onProcessSheet.length;t++)this.registry.onProcessSheet[t](e)},t.onUpdate=function(e,t,n,r){for(var i=0;i<this.registry.onUpdate.length;i++)this.registry.onUpdate[i](e,t,n,r)},t.onChangeValue=function(e,t,n){for(var r=e,i=0;i<this.registry.onChangeValue.length;i++)r=this.registry.onChangeValue[i](r,t,n);return r},t.use=function(e,t){void 0===t&&(t={queue:"external"});var n=this.plugins[t.queue];-1===n.indexOf(e)&&(n.push(e),this.registry=[].concat(this.plugins.external,this.plugins.internal).reduce(function(e,t){for(var n in t)n in e&&e[n].push(t[n]);return e},{onCreateRule:[],onProcessRule:[],onProcessStyle:[],onProcessSheet:[],onChangeValue:[],onUpdate:[]}))},e}(),ct=new(function(){function e(){this.registry=[]}var t=e.prototype;return t.add=function(e){var t=this.registry,n=e.options.index;if(-1===t.indexOf(e))if(0===t.length||n>=this.index)t.push(e);else for(var r=0;r<t.length;r++)if(t[r].options.index>n)return void t.splice(r,0,e)},t.reset=function(){this.registry=[]},t.remove=function(e){var t=this.registry.indexOf(e);this.registry.splice(t,1)},t.toString=function(e){for(var t=void 0===e?{}:e,n=t.attached,r=Object(u.a)(t,["attached"]),i=Te(r).linebreak,o="",a=0;a<this.registry.length;a++){var s=this.registry[a];null!=n&&s.attached!==n||(o&&(o+=i),o+=s.toString(r))}return o},Object(o.a)(e,[{key:"index",get:function(){return 0===this.registry.length?0:this.registry[this.registry.length-1].options.index}}]),e}()),lt="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window&&window.Math===Math?window:"undefined"!==typeof self&&self.Math===Math?self:Function("return this")(),ht="2f1acc6c3a606b082e5eef5e54414ffb";null==lt[ht]&&(lt[ht]=0);var ft=lt[ht]++,dt=function(e){void 0===e&&(e={});var t=0;return function(n,r){t+=1;var i="",o="";return r&&(r.options.classNamePrefix&&(o=r.options.classNamePrefix),null!=r.options.jss.id&&(i=String(r.options.jss.id))),e.minify?""+(o||"c")+ft+i+t:o+n.key+"-"+ft+(i?"-"+i:"")+"-"+t}},pt=function(e){var t;return function(){return t||(t=e()),t}},gt=function(e,t){try{return e.attributeStyleMap?e.attributeStyleMap.get(t):e.style.getPropertyValue(t)}catch(n){return""}},yt=function(e,t,n){try{var r=n;if(Array.isArray(n)&&(r=Oe(n)),e.attributeStyleMap)e.attributeStyleMap.set(t,r);else{var i=r?r.indexOf("!important"):-1,o=i>-1?r.substr(0,i-1):r;e.style.setProperty(t,o,i>-1?"important":"")}}catch(a){return!1}return!0},vt=function(e,t){try{e.attributeStyleMap?e.attributeStyleMap.delete(t):e.style.removeProperty(t)}catch(n){}},mt=function(e,t){return e.selectorText=t,e.selectorText===t},bt=pt(function(){return document.querySelector("head")});function _t(e){var t=ct.registry;if(t.length>0){var n=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.attached&&r.options.index>t.index&&r.options.insertionPoint===t.insertionPoint)return r}return null}(t,e);if(n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element};if((n=function(e,t){for(var n=e.length-1;n>=0;n--){var r=e[n];if(r.attached&&r.options.insertionPoint===t.insertionPoint)return r}return null}(t,e))&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element.nextSibling}}var r=e.insertionPoint;if(r&&"string"===typeof r){var i=function(e){for(var t=bt(),n=0;n<t.childNodes.length;n++){var r=t.childNodes[n];if(8===r.nodeType&&r.nodeValue.trim()===e)return r}return null}(r);if(i)return{parent:i.parentNode,node:i.nextSibling}}return!1}var wt=pt(function(){var e=document.querySelector('meta[property="csp-nonce"]');return e?e.getAttribute("content"):null}),Et=function(e,t,n){try{"insertRule"in e?e.insertRule(t,n):"appendRule"in e&&e.appendRule(t)}catch(r){return!1}return e.cssRules[n]},St=function(e,t){var n=e.cssRules.length;return void 0===t||t>n?n:t},Ct=function(){var e=document.createElement("style");return e.textContent="\n",e},Ot=function(){function e(e){this.getPropertyValue=gt,this.setProperty=yt,this.removeProperty=vt,this.setSelector=mt,this.hasInsertedRules=!1,this.cssRules=[],e&&ct.add(e),this.sheet=e;var t=this.sheet?this.sheet.options:{},n=t.media,r=t.meta,i=t.element;this.element=i||Ct(),this.element.setAttribute("data-jss",""),n&&this.element.setAttribute("media",n),r&&this.element.setAttribute("data-meta",r);var o=wt();o&&this.element.setAttribute("nonce",o)}var t=e.prototype;return t.attach=function(){if(!this.element.parentNode&&this.sheet){!function(e,t){var n=t.insertionPoint,r=_t(t);if(!1!==r&&r.parent)r.parent.insertBefore(e,r.node);else if(n&&"number"===typeof n.nodeType){var i=n,o=i.parentNode;o&&o.insertBefore(e,i.nextSibling)}else bt().appendChild(e)}(this.element,this.sheet.options);var e=Boolean(this.sheet&&this.sheet.deployed);this.hasInsertedRules&&e&&(this.hasInsertedRules=!1,this.deploy())}},t.detach=function(){if(this.sheet){var e=this.element.parentNode;e&&e.removeChild(this.element),this.sheet.options.link&&(this.cssRules=[],this.element.textContent="\n")}},t.deploy=function(){var e=this.sheet;e&&(e.options.link?this.insertRules(e.rules):this.element.textContent="\n"+e.toString()+"\n")},t.insertRules=function(e,t){for(var n=0;n<e.index.length;n++)this.insertRule(e.index[n],n,t)},t.insertRule=function(e,t,n){if(void 0===n&&(n=this.element.sheet),e.rules){var r=e,i=n;if("conditional"===e.type||"keyframes"===e.type){var o=St(n,t);if(!1===(i=Et(n,r.toString({children:!1}),o)))return!1;this.refCssRule(e,o,i)}return this.insertRules(r.rules,i),i}var a=e.toString();if(!a)return!1;var s=St(n,t),u=Et(n,a,s);return!1!==u&&(this.hasInsertedRules=!0,this.refCssRule(e,s,u),u)},t.refCssRule=function(e,t,n){e.renderable=n,e.options.parent instanceof st&&this.cssRules.splice(t,0,n)},t.deleteRule=function(e){var t=this.element.sheet,n=this.indexOf(e);return-1!==n&&(t.deleteRule(n),this.cssRules.splice(n,1),!0)},t.indexOf=function(e){return this.cssRules.indexOf(e)},t.replaceRule=function(e,t){var n=this.indexOf(e);return-1!==n&&(this.element.sheet.deleteRule(n),this.cssRules.splice(n,1),this.insertRule(t,n))},t.getRules=function(){return this.element.sheet.cssRules},e}(),Tt=0,kt=function(){function e(e){this.id=Tt++,this.version="10.9.1",this.plugins=new ut,this.options={id:{minify:!1},createGenerateId:dt,Renderer:i.a?Ot:null,plugins:[]},this.generateId=dt({minify:!1});for(var t=0;t<rt.length;t++)this.plugins.use(rt[t],{queue:"internal"});this.setup(e)}var t=e.prototype;return t.setup=function(e){return void 0===e&&(e={}),e.createGenerateId&&(this.options.createGenerateId=e.createGenerateId),e.id&&(this.options.id=Object(r.a)({},this.options.id,e.id)),(e.createGenerateId||e.id)&&(this.generateId=this.options.createGenerateId(this.options.id)),null!=e.insertionPoint&&(this.options.insertionPoint=e.insertionPoint),"Renderer"in e&&(this.options.Renderer=e.Renderer),e.plugins&&this.use.apply(this,e.plugins),this},t.createStyleSheet=function(e,t){void 0===t&&(t={});var n=t.index;"number"!==typeof n&&(n=0===ct.index?0:ct.index+1);var i=new st(e,Object(r.a)({},t,{jss:this,generateId:t.generateId||this.generateId,insertionPoint:this.options.insertionPoint,Renderer:this.options.Renderer,index:n}));return this.plugins.onProcessSheet(i),i},t.removeStyleSheet=function(e){return e.detach(),ct.remove(e),this},t.createRule=function(e,t,n){if(void 0===t&&(t={}),void 0===n&&(n={}),"object"===typeof e)return this.createRule(void 0,e,t);var i=Object(r.a)({},n,{name:e,jss:this,Renderer:this.options.Renderer});i.generateId||(i.generateId=this.generateId),i.classes||(i.classes={}),i.keyframes||(i.keyframes={});var o=Se(e,t,i);return o&&this.plugins.onProcessRule(o),o},t.use=function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.forEach(function(t){e.plugins.use(t)}),this},e}();"object"===typeof CSS&&null!=CSS&&CSS;!function(e){new kt(e)}();var It="@global",At="@global ",Nt=function(){function e(e,t,n){for(var i in this.type="global",this.at=It,this.isProcessed=!1,this.key=e,this.options=n,this.rules=new at(Object(r.a)({},n,{parent:this})),t)this.rules.add(i,t[i]);this.rules.process()}var t=e.prototype;return t.getRule=function(e){return this.rules.get(e)},t.addRule=function(e,t,n){var r=this.rules.add(e,t,n);return r&&this.options.jss.plugins.onProcessRule(r),r},t.replaceRule=function(e,t,n){var r=this.rules.replace(e,t,n);return r&&this.options.jss.plugins.onProcessRule(r),r},t.indexOf=function(e){return this.rules.indexOf(e)},t.toString=function(e){return this.rules.toString(e)},e}(),Rt=function(){function e(e,t,n){this.type="global",this.at=It,this.isProcessed=!1,this.key=e,this.options=n;var i=e.substr(At.length);this.rule=n.jss.createRule(i,t,Object(r.a)({},n,{parent:this}))}return e.prototype.toString=function(e){return this.rule?this.rule.toString(e):""},e}(),Pt=/\s*,\s*/g;function xt(e,t){for(var n=e.split(Pt),r="",i=0;i<n.length;i++)r+=t+" "+n[i].trim(),n[i+1]&&(r+=", ");return r}var Mt=function(){return{onCreateRule:function(e,t,n){if(!e)return null;if(e===It)return new Nt(e,t,n);if("@"===e[0]&&e.substr(0,At.length)===At)return new Rt(e,t,n);var r=n.parent;return r&&("global"===r.type||r.options.parent&&"global"===r.options.parent.type)&&(n.scoped=!1),n.selector||!1!==n.scoped||(n.selector=e),null},onProcessRule:function(e,t){"style"===e.type&&t&&(function(e,t){var n=e.options,i=e.style,o=i?i[It]:null;if(o){for(var a in o)t.addRule(a,o[a],Object(r.a)({},n,{selector:xt(a,e.selector)}));delete i[It]}}(e,t),function(e,t){var n=e.options,i=e.style;for(var o in i)if("@"===o[0]&&o.substr(0,It.length)===It){var a=xt(o.substr(It.length),e.selector);t.addRule(a,i[o],Object(r.a)({},n,{selector:a})),delete i[o]}}(e,t))}}},Lt=/\s*,\s*/g,Dt=/&/g,jt=/\$([\w-]+)/g;var Ut=function(){function e(e,t){return function(n,r){var i=e.getRule(r)||t&&t.getRule(r);return i?i.selector:r}}function t(e,t){for(var n=t.split(Lt),r=e.split(Lt),i="",o=0;o<n.length;o++)for(var a=n[o],s=0;s<r.length;s++){var u=r[s];i&&(i+=", "),i+=-1!==u.indexOf("&")?u.replace(Dt,a):a+" "+u}return i}function n(e,t,n){if(n)return Object(r.a)({},n,{index:n.index+1});var i=e.options.nestingLevel;i=void 0===i?1:i+1;var o=Object(r.a)({},e.options,{nestingLevel:i,index:t.indexOf(e)+1});return delete o.name,o}return{onProcessStyle:function(i,o,a){if("style"!==o.type)return i;var s,u,c=o,l=c.options.parent;for(var h in i){var f=-1!==h.indexOf("&"),d="@"===h[0];if(f||d){if(s=n(c,l,s),f){var p=t(h,c.selector);u||(u=e(l,a)),p=p.replace(jt,u);var g=c.key+"-"+h;"replaceRule"in l?l.replaceRule(g,i[h],Object(r.a)({},s,{selector:p})):l.addRule(g,i[h],Object(r.a)({},s,{selector:p}))}else d&&l.addRule(h,{},s).addRule(c.key,i[h],{selector:c.selector});delete i[h]}}return i}}},Ft=/[A-Z]/g,Ht=/^ms-/,Bt={};function Vt(e){return"-"+e.toLowerCase()}var qt=function(e){if(Bt.hasOwnProperty(e))return Bt[e];var t=e.replace(Ft,Vt);return Bt[e]=Ht.test(t)?"-"+t:t};function Gt(e){var t={};for(var n in e){t[0===n.indexOf("--")?n:qt(n)]=e[n]}return e.fallbacks&&(Array.isArray(e.fallbacks)?t.fallbacks=e.fallbacks.map(Gt):t.fallbacks=Gt(e.fallbacks)),t}var zt=function(){return{onProcessStyle:function(e){if(Array.isArray(e)){for(var t=0;t<e.length;t++)e[t]=Gt(e[t]);return e}return Gt(e)},onChangeValue:function(e,t,n){if(0===t.indexOf("--"))return e;var r=qt(t);return t===r?e:(n.prop(r,e),null)}}},Wt={}.constructor;function Kt(e){if(null==e||"object"!==typeof e)return e;if(Array.isArray(e))return e.map(Kt);if(e.constructor!==Wt)return e;var t={};for(var n in e)t[n]=Kt(e[n]);return t}function Yt(e,t,n){void 0===e&&(e="unnamed");var r=n.jss,i=Kt(t),o=r.plugins.onCreateRule(e,i,n);return o||(e[0],null)}var Qt=function(e,t){for(var n="",r=0;r<e.length&&"!important"!==e[r];r++)n&&(n+=t),n+=e[r];return n},$t=function(e){if(!Array.isArray(e))return e;var t="";if(Array.isArray(e[0]))for(var n=0;n<e.length&&"!important"!==e[n];n++)t&&(t+=", "),t+=Qt(e[n]," ");else t=Qt(e,", ");return"!important"===e[e.length-1]&&(t+=" !important"),t};function Xt(e){return e&&!1===e.format?{linebreak:"",space:""}:{linebreak:"\n",space:" "}}function Jt(e,t){for(var n="",r=0;r<t;r++)n+="  ";return n+e}function Zt(e,t,n){void 0===n&&(n={});var r="";if(!t)return r;var i=n.indent,o=void 0===i?0:i,a=t.fallbacks;!1===n.format&&(o=-1/0);var s=Xt(n),u=s.linebreak,c=s.space;if(e&&o++,a)if(Array.isArray(a))for(var l=0;l<a.length;l++){var h=a[l];for(var f in h){var d=h[f];null!=d&&(r&&(r+=u),r+=Jt(f+":"+c+$t(d)+";",o))}}else for(var p in a){var g=a[p];null!=g&&(r&&(r+=u),r+=Jt(p+":"+c+$t(g)+";",o))}for(var y in t){var v=t[y];null!=v&&"fallbacks"!==y&&(r&&(r+=u),r+=Jt(y+":"+c+$t(v)+";",o))}return(r||n.allowEmpty)&&e?(r&&(r=""+u+r+u),Jt(""+e+c+"{"+r,--o)+Jt("}",o)):r}var en=/([[\].#*$><+~=|^:(),"'`\s])/g,tn="undefined"!==typeof CSS&&CSS.escape,nn=function(e){return tn?tn(e):e.replace(en,"\\$1")},rn=function(){function e(e,t,n){this.type="style",this.isProcessed=!1;var r=n.sheet,i=n.Renderer;this.key=e,this.options=n,this.style=t,r?this.renderer=r.renderer:i&&(this.renderer=new i)}return e.prototype.prop=function(e,t,n){if(void 0===t)return this.style[e];var r=!!n&&n.force;if(!r&&this.style[e]===t)return this;var i=t;n&&!1===n.process||(i=this.options.jss.plugins.onChangeValue(t,e,this));var o=null==i||!1===i,a=e in this.style;if(o&&!a&&!r)return this;var s=o&&a;if(s?delete this.style[e]:this.style[e]=i,this.renderable&&this.renderer)return s?this.renderer.removeProperty(this.renderable,e):this.renderer.setProperty(this.renderable,e,i),this;var u=this.options.sheet;return u&&u.attached,this},e}(),on=function(e){function t(t,n,r){var i;i=e.call(this,t,n,r)||this;var o=r.selector,a=r.scoped,u=r.sheet,c=r.generateId;return o?i.selectorText=o:!1!==a&&(i.id=c(Object(s.a)(Object(s.a)(i)),u),i.selectorText="."+nn(i.id)),i}Object(a.a)(t,e);var n=t.prototype;return n.applyTo=function(e){var t=this.renderer;if(t){var n=this.toJSON();for(var r in n)t.setProperty(e,r,n[r])}return this},n.toJSON=function(){var e={};for(var t in this.style){var n=this.style[t];"object"!==typeof n?e[t]=n:Array.isArray(n)&&(e[t]=$t(n))}return e},n.toString=function(e){var t=this.options.sheet,n=!!t&&t.options.link?Object(r.a)({},e,{allowEmpty:!0}):e;return Zt(this.selectorText,this.style,n)},Object(o.a)(t,[{key:"selector",set:function(e){if(e!==this.selectorText){this.selectorText=e;var t=this.renderer,n=this.renderable;if(n&&t)t.setSelector(n,e)||t.replaceRule(n,this)}},get:function(){return this.selectorText}}]),t}(rn),an={onCreateRule:function(e,t,n){return"@"===e[0]||n.parent&&"keyframes"===n.parent.type?null:new on(e,t,n)}},sn={indent:1,children:!0},un=/@([\w-]+)/,cn=function(){function e(e,t,n){this.type="conditional",this.isProcessed=!1,this.key=e;var i=e.match(un);for(var o in this.at=i?i[1]:"unknown",this.query=n.name||"@"+this.at,this.options=n,this.rules=new Pn(Object(r.a)({},n,{parent:this})),t)this.rules.add(o,t[o]);this.rules.process()}var t=e.prototype;return t.getRule=function(e){return this.rules.get(e)},t.indexOf=function(e){return this.rules.indexOf(e)},t.addRule=function(e,t,n){var r=this.rules.add(e,t,n);return r?(this.options.jss.plugins.onProcessRule(r),r):null},t.replaceRule=function(e,t,n){var r=this.rules.replace(e,t,n);return r&&this.options.jss.plugins.onProcessRule(r),r},t.toString=function(e){void 0===e&&(e=sn);var t=Xt(e).linebreak;if(null==e.indent&&(e.indent=sn.indent),null==e.children&&(e.children=sn.children),!1===e.children)return this.query+" {}";var n=this.rules.toString(e);return n?this.query+" {"+t+n+t+"}":""},e}(),ln=/@media|@supports\s+/,hn={onCreateRule:function(e,t,n){return ln.test(e)?new cn(e,t,n):null}},fn={indent:1,children:!0},dn=/@keyframes\s+([\w-]+)/,pn=function(){function e(e,t,n){this.type="keyframes",this.at="@keyframes",this.isProcessed=!1;var i=e.match(dn);i&&i[1]?this.name=i[1]:this.name="noname",this.key=this.type+"-"+this.name,this.options=n;var o=n.scoped,a=n.sheet,s=n.generateId;for(var u in this.id=!1===o?this.name:nn(s(this,a)),this.rules=new Pn(Object(r.a)({},n,{parent:this})),t)this.rules.add(u,t[u],Object(r.a)({},n,{parent:this}));this.rules.process()}return e.prototype.toString=function(e){void 0===e&&(e=fn);var t=Xt(e).linebreak;if(null==e.indent&&(e.indent=fn.indent),null==e.children&&(e.children=fn.children),!1===e.children)return this.at+" "+this.id+" {}";var n=this.rules.toString(e);return n&&(n=""+t+n+t),this.at+" "+this.id+" {"+n+"}"},e}(),gn=/@keyframes\s+/,yn=/\$([\w-]+)/g,vn=function(e,t){return"string"===typeof e?e.replace(yn,function(e,n){return n in t?t[n]:e}):e},mn=function(e,t,n){var r=e[t],i=vn(r,n);i!==r&&(e[t]=i)},bn={onCreateRule:function(e,t,n){return"string"===typeof e&&gn.test(e)?new pn(e,t,n):null},onProcessStyle:function(e,t,n){return"style"===t.type&&n?("animation-name"in e&&mn(e,"animation-name",n.keyframes),"animation"in e&&mn(e,"animation",n.keyframes),e):e},onChangeValue:function(e,t,n){var r=n.options.sheet;if(!r)return e;switch(t){case"animation":case"animation-name":return vn(e,r.keyframes);default:return e}}},_n=function(e){function t(){return e.apply(this,arguments)||this}return Object(a.a)(t,e),t.prototype.toString=function(e){var t=this.options.sheet,n=!!t&&t.options.link?Object(r.a)({},e,{allowEmpty:!0}):e;return Zt(this.key,this.style,n)},t}(rn),wn={onCreateRule:function(e,t,n){return n.parent&&"keyframes"===n.parent.type?new _n(e,t,n):null}},En=function(){function e(e,t,n){this.type="font-face",this.at="@font-face",this.isProcessed=!1,this.key=e,this.style=t,this.options=n}return e.prototype.toString=function(e){var t=Xt(e).linebreak;if(Array.isArray(this.style)){for(var n="",r=0;r<this.style.length;r++)n+=Zt(this.at,this.style[r]),this.style[r+1]&&(n+=t);return n}return Zt(this.at,this.style,e)},e}(),Sn=/@font-face/,Cn={onCreateRule:function(e,t,n){return Sn.test(e)?new En(e,t,n):null}},On=function(){function e(e,t,n){this.type="viewport",this.at="@viewport",this.isProcessed=!1,this.key=e,this.style=t,this.options=n}return e.prototype.toString=function(e){return Zt(this.key,this.style,e)},e}(),Tn={onCreateRule:function(e,t,n){return"@viewport"===e||"@-ms-viewport"===e?new On(e,t,n):null}},kn=function(){function e(e,t,n){this.type="simple",this.isProcessed=!1,this.key=e,this.value=t,this.options=n}return e.prototype.toString=function(e){if(Array.isArray(this.value)){for(var t="",n=0;n<this.value.length;n++)t+=this.key+" "+this.value[n]+";",this.value[n+1]&&(t+="\n");return t}return this.key+" "+this.value+";"},e}(),In={"@charset":!0,"@import":!0,"@namespace":!0},An=[an,hn,bn,wn,Cn,Tn,{onCreateRule:function(e,t,n){return e in In?new kn(e,t,n):null}}],Nn={process:!0},Rn={force:!0,process:!0},Pn=function(){function e(e){this.map={},this.raw={},this.index=[],this.counter=0,this.options=e,this.classes=e.classes,this.keyframes=e.keyframes}var t=e.prototype;return t.add=function(e,t,n){var i=this.options,o=i.parent,a=i.sheet,s=i.jss,u=i.Renderer,c=i.generateId,l=i.scoped,h=Object(r.a)({classes:this.classes,parent:o,sheet:a,jss:s,Renderer:u,generateId:c,scoped:l,name:e,keyframes:this.keyframes,selector:void 0},n),f=e;e in this.raw&&(f=e+"-d"+this.counter++),this.raw[f]=t,f in this.classes&&(h.selector="."+nn(this.classes[f]));var d=Yt(f,t,h);if(!d)return null;this.register(d);var p=void 0===h.index?this.index.length:h.index;return this.index.splice(p,0,d),d},t.replace=function(e,t,n){var i=this.get(e),o=this.index.indexOf(i);i&&this.remove(i);var a=n;return-1!==o&&(a=Object(r.a)({},n,{index:o})),this.add(e,t,a)},t.get=function(e){return this.map[e]},t.remove=function(e){this.unregister(e),delete this.raw[e.key],this.index.splice(this.index.indexOf(e),1)},t.indexOf=function(e){return this.index.indexOf(e)},t.process=function(){var e=this.options.jss.plugins;this.index.slice(0).forEach(e.onProcessRule,e)},t.register=function(e){this.map[e.key]=e,e instanceof on?(this.map[e.selector]=e,e.id&&(this.classes[e.key]=e.id)):e instanceof pn&&this.keyframes&&(this.keyframes[e.name]=e.id)},t.unregister=function(e){delete this.map[e.key],e instanceof on?(delete this.map[e.selector],delete this.classes[e.key]):e instanceof pn&&delete this.keyframes[e.name]},t.update=function(){var e,t,n;if("string"===typeof(arguments.length<=0?void 0:arguments[0])?(e=arguments.length<=0?void 0:arguments[0],t=arguments.length<=1?void 0:arguments[1],n=arguments.length<=2?void 0:arguments[2]):(t=arguments.length<=0?void 0:arguments[0],n=arguments.length<=1?void 0:arguments[1],e=null),e)this.updateOne(this.get(e),t,n);else for(var r=0;r<this.index.length;r++)this.updateOne(this.index[r],t,n)},t.updateOne=function(t,n,r){void 0===r&&(r=Nn);var i=this.options,o=i.jss.plugins,a=i.sheet;if(t.rules instanceof e)t.rules.update(n,r);else{var s=t.style;if(o.onUpdate(n,t,a,r),r.process&&s&&s!==t.style){for(var u in o.onProcessStyle(t.style,t,a),t.style){var c=t.style[u];c!==s[u]&&t.prop(u,c,Rn)}for(var l in s){var h=t.style[l],f=s[l];null==h&&h!==f&&t.prop(l,null,Rn)}}}},t.toString=function(e){for(var t="",n=this.options.sheet,r=!!n&&n.options.link,i=Xt(e).linebreak,o=0;o<this.index.length;o++){var a=this.index[o].toString(e);(a||r)&&(t&&(t+=i),t+=a)}return t},e}(),xn=function(){function e(e,t){for(var n in this.attached=!1,this.deployed=!1,this.classes={},this.keyframes={},this.options=Object(r.a)({},t,{sheet:this,parent:this,classes:this.classes,keyframes:this.keyframes}),t.Renderer&&(this.renderer=new t.Renderer(this)),this.rules=new Pn(this.options),e)this.rules.add(n,e[n]);this.rules.process()}var t=e.prototype;return t.attach=function(){return this.attached?this:(this.renderer&&this.renderer.attach(),this.attached=!0,this.deployed||this.deploy(),this)},t.detach=function(){return this.attached?(this.renderer&&this.renderer.detach(),this.attached=!1,this):this},t.addRule=function(e,t,n){var r=this.queue;this.attached&&!r&&(this.queue=[]);var i=this.rules.add(e,t,n);return i?(this.options.jss.plugins.onProcessRule(i),this.attached?this.deployed?(r?r.push(i):(this.insertRule(i),this.queue&&(this.queue.forEach(this.insertRule,this),this.queue=void 0)),i):i:(this.deployed=!1,i)):null},t.replaceRule=function(e,t,n){var r=this.rules.get(e);if(!r)return this.addRule(e,t,n);var i=this.rules.replace(e,t,n);return i&&this.options.jss.plugins.onProcessRule(i),this.attached?this.deployed?(this.renderer&&(i?r.renderable&&this.renderer.replaceRule(r.renderable,i):this.renderer.deleteRule(r)),i):i:(this.deployed=!1,i)},t.insertRule=function(e){this.renderer&&this.renderer.insertRule(e)},t.addRules=function(e,t){var n=[];for(var r in e){var i=this.addRule(r,e[r],t);i&&n.push(i)}return n},t.getRule=function(e){return this.rules.get(e)},t.deleteRule=function(e){var t="object"===typeof e?e:this.rules.get(e);return!(!t||this.attached&&!t.renderable)&&(this.rules.remove(t),!(this.attached&&t.renderable&&this.renderer)||this.renderer.deleteRule(t.renderable))},t.indexOf=function(e){return this.rules.indexOf(e)},t.deploy=function(){return this.renderer&&this.renderer.deploy(),this.deployed=!0,this},t.update=function(){var e;return(e=this.rules).update.apply(e,arguments),this},t.updateOne=function(e,t,n){return this.rules.updateOne(e,t,n),this},t.toString=function(e){return this.rules.toString(e)},e}(),Mn=function(){function e(){this.plugins={internal:[],external:[]},this.registry={}}var t=e.prototype;return t.onCreateRule=function(e,t,n){for(var r=0;r<this.registry.onCreateRule.length;r++){var i=this.registry.onCreateRule[r](e,t,n);if(i)return i}return null},t.onProcessRule=function(e){if(!e.isProcessed){for(var t=e.options.sheet,n=0;n<this.registry.onProcessRule.length;n++)this.registry.onProcessRule[n](e,t);e.style&&this.onProcessStyle(e.style,e,t),e.isProcessed=!0}},t.onProcessStyle=function(e,t,n){for(var r=0;r<this.registry.onProcessStyle.length;r++)t.style=this.registry.onProcessStyle[r](t.style,t,n)},t.onProcessSheet=function(e){for(var t=0;t<this.registry.onProcessSheet.length;t++)this.registry.onProcessSheet[t](e)},t.onUpdate=function(e,t,n,r){for(var i=0;i<this.registry.onUpdate.length;i++)this.registry.onUpdate[i](e,t,n,r)},t.onChangeValue=function(e,t,n){for(var r=e,i=0;i<this.registry.onChangeValue.length;i++)r=this.registry.onChangeValue[i](r,t,n);return r},t.use=function(e,t){void 0===t&&(t={queue:"external"});var n=this.plugins[t.queue];-1===n.indexOf(e)&&(n.push(e),this.registry=[].concat(this.plugins.external,this.plugins.internal).reduce(function(e,t){for(var n in t)n in e&&e[n].push(t[n]);return e},{onCreateRule:[],onProcessRule:[],onProcessStyle:[],onProcessSheet:[],onChangeValue:[],onUpdate:[]}))},e}(),Ln=new(function(){function e(){this.registry=[]}var t=e.prototype;return t.add=function(e){var t=this.registry,n=e.options.index;if(-1===t.indexOf(e))if(0===t.length||n>=this.index)t.push(e);else for(var r=0;r<t.length;r++)if(t[r].options.index>n)return void t.splice(r,0,e)},t.reset=function(){this.registry=[]},t.remove=function(e){var t=this.registry.indexOf(e);this.registry.splice(t,1)},t.toString=function(e){for(var t=void 0===e?{}:e,n=t.attached,r=Object(u.a)(t,["attached"]),i=Xt(r).linebreak,o="",a=0;a<this.registry.length;a++){var s=this.registry[a];null!=n&&s.attached!==n||(o&&(o+=i),o+=s.toString(r))}return o},Object(o.a)(e,[{key:"index",get:function(){return 0===this.registry.length?0:this.registry[this.registry.length-1].options.index}}]),e}()),Dn="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window&&window.Math===Math?window:"undefined"!==typeof self&&self.Math===Math?self:Function("return this")(),jn="2f1acc6c3a606b082e5eef5e54414ffb";null==Dn[jn]&&(Dn[jn]=0);var Un=Dn[jn]++,Fn=function(e){void 0===e&&(e={});var t=0;return function(n,r){t+=1;var i="",o="";return r&&(r.options.classNamePrefix&&(o=r.options.classNamePrefix),null!=r.options.jss.id&&(i=String(r.options.jss.id))),e.minify?""+(o||"c")+Un+i+t:o+n.key+"-"+Un+(i?"-"+i:"")+"-"+t}},Hn=function(e){var t;return function(){return t||(t=e()),t}},Bn=function(e,t){try{return e.attributeStyleMap?e.attributeStyleMap.get(t):e.style.getPropertyValue(t)}catch(n){return""}},Vn=function(e,t,n){try{var r=n;if(Array.isArray(n)&&(r=$t(n)),e.attributeStyleMap)e.attributeStyleMap.set(t,r);else{var i=r?r.indexOf("!important"):-1,o=i>-1?r.substr(0,i-1):r;e.style.setProperty(t,o,i>-1?"important":"")}}catch(a){return!1}return!0},qn=function(e,t){try{e.attributeStyleMap?e.attributeStyleMap.delete(t):e.style.removeProperty(t)}catch(n){}},Gn=function(e,t){return e.selectorText=t,e.selectorText===t},zn=Hn(function(){return document.querySelector("head")});function Wn(e){var t=Ln.registry;if(t.length>0){var n=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.attached&&r.options.index>t.index&&r.options.insertionPoint===t.insertionPoint)return r}return null}(t,e);if(n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element};if((n=function(e,t){for(var n=e.length-1;n>=0;n--){var r=e[n];if(r.attached&&r.options.insertionPoint===t.insertionPoint)return r}return null}(t,e))&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element.nextSibling}}var r=e.insertionPoint;if(r&&"string"===typeof r){var i=function(e){for(var t=zn(),n=0;n<t.childNodes.length;n++){var r=t.childNodes[n];if(8===r.nodeType&&r.nodeValue.trim()===e)return r}return null}(r);if(i)return{parent:i.parentNode,node:i.nextSibling}}return!1}var Kn=Hn(function(){var e=document.querySelector('meta[property="csp-nonce"]');return e?e.getAttribute("content"):null}),Yn=function(e,t,n){try{"insertRule"in e?e.insertRule(t,n):"appendRule"in e&&e.appendRule(t)}catch(r){return!1}return e.cssRules[n]},Qn=function(e,t){var n=e.cssRules.length;return void 0===t||t>n?n:t},$n=function(){var e=document.createElement("style");return e.textContent="\n",e},Xn=function(){function e(e){this.getPropertyValue=Bn,this.setProperty=Vn,this.removeProperty=qn,this.setSelector=Gn,this.hasInsertedRules=!1,this.cssRules=[],e&&Ln.add(e),this.sheet=e;var t=this.sheet?this.sheet.options:{},n=t.media,r=t.meta,i=t.element;this.element=i||$n(),this.element.setAttribute("data-jss",""),n&&this.element.setAttribute("media",n),r&&this.element.setAttribute("data-meta",r);var o=Kn();o&&this.element.setAttribute("nonce",o)}var t=e.prototype;return t.attach=function(){if(!this.element.parentNode&&this.sheet){!function(e,t){var n=t.insertionPoint,r=Wn(t);if(!1!==r&&r.parent)r.parent.insertBefore(e,r.node);else if(n&&"number"===typeof n.nodeType){var i=n,o=i.parentNode;o&&o.insertBefore(e,i.nextSibling)}else zn().appendChild(e)}(this.element,this.sheet.options);var e=Boolean(this.sheet&&this.sheet.deployed);this.hasInsertedRules&&e&&(this.hasInsertedRules=!1,this.deploy())}},t.detach=function(){if(this.sheet){var e=this.element.parentNode;e&&e.removeChild(this.element),this.sheet.options.link&&(this.cssRules=[],this.element.textContent="\n")}},t.deploy=function(){var e=this.sheet;e&&(e.options.link?this.insertRules(e.rules):this.element.textContent="\n"+e.toString()+"\n")},t.insertRules=function(e,t){for(var n=0;n<e.index.length;n++)this.insertRule(e.index[n],n,t)},t.insertRule=function(e,t,n){if(void 0===n&&(n=this.element.sheet),e.rules){var r=e,i=n;if("conditional"===e.type||"keyframes"===e.type){var o=Qn(n,t);if(!1===(i=Yn(n,r.toString({children:!1}),o)))return!1;this.refCssRule(e,o,i)}return this.insertRules(r.rules,i),i}var a=e.toString();if(!a)return!1;var s=Qn(n,t),u=Yn(n,a,s);return!1!==u&&(this.hasInsertedRules=!0,this.refCssRule(e,s,u),u)},t.refCssRule=function(e,t,n){e.renderable=n,e.options.parent instanceof xn&&this.cssRules.splice(t,0,n)},t.deleteRule=function(e){var t=this.element.sheet,n=this.indexOf(e);return-1!==n&&(t.deleteRule(n),this.cssRules.splice(n,1),!0)},t.indexOf=function(e){return this.cssRules.indexOf(e)},t.replaceRule=function(e,t){var n=this.indexOf(e);return-1!==n&&(this.element.sheet.deleteRule(n),this.cssRules.splice(n,1),this.insertRule(t,n))},t.getRules=function(){return this.element.sheet.cssRules},e}(),Jn=0,Zn=function(){function e(e){this.id=Jn++,this.version="10.9.1",this.plugins=new Mn,this.options={id:{minify:!1},createGenerateId:Fn,Renderer:i.a?Xn:null,plugins:[]},this.generateId=Fn({minify:!1});for(var t=0;t<An.length;t++)this.plugins.use(An[t],{queue:"internal"});this.setup(e)}var t=e.prototype;return t.setup=function(e){return void 0===e&&(e={}),e.createGenerateId&&(this.options.createGenerateId=e.createGenerateId),e.id&&(this.options.id=Object(r.a)({},this.options.id,e.id)),(e.createGenerateId||e.id)&&(this.generateId=this.options.createGenerateId(this.options.id)),null!=e.insertionPoint&&(this.options.insertionPoint=e.insertionPoint),"Renderer"in e&&(this.options.Renderer=e.Renderer),e.plugins&&this.use.apply(this,e.plugins),this},t.createStyleSheet=function(e,t){void 0===t&&(t={});var n=t.index;"number"!==typeof n&&(n=0===Ln.index?0:Ln.index+1);var i=new xn(e,Object(r.a)({},t,{jss:this,generateId:t.generateId||this.generateId,insertionPoint:this.options.insertionPoint,Renderer:this.options.Renderer,index:n}));return this.plugins.onProcessSheet(i),i},t.removeStyleSheet=function(e){return e.detach(),Ln.remove(e),this},t.createRule=function(e,t,n){if(void 0===t&&(t={}),void 0===n&&(n={}),"object"===typeof e)return this.createRule(void 0,e,t);var i=Object(r.a)({},n,{name:e,jss:this,Renderer:this.options.Renderer});i.generateId||(i.generateId=this.generateId),i.classes||(i.classes={}),i.keyframes||(i.keyframes={});var o=Yt(e,t,i);return o&&this.plugins.onProcessRule(o),o},t.use=function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.forEach(function(t){e.plugins.use(t)}),this},e}(),er="object"===typeof CSS&&null!=CSS&&"number"in CSS;!function(e){new Zn(e)}();var tr=er&&CSS?CSS.px:"px",nr=er&&CSS?CSS.ms:"ms",rr=er&&CSS?CSS.percent:"%";function ir(e){var t=/(-[a-z])/g,n=function(e){return e[1].toUpperCase()},r={};for(var i in e)r[i]=e[i],r[i.replace(t,n)]=e[i];return r}var or=ir({"animation-delay":nr,"animation-duration":nr,"background-position":tr,"background-position-x":tr,"background-position-y":tr,"background-size":tr,border:tr,"border-bottom":tr,"border-bottom-left-radius":tr,"border-bottom-right-radius":tr,"border-bottom-width":tr,"border-left":tr,"border-left-width":tr,"border-radius":tr,"border-right":tr,"border-right-width":tr,"border-top":tr,"border-top-left-radius":tr,"border-top-right-radius":tr,"border-top-width":tr,"border-width":tr,"border-block":tr,"border-block-end":tr,"border-block-end-width":tr,"border-block-start":tr,"border-block-start-width":tr,"border-block-width":tr,"border-inline":tr,"border-inline-end":tr,"border-inline-end-width":tr,"border-inline-start":tr,"border-inline-start-width":tr,"border-inline-width":tr,"border-start-start-radius":tr,"border-start-end-radius":tr,"border-end-start-radius":tr,"border-end-end-radius":tr,margin:tr,"margin-bottom":tr,"margin-left":tr,"margin-right":tr,"margin-top":tr,"margin-block":tr,"margin-block-end":tr,"margin-block-start":tr,"margin-inline":tr,"margin-inline-end":tr,"margin-inline-start":tr,padding:tr,"padding-bottom":tr,"padding-left":tr,"padding-right":tr,"padding-top":tr,"padding-block":tr,"padding-block-end":tr,"padding-block-start":tr,"padding-inline":tr,"padding-inline-end":tr,"padding-inline-start":tr,"mask-position-x":tr,"mask-position-y":tr,"mask-size":tr,height:tr,width:tr,"min-height":tr,"max-height":tr,"min-width":tr,"max-width":tr,bottom:tr,left:tr,top:tr,right:tr,inset:tr,"inset-block":tr,"inset-block-end":tr,"inset-block-start":tr,"inset-inline":tr,"inset-inline-end":tr,"inset-inline-start":tr,"box-shadow":tr,"text-shadow":tr,"column-gap":tr,"column-rule":tr,"column-rule-width":tr,"column-width":tr,"font-size":tr,"font-size-delta":tr,"letter-spacing":tr,"text-decoration-thickness":tr,"text-indent":tr,"text-stroke":tr,"text-stroke-width":tr,"word-spacing":tr,motion:tr,"motion-offset":tr,outline:tr,"outline-offset":tr,"outline-width":tr,perspective:tr,"perspective-origin-x":rr,"perspective-origin-y":rr,"transform-origin":rr,"transform-origin-x":rr,"transform-origin-y":rr,"transform-origin-z":rr,"transition-delay":nr,"transition-duration":nr,"vertical-align":tr,"flex-basis":tr,"shape-margin":tr,size:tr,gap:tr,grid:tr,"grid-gap":tr,"row-gap":tr,"grid-row-gap":tr,"grid-column-gap":tr,"grid-template-rows":tr,"grid-template-columns":tr,"grid-auto-rows":tr,"grid-auto-columns":tr,"box-shadow-x":tr,"box-shadow-y":tr,"box-shadow-blur":tr,"box-shadow-spread":tr,"font-line-height":tr,"text-shadow-x":tr,"text-shadow-y":tr,"text-shadow-blur":tr});function ar(e,t,n){if(null==t)return t;if(Array.isArray(t))for(var r=0;r<t.length;r++)t[r]=ar(e,t[r],n);else if("object"===typeof t)if("fallbacks"===e)for(var i in t)t[i]=ar(i,t[i],n);else for(var o in t)t[o]=ar(e+"-"+o,t[o],n);else if("number"===typeof t&&!1===isNaN(t)){var a=n[e]||or[e];return!a||0===t&&a===tr?t.toString():"function"===typeof a?a(t).toString():""+t+a}return t}var sr=function(e){void 0===e&&(e={});var t=ir(e);return{onProcessStyle:function(e,n){if("style"!==n.type)return e;for(var r in e)e[r]=ar(r,e[r],t);return e},onChangeValue:function(e,n){return ar(n,e,t)}}},ur=n(60),cr="",lr="",hr="",fr="",dr=i.a&&"ontouchstart"in document.documentElement;if(i.a){var pr={Moz:"-moz-",ms:"-ms-",O:"-o-",Webkit:"-webkit-"},gr=document.createElement("p").style;for(var yr in pr)if(yr+"Transform"in gr){cr=yr,lr=pr[yr];break}"Webkit"===cr&&"msHyphens"in gr&&(cr="ms",lr=pr.ms,fr="edge"),"Webkit"===cr&&"-apple-trailing-word"in gr&&(hr="apple")}var vr={js:cr,css:lr,vendor:hr,browser:fr,isTouch:dr};var mr={noPrefill:["appearance"],supportedProperty:function(e){return"appearance"===e&&("ms"===vr.js?"-webkit-"+e:vr.css+e)}},br={noPrefill:["color-adjust"],supportedProperty:function(e){return"color-adjust"===e&&("Webkit"===vr.js?vr.css+"print-"+e:e)}},_r=/[-\s]+(.)?/g;function wr(e,t){return t?t.toUpperCase():""}function Er(e){return e.replace(_r,wr)}function Sr(e){return Er("-"+e)}var Cr,Or={noPrefill:["mask"],supportedProperty:function(e,t){if(!/^mask/.test(e))return!1;if("Webkit"===vr.js){if(Er("mask-image")in t)return e;if(vr.js+Sr("mask-image")in t)return vr.css+e}return e}},Tr={noPrefill:["text-orientation"],supportedProperty:function(e){return"text-orientation"===e&&("apple"!==vr.vendor||vr.isTouch?e:vr.css+e)}},kr={noPrefill:["transform"],supportedProperty:function(e,t,n){return"transform"===e&&(n.transform?e:vr.css+e)}},Ir={noPrefill:["transition"],supportedProperty:function(e,t,n){return"transition"===e&&(n.transition?e:vr.css+e)}},Ar={noPrefill:["writing-mode"],supportedProperty:function(e){return"writing-mode"===e&&("Webkit"===vr.js||"ms"===vr.js&&"edge"!==vr.browser?vr.css+e:e)}},Nr={noPrefill:["user-select"],supportedProperty:function(e){return"user-select"===e&&("Moz"===vr.js||"ms"===vr.js||"apple"===vr.vendor?vr.css+e:e)}},Rr={supportedProperty:function(e,t){return!!/^break-/.test(e)&&("Webkit"===vr.js?"WebkitColumn"+Sr(e)in t&&vr.css+"column-"+e:"Moz"===vr.js&&("page"+Sr(e)in t&&"page-"+e))}},Pr={supportedProperty:function(e,t){if(!/^(border|margin|padding)-inline/.test(e))return!1;if("Moz"===vr.js)return e;var n=e.replace("-inline","");return vr.js+Sr(n)in t&&vr.css+n}},xr={supportedProperty:function(e,t){return Er(e)in t&&e}},Mr={supportedProperty:function(e,t){var n=Sr(e);return"-"===e[0]?e:"-"===e[0]&&"-"===e[1]?e:vr.js+n in t?vr.css+e:"Webkit"!==vr.js&&"Webkit"+n in t&&"-webkit-"+e}},Lr={supportedProperty:function(e){return"scroll-snap"===e.substring(0,11)&&("ms"===vr.js?""+vr.css+e:e)}},Dr={supportedProperty:function(e){return"overscroll-behavior"===e&&("ms"===vr.js?vr.css+"scroll-chaining":e)}},jr={"flex-grow":"flex-positive","flex-shrink":"flex-negative","flex-basis":"flex-preferred-size","justify-content":"flex-pack",order:"flex-order","align-items":"flex-align","align-content":"flex-line-pack"},Ur={supportedProperty:function(e,t){var n=jr[e];return!!n&&(vr.js+Sr(n)in t&&vr.css+n)}},Fr={flex:"box-flex","flex-grow":"box-flex","flex-direction":["box-orient","box-direction"],order:"box-ordinal-group","align-items":"box-align","flex-flow":["box-orient","box-direction"],"justify-content":"box-pack"},Hr=Object.keys(Fr),Br=function(e){return vr.css+e},Vr=[mr,br,Or,Tr,kr,Ir,Ar,Nr,Rr,Pr,xr,Mr,Lr,Dr,Ur,{supportedProperty:function(e,t,n){var r=n.multiple;if(Hr.indexOf(e)>-1){var i=Fr[e];if(!Array.isArray(i))return vr.js+Sr(i)in t&&vr.css+i;if(!r)return!1;for(var o=0;o<i.length;o++)if(!(vr.js+Sr(i[0])in t))return!1;return i.map(Br)}return!1}}],qr=Vr.filter(function(e){return e.supportedProperty}).map(function(e){return e.supportedProperty}),Gr=Vr.filter(function(e){return e.noPrefill}).reduce(function(e,t){return e.push.apply(e,Object(ur.a)(t.noPrefill)),e},[]),zr={};if(i.a){Cr=document.createElement("p");var Wr=window.getComputedStyle(document.documentElement,"");for(var Kr in Wr)isNaN(Kr)||(zr[Wr[Kr]]=Wr[Kr]);Gr.forEach(function(e){return delete zr[e]})}function Yr(e,t){if(void 0===t&&(t={}),!Cr)return e;if(null!=zr[e])return zr[e];"transition"!==e&&"transform"!==e||(t[e]=e in Cr.style);for(var n=0;n<qr.length&&(zr[e]=qr[n](e,Cr.style,t),!zr[e]);n++);try{Cr.style[e]=""}catch(r){return!1}return zr[e]}var Qr,$r={},Xr={transition:1,"transition-property":1,"-webkit-transition":1,"-webkit-transition-property":1},Jr=/(^\s*[\w-]+)|, (\s*[\w-]+)(?![^()]*\))/g;function Zr(e,t,n){if("var"===t)return"var";if("all"===t)return"all";if("all"===n)return", all";var r=t?Yr(t):", "+Yr(n);return r||(t||n)}function ei(e,t){var n=t;if(!Qr||"content"===e)return t;if("string"!==typeof n||!isNaN(parseInt(n,10)))return n;var r=e+n;if(null!=$r[r])return $r[r];try{Qr.style[e]=n}catch(i){return $r[r]=!1,!1}if(Xr[e])n=n.replace(Jr,Zr);else if(""===Qr.style[e]&&("-ms-flex"===(n=vr.css+n)&&(Qr.style[e]="-ms-flexbox"),Qr.style[e]=n,""===Qr.style[e]))return $r[r]=!1,!1;return Qr.style[e]="",$r[r]=n,$r[r]}i.a&&(Qr=document.createElement("p"));var ti={}.constructor;function ni(e){if(null==e||"object"!==typeof e)return e;if(Array.isArray(e))return e.map(ni);if(e.constructor!==ti)return e;var t={};for(var n in e)t[n]=ni(e[n]);return t}function ri(e,t,n){void 0===e&&(e="unnamed");var r=n.jss,i=ni(t),o=r.plugins.onCreateRule(e,i,n);return o||(e[0],null)}var ii=function(e,t){for(var n="",r=0;r<e.length&&"!important"!==e[r];r++)n&&(n+=t),n+=e[r];return n},oi=function(e){if(!Array.isArray(e))return e;var t="";if(Array.isArray(e[0]))for(var n=0;n<e.length&&"!important"!==e[n];n++)t&&(t+=", "),t+=ii(e[n]," ");else t=ii(e,", ");return"!important"===e[e.length-1]&&(t+=" !important"),t};function ai(e){return e&&!1===e.format?{linebreak:"",space:""}:{linebreak:"\n",space:" "}}function si(e,t){for(var n="",r=0;r<t;r++)n+="  ";return n+e}function ui(e,t,n){void 0===n&&(n={});var r="";if(!t)return r;var i=n.indent,o=void 0===i?0:i,a=t.fallbacks;!1===n.format&&(o=-1/0);var s=ai(n),u=s.linebreak,c=s.space;if(e&&o++,a)if(Array.isArray(a))for(var l=0;l<a.length;l++){var h=a[l];for(var f in h){var d=h[f];null!=d&&(r&&(r+=u),r+=si(f+":"+c+oi(d)+";",o))}}else for(var p in a){var g=a[p];null!=g&&(r&&(r+=u),r+=si(p+":"+c+oi(g)+";",o))}for(var y in t){var v=t[y];null!=v&&"fallbacks"!==y&&(r&&(r+=u),r+=si(y+":"+c+oi(v)+";",o))}return(r||n.allowEmpty)&&e?(r&&(r=""+u+r+u),si(""+e+c+"{"+r,--o)+si("}",o)):r}var ci=/([[\].#*$><+~=|^:(),"'`\s])/g,li="undefined"!==typeof CSS&&CSS.escape,hi=function(e){return li?li(e):e.replace(ci,"\\$1")},fi=function(){function e(e,t,n){this.type="style",this.isProcessed=!1;var r=n.sheet,i=n.Renderer;this.key=e,this.options=n,this.style=t,r?this.renderer=r.renderer:i&&(this.renderer=new i)}return e.prototype.prop=function(e,t,n){if(void 0===t)return this.style[e];var r=!!n&&n.force;if(!r&&this.style[e]===t)return this;var i=t;n&&!1===n.process||(i=this.options.jss.plugins.onChangeValue(t,e,this));var o=null==i||!1===i,a=e in this.style;if(o&&!a&&!r)return this;var s=o&&a;if(s?delete this.style[e]:this.style[e]=i,this.renderable&&this.renderer)return s?this.renderer.removeProperty(this.renderable,e):this.renderer.setProperty(this.renderable,e,i),this;var u=this.options.sheet;return u&&u.attached,this},e}(),di=function(e){function t(t,n,r){var i;i=e.call(this,t,n,r)||this;var o=r.selector,a=r.scoped,u=r.sheet,c=r.generateId;return o?i.selectorText=o:!1!==a&&(i.id=c(Object(s.a)(Object(s.a)(i)),u),i.selectorText="."+hi(i.id)),i}Object(a.a)(t,e);var n=t.prototype;return n.applyTo=function(e){var t=this.renderer;if(t){var n=this.toJSON();for(var r in n)t.setProperty(e,r,n[r])}return this},n.toJSON=function(){var e={};for(var t in this.style){var n=this.style[t];"object"!==typeof n?e[t]=n:Array.isArray(n)&&(e[t]=oi(n))}return e},n.toString=function(e){var t=this.options.sheet,n=!!t&&t.options.link?Object(r.a)({},e,{allowEmpty:!0}):e;return ui(this.selectorText,this.style,n)},Object(o.a)(t,[{key:"selector",set:function(e){if(e!==this.selectorText){this.selectorText=e;var t=this.renderer,n=this.renderable;if(n&&t)t.setSelector(n,e)||t.replaceRule(n,this)}},get:function(){return this.selectorText}}]),t}(fi),pi={onCreateRule:function(e,t,n){return"@"===e[0]||n.parent&&"keyframes"===n.parent.type?null:new di(e,t,n)}},gi={indent:1,children:!0},yi=/@([\w-]+)/,vi=function(){function e(e,t,n){this.type="conditional",this.isProcessed=!1,this.key=e;var i=e.match(yi);for(var o in this.at=i?i[1]:"unknown",this.query=n.name||"@"+this.at,this.options=n,this.rules=new Hi(Object(r.a)({},n,{parent:this})),t)this.rules.add(o,t[o]);this.rules.process()}var t=e.prototype;return t.getRule=function(e){return this.rules.get(e)},t.indexOf=function(e){return this.rules.indexOf(e)},t.addRule=function(e,t,n){var r=this.rules.add(e,t,n);return r?(this.options.jss.plugins.onProcessRule(r),r):null},t.replaceRule=function(e,t,n){var r=this.rules.replace(e,t,n);return r&&this.options.jss.plugins.onProcessRule(r),r},t.toString=function(e){void 0===e&&(e=gi);var t=ai(e).linebreak;if(null==e.indent&&(e.indent=gi.indent),null==e.children&&(e.children=gi.children),!1===e.children)return this.query+" {}";var n=this.rules.toString(e);return n?this.query+" {"+t+n+t+"}":""},e}(),mi=/@media|@supports\s+/,bi={onCreateRule:function(e,t,n){return mi.test(e)?new vi(e,t,n):null}},_i={indent:1,children:!0},wi=/@keyframes\s+([\w-]+)/,Ei=function(){function e(e,t,n){this.type="keyframes",this.at="@keyframes",this.isProcessed=!1;var i=e.match(wi);i&&i[1]?this.name=i[1]:this.name="noname",this.key=this.type+"-"+this.name,this.options=n;var o=n.scoped,a=n.sheet,s=n.generateId;for(var u in this.id=!1===o?this.name:hi(s(this,a)),this.rules=new Hi(Object(r.a)({},n,{parent:this})),t)this.rules.add(u,t[u],Object(r.a)({},n,{parent:this}));this.rules.process()}return e.prototype.toString=function(e){void 0===e&&(e=_i);var t=ai(e).linebreak;if(null==e.indent&&(e.indent=_i.indent),null==e.children&&(e.children=_i.children),!1===e.children)return this.at+" "+this.id+" {}";var n=this.rules.toString(e);return n&&(n=""+t+n+t),this.at+" "+this.id+" {"+n+"}"},e}(),Si=/@keyframes\s+/,Ci=/\$([\w-]+)/g,Oi=function(e,t){return"string"===typeof e?e.replace(Ci,function(e,n){return n in t?t[n]:e}):e},Ti=function(e,t,n){var r=e[t],i=Oi(r,n);i!==r&&(e[t]=i)},ki={onCreateRule:function(e,t,n){return"string"===typeof e&&Si.test(e)?new Ei(e,t,n):null},onProcessStyle:function(e,t,n){return"style"===t.type&&n?("animation-name"in e&&Ti(e,"animation-name",n.keyframes),"animation"in e&&Ti(e,"animation",n.keyframes),e):e},onChangeValue:function(e,t,n){var r=n.options.sheet;if(!r)return e;switch(t){case"animation":case"animation-name":return Oi(e,r.keyframes);default:return e}}},Ii=function(e){function t(){return e.apply(this,arguments)||this}return Object(a.a)(t,e),t.prototype.toString=function(e){var t=this.options.sheet,n=!!t&&t.options.link?Object(r.a)({},e,{allowEmpty:!0}):e;return ui(this.key,this.style,n)},t}(fi),Ai={onCreateRule:function(e,t,n){return n.parent&&"keyframes"===n.parent.type?new Ii(e,t,n):null}},Ni=function(){function e(e,t,n){this.type="font-face",this.at="@font-face",this.isProcessed=!1,this.key=e,this.style=t,this.options=n}return e.prototype.toString=function(e){var t=ai(e).linebreak;if(Array.isArray(this.style)){for(var n="",r=0;r<this.style.length;r++)n+=ui(this.at,this.style[r]),this.style[r+1]&&(n+=t);return n}return ui(this.at,this.style,e)},e}(),Ri=/@font-face/,Pi={onCreateRule:function(e,t,n){return Ri.test(e)?new Ni(e,t,n):null}},xi=function(){function e(e,t,n){this.type="viewport",this.at="@viewport",this.isProcessed=!1,this.key=e,this.style=t,this.options=n}return e.prototype.toString=function(e){return ui(this.key,this.style,e)},e}(),Mi={onCreateRule:function(e,t,n){return"@viewport"===e||"@-ms-viewport"===e?new xi(e,t,n):null}},Li=function(){function e(e,t,n){this.type="simple",this.isProcessed=!1,this.key=e,this.value=t,this.options=n}return e.prototype.toString=function(e){if(Array.isArray(this.value)){for(var t="",n=0;n<this.value.length;n++)t+=this.key+" "+this.value[n]+";",this.value[n+1]&&(t+="\n");return t}return this.key+" "+this.value+";"},e}(),Di={"@charset":!0,"@import":!0,"@namespace":!0},ji=[pi,bi,ki,Ai,Pi,Mi,{onCreateRule:function(e,t,n){return e in Di?new Li(e,t,n):null}}],Ui={process:!0},Fi={force:!0,process:!0},Hi=function(){function e(e){this.map={},this.raw={},this.index=[],this.counter=0,this.options=e,this.classes=e.classes,this.keyframes=e.keyframes}var t=e.prototype;return t.add=function(e,t,n){var i=this.options,o=i.parent,a=i.sheet,s=i.jss,u=i.Renderer,c=i.generateId,l=i.scoped,h=Object(r.a)({classes:this.classes,parent:o,sheet:a,jss:s,Renderer:u,generateId:c,scoped:l,name:e,keyframes:this.keyframes,selector:void 0},n),f=e;e in this.raw&&(f=e+"-d"+this.counter++),this.raw[f]=t,f in this.classes&&(h.selector="."+hi(this.classes[f]));var d=ri(f,t,h);if(!d)return null;this.register(d);var p=void 0===h.index?this.index.length:h.index;return this.index.splice(p,0,d),d},t.replace=function(e,t,n){var i=this.get(e),o=this.index.indexOf(i);i&&this.remove(i);var a=n;return-1!==o&&(a=Object(r.a)({},n,{index:o})),this.add(e,t,a)},t.get=function(e){return this.map[e]},t.remove=function(e){this.unregister(e),delete this.raw[e.key],this.index.splice(this.index.indexOf(e),1)},t.indexOf=function(e){return this.index.indexOf(e)},t.process=function(){var e=this.options.jss.plugins;this.index.slice(0).forEach(e.onProcessRule,e)},t.register=function(e){this.map[e.key]=e,e instanceof di?(this.map[e.selector]=e,e.id&&(this.classes[e.key]=e.id)):e instanceof Ei&&this.keyframes&&(this.keyframes[e.name]=e.id)},t.unregister=function(e){delete this.map[e.key],e instanceof di?(delete this.map[e.selector],delete this.classes[e.key]):e instanceof Ei&&delete this.keyframes[e.name]},t.update=function(){var e,t,n;if("string"===typeof(arguments.length<=0?void 0:arguments[0])?(e=arguments.length<=0?void 0:arguments[0],t=arguments.length<=1?void 0:arguments[1],n=arguments.length<=2?void 0:arguments[2]):(t=arguments.length<=0?void 0:arguments[0],n=arguments.length<=1?void 0:arguments[1],e=null),e)this.updateOne(this.get(e),t,n);else for(var r=0;r<this.index.length;r++)this.updateOne(this.index[r],t,n)},t.updateOne=function(t,n,r){void 0===r&&(r=Ui);var i=this.options,o=i.jss.plugins,a=i.sheet;if(t.rules instanceof e)t.rules.update(n,r);else{var s=t.style;if(o.onUpdate(n,t,a,r),r.process&&s&&s!==t.style){for(var u in o.onProcessStyle(t.style,t,a),t.style){var c=t.style[u];c!==s[u]&&t.prop(u,c,Fi)}for(var l in s){var h=t.style[l],f=s[l];null==h&&h!==f&&t.prop(l,null,Fi)}}}},t.toString=function(e){for(var t="",n=this.options.sheet,r=!!n&&n.options.link,i=ai(e).linebreak,o=0;o<this.index.length;o++){var a=this.index[o].toString(e);(a||r)&&(t&&(t+=i),t+=a)}return t},e}(),Bi=function(){function e(e,t){for(var n in this.attached=!1,this.deployed=!1,this.classes={},this.keyframes={},this.options=Object(r.a)({},t,{sheet:this,parent:this,classes:this.classes,keyframes:this.keyframes}),t.Renderer&&(this.renderer=new t.Renderer(this)),this.rules=new Hi(this.options),e)this.rules.add(n,e[n]);this.rules.process()}var t=e.prototype;return t.attach=function(){return this.attached?this:(this.renderer&&this.renderer.attach(),this.attached=!0,this.deployed||this.deploy(),this)},t.detach=function(){return this.attached?(this.renderer&&this.renderer.detach(),this.attached=!1,this):this},t.addRule=function(e,t,n){var r=this.queue;this.attached&&!r&&(this.queue=[]);var i=this.rules.add(e,t,n);return i?(this.options.jss.plugins.onProcessRule(i),this.attached?this.deployed?(r?r.push(i):(this.insertRule(i),this.queue&&(this.queue.forEach(this.insertRule,this),this.queue=void 0)),i):i:(this.deployed=!1,i)):null},t.replaceRule=function(e,t,n){var r=this.rules.get(e);if(!r)return this.addRule(e,t,n);var i=this.rules.replace(e,t,n);return i&&this.options.jss.plugins.onProcessRule(i),this.attached?this.deployed?(this.renderer&&(i?r.renderable&&this.renderer.replaceRule(r.renderable,i):this.renderer.deleteRule(r)),i):i:(this.deployed=!1,i)},t.insertRule=function(e){this.renderer&&this.renderer.insertRule(e)},t.addRules=function(e,t){var n=[];for(var r in e){var i=this.addRule(r,e[r],t);i&&n.push(i)}return n},t.getRule=function(e){return this.rules.get(e)},t.deleteRule=function(e){var t="object"===typeof e?e:this.rules.get(e);return!(!t||this.attached&&!t.renderable)&&(this.rules.remove(t),!(this.attached&&t.renderable&&this.renderer)||this.renderer.deleteRule(t.renderable))},t.indexOf=function(e){return this.rules.indexOf(e)},t.deploy=function(){return this.renderer&&this.renderer.deploy(),this.deployed=!0,this},t.update=function(){var e;return(e=this.rules).update.apply(e,arguments),this},t.updateOne=function(e,t,n){return this.rules.updateOne(e,t,n),this},t.toString=function(e){return this.rules.toString(e)},e}(),Vi=function(){function e(){this.plugins={internal:[],external:[]},this.registry={}}var t=e.prototype;return t.onCreateRule=function(e,t,n){for(var r=0;r<this.registry.onCreateRule.length;r++){var i=this.registry.onCreateRule[r](e,t,n);if(i)return i}return null},t.onProcessRule=function(e){if(!e.isProcessed){for(var t=e.options.sheet,n=0;n<this.registry.onProcessRule.length;n++)this.registry.onProcessRule[n](e,t);e.style&&this.onProcessStyle(e.style,e,t),e.isProcessed=!0}},t.onProcessStyle=function(e,t,n){for(var r=0;r<this.registry.onProcessStyle.length;r++)t.style=this.registry.onProcessStyle[r](t.style,t,n)},t.onProcessSheet=function(e){for(var t=0;t<this.registry.onProcessSheet.length;t++)this.registry.onProcessSheet[t](e)},t.onUpdate=function(e,t,n,r){for(var i=0;i<this.registry.onUpdate.length;i++)this.registry.onUpdate[i](e,t,n,r)},t.onChangeValue=function(e,t,n){for(var r=e,i=0;i<this.registry.onChangeValue.length;i++)r=this.registry.onChangeValue[i](r,t,n);return r},t.use=function(e,t){void 0===t&&(t={queue:"external"});var n=this.plugins[t.queue];-1===n.indexOf(e)&&(n.push(e),this.registry=[].concat(this.plugins.external,this.plugins.internal).reduce(function(e,t){for(var n in t)n in e&&e[n].push(t[n]);return e},{onCreateRule:[],onProcessRule:[],onProcessStyle:[],onProcessSheet:[],onChangeValue:[],onUpdate:[]}))},e}(),qi=new(function(){function e(){this.registry=[]}var t=e.prototype;return t.add=function(e){var t=this.registry,n=e.options.index;if(-1===t.indexOf(e))if(0===t.length||n>=this.index)t.push(e);else for(var r=0;r<t.length;r++)if(t[r].options.index>n)return void t.splice(r,0,e)},t.reset=function(){this.registry=[]},t.remove=function(e){var t=this.registry.indexOf(e);this.registry.splice(t,1)},t.toString=function(e){for(var t=void 0===e?{}:e,n=t.attached,r=Object(u.a)(t,["attached"]),i=ai(r).linebreak,o="",a=0;a<this.registry.length;a++){var s=this.registry[a];null!=n&&s.attached!==n||(o&&(o+=i),o+=s.toString(r))}return o},Object(o.a)(e,[{key:"index",get:function(){return 0===this.registry.length?0:this.registry[this.registry.length-1].options.index}}]),e}()),Gi="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window&&window.Math===Math?window:"undefined"!==typeof self&&self.Math===Math?self:Function("return this")();null==Gi["2f1acc6c3a606b082e5eef5e54414ffb"]&&(Gi["2f1acc6c3a606b082e5eef5e54414ffb"]=0);var zi=Gi["2f1acc6c3a606b082e5eef5e54414ffb"]++,Wi=function(e){void 0===e&&(e={});var t=0;return function(n,r){t+=1;var i="",o="";return r&&(r.options.classNamePrefix&&(o=r.options.classNamePrefix),null!=r.options.jss.id&&(i=String(r.options.jss.id))),e.minify?""+(o||"c")+zi+i+t:o+n.key+"-"+zi+(i?"-"+i:"")+"-"+t}},Ki=function(e){var t;return function(){return t||(t=e()),t}},Yi=function(e,t){try{return e.attributeStyleMap?e.attributeStyleMap.get(t):e.style.getPropertyValue(t)}catch(n){return""}},Qi=function(e,t,n){try{var r=n;if(Array.isArray(n)&&(r=oi(n)),e.attributeStyleMap)e.attributeStyleMap.set(t,r);else{var i=r?r.indexOf("!important"):-1,o=i>-1?r.substr(0,i-1):r;e.style.setProperty(t,o,i>-1?"important":"")}}catch(a){return!1}return!0},$i=function(e,t){try{e.attributeStyleMap?e.attributeStyleMap.delete(t):e.style.removeProperty(t)}catch(n){}},Xi=function(e,t){return e.selectorText=t,e.selectorText===t},Ji=Ki(function(){return document.querySelector("head")});function Zi(e){var t=qi.registry;if(t.length>0){var n=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.attached&&r.options.index>t.index&&r.options.insertionPoint===t.insertionPoint)return r}return null}(t,e);if(n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element};if((n=function(e,t){for(var n=e.length-1;n>=0;n--){var r=e[n];if(r.attached&&r.options.insertionPoint===t.insertionPoint)return r}return null}(t,e))&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element.nextSibling}}var r=e.insertionPoint;if(r&&"string"===typeof r){var i=function(e){for(var t=Ji(),n=0;n<t.childNodes.length;n++){var r=t.childNodes[n];if(8===r.nodeType&&r.nodeValue.trim()===e)return r}return null}(r);if(i)return{parent:i.parentNode,node:i.nextSibling}}return!1}var eo=Ki(function(){var e=document.querySelector('meta[property="csp-nonce"]');return e?e.getAttribute("content"):null}),to=function(e,t,n){try{"insertRule"in e?e.insertRule(t,n):"appendRule"in e&&e.appendRule(t)}catch(r){return!1}return e.cssRules[n]},no=function(e,t){var n=e.cssRules.length;return void 0===t||t>n?n:t},ro=function(){var e=document.createElement("style");return e.textContent="\n",e},io=function(){function e(e){this.getPropertyValue=Yi,this.setProperty=Qi,this.removeProperty=$i,this.setSelector=Xi,this.hasInsertedRules=!1,this.cssRules=[],e&&qi.add(e),this.sheet=e;var t=this.sheet?this.sheet.options:{},n=t.media,r=t.meta,i=t.element;this.element=i||ro(),this.element.setAttribute("data-jss",""),n&&this.element.setAttribute("media",n),r&&this.element.setAttribute("data-meta",r);var o=eo();o&&this.element.setAttribute("nonce",o)}var t=e.prototype;return t.attach=function(){if(!this.element.parentNode&&this.sheet){!function(e,t){var n=t.insertionPoint,r=Zi(t);if(!1!==r&&r.parent)r.parent.insertBefore(e,r.node);else if(n&&"number"===typeof n.nodeType){var i=n,o=i.parentNode;o&&o.insertBefore(e,i.nextSibling)}else Ji().appendChild(e)}(this.element,this.sheet.options);var e=Boolean(this.sheet&&this.sheet.deployed);this.hasInsertedRules&&e&&(this.hasInsertedRules=!1,this.deploy())}},t.detach=function(){if(this.sheet){var e=this.element.parentNode;e&&e.removeChild(this.element),this.sheet.options.link&&(this.cssRules=[],this.element.textContent="\n")}},t.deploy=function(){var e=this.sheet;e&&(e.options.link?this.insertRules(e.rules):this.element.textContent="\n"+e.toString()+"\n")},t.insertRules=function(e,t){for(var n=0;n<e.index.length;n++)this.insertRule(e.index[n],n,t)},t.insertRule=function(e,t,n){if(void 0===n&&(n=this.element.sheet),e.rules){var r=e,i=n;if("conditional"===e.type||"keyframes"===e.type){var o=no(n,t);if(!1===(i=to(n,r.toString({children:!1}),o)))return!1;this.refCssRule(e,o,i)}return this.insertRules(r.rules,i),i}var a=e.toString();if(!a)return!1;var s=no(n,t),u=to(n,a,s);return!1!==u&&(this.hasInsertedRules=!0,this.refCssRule(e,s,u),u)},t.refCssRule=function(e,t,n){e.renderable=n,e.options.parent instanceof Bi&&this.cssRules.splice(t,0,n)},t.deleteRule=function(e){var t=this.element.sheet,n=this.indexOf(e);return-1!==n&&(t.deleteRule(n),this.cssRules.splice(n,1),!0)},t.indexOf=function(e){return this.cssRules.indexOf(e)},t.replaceRule=function(e,t){var n=this.indexOf(e);return-1!==n&&(this.element.sheet.deleteRule(n),this.cssRules.splice(n,1),this.insertRule(t,n))},t.getRules=function(){return this.element.sheet.cssRules},e}(),oo=0,ao=function(){function e(e){this.id=oo++,this.version="10.9.1",this.plugins=new Vi,this.options={id:{minify:!1},createGenerateId:Wi,Renderer:i.a?io:null,plugins:[]},this.generateId=Wi({minify:!1});for(var t=0;t<ji.length;t++)this.plugins.use(ji[t],{queue:"internal"});this.setup(e)}var t=e.prototype;return t.setup=function(e){return void 0===e&&(e={}),e.createGenerateId&&(this.options.createGenerateId=e.createGenerateId),e.id&&(this.options.id=Object(r.a)({},this.options.id,e.id)),(e.createGenerateId||e.id)&&(this.generateId=this.options.createGenerateId(this.options.id)),null!=e.insertionPoint&&(this.options.insertionPoint=e.insertionPoint),"Renderer"in e&&(this.options.Renderer=e.Renderer),e.plugins&&this.use.apply(this,e.plugins),this},t.createStyleSheet=function(e,t){void 0===t&&(t={});var n=t.index;"number"!==typeof n&&(n=0===qi.index?0:qi.index+1);var i=new Bi(e,Object(r.a)({},t,{jss:this,generateId:t.generateId||this.generateId,insertionPoint:this.options.insertionPoint,Renderer:this.options.Renderer,index:n}));return this.plugins.onProcessSheet(i),i},t.removeStyleSheet=function(e){return e.detach(),qi.remove(e),this},t.createRule=function(e,t,n){if(void 0===t&&(t={}),void 0===n&&(n={}),"object"===typeof e)return this.createRule(void 0,e,t);var i=Object(r.a)({},n,{name:e,jss:this,Renderer:this.options.Renderer});i.generateId||(i.generateId=this.generateId),i.classes||(i.classes={}),i.keyframes||(i.keyframes={});var o=ri(e,t,i);return o&&this.plugins.onProcessRule(o),o},t.use=function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.forEach(function(t){e.plugins.use(t)}),this},e}();"object"===typeof CSS&&null!=CSS&&CSS;!function(e){new ao(e)}();var so=function(){function e(t){for(var n in t){var r=t[n];if("fallbacks"===n&&Array.isArray(r))t[n]=r.map(e);else{var i=!1,o=Yr(n);o&&o!==n&&(i=!0);var a=!1,s=ei(o,oi(r));s&&s!==r&&(a=!0),(i||a)&&(i&&delete t[n],t[o||n]=s||r)}}return t}return{onProcessRule:function(e){if("keyframes"===e.type){var t=e;t.at="-"===(n=t.at)[1]?n:"ms"===vr.js?n:"@"+vr.css+"keyframes"+n.substr(10)}var n},onProcessStyle:function(t,n){return"style"!==n.type?t:e(t)},onChangeValue:function(e,t){return ei(t,oi(e))||e}}};var uo=function(){var e=function(e,t){return e.length===t.length?e>t?1:-1:e.length-t.length};return{onProcessStyle:function(t,n){if("style"!==n.type)return t;for(var r={},i=Object.keys(t).sort(e),o=0;o<i.length;o++)r[i[o]]=t[i[o]];return r}}};function co(){return{plugins:[_e(),Mt(),Ut(),zt(),sr(),"undefined"===typeof window?null:so(),uo()]}}n.d(t,"a",function(){return co})},function(e,t,n){"use strict";var r=n(5),i=n(3),o=n(0),a=n.n(o),s=n(194),u=n(955),c={set:function(e,t,n,r){var i=e.get(t);i||(i=new Map,e.set(t,i)),i.set(n,r)},get:function(e,t,n){var r=e.get(t);return r?r.get(n):void 0},delete:function(e,t,n){e.get(t).delete(n)}},l=n(317),h=n(940),f=-1e9;n(134);var d=n(495);var p={};function g(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.name,o=t.classNamePrefix,g=t.Component,y=t.defaultTheme,v=void 0===y?p:y,m=Object(r.a)(t,["name","classNamePrefix","Component","defaultTheme"]),b=function(e){var t="function"===typeof e;return{create:function(n,r){var o;try{o=t?e(n):e}catch(u){throw u}if(!r||!n.overrides||!n.overrides[r])return o;var a=n.overrides[r],s=Object(i.a)({},o);return Object.keys(a).forEach(function(e){s[e]=Object(d.a)(s[e],a[e])}),s},options:{}}}(e),_=n||o||"makeStyles";b.options={index:f+=1,name:n,meta:_,classNamePrefix:_};return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(l.a)()||v,r=Object(i.a)({},a.a.useContext(h.a),{},m),o=a.a.useRef(),f=a.a.useRef();return function(e,t){var n,r=a.a.useRef([]),i=a.a.useMemo(function(){return{}},t);r.current!==i&&(r.current=i,n=e()),a.a.useEffect(function(){return function(){n&&n()}},[i])}(function(){var a={name:n,state:{},stylesCreator:b,stylesOptions:r,theme:t};return function(e,t){var n=e.state,r=e.theme,o=e.stylesOptions,a=e.stylesCreator,l=e.name;if(!o.disableGeneration){var h=c.get(o.sheetsManager,a,r);h||(h={refs:0,staticSheet:null,dynamicStyles:null},c.set(o.sheetsManager,a,r,h));var f=Object(i.a)({},a.options,{},o,{theme:r,flip:"boolean"===typeof o.flip?o.flip:"rtl"===r.direction});f.generateId=f.serverGenerateClassName||f.generateClassName;var d=o.sheetsRegistry;if(0===h.refs){var p;o.sheetsCache&&(p=c.get(o.sheetsCache,a,r));var g=a.create(r,l);p||((p=o.jss.createStyleSheet(g,Object(i.a)({link:!1},f))).attach(),o.sheetsCache&&c.set(o.sheetsCache,a,r,p)),d&&d.add(p),h.staticSheet=p,h.dynamicStyles=Object(s.c)(g)}if(h.dynamicStyles){var y=o.jss.createStyleSheet(h.dynamicStyles,Object(i.a)({link:!0},f));y.update(t),y.attach(),n.dynamicSheet=y,n.classes=Object(u.a)({baseClasses:h.staticSheet.classes,newClasses:y.classes}),d&&d.add(y)}else n.classes=h.staticSheet.classes;h.refs+=1}}(a,e),f.current=!1,o.current=a,function(){!function(e){var t=e.state,n=e.theme,r=e.stylesOptions,i=e.stylesCreator;if(!r.disableGeneration){var o=c.get(r.sheetsManager,i,n);o.refs-=1;var a=r.sheetsRegistry;0===o.refs&&(c.delete(r.sheetsManager,i,n),r.jss.removeStyleSheet(o.staticSheet),a&&a.remove(o.staticSheet)),t.dynamicSheet&&(r.jss.removeStyleSheet(t.dynamicSheet),a&&a.remove(t.dynamicSheet))}}(a)}},[t,b]),a.a.useEffect(function(){f.current&&function(e,t){var n=e.state;n.dynamicSheet&&n.dynamicSheet.update(t)}(o.current,e),f.current=!0}),function(e,t,n){var r=e.state;if(e.stylesOptions.disableGeneration)return t||{};r.cacheClasses||(r.cacheClasses={value:null,lastProp:null,lastJSS:{}});var i=!1;return r.classes!==r.cacheClasses.lastJSS&&(r.cacheClasses.lastJSS=r.classes,i=!0),t!==r.cacheClasses.lastProp&&(r.cacheClasses.lastProp=t,i=!0),i&&(r.cacheClasses.value=Object(u.a)({baseClasses:r.cacheClasses.lastJSS,newClasses:t,Component:n})),r.cacheClasses.value}(o.current,e.classes,g)}}n.d(t,"a",function(){return g})},function(e,t,n){"use strict";e.exports=n(804)},function(e,t,n){"use strict";function r(e){var t,n=e.Symbol;return"function"===typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";t.a=function(e){function t(e,t,r){var i=t.trim().split(p);t=i;var o=i.length,a=e.length;switch(a){case 0:case 1:var s=0;for(e=0===a?"":e[0]+" ";s<o;++s)t[s]=n(e,t[s],r).trim();break;default:var u=s=0;for(t=[];s<o;++s)for(var c=0;c<a;++c)t[u++]=n(e[c]+" ",i[s],r).trim()}return t}function n(e,t,n){var r=t.charCodeAt(0);switch(33>r&&(r=(t=t.trim()).charCodeAt(0)),r){case 38:return t.replace(g,"$1"+e.trim());case 58:return e.trim()+t.replace(g,"$1"+e.trim());default:if(0<1*n&&0<t.indexOf("\f"))return t.replace(g,(58===e.charCodeAt(0)?"":"$1")+e.trim())}return e+t}function r(e,t,n,o){var a=e+";",s=2*t+3*n+4*o;if(944===s){e=a.indexOf(":",9)+1;var u=a.substring(e,a.length-1).trim();return u=a.substring(0,e).trim()+u+";",1===A||2===A&&i(u,1)?"-webkit-"+u+u:u}if(0===A||2===A&&!i(a,1))return a;switch(s){case 1015:return 97===a.charCodeAt(10)?"-webkit-"+a+a:a;case 951:return 116===a.charCodeAt(3)?"-webkit-"+a+a:a;case 963:return 110===a.charCodeAt(5)?"-webkit-"+a+a:a;case 1009:if(100!==a.charCodeAt(4))break;case 969:case 942:return"-webkit-"+a+a;case 978:return"-webkit-"+a+"-moz-"+a+a;case 1019:case 983:return"-webkit-"+a+"-moz-"+a+"-ms-"+a+a;case 883:if(45===a.charCodeAt(8))return"-webkit-"+a+a;if(0<a.indexOf("image-set(",11))return a.replace(O,"$1-webkit-$2")+a;break;case 932:if(45===a.charCodeAt(4))switch(a.charCodeAt(5)){case 103:return"-webkit-box-"+a.replace("-grow","")+"-webkit-"+a+"-ms-"+a.replace("grow","positive")+a;case 115:return"-webkit-"+a+"-ms-"+a.replace("shrink","negative")+a;case 98:return"-webkit-"+a+"-ms-"+a.replace("basis","preferred-size")+a}return"-webkit-"+a+"-ms-"+a+a;case 964:return"-webkit-"+a+"-ms-flex-"+a+a;case 1023:if(99!==a.charCodeAt(8))break;return"-webkit-box-pack"+(u=a.substring(a.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+a+"-ms-flex-pack"+u+a;case 1005:return f.test(a)?a.replace(h,":-webkit-")+a.replace(h,":-moz-")+a:a;case 1e3:switch(t=(u=a.substring(13).trim()).indexOf("-")+1,u.charCodeAt(0)+u.charCodeAt(t)){case 226:u=a.replace(b,"tb");break;case 232:u=a.replace(b,"tb-rl");break;case 220:u=a.replace(b,"lr");break;default:return a}return"-webkit-"+a+"-ms-"+u+a;case 1017:if(-1===a.indexOf("sticky",9))break;case 975:switch(t=(a=e).length-10,s=(u=(33===a.charCodeAt(t)?a.substring(0,t):a).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|u.charCodeAt(7))){case 203:if(111>u.charCodeAt(8))break;case 115:a=a.replace(u,"-webkit-"+u)+";"+a;break;case 207:case 102:a=a.replace(u,"-webkit-"+(102<s?"inline-":"")+"box")+";"+a.replace(u,"-webkit-"+u)+";"+a.replace(u,"-ms-"+u+"box")+";"+a}return a+";";case 938:if(45===a.charCodeAt(5))switch(a.charCodeAt(6)){case 105:return u=a.replace("-items",""),"-webkit-"+a+"-webkit-box-"+u+"-ms-flex-"+u+a;case 115:return"-webkit-"+a+"-ms-flex-item-"+a.replace(E,"")+a;default:return"-webkit-"+a+"-ms-flex-line-pack"+a.replace("align-content","").replace(E,"")+a}break;case 973:case 989:if(45!==a.charCodeAt(3)||122===a.charCodeAt(4))break;case 931:case 953:if(!0===C.test(e))return 115===(u=e.substring(e.indexOf(":")+1)).charCodeAt(0)?r(e.replace("stretch","fill-available"),t,n,o).replace(":fill-available",":stretch"):a.replace(u,"-webkit-"+u)+a.replace(u,"-moz-"+u.replace("fill-",""))+a;break;case 962:if(a="-webkit-"+a+(102===a.charCodeAt(5)?"-ms-"+a:"")+a,211===n+o&&105===a.charCodeAt(13)&&0<a.indexOf("transform",10))return a.substring(0,a.indexOf(";",27)+1).replace(d,"$1-webkit-$2")+a}return a}function i(e,t){var n=e.indexOf(1===t?":":"{"),r=e.substring(0,3!==t?n:10);return n=e.substring(n+1,e.length-1),x(2!==t?r:r.replace(S,"$1"),n,t)}function o(e,t){var n=r(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return n!==t+";"?n.replace(w," or ($1)").substring(4):"("+t+")"}function a(e,t,n,r,i,o,a,s,c,l){for(var h,f=0,d=t;f<P;++f)switch(h=R[f].call(u,e,d,n,r,i,o,a,s,c,l)){case void 0:case!1:case!0:case null:break;default:d=h}if(d!==t)return d}function s(e){return void 0!==(e=e.prefix)&&(x=null,e?"function"!==typeof e?A=1:(A=2,x=e):A=0),s}function u(e,n){var s=e;if(33>s.charCodeAt(0)&&(s=s.trim()),s=[s],0<P){var u=a(-1,n,s,s,k,T,0,0,0,0);void 0!==u&&"string"===typeof u&&(n=u)}var h=function e(n,s,u,h,f){for(var d,p,g,b,w,E=0,S=0,C=0,O=0,R=0,x=0,L=g=d=0,D=0,j=0,U=0,F=0,H=u.length,B=H-1,V="",q="",G="",z="";D<H;){if(p=u.charCodeAt(D),D===B&&0!==S+O+C+E&&(0!==S&&(p=47===S?10:47),O=C=E=0,H++,B++),0===S+O+C+E){if(D===B&&(0<j&&(V=V.replace(l,"")),0<V.trim().length)){switch(p){case 32:case 9:case 59:case 13:case 10:break;default:V+=u.charAt(D)}p=59}switch(p){case 123:for(d=(V=V.trim()).charCodeAt(0),g=1,F=++D;D<H;){switch(p=u.charCodeAt(D)){case 123:g++;break;case 125:g--;break;case 47:switch(p=u.charCodeAt(D+1)){case 42:case 47:e:{for(L=D+1;L<B;++L)switch(u.charCodeAt(L)){case 47:if(42===p&&42===u.charCodeAt(L-1)&&D+2!==L){D=L+1;break e}break;case 10:if(47===p){D=L+1;break e}}D=L}}break;case 91:p++;case 40:p++;case 34:case 39:for(;D++<B&&u.charCodeAt(D)!==p;);}if(0===g)break;D++}switch(g=u.substring(F,D),0===d&&(d=(V=V.replace(c,"").trim()).charCodeAt(0)),d){case 64:switch(0<j&&(V=V.replace(l,"")),p=V.charCodeAt(1)){case 100:case 109:case 115:case 45:j=s;break;default:j=N}if(F=(g=e(s,j,g,p,f+1)).length,0<P&&(w=a(3,g,j=t(N,V,U),s,k,T,F,p,f,h),V=j.join(""),void 0!==w&&0===(F=(g=w.trim()).length)&&(p=0,g="")),0<F)switch(p){case 115:V=V.replace(_,o);case 100:case 109:case 45:g=V+"{"+g+"}";break;case 107:g=(V=V.replace(y,"$1 $2"))+"{"+g+"}",g=1===A||2===A&&i("@"+g,3)?"@-webkit-"+g+"@"+g:"@"+g;break;default:g=V+g,112===h&&(q+=g,g="")}else g="";break;default:g=e(s,t(s,V,U),g,h,f+1)}G+=g,g=U=j=L=d=0,V="",p=u.charCodeAt(++D);break;case 125:case 59:if(1<(F=(V=(0<j?V.replace(l,""):V).trim()).length))switch(0===L&&(d=V.charCodeAt(0),45===d||96<d&&123>d)&&(F=(V=V.replace(" ",":")).length),0<P&&void 0!==(w=a(1,V,s,n,k,T,q.length,h,f,h))&&0===(F=(V=w.trim()).length)&&(V="\0\0"),d=V.charCodeAt(0),p=V.charCodeAt(1),d){case 0:break;case 64:if(105===p||99===p){z+=V+u.charAt(D);break}default:58!==V.charCodeAt(F-1)&&(q+=r(V,d,p,V.charCodeAt(2)))}U=j=L=d=0,V="",p=u.charCodeAt(++D)}}switch(p){case 13:case 10:47===S?S=0:0===1+d&&107!==h&&0<V.length&&(j=1,V+="\0"),0<P*M&&a(0,V,s,n,k,T,q.length,h,f,h),T=1,k++;break;case 59:case 125:if(0===S+O+C+E){T++;break}default:switch(T++,b=u.charAt(D),p){case 9:case 32:if(0===O+E+S)switch(R){case 44:case 58:case 9:case 32:b="";break;default:32!==p&&(b=" ")}break;case 0:b="\\0";break;case 12:b="\\f";break;case 11:b="\\v";break;case 38:0===O+S+E&&(j=U=1,b="\f"+b);break;case 108:if(0===O+S+E+I&&0<L)switch(D-L){case 2:112===R&&58===u.charCodeAt(D-3)&&(I=R);case 8:111===x&&(I=x)}break;case 58:0===O+S+E&&(L=D);break;case 44:0===S+C+O+E&&(j=1,b+="\r");break;case 34:case 39:0===S&&(O=O===p?0:0===O?p:O);break;case 91:0===O+S+C&&E++;break;case 93:0===O+S+C&&E--;break;case 41:0===O+S+E&&C--;break;case 40:if(0===O+S+E){if(0===d)switch(2*R+3*x){case 533:break;default:d=1}C++}break;case 64:0===S+C+O+E+L+g&&(g=1);break;case 42:case 47:if(!(0<O+E+C))switch(S){case 0:switch(2*p+3*u.charCodeAt(D+1)){case 235:S=47;break;case 220:F=D,S=42}break;case 42:47===p&&42===R&&F+2!==D&&(33===u.charCodeAt(F+2)&&(q+=u.substring(F,D+1)),b="",S=0)}}0===S&&(V+=b)}x=R,R=p,D++}if(0<(F=q.length)){if(j=s,0<P&&void 0!==(w=a(2,q,j,n,k,T,F,h,f,h))&&0===(q=w).length)return z+q+G;if(q=j.join(",")+"{"+q+"}",0!==A*I){switch(2!==A||i(q,2)||(I=0),I){case 111:q=q.replace(m,":-moz-$1")+q;break;case 112:q=q.replace(v,"::-webkit-input-$1")+q.replace(v,"::-moz-$1")+q.replace(v,":-ms-input-$1")+q}I=0}}return z+q+G}(N,s,n,0,0);return 0<P&&void 0!==(u=a(-2,h,s,s,k,T,h.length,0,0,0))&&(h=u),I=0,T=k=1,h}var c=/^\0+/g,l=/[\0\r\f]/g,h=/: */g,f=/zoo|gra/,d=/([,: ])(transform)/g,p=/,\r+?/g,g=/([\t\r\n ])*\f?&/g,y=/@(k\w+)\s*(\S*)\s*/,v=/::(place)/g,m=/:(read-only)/g,b=/[svh]\w+-[tblr]{2}/,_=/\(\s*(.*)\s*\)/g,w=/([\s\S]*?);/g,E=/-self|flex-/g,S=/[^]*?(:[rp][el]a[\w-]+)[^]*/,C=/stretch|:\s*\w+\-(?:conte|avail)/,O=/([^-])(image-set\()/,T=1,k=1,I=0,A=1,N=[],R=[],P=0,x=null,M=0;return u.use=function e(t){switch(t){case void 0:case null:P=R.length=0;break;default:if("function"===typeof t)R[P++]=t;else if("object"===typeof t)for(var n=0,r=t.length;n<r;++n)e(t[n]);else M=0|!!t}return e},u.set=s,void 0!==e&&s(e),u}},function(e,t,n){"use strict";t.a={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1}},function(e,t,n){"use strict";var r=n(201);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(0)),o=(0,r(n(265)).default)(i.default.createElement("path",{d:"M22.7 19l-9.1-9.1c.9-2.3.4-5-1.5-6.9-2-2-5-2.4-7.4-1.3L9 6 6 9 1.6 4.7C.4 7.1.9 10.1 2.9 12.1c1.9 1.9 4.6 2.4 6.9 1.5l9.1 9.1c.4.4 1 .4 1.4 0l2.3-2.3c.5-.4.5-1.1.1-1.4z"}),"Build");t.default=o},function(e,t,n){"use strict";var r=n(201);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(0)),o=(0,r(n(265)).default)(i.default.createElement(i.default.Fragment,null,i.default.createElement("path",{d:"M12 11.39c0-.65-.39-1.23-.98-1.48L5.44 7.55c-1.48 1.68-2.32 3.7-2.8 5.45h7.75c.89 0 1.61-.72 1.61-1.61z"}),i.default.createElement("path",{d:"M21.96 11.22c-.41-4.41-4.56-7.49-8.98-7.2-2.51.16-4.44.94-5.93 2.04l4.74 2.01c1.33.57 2.2 1.87 2.2 3.32 0 1.99-1.62 3.61-3.61 3.61H2.21C2 16.31 2 17.2 2 17.2v.8c0 1.1.9 2 2 2h10c4.67 0 8.41-4.01 7.96-8.78z"})),"SportsMotorsports");t.default=o},function(e,t,n){"use strict";var r=n(201);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(0)),o=(0,r(n(265)).default)(i.default.createElement(i.default.Fragment,null,i.default.createElement("circle",{cx:"7.2",cy:"14.4",r:"3.2"}),i.default.createElement("circle",{cx:"14.8",cy:"18",r:"2"}),i.default.createElement("circle",{cx:"15.2",cy:"8.8",r:"4.8"})),"BubbleChart");t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(809),o=(r=i)&&r.__esModule?r:{default:r};t.default=o.default,e.exports=t.default},function(e,t,n){"use strict";(function(e){var r=n(0),i=n.n(r),o=n(25),a=n(7),s=n.n(a),u=1073741823,c="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof e?e:{};var l=i.a.createContext||function(e,t){var n,i,a="__create-react-context-"+function(){var e="__global_unique_id__";return c[e]=(c[e]||0)+1}()+"__",l=function(e){function n(){var t;return(t=e.apply(this,arguments)||this).emitter=function(e){var t=[];return{on:function(e){t.push(e)},off:function(e){t=t.filter(function(t){return t!==e})},get:function(){return e},set:function(n,r){e=n,t.forEach(function(t){return t(e,r)})}}}(t.props.value),t}Object(o.a)(n,e);var r=n.prototype;return r.getChildContext=function(){var e;return(e={})[a]=this.emitter,e},r.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var n,r=this.props.value,i=e.value;((o=r)===(a=i)?0!==o||1/o===1/a:o!==o&&a!==a)?n=0:(n="function"===typeof t?t(r,i):u,0!==(n|=0)&&this.emitter.set(e.value,n))}var o,a},r.render=function(){return this.props.children},n}(r.Component);l.childContextTypes=((n={})[a]=s.a.object.isRequired,n);var h=function(t){function n(){var e;return(e=t.apply(this,arguments)||this).state={value:e.getValue()},e.onUpdate=function(t,n){0!==((0|e.observedBits)&n)&&e.setState({value:e.getValue()})},e}Object(o.a)(n,t);var r=n.prototype;return r.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=void 0===t||null===t?u:t},r.componentDidMount=function(){this.context[a]&&this.context[a].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=void 0===e||null===e?u:e},r.componentWillUnmount=function(){this.context[a]&&this.context[a].off(this.onUpdate)},r.getValue=function(){return this.context[a]?this.context[a].get():e},r.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)(this.state.value);var e},n}(r.Component);return h.contextTypes=((i={})[a]=s.a.object,i),{Provider:l,Consumer:h}};t.a=l}).call(this,n(90))},,function(e,t,n){"use strict";var r=n(3),i=n(5),o=n(0),a=(n(264),n(7),n(6)),s=n(8),u=n(990),c=n(30),l=n(63),h=n(982),f=n(253),d=n(28);function p(e,t,n){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:n?null:e.firstChild}function g(e,t,n){return e===t?n?e.firstChild:e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:n?null:e.lastChild}function y(e,t){if(void 0===t)return!0;var n=e.innerText;return void 0===n&&(n=e.textContent),0!==(n=n.trim().toLowerCase()).length&&(t.repeating?n[0]===t.keys[0]:0===n.indexOf(t.keys.join("")))}function v(e,t,n,r,i,o){for(var a=!1,s=i(e,t,!!t&&n);s;){if(s===e.firstChild){if(a)return;a=!0}var u=!r&&(s.disabled||"true"===s.getAttribute("aria-disabled"));if(s.hasAttribute("tabindex")&&y(s,o)&&!u)return void s.focus();s=i(e,s,n)}}var m="undefined"===typeof window?o.useEffect:o.useLayoutEffect,b=o.forwardRef(function(e,t){var n=e.actions,a=e.autoFocus,s=void 0!==a&&a,u=e.autoFocusItem,b=void 0!==u&&u,_=e.children,w=e.className,E=e.disabledItemsFocusable,S=void 0!==E&&E,C=e.disableListWrap,O=void 0!==C&&C,T=e.onKeyDown,k=e.variant,I=void 0===k?"selectedMenu":k,A=Object(i.a)(e,["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"]),N=o.useRef(null),R=o.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});m(function(){s&&N.current.focus()},[s]),o.useImperativeHandle(n,function(){return{adjustStyleForScrollbar:function(e,t){var n=!N.current.style.width;if(e.clientHeight<N.current.clientHeight&&n){var r="".concat(Object(f.a)(!0),"px");N.current.style["rtl"===t.direction?"paddingLeft":"paddingRight"]=r,N.current.style.width="calc(100% + ".concat(r,")")}return N.current}}},[]);var P=o.useCallback(function(e){N.current=c.findDOMNode(e)},[]),x=Object(d.a)(P,t),M=-1;o.Children.forEach(_,function(e,t){o.isValidElement(e)&&(e.props.disabled||("selectedMenu"===I&&e.props.selected?M=t:-1===M&&(M=t)))});var L=o.Children.map(_,function(e,t){if(t===M){var n={};return b&&(n.autoFocus=!0),void 0===e.props.tabIndex&&"selectedMenu"===I&&(n.tabIndex=0),o.cloneElement(e,n)}return e});return o.createElement(h.a,Object(r.a)({role:"menu",ref:x,className:w,onKeyDown:function(e){var t=N.current,n=e.key,r=Object(l.a)(t).activeElement;if("ArrowDown"===n)e.preventDefault(),v(t,r,O,S,p);else if("ArrowUp"===n)e.preventDefault(),v(t,r,O,S,g);else if("Home"===n)e.preventDefault(),v(t,null,O,S,p);else if("End"===n)e.preventDefault(),v(t,null,O,S,g);else if(1===n.length){var i=R.current,o=n.toLowerCase(),a=performance.now();i.keys.length>0&&(a-i.lastTime>500?(i.keys=[],i.repeating=!0,i.previousKeyMatched=!0):i.repeating&&o!==i.keys[0]&&(i.repeating=!1)),i.lastTime=a,i.keys.push(o);var s=r&&!i.repeating&&y(r,i);i.previousKeyMatched&&(s||v(t,r,!1,S,p,i))?e.preventDefault():i.previousKeyMatched=!1}T&&T(e)},tabIndex:s?0:-1},A),L)}),_=n(120),w=n(45),E={vertical:"top",horizontal:"right"},S={vertical:"top",horizontal:"left"},C=o.forwardRef(function(e,t){var n=e.autoFocus,s=void 0===n||n,l=e.children,h=e.classes,f=e.disableAutoFocusItem,d=void 0!==f&&f,p=e.MenuListProps,g=void 0===p?{}:p,y=e.onClose,v=e.onEntering,m=e.open,C=e.PaperProps,O=void 0===C?{}:C,T=e.PopoverClasses,k=e.transitionDuration,I=void 0===k?"auto":k,A=e.variant,N=void 0===A?"selectedMenu":A,R=Object(i.a)(e,["autoFocus","children","classes","disableAutoFocusItem","MenuListProps","onClose","onEntering","open","PaperProps","PopoverClasses","transitionDuration","variant"]),P=Object(w.a)(),x=s&&!d&&m,M=o.useRef(null),L=o.useRef(null),D=-1;o.Children.map(l,function(e,t){o.isValidElement(e)&&(e.props.disabled||("menu"!==N&&e.props.selected?D=t:-1===D&&(D=t)))});var j=o.Children.map(l,function(e,t){return t===D?o.cloneElement(e,{ref:function(t){L.current=c.findDOMNode(t),Object(_.a)(e.ref,t)}}):e});return o.createElement(u.a,Object(r.a)({getContentAnchorEl:function(){return L.current},classes:T,onClose:y,onEntering:function(e,t){M.current&&M.current.adjustStyleForScrollbar(e,P),v&&v(e,t)},anchorOrigin:"rtl"===P.direction?E:S,transformOrigin:"rtl"===P.direction?E:S,PaperProps:Object(r.a)({},O,{classes:Object(r.a)({},O.classes,{root:h.paper})}),open:m,ref:t,transitionDuration:I},R),o.createElement(b,Object(r.a)({onKeyDown:function(e){"Tab"===e.key&&(e.preventDefault(),y&&y(e,"tabKeyDown"))},actions:M,autoFocus:s&&(-1===D||d),autoFocusItem:x,variant:N},g,{className:Object(a.a)(h.list,g.className)}),j))});t.a=Object(s.a)({paper:{maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"},list:{outline:0}},{name:"MuiMenu"})(C)},function(e,t,n){"use strict";var r=n(3),i=n(5),o=n(0),a=(n(7),n(6)),s=n(8),u=n(13);function c(e){var t,n,r;return t=e,n=0,r=1,e=(Math.min(Math.max(n,t),r)-n)/(r-n),e=(e-=1)*e*e+1}var l=o.forwardRef(function(e,t){var n,s=e.classes,l=e.className,h=e.color,f=void 0===h?"primary":h,d=e.disableShrink,p=void 0!==d&&d,g=e.size,y=void 0===g?40:g,v=e.style,m=e.thickness,b=void 0===m?3.6:m,_=e.value,w=void 0===_?0:_,E=e.variant,S=void 0===E?"indeterminate":E,C=Object(i.a)(e,["classes","className","color","disableShrink","size","style","thickness","value","variant"]),O={},T={},k={};if("determinate"===S||"static"===S){var I=2*Math.PI*((44-b)/2);O.strokeDasharray=I.toFixed(3),k["aria-valuenow"]=Math.round(w),"static"===S?(O.strokeDashoffset="".concat(((100-w)/100*I).toFixed(3),"px"),T.transform="rotate(-90deg)"):(O.strokeDashoffset="".concat((n=(100-w)/100,n*n*I).toFixed(3),"px"),T.transform="rotate(".concat((270*c(w/70)).toFixed(3),"deg)"))}return o.createElement("div",Object(r.a)({className:Object(a.a)(s.root,l,"inherit"!==f&&s["color".concat(Object(u.a)(f))],{indeterminate:s.indeterminate,static:s.static}[S]),style:Object(r.a)({width:y,height:y},T,{},v),ref:t,role:"progressbar"},k,C),o.createElement("svg",{className:s.svg,viewBox:"".concat(22," ").concat(22," ").concat(44," ").concat(44)},o.createElement("circle",{className:Object(a.a)(s.circle,p&&s.circleDisableShrink,{indeterminate:s.circleIndeterminate,static:s.circleStatic}[S]),style:O,cx:44,cy:44,r:(44-b)/2,fill:"none",strokeWidth:b})))});t.a=Object(s.a)(function(e){return{root:{display:"inline-block"},static:{transition:e.transitions.create("transform")},indeterminate:{animation:"$circular-rotate 1.4s linear infinite"},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},svg:{display:"block"},circle:{stroke:"currentColor"},circleStatic:{transition:e.transitions.create("stroke-dashoffset")},circleIndeterminate:{animation:"$circular-dash 1.4s ease-in-out infinite",strokeDasharray:"80px, 200px",strokeDashoffset:"0px"},"@keyframes circular-rotate":{"100%":{transform:"rotate(360deg)"}},"@keyframes circular-dash":{"0%":{strokeDasharray:"1px, 200px",strokeDashoffset:"0px"},"50%":{strokeDasharray:"100px, 200px",strokeDashoffset:"-15px"},"100%":{strokeDasharray:"100px, 200px",strokeDashoffset:"-125px"}},circleDisableShrink:{animation:"none"}}},{name:"MuiCircularProgress",flip:!1})(l)},function(e,t,n){"use strict";var r=n(5),i=n(3),o=n(0),a=(n(7),n(6)),s=n(8),u=n(20),c=n(263),l=n(13),h=o.forwardRef(function(e,t){var n=e.children,s=e.classes,u=e.className,h=e.color,f=void 0===h?"default":h,d=e.component,p=void 0===d?"button":d,g=e.disabled,y=void 0!==g&&g,v=e.disableElevation,m=void 0!==v&&v,b=e.disableFocusRipple,_=void 0!==b&&b,w=e.endIcon,E=e.focusVisibleClassName,S=e.fullWidth,C=void 0!==S&&S,O=e.size,T=void 0===O?"medium":O,k=e.startIcon,I=e.type,A=void 0===I?"button":I,N=e.variant,R=void 0===N?"text":N,P=Object(r.a)(e,["children","classes","className","color","component","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"]),x=k&&o.createElement("span",{className:Object(a.a)(s.startIcon,s["iconSize".concat(Object(l.a)(T))])},k),M=w&&o.createElement("span",{className:Object(a.a)(s.endIcon,s["iconSize".concat(Object(l.a)(T))])},w);return o.createElement(c.a,Object(i.a)({className:Object(a.a)(s.root,s[R],u,"inherit"===f?s.colorInherit:"default"!==f&&s["".concat(R).concat(Object(l.a)(f))],"medium"!==T&&[s["".concat(R,"Size").concat(Object(l.a)(T))],s["size".concat(Object(l.a)(T))]],m&&s.disableElevation,y&&s.disabled,C&&s.fullWidth),component:p,disabled:y,focusRipple:!_,focusVisibleClassName:Object(a.a)(s.focusVisible,E),ref:t,type:A},P),o.createElement("span",{className:s.label},x,n,M))});t.a=Object(s.a)(function(e){return{root:Object(i.a)({},e.typography.button,{boxSizing:"border-box",minWidth:64,padding:"6px 16px",borderRadius:e.shape.borderRadius,color:e.palette.text.primary,transition:e.transitions.create(["background-color","box-shadow","border"],{duration:e.transitions.duration.short}),"&:hover":{textDecoration:"none",backgroundColor:Object(u.c)(e.palette.text.primary,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"},"&$disabled":{backgroundColor:"transparent"}},"&$disabled":{color:e.palette.action.disabled}}),label:{width:"100%",display:"inherit",alignItems:"inherit",justifyContent:"inherit"},text:{padding:"6px 8px"},textPrimary:{color:e.palette.primary.main,"&:hover":{backgroundColor:Object(u.c)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},textSecondary:{color:e.palette.secondary.main,"&:hover":{backgroundColor:Object(u.c)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},outlined:{padding:"5px 15px",border:"1px solid ".concat("light"===e.palette.type?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"),"&$disabled":{border:"1px solid ".concat(e.palette.action.disabledBackground)}},outlinedPrimary:{color:e.palette.primary.main,border:"1px solid ".concat(Object(u.c)(e.palette.primary.main,.5)),"&:hover":{border:"1px solid ".concat(e.palette.primary.main),backgroundColor:Object(u.c)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},outlinedSecondary:{color:e.palette.secondary.main,border:"1px solid ".concat(Object(u.c)(e.palette.secondary.main,.5)),"&:hover":{border:"1px solid ".concat(e.palette.secondary.main),backgroundColor:Object(u.c)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"&$disabled":{border:"1px solid ".concat(e.palette.action.disabled)}},contained:{color:e.palette.getContrastText(e.palette.grey[300]),backgroundColor:e.palette.grey[300],boxShadow:e.shadows[2],"&:hover":{backgroundColor:e.palette.grey.A100,boxShadow:e.shadows[4],"@media (hover: none)":{boxShadow:e.shadows[2],backgroundColor:e.palette.grey[300]},"&$disabled":{backgroundColor:e.palette.action.disabledBackground}},"&$focusVisible":{boxShadow:e.shadows[6]},"&:active":{boxShadow:e.shadows[8]},"&$disabled":{color:e.palette.action.disabled,boxShadow:e.shadows[0],backgroundColor:e.palette.action.disabledBackground}},containedPrimary:{color:e.palette.primary.contrastText,backgroundColor:e.palette.primary.main,"&:hover":{backgroundColor:e.palette.primary.dark,"@media (hover: none)":{backgroundColor:e.palette.primary.main}}},containedSecondary:{color:e.palette.secondary.contrastText,backgroundColor:e.palette.secondary.main,"&:hover":{backgroundColor:e.palette.secondary.dark,"@media (hover: none)":{backgroundColor:e.palette.secondary.main}}},disableElevation:{boxShadow:"none","&:hover":{boxShadow:"none"},"&$focusVisible":{boxShadow:"none"},"&:active":{boxShadow:"none"},"&$disabled":{boxShadow:"none"}},focusVisible:{},disabled:{},colorInherit:{color:"inherit",borderColor:"currentColor"},textSizeSmall:{padding:"4px 5px",fontSize:e.typography.pxToRem(13)},textSizeLarge:{padding:"8px 11px",fontSize:e.typography.pxToRem(15)},outlinedSizeSmall:{padding:"3px 9px",fontSize:e.typography.pxToRem(13)},outlinedSizeLarge:{padding:"7px 21px",fontSize:e.typography.pxToRem(15)},containedSizeSmall:{padding:"4px 10px",fontSize:e.typography.pxToRem(13)},containedSizeLarge:{padding:"8px 22px",fontSize:e.typography.pxToRem(15)},sizeSmall:{},sizeLarge:{},fullWidth:{width:"100%"},startIcon:{display:"inherit",marginRight:8,marginLeft:-4,"&$iconSizeSmall":{marginLeft:-2}},endIcon:{display:"inherit",marginRight:-4,marginLeft:8,"&$iconSizeSmall":{marginRight:-2}},iconSizeSmall:{"& > *:first-child":{fontSize:18}},iconSizeMedium:{"& > *:first-child":{fontSize:20}},iconSizeLarge:{"& > *:first-child":{fontSize:22}}}},{name:"MuiButton"})(h)},function(e,t,n){"use strict";var r=n(3),i=n(0),o=(n(7),n(8)),a={WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box"},s=function(e){return Object(r.a)({color:e.palette.text.primary},e.typography.body2,{backgroundColor:e.palette.background.default,"@media print":{backgroundColor:e.palette.common.white}})};t.a=Object(o.a)(function(e){return{"@global":{html:a,"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:e.typography.fontWeightBold},body:Object(r.a)({margin:0},s(e),{"&::backdrop":{backgroundColor:e.palette.background.default}})}}},{name:"MuiCssBaseline"})(function(e){var t=e.children,n=void 0===t?null:t;return e.classes,i.createElement(i.Fragment,null,n)})},function(e,t,n){"use strict";var r=n(3),i=n(5),o=n(0),a=(n(7),n(6)),s=n(74),u=n(8),c=n(112),l=n(13),h=o.forwardRef(function(e,t){e.checked;var n=e.classes,u=e.className,h=e.control,f=e.disabled,d=(e.inputRef,e.label),p=e.labelPlacement,g=void 0===p?"end":p,y=(e.name,e.onChange,e.value,Object(i.a)(e,["checked","classes","className","control","disabled","inputRef","label","labelPlacement","name","onChange","value"])),v=Object(s.a)(),m=f;"undefined"===typeof m&&"undefined"!==typeof h.props.disabled&&(m=h.props.disabled),"undefined"===typeof m&&v&&(m=v.disabled);var b={disabled:m};return["checked","name","onChange","value","inputRef"].forEach(function(t){"undefined"===typeof h.props[t]&&"undefined"!==typeof e[t]&&(b[t]=e[t])}),o.createElement("label",Object(r.a)({className:Object(a.a)(n.root,u,"end"!==g&&n["labelPlacement".concat(Object(l.a)(g))],m&&n.disabled),ref:t},y),o.cloneElement(h,b),o.createElement(c.a,{component:"span",className:Object(a.a)(n.label,m&&n.disabled)},d))});t.a=Object(u.a)(function(e){return{root:{display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,"&$disabled":{cursor:"default"}},labelPlacementStart:{flexDirection:"row-reverse",marginLeft:16,marginRight:-11},labelPlacementTop:{flexDirection:"column-reverse",marginLeft:16},labelPlacementBottom:{flexDirection:"column",marginLeft:16},disabled:{},label:{"&$disabled":{color:e.palette.text.disabled}}}},{name:"MuiFormControlLabel"})(h)},function(e,t,n){"use strict";var r=n(5),i=n(3),o=n(0),a=n(30),s=(n(7),n(317)),u=n(498),c=n(63),l=n(981),h=n(171),f=n(28),d=n(91),p=n(250),g=n(328),y=n(41),v=n(60),m=n(253),b=n(193);function _(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function w(e){return parseInt(window.getComputedStyle(e)["padding-right"],10)||0}function E(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4?arguments[4]:void 0,o=[t,n].concat(Object(v.a)(r)),a=["TEMPLATE","SCRIPT","STYLE"];[].forEach.call(e.children,function(e){1===e.nodeType&&-1===o.indexOf(e)&&-1===a.indexOf(e.tagName)&&_(e,i)})}function S(e,t){var n=-1;return e.some(function(e,r){return!!t(e)&&(n=r,!0)}),n}function C(e,t){var n,r=[],i=[],o=e.container;if(!t.disableScrollLock){if(function(e){var t=Object(c.a)(e);return t.body===e?Object(b.a)(t).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}(o)){var a=Object(m.a)();r.push({value:o.style.paddingRight,key:"padding-right",el:o}),o.style["padding-right"]="".concat(w(o)+a,"px"),n=Object(c.a)(o).querySelectorAll(".mui-fixed"),[].forEach.call(n,function(e){i.push(e.style.paddingRight),e.style.paddingRight="".concat(w(e)+a,"px")})}var s=o.parentElement,u="HTML"===s.nodeName&&"scroll"===window.getComputedStyle(s)["overflow-y"]?s:o;r.push({value:u.style.overflow,key:"overflow",el:u}),u.style.overflow="hidden"}return function(){n&&[].forEach.call(n,function(e,t){i[t]?e.style.paddingRight=i[t]:e.style.removeProperty("padding-right")}),r.forEach(function(e){var t=e.value,n=e.el,r=e.key;t?n.style.setProperty(r,t):n.style.removeProperty(r)})}}var O=function(){function e(){Object(g.a)(this,e),this.modals=[],this.containers=[]}return Object(y.a)(e,[{key:"add",value:function(e,t){var n=this.modals.indexOf(e);if(-1!==n)return n;n=this.modals.length,this.modals.push(e),e.modalRef&&_(e.modalRef,!1);var r=function(e){var t=[];return[].forEach.call(e.children,function(e){e.getAttribute&&"true"===e.getAttribute("aria-hidden")&&t.push(e)}),t}(t);E(t,e.mountNode,e.modalRef,r,!0);var i=S(this.containers,function(e){return e.container===t});return-1!==i?(this.containers[i].modals.push(e),n):(this.containers.push({modals:[e],container:t,restore:null,hiddenSiblingNodes:r}),n)}},{key:"mount",value:function(e,t){var n=S(this.containers,function(t){return-1!==t.modals.indexOf(e)}),r=this.containers[n];r.restore||(r.restore=C(r,t))}},{key:"remove",value:function(e){var t=this.modals.indexOf(e);if(-1===t)return t;var n=S(this.containers,function(t){return-1!==t.modals.indexOf(e)}),r=this.containers[n];if(r.modals.splice(r.modals.indexOf(e),1),this.modals.splice(t,1),0===r.modals.length)r.restore&&r.restore(),e.modalRef&&_(e.modalRef,!0),E(r.container,e.mountNode,e.modalRef,r.hiddenSiblingNodes,!1),this.containers.splice(n,1);else{var i=r.modals[r.modals.length-1];i.modalRef&&_(i.modalRef,!1)}return t}},{key:"isTopModal",value:function(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}]),e}();var T=function(e){var t=e.children,n=e.disableAutoFocus,r=void 0!==n&&n,i=e.disableEnforceFocus,s=void 0!==i&&i,u=e.disableRestoreFocus,l=void 0!==u&&u,h=e.getDoc,d=e.isEnabled,p=e.open,g=o.useRef(),y=o.useRef(null),v=o.useRef(null),m=o.useRef(),b=o.useRef(null),_=o.useCallback(function(e){b.current=a.findDOMNode(e)},[]),w=Object(f.a)(t.ref,_);return o.useMemo(function(){p&&"undefined"!==typeof window&&(m.current=h().activeElement)},[p]),o.useEffect(function(){if(p){var e=Object(c.a)(b.current);r||!b.current||b.current.contains(e.activeElement)||(b.current.hasAttribute("tabIndex")||b.current.setAttribute("tabIndex",-1),b.current.focus());var t=function(){s||!d()||g.current?g.current=!1:b.current&&!b.current.contains(e.activeElement)&&b.current.focus()},n=function(t){!s&&d()&&9===t.keyCode&&e.activeElement===b.current&&(g.current=!0,t.shiftKey?v.current.focus():y.current.focus())};e.addEventListener("focus",t,!0),e.addEventListener("keydown",n,!0);var i=setInterval(function(){t()},50);return function(){clearInterval(i),e.removeEventListener("focus",t,!0),e.removeEventListener("keydown",n,!0),l||(m.current&&m.current.focus&&m.current.focus(),m.current=null)}}},[r,s,l,d,p]),o.createElement(o.Fragment,null,o.createElement("div",{tabIndex:0,ref:y,"data-test":"sentinelStart"}),o.cloneElement(t,{ref:w}),o.createElement("div",{tabIndex:0,ref:v,"data-test":"sentinelEnd"}))},k={root:{zIndex:-1,position:"fixed",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},invisible:{backgroundColor:"transparent"}},I=o.forwardRef(function(e,t){var n=e.invisible,a=void 0!==n&&n,s=e.open,u=Object(r.a)(e,["invisible","open"]);return s?o.createElement("div",Object(i.a)({"aria-hidden":!0,ref:t},u,{style:Object(i.a)({},k.root,{},a?k.invisible:{},{},u.style)})):null});var A=new O,N=o.forwardRef(function(e,t){var n=Object(s.a)(),g=Object(u.a)({name:"MuiModal",props:Object(i.a)({},e),theme:n}),y=g.BackdropComponent,v=void 0===y?I:y,m=g.BackdropProps,b=g.children,w=g.closeAfterTransition,E=void 0!==w&&w,S=g.container,C=g.disableAutoFocus,O=void 0!==C&&C,k=g.disableBackdropClick,N=void 0!==k&&k,R=g.disableEnforceFocus,P=void 0!==R&&R,x=g.disableEscapeKeyDown,M=void 0!==x&&x,L=g.disablePortal,D=void 0!==L&&L,j=g.disableRestoreFocus,U=void 0!==j&&j,F=g.disableScrollLock,H=void 0!==F&&F,B=g.hideBackdrop,V=void 0!==B&&B,q=g.keepMounted,G=void 0!==q&&q,z=g.manager,W=void 0===z?A:z,K=g.onBackdropClick,Y=g.onClose,Q=g.onEscapeKeyDown,$=g.onRendered,X=g.open,J=Object(r.a)(g,["BackdropComponent","BackdropProps","children","closeAfterTransition","container","disableAutoFocus","disableBackdropClick","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","manager","onBackdropClick","onClose","onEscapeKeyDown","onRendered","open"]),Z=o.useState(!0),ee=Z[0],te=Z[1],ne=o.useRef({}),re=o.useRef(null),ie=o.useRef(null),oe=Object(f.a)(ie,t),ae=function(e){return!!e.children&&e.children.props.hasOwnProperty("in")}(g),se=function(){return Object(c.a)(re.current)},ue=function(){return ne.current.modalRef=ie.current,ne.current.mountNode=re.current,ne.current},ce=function(){W.mount(ue(),{disableScrollLock:H}),ie.current.scrollTop=0},le=Object(d.a)(function(){var e=function(e){return e="function"===typeof e?e():e,a.findDOMNode(e)}(S)||se().body;W.add(ue(),e),ie.current&&ce()}),he=o.useCallback(function(){return W.isTopModal(ue())},[W]),fe=Object(d.a)(function(e){re.current=e,e&&($&&$(),X&&he()?ce():_(ie.current,!0))}),de=o.useCallback(function(){W.remove(ue())},[W]);if(o.useEffect(function(){return function(){de()}},[de]),o.useEffect(function(){X?le():ae&&E||de()},[X,de,ae,E,le]),!G&&!X&&(!ae||ee))return null;var pe=function(e){return{root:{position:"fixed",zIndex:e.zIndex.modal,right:0,bottom:0,top:0,left:0},hidden:{visibility:"hidden"}}}(n||{zIndex:p.a}),ge={};return void 0===b.props.tabIndex&&(ge.tabIndex=b.props.tabIndex||"-1"),ae&&(ge.onEnter=Object(h.a)(function(){te(!1)},b.props.onEnter),ge.onExited=Object(h.a)(function(){te(!0),E&&de()},b.props.onExited)),o.createElement(l.a,{ref:fe,container:S,disablePortal:D},o.createElement("div",Object(i.a)({ref:oe,onKeyDown:function(e){"Escape"===e.key&&he()&&(e.stopPropagation(),Q&&Q(e),!M&&Y&&Y(e,"escapeKeyDown"))},role:"presentation"},J,{style:Object(i.a)({},pe.root,{},!X&&ee?pe.hidden:{},{},J.style)}),V?null:o.createElement(v,Object(i.a)({open:X,onClick:function(e){e.target===e.currentTarget&&(K&&K(e),!N&&Y&&Y(e,"backdropClick"))}},m)),o.createElement(T,{disableEnforceFocus:P,disableAutoFocus:O,disableRestoreFocus:U,getDoc:se,isEnabled:he,open:X},o.cloneElement(b,ge))))});t.a=N},function(e,t,n){"use strict";var r=n(3),i=n(5),o=n(0),a=(n(7),n(6)),s=n(329),u=n(76),c=Object(u.a)(o.createElement("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),l=Object(u.a)(o.createElement("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),h=n(20),f=Object(u.a)(o.createElement("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox"),d=n(13),p=n(8),g=o.createElement(l,null),y=o.createElement(c,null),v=o.createElement(f,null),m=o.forwardRef(function(e,t){var n=e.checkedIcon,u=void 0===n?g:n,c=e.classes,l=e.color,h=void 0===l?"secondary":l,f=e.icon,p=void 0===f?y:f,m=e.indeterminate,b=void 0!==m&&m,_=e.indeterminateIcon,w=void 0===_?v:_,E=e.inputProps,S=e.size,C=void 0===S?"medium":S,O=Object(i.a)(e,["checkedIcon","classes","color","icon","indeterminate","indeterminateIcon","inputProps","size"]);return o.createElement(s.a,Object(r.a)({type:"checkbox",classes:{root:Object(a.a)(c.root,c["color".concat(Object(d.a)(h))],b&&c.indeterminate),checked:c.checked,disabled:c.disabled},color:h,inputProps:Object(r.a)({"data-indeterminate":b},E),icon:o.cloneElement(b?w:p,{fontSize:"small"===C?"small":"default"}),checkedIcon:o.cloneElement(b?w:u,{fontSize:"small"===C?"small":"default"}),ref:t},O))});t.a=Object(p.a)(function(e){return{root:{color:e.palette.text.secondary},checked:{},disabled:{},indeterminate:{},colorPrimary:{"&$checked":{color:e.palette.primary.main,"&:hover":{backgroundColor:Object(h.c)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&$disabled":{color:e.palette.action.disabled}},colorSecondary:{"&$checked":{color:e.palette.secondary.main,"&:hover":{backgroundColor:Object(h.c)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&$disabled":{color:e.palette.action.disabled}}}},{name:"MuiCheckbox"})(m)},function(e,t,n){"use strict";var r=n(956),i=n(56),o=n(941),a=n(957),s=n(942),u=n(943),c=n(944),l=n(945),h=n(958),f=n(946),d=n(948),p=n(947),g=n(3),y=n(959),v=n(148),m=function(e){var t=Object(y.a)(e);return function(e,n){return t(e,Object(g.a)({defaultTheme:v.a},n))}},b=Object(r.a)(Object(i.a)(o.h,a.a,s.d,u.a,c.b,l.c,h.a,f.b,d.b,p.a)),_=m("div")(b,{name:"MuiBox"});t.a=_},function(e,t,n){"use strict";var r=n(5),i=n(3),o=n(0),a=(n(7),n(6)),s=n(81),u=n(135),c=n(8),l=n(13),h=n(28),f=n(165);function d(e,t){return parseInt(e[t],10)||0}var p="undefined"!==typeof window?o.useLayoutEffect:o.useEffect,g={visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"},y=o.forwardRef(function(e,t){var n=e.onChange,a=e.rows,s=e.rowsMax,u=e.rowsMin,c=void 0===u?1:u,l=e.style,y=e.value,v=Object(r.a)(e,["onChange","rows","rowsMax","rowsMin","style","value"]),m=a||c,b=o.useRef(null!=y).current,_=o.useRef(null),w=Object(h.a)(t,_),E=o.useRef(null),S=o.useRef(0),C=o.useState({}),O=C[0],T=C[1],k=o.useCallback(function(){var t=_.current,n=window.getComputedStyle(t),r=E.current;r.style.width=n.width,r.value=t.value||e.placeholder||"x";var i=n["box-sizing"],o=d(n,"padding-bottom")+d(n,"padding-top"),a=d(n,"border-bottom-width")+d(n,"border-top-width"),u=r.scrollHeight-o;r.value="x";var c=r.scrollHeight-o,l=u;m&&(l=Math.max(Number(m)*c,l)),s&&(l=Math.min(Number(s)*c,l));var h=(l=Math.max(l,c))+("border-box"===i?o+a:0),f=Math.abs(l-u)<=1;T(function(e){return S.current<20&&(h>0&&Math.abs((e.outerHeightStyle||0)-h)>1||e.overflow!==f)?(S.current+=1,{overflow:f,outerHeightStyle:h}):e})},[s,m,e.placeholder]);o.useEffect(function(){var e=Object(f.a)(function(){S.current=0,k()});return window.addEventListener("resize",e),function(){e.clear(),window.removeEventListener("resize",e)}},[k]),p(function(){k()}),o.useEffect(function(){S.current=0},[y]);return o.createElement(o.Fragment,null,o.createElement("textarea",Object(i.a)({value:y,onChange:function(e){S.current=0,b||k(),n&&n(e)},ref:w,rows:m,style:Object(i.a)({height:O.outerHeightStyle,overflow:O.overflow?"hidden":null},l)},v)),o.createElement("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:E,tabIndex:-1,style:Object(i.a)({},g,{},l)}))}),v=n(136),m="undefined"===typeof window?o.useEffect:o.useLayoutEffect,b=o.forwardRef(function(e,t){var n=e["aria-describedby"],c=e.autoComplete,f=e.autoFocus,d=e.classes,p=e.className,g=(e.color,e.defaultValue),b=e.disabled,_=e.endAdornment,w=(e.error,e.fullWidth),E=void 0!==w&&w,S=e.id,C=e.inputComponent,O=void 0===C?"input":C,T=e.inputProps,k=void 0===T?{}:T,I=e.inputRef,A=(e.margin,e.multiline),N=void 0!==A&&A,R=e.name,P=e.onBlur,x=e.onChange,M=e.onClick,L=e.onFocus,D=e.onKeyDown,j=e.onKeyUp,U=e.placeholder,F=e.readOnly,H=e.renderSuffix,B=e.rows,V=e.rowsMax,q=e.rowsMin,G=e.startAdornment,z=e.type,W=void 0===z?"text":z,K=e.value,Y=Object(r.a)(e,["aria-describedby","autoComplete","autoFocus","classes","className","color","defaultValue","disabled","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","rowsMax","rowsMin","startAdornment","type","value"]),Q=null!=k.value?k.value:K,$=o.useRef(null!=Q).current,X=o.useRef(),J=o.useCallback(function(e){0},[]),Z=Object(h.a)(k.ref,J),ee=Object(h.a)(I,Z),te=Object(h.a)(X,ee),ne=o.useState(!1),re=ne[0],ie=ne[1],oe=Object(u.b)();var ae=Object(s.a)({props:e,muiFormControl:oe,states:["color","disabled","error","hiddenLabel","margin","required","filled"]});ae.focused=oe?oe.focused:re,o.useEffect(function(){!oe&&b&&re&&(ie(!1),P&&P())},[oe,b,re,P]);var se=oe&&oe.onFilled,ue=oe&&oe.onEmpty,ce=o.useCallback(function(e){Object(v.b)(e)?se&&se():ue&&ue()},[se,ue]);m(function(){$&&ce({value:Q})},[Q,ce,$]);o.useEffect(function(){ce(X.current)},[]);var le=O,he=Object(i.a)({},k,{ref:te});"string"!==typeof le?he=Object(i.a)({inputRef:te,type:W},he,{ref:null}):N?!B||V||q?(he=Object(i.a)({rows:B,rowsMax:V},he),le=y):le="textarea":he=Object(i.a)({type:W},he);return o.useEffect(function(){oe&&oe.setAdornedStart(Boolean(G))},[oe,G]),o.createElement("div",Object(i.a)({className:Object(a.a)(d.root,d["color".concat(Object(l.a)(ae.color||"primary"))],p,ae.disabled&&d.disabled,ae.error&&d.error,E&&d.fullWidth,ae.focused&&d.focused,oe&&d.formControl,N&&d.multiline,G&&d.adornedStart,_&&d.adornedEnd,"dense"===ae.margin&&d.marginDense),onClick:function(e){X.current&&e.currentTarget===e.target&&X.current.focus(),M&&M(e)},ref:t},Y),G,o.createElement(u.a.Provider,{value:null},o.createElement(le,Object(i.a)({"aria-invalid":ae.error,"aria-describedby":n,autoComplete:c,autoFocus:f,defaultValue:g,disabled:ae.disabled,id:S,onAnimationStart:function(e){ce("mui-auto-fill-cancel"===e.animationName?X.current:{value:"x"})},name:R,placeholder:U,readOnly:F,required:ae.required,rows:B,value:Q,onKeyDown:D,onKeyUp:j},he,{className:Object(a.a)(d.input,k.className,ae.disabled&&d.disabled,N&&d.inputMultiline,ae.hiddenLabel&&d.inputHiddenLabel,G&&d.inputAdornedStart,_&&d.inputAdornedEnd,"search"===W&&d.inputTypeSearch,"dense"===ae.margin&&d.inputMarginDense),onBlur:function(e){P&&P(e),k.onBlur&&k.onBlur(e),oe&&oe.onBlur?oe.onBlur(e):ie(!1)},onChange:function(e){if(!$){var t=e.target||X.current;if(null==t)throw new TypeError("Material-UI: Expected valid input target. Did you use a custom `inputComponent` and forget to forward refs? See https://material-ui.com/r/input-component-ref-interface for more info.");ce({value:t.value})}for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];k.onChange&&k.onChange.apply(k,[e].concat(r)),x&&x.apply(void 0,[e].concat(r))},onFocus:function(e){ae.disabled?e.stopPropagation():(L&&L(e),k.onFocus&&k.onFocus(e),oe&&oe.onFocus?oe.onFocus(e):ie(!0))}}))),_,H?H(Object(i.a)({},ae,{startAdornment:G})):null)});t.a=Object(c.a)(function(e){var t="light"===e.palette.type,n={color:"currentColor",opacity:t?.42:.5,transition:e.transitions.create("opacity",{duration:e.transitions.duration.shorter})},r={opacity:"0 !important"},o={opacity:t?.42:.5};return{"@global":{"@keyframes mui-auto-fill":{from:{}},"@keyframes mui-auto-fill-cancel":{from:{}}},root:Object(i.a)({},e.typography.body1,{color:e.palette.text.primary,lineHeight:"1.1876em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center","&$disabled":{color:e.palette.text.disabled,cursor:"default"}}),formControl:{},focused:{},disabled:{},adornedStart:{},adornedEnd:{},error:{},marginDense:{},multiline:{padding:"".concat(6,"px 0 ").concat(7,"px"),"&$marginDense":{paddingTop:3}},colorSecondary:{},fullWidth:{width:"100%"},input:{font:"inherit",color:"currentColor",padding:"".concat(6,"px 0 ").concat(7,"px"),border:0,boxSizing:"content-box",background:"none",height:"1.1876em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel","&::-webkit-input-placeholder":n,"&::-moz-placeholder":n,"&:-ms-input-placeholder":n,"&::-ms-input-placeholder":n,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{"-webkit-appearance":"none"},"label[data-shrink=false] + $formControl &":{"&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&:-ms-input-placeholder":r,"&::-ms-input-placeholder":r,"&:focus::-webkit-input-placeholder":o,"&:focus::-moz-placeholder":o,"&:focus:-ms-input-placeholder":o,"&:focus::-ms-input-placeholder":o},"&$disabled":{opacity:1},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},inputMarginDense:{paddingTop:3},inputMultiline:{height:"auto",resize:"none",padding:0},inputTypeSearch:{"-moz-appearance":"textfield","-webkit-appearance":"textfield"},inputAdornedStart:{},inputAdornedEnd:{},inputHiddenLabel:{}}},{name:"MuiInputBase"})(b)},,,,,,,function(e,t){function n(){return e.exports=n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},e.exports.__esModule=!0,e.exports.default=e.exports,n.apply(this,arguments)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports},,,,,,,function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(3),i=n(134);function o(e){return e&&"object"===Object(i.a)(e)&&e.constructor===Object}function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0},i=n.clone?Object(r.a)({},e):e;return o(e)&&o(t)&&Object.keys(t).forEach(function(r){"__proto__"!==r&&(o(t[r])&&r in e?i[r]=a(e[r],t[r],n):i[r]=t[r])}),i}},function(e,t,n){"use strict";var r=n(3),i=n(5),o=n(0),a=n.n(o),s=(n(7),n(64)),u=n.n(s),c=n(462),l=n(498),h=n(317);t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n){var o=t.defaultTheme,s=t.withTheme,f=void 0!==s&&s,d=t.name,p=Object(i.a)(t,["defaultTheme","withTheme","name"]),g=d,y=Object(c.a)(e,Object(r.a)({defaultTheme:o,Component:n,name:d||n.displayName,classNamePrefix:g},p)),v=a.a.forwardRef(function(e,t){e.classes;var s,u=e.innerRef,c=Object(i.a)(e,["classes","innerRef"]),p=y(Object(r.a)({},n.defaultProps,{},e)),g=c;return("string"===typeof d||f)&&(s=Object(h.a)()||o,d&&(g=Object(l.a)({theme:s,name:d,props:c})),f&&!g.theme&&(g.theme=s)),a.a.createElement(n,Object(r.a)({ref:u||t,classes:p},g))});return u()(v,n),v}}},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(252),i=["checked","disabled","error","focused","focusVisible","required","expanded","selected"];function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.disableGlobal,n=void 0!==t&&t,o=e.productionPrefix,a=void 0===o?"jss":o,s=e.seed,u=void 0===s?"":s,c=""===u?"":"".concat(u,"-"),l=0;return function(e,t){l+=1;var o=t.options.name;if(o&&0===o.indexOf("Mui")&&!t.options.link&&!n){if(-1!==i.indexOf(e.key))return"Mui-".concat(e.key);var s="".concat(c).concat(o,"-").concat(e.key);return t.options.theme[r.a]&&""===u?"".concat(s,"-").concat(l):s}return"".concat(c).concat(a).concat(l)}}},function(e,t,n){"use strict";function r(e){var t=e.theme,n=e.name,r=e.props;if(!t||!t.props||!t.props[n])return r;var i,o=t.props[n];for(i in o)void 0===r[i]&&(r[i]=o[i]);return r}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";var r=n(3),i=n(5),o=n(0),a=(n(7),n(6)),s=n(8),u=n(20),c=n(263),l=n(13),h=o.forwardRef(function(e,t){var n=e.edge,s=void 0!==n&&n,u=e.children,h=e.classes,f=e.className,d=e.color,p=void 0===d?"default":d,g=e.disabled,y=void 0!==g&&g,v=e.disableFocusRipple,m=void 0!==v&&v,b=e.size,_=void 0===b?"medium":b,w=Object(i.a)(e,["edge","children","classes","className","color","disabled","disableFocusRipple","size"]);return o.createElement(c.a,Object(r.a)({className:Object(a.a)(h.root,f,"default"!==p&&h["color".concat(Object(l.a)(p))],y&&h.disabled,"small"===_&&h["size".concat(Object(l.a)(_))],{start:h.edgeStart,end:h.edgeEnd}[s]),centerRipple:!0,focusRipple:!m,disabled:y,ref:t},w),o.createElement("span",{className:h.label},u))});t.a=Object(s.a)(function(e){return{root:{textAlign:"center",flex:"0 0 auto",fontSize:e.typography.pxToRem(24),padding:12,borderRadius:"50%",overflow:"visible",color:e.palette.action.active,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{backgroundColor:Object(u.c)(e.palette.action.active,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"&$disabled":{backgroundColor:"transparent",color:e.palette.action.disabled}},edgeStart:{marginLeft:-12,"$sizeSmall&":{marginLeft:-3}},edgeEnd:{marginRight:-12,"$sizeSmall&":{marginRight:-3}},colorInherit:{color:"inherit"},colorPrimary:{color:e.palette.primary.main,"&:hover":{backgroundColor:Object(u.c)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},colorSecondary:{color:e.palette.secondary.main,"&:hover":{backgroundColor:Object(u.c)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},disabled:{},sizeSmall:{padding:3,fontSize:e.typography.pxToRem(18)},label:{width:"100%",display:"flex",alignItems:"inherit",justifyContent:"inherit"}}},{name:"MuiIconButton"})(h)},function(e,t,n){"use strict";var r=n(3),i=n(5),o=n(0),a=(n(7),n(6)),s=n(481),u=n(8),c=o.forwardRef(function(e,t){var n=e.disableUnderline,u=e.classes,c=e.fullWidth,l=void 0!==c&&c,h=e.inputComponent,f=void 0===h?"input":h,d=e.multiline,p=void 0!==d&&d,g=e.type,y=void 0===g?"text":g,v=Object(i.a)(e,["disableUnderline","classes","fullWidth","inputComponent","multiline","type"]);return o.createElement(s.a,Object(r.a)({classes:Object(r.a)({},u,{root:Object(a.a)(u.root,!n&&u.underline),underline:null}),fullWidth:l,inputComponent:f,multiline:p,ref:t,type:y},v))});c.muiName="Input",t.a=Object(u.a)(function(e){var t="light"===e.palette.type?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return{root:{position:"relative"},formControl:{"label + &":{marginTop:16}},focused:{},disabled:{},colorSecondary:{"&$underline:after":{borderBottomColor:e.palette.secondary.main}},underline:{"&:after":{borderBottom:"2px solid ".concat(e.palette.primary.main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},"&$focused:after":{transform:"scaleX(1)"},"&$error:after":{borderBottomColor:e.palette.error.main,transform:"scaleX(1)"},"&:before":{borderBottom:"1px solid ".concat(t),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},"&:hover:not($disabled):before":{borderBottom:"2px solid ".concat(e.palette.text.primary),"@media (hover: none)":{borderBottom:"1px solid ".concat(t)}},"&$disabled:before":{borderBottomStyle:"dotted"}},error:{},marginDense:{},multiline:{},fullWidth:{},input:{},inputMarginDense:{},inputMultiline:{},inputTypeSearch:{}}},{name:"MuiInput"})(c)},,,,,,,,,function(e,t,n){"use strict";"undefined"===typeof Promise&&(n(510).enable(),self.Promise=n(512)),"undefined"!==typeof window&&n(513),Object.assign=n(204),n(514),n(533)},function(e,t,n){"use strict";var r=n(336),i=[ReferenceError,TypeError,RangeError],o=!1;function a(){o=!1,r._Y=null,r._Z=null}function s(e,t){return t.some(function(t){return e instanceof t})}t.disable=a,t.enable=function(e){e=e||{},o&&a();o=!0;var t=0,n=0,u={};function c(t){(e.allRejections||s(u[t].error,e.whitelist||i))&&(u[t].displayId=n++,e.onUnhandled?(u[t].logged=!0,e.onUnhandled(u[t].displayId,u[t].error)):(u[t].logged=!0,function(e,t){console.warn("Possible Unhandled Promise Rejection (id: "+e+"):"),((t&&(t.stack||t))+"").split("\n").forEach(function(e){console.warn("  "+e)})}(u[t].displayId,u[t].error)))}r._Y=function(t){var n;2===t._V&&u[t._1]&&(u[t._1].logged?(n=t._1,u[n].logged&&(e.onHandled?e.onHandled(u[n].displayId,u[n].error):u[n].onUnhandled||(console.warn("Promise Rejection Handled (id: "+u[n].displayId+"):"),console.warn('  This means you can ignore any previous messages of the form "Possible Unhandled Promise Rejection" with id '+u[n].displayId+".")))):clearTimeout(u[t._1].timeout),delete u[t._1])},r._Z=function(e,n){0===e._U&&(e._1=t++,u[e._1]={displayId:null,error:n,timeout:setTimeout(c.bind(null,e._1),s(n,i)?100:2e3),logged:!1})}}},function(e,t,n){"use strict";(function(t){function n(e){i.length||(r(),!0),i[i.length]=e}e.exports=n;var r,i=[],o=0,a=1024;function s(){for(;o<i.length;){var e=o;if(o+=1,i[e].call(),o>a){for(var t=0,n=i.length-o;t<n;t++)i[t]=i[t+o];i.length-=o,o=0}}i.length=0,o=0,!1}var u="undefined"!==typeof t?t:self,c=u.MutationObserver||u.WebKitMutationObserver;function l(e){return function(){var t=setTimeout(r,0),n=setInterval(r,50);function r(){clearTimeout(t),clearInterval(n),e()}}}r="function"===typeof c?function(e){var t=1,n=new c(e),r=document.createTextNode("");return n.observe(r,{characterData:!0}),function(){t=-t,r.data=t}}(s):l(s),n.requestFlush=r,n.makeRequestCallFromTimer=l}).call(this,n(90))},function(e,t,n){"use strict";var r=n(336);e.exports=r;var i=l(!0),o=l(!1),a=l(null),s=l(void 0),u=l(0),c=l("");function l(e){var t=new r(r._0);return t._V=1,t._W=e,t}r.resolve=function(e){if(e instanceof r)return e;if(null===e)return a;if(void 0===e)return s;if(!0===e)return i;if(!1===e)return o;if(0===e)return u;if(""===e)return c;if("object"===typeof e||"function"===typeof e)try{var t=e.then;if("function"===typeof t)return new r(t.bind(e))}catch(n){return new r(function(e,t){t(n)})}return l(e)};var h=function(e){return"function"===typeof Array.from?(h=Array.from,Array.from(e)):(h=function(e){return Array.prototype.slice.call(e)},Array.prototype.slice.call(e))};r.all=function(e){var t=h(e);return new r(function(e,n){if(0===t.length)return e([]);var i=t.length;function o(a,s){if(s&&("object"===typeof s||"function"===typeof s)){if(s instanceof r&&s.then===r.prototype.then){for(;3===s._V;)s=s._W;return 1===s._V?o(a,s._W):(2===s._V&&n(s._W),void s.then(function(e){o(a,e)},n))}var u=s.then;if("function"===typeof u)return void new r(u.bind(s)).then(function(e){o(a,e)},n)}t[a]=s,0===--i&&e(t)}for(var a=0;a<t.length;a++)o(a,t[a])})},r.reject=function(e){return new r(function(t,n){n(e)})},r.race=function(e){return new r(function(t,n){h(e).forEach(function(e){r.resolve(e).then(t,n)})})},r.prototype.catch=function(e){return this.then(null,e)}},function(e,t,n){"use strict";n.r(t),n.d(t,"Headers",function(){return l}),n.d(t,"Request",function(){return v}),n.d(t,"Response",function(){return _}),n.d(t,"DOMException",function(){return E}),n.d(t,"fetch",function(){return S});var r="undefined"!==typeof globalThis&&globalThis||"undefined"!==typeof self&&self||"undefined"!==typeof r&&r,i={searchParams:"URLSearchParams"in r,iterable:"Symbol"in r&&"iterator"in Symbol,blob:"FileReader"in r&&"Blob"in r&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in r,arrayBuffer:"ArrayBuffer"in r};if(i.arrayBuffer)var o=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],a=ArrayBuffer.isView||function(e){return e&&o.indexOf(Object.prototype.toString.call(e))>-1};function s(e){if("string"!==typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(e)||""===e)throw new TypeError('Invalid character in header field name: "'+e+'"');return e.toLowerCase()}function u(e){return"string"!==typeof e&&(e=String(e)),e}function c(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return i.iterable&&(t[Symbol.iterator]=function(){return t}),t}function l(e){this.map={},e instanceof l?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function h(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function f(e){return new Promise(function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function d(e){var t=new FileReader,n=f(t);return t.readAsArrayBuffer(e),n}function p(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function g(){return this.bodyUsed=!1,this._initBody=function(e){var t;this.bodyUsed=this.bodyUsed,this._bodyInit=e,e?"string"===typeof e?this._bodyText=e:i.blob&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:i.formData&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:i.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():i.arrayBuffer&&i.blob&&((t=e)&&DataView.prototype.isPrototypeOf(t))?(this._bodyArrayBuffer=p(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):i.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(e)||a(e))?this._bodyArrayBuffer=p(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"===typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):i.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},i.blob&&(this.blob=function(){var e=h(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var e=h(this);return e||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}return this.blob().then(d)}),this.text=function(){var e=h(this);if(e)return e;if(this._bodyBlob)return function(e){var t=new FileReader,n=f(t);return t.readAsText(e),n}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},i.formData&&(this.formData=function(){return this.text().then(m)}),this.json=function(){return this.text().then(JSON.parse)},this}l.prototype.append=function(e,t){e=s(e),t=u(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},l.prototype.delete=function(e){delete this.map[s(e)]},l.prototype.get=function(e){return e=s(e),this.has(e)?this.map[e]:null},l.prototype.has=function(e){return this.map.hasOwnProperty(s(e))},l.prototype.set=function(e,t){this.map[s(e)]=u(t)},l.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},l.prototype.keys=function(){var e=[];return this.forEach(function(t,n){e.push(n)}),c(e)},l.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),c(e)},l.prototype.entries=function(){var e=[];return this.forEach(function(t,n){e.push([n,t])}),c(e)},i.iterable&&(l.prototype[Symbol.iterator]=l.prototype.entries);var y=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function v(e,t){if(!(this instanceof v))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var n=(t=t||{}).body;if(e instanceof v){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new l(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,n||null==e._bodyInit||(n=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new l(t.headers)),this.method=function(e){var t=e.toUpperCase();return y.indexOf(t)>-1?t:e}(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(n),("GET"===this.method||"HEAD"===this.method)&&("no-store"===t.cache||"no-cache"===t.cache)){var r=/([?&])_=[^&]*/;if(r.test(this.url))this.url=this.url.replace(r,"$1_="+(new Date).getTime());else{this.url+=(/\?/.test(this.url)?"&":"?")+"_="+(new Date).getTime()}}}function m(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(i))}}),t}function b(e){var t=new l;return e.replace(/\r?\n[\t ]+/g," ").split("\r").map(function(e){return 0===e.indexOf("\n")?e.substr(1,e.length):e}).forEach(function(e){var n=e.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();t.append(r,i)}}),t}function _(e,t){if(!(this instanceof _))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText=void 0===t.statusText?"":""+t.statusText,this.headers=new l(t.headers),this.url=t.url||"",this._initBody(e)}v.prototype.clone=function(){return new v(this,{body:this._bodyInit})},g.call(v.prototype),g.call(_.prototype),_.prototype.clone=function(){return new _(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new l(this.headers),url:this.url})},_.error=function(){var e=new _(null,{status:0,statusText:""});return e.type="error",e};var w=[301,302,303,307,308];_.redirect=function(e,t){if(-1===w.indexOf(t))throw new RangeError("Invalid status code");return new _(null,{status:t,headers:{location:e}})};var E=r.DOMException;try{new E}catch(C){(E=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack}).prototype=Object.create(Error.prototype),E.prototype.constructor=E}function S(e,t){return new Promise(function(n,o){var a=new v(e,t);if(a.signal&&a.signal.aborted)return o(new E("Aborted","AbortError"));var s=new XMLHttpRequest;function c(){s.abort()}s.onload=function(){var e={status:s.status,statusText:s.statusText,headers:b(s.getAllResponseHeaders()||"")};e.url="responseURL"in s?s.responseURL:e.headers.get("X-Request-URL");var t="response"in s?s.response:s.responseText;setTimeout(function(){n(new _(t,e))},0)},s.onerror=function(){setTimeout(function(){o(new TypeError("Network request failed"))},0)},s.ontimeout=function(){setTimeout(function(){o(new TypeError("Network request failed"))},0)},s.onabort=function(){setTimeout(function(){o(new E("Aborted","AbortError"))},0)},s.open(a.method,function(e){try{return""===e&&r.location.href?r.location.href:e}catch(t){return e}}(a.url),!0),"include"===a.credentials?s.withCredentials=!0:"omit"===a.credentials&&(s.withCredentials=!1),"responseType"in s&&(i.blob?s.responseType="blob":i.arrayBuffer&&a.headers.get("Content-Type")&&-1!==a.headers.get("Content-Type").indexOf("application/octet-stream")&&(s.responseType="arraybuffer")),!t||"object"!==typeof t.headers||t.headers instanceof l?a.headers.forEach(function(e,t){s.setRequestHeader(t,e)}):Object.getOwnPropertyNames(t.headers).forEach(function(e){s.setRequestHeader(e,u(t.headers[e]))}),a.signal&&(a.signal.addEventListener("abort",c),s.onreadystatechange=function(){4===s.readyState&&a.signal.removeEventListener("abort",c)}),s.send("undefined"===typeof a._bodyInit?null:a._bodyInit)})}S.polyfill=!0,r.fetch||(r.fetch=S,r.Headers=l,r.Request=v,r.Response=_)},function(e,t,n){e.exports=n(515)},function(e,t,n){var r=n(516);n(525),n(526),n(527),n(528),n(529),n(530),n(531),n(532),e.exports=r},function(e,t,n){var r=n(517);e.exports=r},function(e,t,n){var r=n(518);n(369),e.exports=r},function(e,t,n){n(337),n(345),n(346),n(352),n(353),n(354),n(355),n(356),n(357),n(358),n(359),n(360),n(361),n(362),n(363),n(364),n(365),n(366),n(367),n(368);var r=n(212);e.exports=r.Symbol},function(e,t,n){var r=n(129),i=n(155),o=n(21),a=n(22)("species"),s=Array;e.exports=function(e){var t;return r(e)&&(t=e.constructor,i(t)&&(t===s||r(t.prototype))?t=void 0:o(t)&&null===(t=t[a])&&(t=void 0)),void 0===t?s:t}},function(e,t,n){"use strict";var r=n(273),i=n(106);e.exports=r?{}.toString:function(){return"[object "+i(this)+"]"}},function(e,t,n){"use strict";var r=n(4),i=n(14),o=n(19),a=n(10),s=n(44),u=n(17),c=n(151),l=n(9),h=n(26),f=n(78),d=n(18),p=n(61),g=n(113),y=n(24),v=n(77),m=n(68),b=n(179),_=n(114),w=n(275),E=n(211),S=n(55),C=n(33),O=n(274),T=n(205),k=n(39),I=n(152),A=n(209),N=n(173),R=n(153),P=n(22),x=n(348),M=n(40),L=n(349),D=n(69),j=n(46),U=n(53).forEach,F=A("hidden"),H=j.set,B=j.getterFor("Symbol"),V=Object.prototype,q=i.Symbol,G=q&&q.prototype,z=i.TypeError,W=i.QObject,K=S.f,Y=C.f,Q=w.f,$=T.f,X=a([].push),J=I("symbols"),Z=I("op-symbols"),ee=I("wks"),te=!W||!W.prototype||!W.prototype.findChild,ne=u&&l(function(){return 7!=m(Y({},"a",{get:function(){return Y(this,"a",{value:7}).a}})).a})?function(e,t,n){var r=K(V,t);r&&delete V[t],Y(e,t,n),r&&e!==V&&Y(V,t,r)}:Y,re=function(e,t){var n=J[e]=m(G);return H(n,{type:"Symbol",tag:e,description:t}),u||(n.description=t),n},ie=function(e,t,n){e===V&&ie(Z,t,n),d(e);var r=g(t);return d(n),h(J,r)?(n.enumerable?(h(e,F)&&e[F][r]&&(e[F][r]=!1),n=m(n,{enumerable:v(0,!1)})):(h(e,F)||Y(e,F,v(1,{})),e[F][r]=!0),ne(e,r,n)):Y(e,r,n)},oe=function(e,t){d(e);var n=p(t),r=b(n).concat(ce(n));return U(r,function(t){u&&!o(ae,n,t)||ie(e,t,n[t])}),e},ae=function(e){var t=g(e),n=o($,this,t);return!(this===V&&h(J,t)&&!h(Z,t))&&(!(n||!h(this,t)||!h(J,t)||h(this,F)&&this[F][t])||n)},se=function(e,t){var n=p(e),r=g(t);if(n!==V||!h(J,r)||h(Z,r)){var i=K(n,r);return!i||!h(J,r)||h(n,F)&&n[F][r]||(i.enumerable=!0),i}},ue=function(e){var t=Q(p(e)),n=[];return U(t,function(e){h(J,e)||h(N,e)||X(n,e)}),n},ce=function(e){var t=e===V,n=Q(t?Z:p(e)),r=[];return U(n,function(e){!h(J,e)||t&&!h(V,e)||X(r,J[e])}),r};c||(k(G=(q=function(){if(f(G,this))throw z("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?y(arguments[0]):void 0,t=R(e);return u&&te&&ne(V,t,{configurable:!0,set:function e(n){this===V&&o(e,Z,n),h(this,F)&&h(this[F],t)&&(this[F][t]=!1),ne(this,t,v(1,n))}}),re(t,e)}).prototype,"toString",function(){return B(this).tag}),k(q,"withoutSetter",function(e){return re(R(e),e)}),T.f=ae,C.f=ie,O.f=oe,S.f=se,_.f=w.f=ue,E.f=ce,x.f=function(e){return re(P(e),e)},u&&(Y(G,"description",{configurable:!0,get:function(){return B(this).description}}),s||k(V,"propertyIsEnumerable",ae,{unsafe:!0}))),r({global:!0,constructor:!0,wrap:!0,forced:!c,sham:!c},{Symbol:q}),U(b(ee),function(e){M(e)}),r({target:"Symbol",stat:!0,forced:!c},{useSetter:function(){te=!0},useSimple:function(){te=!1}}),r({target:"Object",stat:!0,forced:!c,sham:!u},{create:function(e,t){return void 0===t?m(e):oe(m(e),t)},defineProperty:ie,defineProperties:oe,getOwnPropertyDescriptor:se}),r({target:"Object",stat:!0,forced:!c},{getOwnPropertyNames:ue}),L(),D(q,"Symbol"),N[F]=!0},function(e,t,n){var r=n(4),i=n(37),o=n(26),a=n(24),s=n(152),u=n(350),c=s("string-to-symbol-registry"),l=s("symbol-to-string-registry");r({target:"Symbol",stat:!0,forced:!u},{for:function(e){var t=a(e);if(o(c,t))return c[t];var n=i("Symbol")(t);return c[t]=n,l[n]=t,n}})},function(e,t,n){var r=n(4),i=n(26),o=n(127),a=n(128),s=n(152),u=n(350),c=s("symbol-to-string-registry");r({target:"Symbol",stat:!0,forced:!u},{keyFor:function(e){if(!o(e))throw TypeError(a(e)+" is not a symbol");if(i(c,e))return c[e]}})},function(e,t,n){var r=n(4),i=n(151),o=n(9),a=n(211),s=n(32);r({target:"Object",stat:!0,forced:!i||o(function(){a.f(1)})},{getOwnPropertySymbols:function(e){var t=a.f;return t?t(s(e)):[]}})},function(e,t,n){n(40)("asyncDispose")},function(e,t,n){n(40)("dispose")},function(e,t,n){n(40)("matcher")},function(e,t,n){n(40)("metadataKey")},function(e,t,n){n(40)("observable")},function(e,t,n){n(40)("metadata")},function(e,t,n){n(40)("patternMatch")},function(e,t,n){n(40)("replaceAll")},function(e,t,n){e.exports=n(534)},function(e,t,n){var r=n(535);e.exports=r},function(e,t,n){var r=n(536);e.exports=r},function(e,t,n){var r=n(537);e.exports=r},function(e,t,n){n(279),n(374);var r=n(212);e.exports=r.Array.from},function(e,t,n){var r=n(18),i=n(376);e.exports=function(e,t,n,o){try{return o?t(r(n)[0],n[1]):t(n)}catch(a){i(e,"throw",a)}}},function(e,t,n){"use strict";n(540),n(795)},function(e,t,n){n(346),n(353),n(352),n(354),n(355),n(356),n(357),n(358),n(359),n(360),n(361),n(362),n(363),n(364),n(365),n(541),n(542),n(543),n(545),n(546),n(337),n(547),n(548),n(549),n(550),n(551),n(552),n(553),n(554),n(555),n(556),n(557),n(374),n(558),n(559),n(560),n(213),n(561),n(562),n(563),n(564),n(565),n(566),n(567),n(568),n(569),n(570),n(571),n(572),n(573),n(574),n(575),n(576),n(577),n(579),n(580),n(581),n(583),n(584),n(585),n(586),n(587),n(589),n(590),n(592),n(593),n(594),n(595),n(596),n(597),n(351),n(366),n(598),n(600),n(601),n(602),n(603),n(604),n(605),n(606),n(607),n(609),n(610),n(611),n(612),n(613),n(614),n(615),n(616),n(367),n(617),n(618),n(619),n(620),n(622),n(623),n(624),n(625),n(626),n(627),n(628),n(629),n(630),n(631),n(632),n(633),n(634),n(635),n(636),n(637),n(638),n(639),n(640),n(641),n(642),n(643),n(644),n(645),n(646),n(647),n(648),n(649),n(650),n(651),n(652),n(653),n(654),n(655),n(345),n(656),n(657),n(658),n(659),n(670),n(671),n(672),n(673),n(674),n(675),n(676),n(677),n(678),n(679),n(680),n(681),n(682),n(683),n(684),n(685),n(368),n(686),n(687),n(293),n(688),n(689),n(690),n(691),n(692),n(694),n(695),n(696),n(697),n(698),n(279),n(699),n(700),n(701),n(702),n(703),n(704),n(705),n(706),n(707),n(708),n(709),n(710),n(711),n(712),n(714),n(716),n(717),n(718),n(719),n(720),n(721),n(722),n(723),n(724),n(725),n(726),n(727),n(728),n(729),n(731),n(732),n(733),n(734),n(735),n(736),n(737),n(738),n(739),n(740),n(741),n(742),n(744),n(747),n(748),n(749),n(750),n(751),n(752),n(753),n(754),n(755),n(756),n(757),n(758),n(759),n(760),n(761),n(762),n(763),n(764),n(765),n(766),n(767),n(768),n(769),n(770),n(771),n(773),n(775),n(776),n(777),n(369),n(778),n(780),n(781),n(782),n(785),n(786),n(787),n(790),n(793),n(794),e.exports=n(212)},function(e,t,n){var r=n(4),i=n(14),o=n(79),a=n(377),s=i.WebAssembly,u=7!==Error("e",{cause:7}).cause,c=function(e,t){var n={};n[e]=a(e,t,u),r({global:!0,constructor:!0,arity:1,forced:u},n)},l=function(e,t){if(s&&s[e]){var n={};n[e]=a("WebAssembly."+e,t,u),r({target:"WebAssembly",stat:!0,constructor:!0,arity:1,forced:u},n)}};c("Error",function(e){return function(t){return o(e,this,arguments)}}),c("EvalError",function(e){return function(t){return o(e,this,arguments)}}),c("RangeError",function(e){return function(t){return o(e,this,arguments)}}),c("ReferenceError",function(e){return function(t){return o(e,this,arguments)}}),c("SyntaxError",function(e){return function(t){return o(e,this,arguments)}}),c("TypeError",function(e){return function(t){return o(e,this,arguments)}}),c("URIError",function(e){return function(t){return o(e,this,arguments)}}),l("CompileError",function(e){return function(t){return o(e,this,arguments)}}),l("LinkError",function(e){return function(t){return o(e,this,arguments)}}),l("RuntimeError",function(e){return function(t){return o(e,this,arguments)}})},function(e,t,n){var r=n(39),i=n(380),o=Error.prototype;o.toString!==i&&r(o,"toString",i)},function(e,t,n){n(544)},function(e,t,n){"use strict";var r=n(4),i=n(78),o=n(80),a=n(92),s=n(210),u=n(68),c=n(62),l=n(77),h=n(217),f=n(379),d=n(93),p=n(183),g=n(22),y=n(281),v=g("toStringTag"),m=Error,b=[].push,_=function(e,t){var n,r=arguments.length>2?arguments[2]:void 0,s=i(w,this);a?n=a(new m,s?o(this):w):(n=s?this:u(w),c(n,v,"Error")),void 0!==t&&c(n,"message",p(t)),y&&c(n,"stack",h(n.stack,1)),f(n,r);var l=[];return d(e,b,{that:l}),c(n,"errors",l),n};a?a(_,m):s(_,m,{name:!0});var w=_.prototype=u(m.prototype,{constructor:l(1,_),message:l(1,""),name:l(1,"AggregateError")});r({global:!0,constructor:!0,arity:2},{AggregateError:_})},function(e,t,n){var r=n(4),i=n(37),o=n(79),a=n(9),s=n(377),u=i("AggregateError"),c=!a(function(){return 1!==u([1]).errors[0]})&&a(function(){return 7!==u([1],"AggregateError",{cause:7}).cause});r({global:!0,constructor:!0,arity:2,forced:c},{AggregateError:s("AggregateError",function(e){return function(t,n){return o(e,this,arguments)}},c,!0)})},function(e,t,n){"use strict";var r=n(4),i=n(32),o=n(36),a=n(50),s=n(85);r({target:"Array",proto:!0},{at:function(e){var t=i(this),n=o(t),r=a(e),s=r>=0?r:n+r;return s<0||s>=n?void 0:t[s]}}),s("at")},function(e,t,n){var r=n(4),i=n(381),o=n(85);r({target:"Array",proto:!0},{copyWithin:i}),o("copyWithin")},function(e,t,n){"use strict";var r=n(4),i=n(53).every;r({target:"Array",proto:!0,forced:!n(107)("every")},{every:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){var r=n(4),i=n(282),o=n(85);r({target:"Array",proto:!0},{fill:i}),o("fill")},function(e,t,n){"use strict";var r=n(4),i=n(53).filter;r({target:"Array",proto:!0,forced:!n(178)("filter")},{filter:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){"use strict";var r=n(4),i=n(53).find,o=n(85),a=!0;"find"in[]&&Array(1).find(function(){a=!1}),r({target:"Array",proto:!0,forced:a},{find:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),o("find")},function(e,t,n){"use strict";var r=n(4),i=n(53).findIndex,o=n(85),a=!0;"findIndex"in[]&&Array(1).findIndex(function(){a=!1}),r({target:"Array",proto:!0,forced:a},{findIndex:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),o("findIndex")},function(e,t,n){"use strict";var r=n(4),i=n(219).findLast,o=n(85);r({target:"Array",proto:!0},{findLast:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),o("findLast")},function(e,t,n){"use strict";var r=n(4),i=n(219).findLastIndex,o=n(85);r({target:"Array",proto:!0},{findLastIndex:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),o("findLastIndex")},function(e,t,n){"use strict";var r=n(4),i=n(382),o=n(32),a=n(36),s=n(50),u=n(177);r({target:"Array",proto:!0},{flat:function(){var e=arguments.length?arguments[0]:void 0,t=o(this),n=a(t),r=u(t,0);return r.length=i(r,t,t,n,0,void 0===e?1:s(e)),r}})},function(e,t,n){"use strict";var r=n(4),i=n(382),o=n(49),a=n(32),s=n(36),u=n(177);r({target:"Array",proto:!0},{flatMap:function(e){var t,n=a(this),r=s(n);return o(e),(t=u(n,0)).length=i(t,n,n,r,0,1,e,arguments.length>1?arguments[1]:void 0),t}})},function(e,t,n){"use strict";var r=n(4),i=n(383);r({target:"Array",proto:!0,forced:[].forEach!=i},{forEach:i})},function(e,t,n){"use strict";var r=n(4),i=n(174).includes,o=n(9),a=n(85);r({target:"Array",proto:!0,forced:o(function(){return!Array(1).includes()})},{includes:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),a("includes")},function(e,t,n){"use strict";var r=n(4),i=n(10),o=n(174).indexOf,a=n(107),s=i([].indexOf),u=!!s&&1/s([1],1,-0)<0,c=a("indexOf");r({target:"Array",proto:!0,forced:u||!c},{indexOf:function(e){var t=arguments.length>1?arguments[1]:void 0;return u?s(this,e,t)||0:o(this,e,t)}})},function(e,t,n){n(4)({target:"Array",stat:!0},{isArray:n(129)})},function(e,t,n){"use strict";var r=n(4),i=n(10),o=n(150),a=n(61),s=n(107),u=i([].join),c=o!=Object,l=s("join",",");r({target:"Array",proto:!0,forced:c||!l},{join:function(e){return u(a(this),void 0===e?",":e)}})},function(e,t,n){var r=n(4),i=n(384);r({target:"Array",proto:!0,forced:i!==[].lastIndexOf},{lastIndexOf:i})},function(e,t,n){"use strict";var r=n(4),i=n(53).map;r({target:"Array",proto:!0,forced:!n(178)("map")},{map:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){"use strict";var r=n(4),i=n(9),o=n(155),a=n(105),s=Array;r({target:"Array",stat:!0,forced:i(function(){function e(){}return!(s.of.call(e)instanceof e)})},{of:function(){for(var e=0,t=arguments.length,n=new(o(this)?this:s)(t);t>e;)a(n,e,arguments[e++]);return n.length=t,n}})},function(e,t,n){"use strict";var r=n(4),i=n(32),o=n(36),a=n(176),s=n(9)(function(){return 4294967297!==[].push.call({length:4294967296},1)}),u=!function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(e){return e instanceof TypeError}}();r({target:"Array",proto:!0,arity:1,forced:s||u},{push:function(e){var t=i(this),n=o(t),r=arguments.length;a(n+r);for(var s=0;s<r;s++)t[n]=arguments[s],n++;return t.length=n,n}})},function(e,t,n){"use strict";var r=n(4),i=n(220).left,o=n(107),a=n(101),s=n(115);r({target:"Array",proto:!0,forced:!o("reduce")||!s&&a>79&&a<83},{reduce:function(e){var t=arguments.length;return i(this,e,t,t>1?arguments[1]:void 0)}})},function(e,t,n){"use strict";var r=n(4),i=n(220).right,o=n(107),a=n(101),s=n(115);r({target:"Array",proto:!0,forced:!o("reduceRight")||!s&&a>79&&a<83},{reduceRight:function(e){return i(this,e,arguments.length,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){"use strict";var r=n(4),i=n(10),o=n(129),a=i([].reverse),s=[1,2];r({target:"Array",proto:!0,forced:String(s)===String(s.reverse())},{reverse:function(){return o(this)&&(this.length=this.length),a(this)}})},function(e,t,n){"use strict";var r=n(4),i=n(129),o=n(155),a=n(21),s=n(104),u=n(36),c=n(61),l=n(105),h=n(22),f=n(178),d=n(130),p=f("slice"),g=h("species"),y=Array,v=Math.max;r({target:"Array",proto:!0,forced:!p},{slice:function(e,t){var n,r,h,f=c(this),p=u(f),m=s(e,p),b=s(void 0===t?p:t,p);if(i(f)&&(n=f.constructor,o(n)&&(n===y||i(n.prototype))?n=void 0:a(n)&&null===(n=n[g])&&(n=void 0),n===y||void 0===n))return d(f,m,b);for(r=new(void 0===n?y:n)(v(b-m,0)),h=0;m<b;m++,h++)m in f&&l(r,h,f[m]);return r.length=h,r}})},function(e,t,n){"use strict";var r=n(4),i=n(53).some;r({target:"Array",proto:!0,forced:!n(107)("some")},{some:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){"use strict";var r=n(4),i=n(10),o=n(49),a=n(32),s=n(36),u=n(218),c=n(24),l=n(9),h=n(283),f=n(107),d=n(385),p=n(386),g=n(101),y=n(284),v=[],m=i(v.sort),b=i(v.push),_=l(function(){v.sort(void 0)}),w=l(function(){v.sort(null)}),E=f("sort"),S=!l(function(){if(g)return g<70;if(!(d&&d>3)){if(p)return!0;if(y)return y<603;var e,t,n,r,i="";for(e=65;e<76;e++){switch(t=String.fromCharCode(e),e){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(r=0;r<47;r++)v.push({k:t+r,v:n})}for(v.sort(function(e,t){return t.v-e.v}),r=0;r<v.length;r++)t=v[r].k.charAt(0),i.charAt(i.length-1)!==t&&(i+=t);return"DGBEFHACIJK"!==i}});r({target:"Array",proto:!0,forced:_||!w||!E||!S},{sort:function(e){void 0!==e&&o(e);var t=a(this);if(S)return void 0===e?m(t):m(t,e);var n,r,i=[],l=s(t);for(r=0;r<l;r++)r in t&&b(i,t[r]);for(h(i,function(e){return function(t,n){return void 0===n?-1:void 0===t?1:void 0!==e?+e(t,n)||0:c(t)>c(n)?1:-1}}(e)),n=i.length,r=0;r<n;)t[r]=i[r++];for(;r<l;)u(t,r++);return t}})},function(e,t,n){n(157)("Array")},function(e,t,n){"use strict";var r=n(4),i=n(32),o=n(104),a=n(50),s=n(36),u=n(176),c=n(177),l=n(105),h=n(218),f=n(178)("splice"),d=Math.max,p=Math.min;r({target:"Array",proto:!0,forced:!f},{splice:function(e,t){var n,r,f,g,y,v,m=i(this),b=s(m),_=o(e,b),w=arguments.length;for(0===w?n=r=0:1===w?(n=0,r=b-_):(n=w-2,r=p(d(a(t),0),b-_)),u(b+n-r),f=c(m,r),g=0;g<r;g++)(y=_+g)in m&&l(f,g,m[y]);if(f.length=r,n<r){for(g=_;g<b-r;g++)v=g+n,(y=g+r)in m?m[v]=m[y]:h(m,v);for(g=b;g>b-r+n;g--)h(m,g-1)}else if(n>r)for(g=b-r;g>_;g--)v=g+n-1,(y=g+r-1)in m?m[v]=m[y]:h(m,v);for(g=0;g<n;g++)m[g+_]=arguments[g+2];return m.length=b-r+n,f}})},function(e,t,n){n(85)("flat")},function(e,t,n){n(85)("flatMap")},function(e,t,n){"use strict";var r=n(4),i=n(32),o=n(36),a=n(218),s=n(176),u=1!==[].unshift(0),c=!function(){try{Object.defineProperty([],"length",{writable:!1}).unshift()}catch(e){return e instanceof TypeError}}();r({target:"Array",proto:!0,arity:1,forced:u||c},{unshift:function(e){var t=i(this),n=o(t),r=arguments.length;if(r){s(n+r);for(var u=n;u--;){var c=u+r;u in t?t[c]=t[u]:a(t,c)}for(var l=0;l<r;l++)t[l]=arguments[l]}return t.length=n+r}})},function(e,t,n){"use strict";var r=n(4),i=n(14),o=n(221),a=n(157),s=o.ArrayBuffer;r({global:!0,constructor:!0,forced:i.ArrayBuffer!==s},{ArrayBuffer:s}),a("ArrayBuffer")},function(e,t){var n=Array,r=Math.abs,i=Math.pow,o=Math.floor,a=Math.log,s=Math.LN2;e.exports={pack:function(e,t,u){var c,l,h,f=n(u),d=8*u-t-1,p=(1<<d)-1,g=p>>1,y=23===t?i(2,-24)-i(2,-77):0,v=e<0||0===e&&1/e<0?1:0,m=0;for((e=r(e))!=e||e===1/0?(l=e!=e?1:0,c=p):(c=o(a(e)/s),e*(h=i(2,-c))<1&&(c--,h*=2),(e+=c+g>=1?y/h:y*i(2,1-g))*h>=2&&(c++,h/=2),c+g>=p?(l=0,c=p):c+g>=1?(l=(e*h-1)*i(2,t),c+=g):(l=e*i(2,g-1)*i(2,t),c=0));t>=8;)f[m++]=255&l,l/=256,t-=8;for(c=c<<t|l,d+=t;d>0;)f[m++]=255&c,c/=256,d-=8;return f[--m]|=128*v,f},unpack:function(e,t){var n,r=e.length,o=8*r-t-1,a=(1<<o)-1,s=a>>1,u=o-7,c=r-1,l=e[c--],h=127&l;for(l>>=7;u>0;)h=256*h+e[c--],u-=8;for(n=h&(1<<-u)-1,h>>=-u,u+=t;u>0;)n=256*n+e[c--],u-=8;if(0===h)h=1-s;else{if(h===a)return n?NaN:l?-1/0:1/0;n+=i(2,t),h-=s}return(l?-1:1)*n*i(2,h-t)}}},function(e,t,n){var r=n(4),i=n(27);r({target:"ArrayBuffer",stat:!0,forced:!i.NATIVE_ARRAY_BUFFER_VIEWS},{isView:i.isView})},function(e,t,n){"use strict";var r=n(4),i=n(10),o=n(9),a=n(221),s=n(18),u=n(104),c=n(67),l=n(158),h=a.ArrayBuffer,f=a.DataView,d=f.prototype,p=i(h.prototype.slice),g=i(d.getUint8),y=i(d.setUint8);r({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:o(function(){return!new h(2).slice(1,void 0).byteLength})},{slice:function(e,t){if(p&&void 0===t)return p(s(this),e);for(var n=s(this).byteLength,r=u(e,n),i=u(void 0===t?n:t,n),o=new(l(this,h))(c(i-r)),a=new f(this),d=new f(o),v=0;r<i;)y(d,v++,g(a,r++));return o}})},function(e,t,n){n(582)},function(e,t,n){var r=n(4),i=n(221);r({global:!0,constructor:!0,forced:!n(285)},{DataView:i.DataView})},function(e,t,n){"use strict";var r=n(4),i=n(10),o=n(9)(function(){return 120!==new Date(16e11).getYear()}),a=i(Date.prototype.getFullYear);r({target:"Date",proto:!0,forced:o},{getYear:function(){return a(this)-1900}})},function(e,t,n){var r=n(4),i=n(10),o=Date,a=i(o.prototype.getTime);r({target:"Date",stat:!0},{now:function(){return a(new o)}})},function(e,t,n){"use strict";var r=n(4),i=n(10),o=n(50),a=Date.prototype,s=i(a.getTime),u=i(a.setFullYear);r({target:"Date",proto:!0},{setYear:function(e){s(this);var t=o(e);return u(this,0<=t&&t<=99?t+1900:t)}})},function(e,t,n){n(4)({target:"Date",proto:!0},{toGMTString:Date.prototype.toUTCString})},function(e,t,n){var r=n(4),i=n(588);r({target:"Date",proto:!0,forced:Date.prototype.toISOString!==i},{toISOString:i})},function(e,t,n){"use strict";var r=n(10),i=n(9),o=n(287).start,a=RangeError,s=Math.abs,u=Date.prototype,c=u.toISOString,l=r(u.getTime),h=r(u.getUTCDate),f=r(u.getUTCFullYear),d=r(u.getUTCHours),p=r(u.getUTCMilliseconds),g=r(u.getUTCMinutes),y=r(u.getUTCMonth),v=r(u.getUTCSeconds);e.exports=i(function(){return"0385-07-25T07:06:39.999Z"!=c.call(new Date(-5e13-1))})||!i(function(){c.call(new Date(NaN))})?function(){if(!isFinite(l(this)))throw a("Invalid time value");var e=f(this),t=p(this),n=e<0?"-":e>9999?"+":"";return n+o(s(e),n?6:4,0)+"-"+o(y(this)+1,2,0)+"-"+o(h(this),2,0)+"T"+o(d(this),2,0)+":"+o(g(this),2,0)+":"+o(v(this),2,0)+"."+o(t,3,0)+"Z"}:c},function(e,t,n){"use strict";var r=n(4),i=n(9),o=n(32),a=n(206);r({target:"Date",proto:!0,arity:1,forced:i(function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})})},{toJSON:function(e){var t=o(this),n=a(t,"number");return"number"!=typeof n||isFinite(n)?t.toISOString():null}})},function(e,t,n){var r=n(26),i=n(39),o=n(591),a=n(22)("toPrimitive"),s=Date.prototype;r(s,a)||i(s,a,o)},function(e,t,n){"use strict";var r=n(18),i=n(339),o=TypeError;e.exports=function(e){if(r(this),"string"===e||"default"===e)e="string";else if("number"!==e)throw o("Incorrect hint");return i(this,e)}},function(e,t,n){var r=n(10),i=n(39),o=Date.prototype,a=r(o.toString),s=r(o.getTime);"Invalid Date"!=String(new Date(NaN))&&i(o,"toString",function(){var e=s(this);return e===e?a(this):"Invalid Date"})},function(e,t,n){"use strict";var r=n(4),i=n(10),o=n(24),a=i("".charAt),s=i("".charCodeAt),u=i(/./.exec),c=i(1..toString),l=i("".toUpperCase),h=/[\w*+\-./@]/,f=function(e,t){for(var n=c(e,16);n.length<t;)n="0"+n;return n};r({global:!0},{escape:function(e){for(var t,n,r=o(e),i="",c=r.length,d=0;d<c;)t=a(r,d++),u(h,t)?i+=t:i+=(n=s(t,0))<256?"%"+f(n,2):"%u"+l(f(n,4));return i}})},function(e,t,n){var r=n(4),i=n(388);r({target:"Function",proto:!0,forced:Function.bind!==i},{bind:i})},function(e,t,n){"use strict";var r=n(23),i=n(21),o=n(33),a=n(80),s=n(22),u=n(270),c=s("hasInstance"),l=Function.prototype;c in l||o.f(l,c,{value:u(function(e){if(!r(this)||!i(e))return!1;var t=this.prototype;if(!i(t))return e instanceof this;for(;e=a(e);)if(t===e)return!0;return!1},c)})},function(e,t,n){var r=n(17),i=n(154).EXISTS,o=n(10),a=n(33).f,s=Function.prototype,u=o(s.toString),c=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,l=o(c.exec);r&&!i&&a(s,"name",{configurable:!0,get:function(){try{return l(c,u(this))[1]}catch(e){return""}}})},function(e,t,n){n(4)({global:!0},{globalThis:n(14)})},function(e,t,n){n(599)},function(e,t,n){"use strict";n(223)("Map",function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},n(389))},function(e,t,n){var r=n(4),i=n(390),o=Math.acosh,a=Math.log,s=Math.sqrt,u=Math.LN2;r({target:"Math",stat:!0,forced:!o||710!=Math.floor(o(Number.MAX_VALUE))||o(1/0)!=1/0},{acosh:function(e){var t=+e;return t<1?NaN:t>94906265.62425156?a(t)+u:i(t-1+s(t-1)*s(t+1))}})},function(e,t,n){var r=n(4),i=Math.asinh,o=Math.log,a=Math.sqrt;r({target:"Math",stat:!0,forced:!(i&&1/i(0)>0)},{asinh:function e(t){var n=+t;return isFinite(n)&&0!=n?n<0?-e(-n):o(n+a(n*n+1)):n}})},function(e,t,n){var r=n(4),i=Math.atanh,o=Math.log;r({target:"Math",stat:!0,forced:!(i&&1/i(-0)<0)},{atanh:function(e){var t=+e;return 0==t?t:o((1+t)/(1-t))/2}})},function(e,t,n){var r=n(4),i=n(289),o=Math.abs,a=Math.pow;r({target:"Math",stat:!0},{cbrt:function(e){var t=+e;return i(t)*a(o(t),1/3)}})},function(e,t,n){var r=n(4),i=Math.floor,o=Math.log,a=Math.LOG2E;r({target:"Math",stat:!0},{clz32:function(e){var t=e>>>0;return t?31-i(o(t+.5)*a):32}})},function(e,t,n){var r=n(4),i=n(225),o=Math.cosh,a=Math.abs,s=Math.E;r({target:"Math",stat:!0,forced:!o||o(710)===1/0},{cosh:function(e){var t=i(a(e)-1)+1;return(t+1/(t*s*s))*(s/2)}})},function(e,t,n){var r=n(4),i=n(225);r({target:"Math",stat:!0,forced:i!=Math.expm1},{expm1:i})},function(e,t,n){n(4)({target:"Math",stat:!0},{fround:n(608)})},function(e,t,n){var r=n(289),i=Math.abs,o=Math.pow,a=o(2,-52),s=o(2,-23),u=o(2,127)*(2-s),c=o(2,-126);e.exports=Math.fround||function(e){var t,n,o=+e,l=i(o),h=r(o);return l<c?h*function(e){return e+1/a-1/a}(l/c/s)*c*s:(n=(t=(1+s/a)*l)-(t-l))>u||n!=n?h*(1/0):h*n}},function(e,t,n){var r=n(4),i=Math.hypot,o=Math.abs,a=Math.sqrt;r({target:"Math",stat:!0,arity:2,forced:!!i&&i(1/0,NaN)!==1/0},{hypot:function(e,t){for(var n,r,i=0,s=0,u=arguments.length,c=0;s<u;)c<(n=o(arguments[s++]))?(i=i*(r=c/n)*r+1,c=n):i+=n>0?(r=n/c)*r:n;return c===1/0?1/0:c*a(i)}})},function(e,t,n){var r=n(4),i=n(9),o=Math.imul;r({target:"Math",stat:!0,forced:i(function(){return-5!=o(4294967295,5)||2!=o.length})},{imul:function(e,t){var n=+e,r=+t,i=65535&n,o=65535&r;return 0|i*o+((65535&n>>>16)*o+i*(65535&r>>>16)<<16>>>0)}})},function(e,t,n){n(4)({target:"Math",stat:!0},{log10:n(391)})},function(e,t,n){n(4)({target:"Math",stat:!0},{log1p:n(390)})},function(e,t,n){var r=n(4),i=Math.log,o=Math.LN2;r({target:"Math",stat:!0},{log2:function(e){return i(e)/o}})},function(e,t,n){n(4)({target:"Math",stat:!0},{sign:n(289)})},function(e,t,n){var r=n(4),i=n(9),o=n(225),a=Math.abs,s=Math.exp,u=Math.E;r({target:"Math",stat:!0,forced:i(function(){return-2e-17!=Math.sinh(-2e-17)})},{sinh:function(e){var t=+e;return a(t)<1?(o(t)-o(-t))/2:(s(t-1)-s(-t-1))*(u/2)}})},function(e,t,n){var r=n(4),i=n(225),o=Math.exp;r({target:"Math",stat:!0},{tanh:function(e){var t=+e,n=i(t),r=i(-t);return n==1/0?1:r==1/0?-1:(n-r)/(o(t)+o(-t))}})},function(e,t,n){n(4)({target:"Math",stat:!0},{trunc:n(344)})},function(e,t,n){"use strict";var r=n(17),i=n(14),o=n(10),a=n(175),s=n(39),u=n(26),c=n(156),l=n(78),h=n(127),f=n(206),d=n(9),p=n(114).f,g=n(55).f,y=n(33).f,v=n(226),m=n(159).trim,b=i.Number,_=b.prototype,w=i.TypeError,E=o("".slice),S=o("".charCodeAt),C=function(e){var t,n,r,i,o,a,s,u,c=f(e,"number");if(h(c))throw w("Cannot convert a Symbol value to a number");if("string"==typeof c&&c.length>2)if(c=m(c),43===(t=S(c,0))||45===t){if(88===(n=S(c,2))||120===n)return NaN}else if(48===t){switch(S(c,1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+c}for(a=(o=E(c,2)).length,s=0;s<a;s++)if((u=S(o,s))<48||u>i)return NaN;return parseInt(o,r)}return+c};if(a("Number",!b(" 0o1")||!b("0b1")||b("+0x1"))){for(var O,T=function(e){var t=arguments.length<1?0:b(function(e){var t=f(e,"number");return"bigint"==typeof t?t:C(t)}(e)),n=this;return l(_,n)&&d(function(){v(n)})?c(Object(t),n,T):t},k=r?p(b):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),I=0;k.length>I;I++)u(b,O=k[I])&&!u(T,O)&&y(T,O,g(b,O));T.prototype=_,_.constructor=T,s(i,"Number",T,{constructor:!0})}},function(e,t,n){n(4)({target:"Number",stat:!0,nonConfigurable:!0,nonWritable:!0},{EPSILON:Math.pow(2,-52)})},function(e,t,n){n(4)({target:"Number",stat:!0},{isFinite:n(621)})},function(e,t,n){var r=n(14).isFinite;e.exports=Number.isFinite||function(e){return"number"==typeof e&&r(e)}},function(e,t,n){n(4)({target:"Number",stat:!0},{isInteger:n(290)})},function(e,t,n){n(4)({target:"Number",stat:!0},{isNaN:function(e){return e!=e}})},function(e,t,n){var r=n(4),i=n(290),o=Math.abs;r({target:"Number",stat:!0},{isSafeInteger:function(e){return i(e)&&o(e)<=9007199254740991}})},function(e,t,n){n(4)({target:"Number",stat:!0,nonConfigurable:!0,nonWritable:!0},{MAX_SAFE_INTEGER:9007199254740991})},function(e,t,n){n(4)({target:"Number",stat:!0,nonConfigurable:!0,nonWritable:!0},{MIN_SAFE_INTEGER:-9007199254740991})},function(e,t,n){var r=n(4),i=n(392);r({target:"Number",stat:!0,forced:Number.parseFloat!=i},{parseFloat:i})},function(e,t,n){var r=n(4),i=n(393);r({target:"Number",stat:!0,forced:Number.parseInt!=i},{parseInt:i})},function(e,t,n){"use strict";var r=n(4),i=n(10),o=n(50),a=n(226),s=n(222),u=n(391),c=n(9),l=RangeError,h=String,f=isFinite,d=Math.abs,p=Math.floor,g=Math.pow,y=Math.round,v=i(1..toExponential),m=i(s),b=i("".slice),_="-6.9000e-11"===v(-6.9e-11,4)&&"1.25e+0"===v(1.255,2)&&"1.235e+4"===v(12345,3)&&"3e+1"===v(25,0),w=c(function(){v(1,1/0)})&&c(function(){v(1,-1/0)}),E=!c(function(){v(1/0,1/0)})&&!c(function(){v(NaN,1/0)});r({target:"Number",proto:!0,forced:!_||!w||!E},{toExponential:function(e){var t=a(this);if(void 0===e)return v(t);var n=o(e);if(!f(t))return String(t);if(n<0||n>20)throw l("Incorrect fraction digits");if(_)return v(t,n);var r="",i="",s=0,c="",w="";if(t<0&&(r="-",t=-t),0===t)s=0,i=m("0",n+1);else{var E=u(t);s=p(E);var S=0,C=g(10,s-n);2*t>=(2*(S=y(t/C))+1)*C&&(S+=1),S>=g(10,n+1)&&(S/=10,s+=1),i=h(S)}return 0!==n&&(i=b(i,0,1)+"."+b(i,1)),0===s?(c="+",w="0"):(c=s>0?"+":"-",w=h(d(s))),r+(i+="e"+c+w)}})},function(e,t,n){"use strict";var r=n(4),i=n(10),o=n(50),a=n(226),s=n(222),u=n(9),c=RangeError,l=String,h=Math.floor,f=i(s),d=i("".slice),p=i(1..toFixed),g=function e(t,n,r){return 0===n?r:n%2===1?e(t,n-1,r*t):e(t*t,n/2,r)},y=function(e,t,n){for(var r=-1,i=n;++r<6;)i+=t*e[r],e[r]=i%1e7,i=h(i/1e7)},v=function(e,t){for(var n=6,r=0;--n>=0;)r+=e[n],e[n]=h(r/t),r=r%t*1e7},m=function(e){for(var t=6,n="";--t>=0;)if(""!==n||0===t||0!==e[t]){var r=l(e[t]);n=""===n?r:n+f("0",7-r.length)+r}return n};r({target:"Number",proto:!0,forced:u(function(){return"0.000"!==p(8e-5,3)||"1"!==p(.9,0)||"1.25"!==p(1.255,2)||"1000000000000000128"!==p(0xde0b6b3a7640080,0)})||!u(function(){p({})})},{toFixed:function(e){var t,n,r,i,s=a(this),u=o(e),h=[0,0,0,0,0,0],p="",b="0";if(u<0||u>20)throw c("Incorrect fraction digits");if(s!=s)return"NaN";if(s<=-1e21||s>=1e21)return l(s);if(s<0&&(p="-",s=-s),s>1e-21)if(n=(t=function(e){for(var t=0,n=e;n>=4096;)t+=12,n/=4096;for(;n>=2;)t+=1,n/=2;return t}(s*g(2,69,1))-69)<0?s*g(2,-t,1):s/g(2,t,1),n*=4503599627370496,(t=52-t)>0){for(y(h,0,n),r=u;r>=7;)y(h,1e7,0),r-=7;for(y(h,g(10,r,1),0),r=t-1;r>=23;)v(h,1<<23),r-=23;v(h,1<<r),y(h,1,1),v(h,2),b=m(h)}else y(h,0,n),y(h,1<<-t,0),b=m(h)+f("0",u);return b=u>0?p+((i=b.length)<=u?"0."+f("0",u-i)+b:d(b,0,i-u)+"."+d(b,i-u)):p+b}})},function(e,t,n){"use strict";var r=n(4),i=n(10),o=n(9),a=n(226),s=i(1..toPrecision);r({target:"Number",proto:!0,forced:o(function(){return"1"!==s(1,void 0)})||!o(function(){s({})})},{toPrecision:function(e){return void 0===e?s(a(this)):s(a(this),e)}})},function(e,t,n){var r=n(4),i=n(394);r({target:"Object",stat:!0,arity:2,forced:Object.assign!==i},{assign:i})},function(e,t,n){n(4)({target:"Object",stat:!0,sham:!n(17)},{create:n(68)})},function(e,t,n){"use strict";var r=n(4),i=n(17),o=n(228),a=n(49),s=n(32),u=n(33);i&&r({target:"Object",proto:!0,forced:o},{__defineGetter__:function(e,t){u.f(s(this),e,{get:a(t),enumerable:!0,configurable:!0})}})},function(e,t,n){var r=n(4),i=n(17),o=n(274).f;r({target:"Object",stat:!0,forced:Object.defineProperties!==o,sham:!i},{defineProperties:o})},function(e,t,n){var r=n(4),i=n(17),o=n(33).f;r({target:"Object",stat:!0,forced:Object.defineProperty!==o,sham:!i},{defineProperty:o})},function(e,t,n){"use strict";var r=n(4),i=n(17),o=n(228),a=n(49),s=n(32),u=n(33);i&&r({target:"Object",proto:!0,forced:o},{__defineSetter__:function(e,t){u.f(s(this),e,{set:a(t),enumerable:!0,configurable:!0})}})},function(e,t,n){var r=n(4),i=n(395).entries;r({target:"Object",stat:!0},{entries:function(e){return i(e)}})},function(e,t,n){var r=n(4),i=n(185),o=n(9),a=n(21),s=n(131).onFreeze,u=Object.freeze;r({target:"Object",stat:!0,forced:o(function(){u(1)}),sham:!i},{freeze:function(e){return u&&a(e)?u(s(e)):e}})},function(e,t,n){var r=n(4),i=n(93),o=n(105);r({target:"Object",stat:!0},{fromEntries:function(e){var t={};return i(e,function(e,n){o(t,e,n)},{AS_ENTRIES:!0}),t}})},function(e,t,n){var r=n(4),i=n(9),o=n(61),a=n(55).f,s=n(17),u=i(function(){a(1)});r({target:"Object",stat:!0,forced:!s||u,sham:!s},{getOwnPropertyDescriptor:function(e,t){return a(o(e),t)}})},function(e,t,n){var r=n(4),i=n(17),o=n(271),a=n(61),s=n(55),u=n(105);r({target:"Object",stat:!0,sham:!i},{getOwnPropertyDescriptors:function(e){for(var t,n,r=a(e),i=s.f,c=o(r),l={},h=0;c.length>h;)void 0!==(n=i(r,t=c[h++]))&&u(l,t,n);return l}})},function(e,t,n){var r=n(4),i=n(9),o=n(275).f;r({target:"Object",stat:!0,forced:i(function(){return!Object.getOwnPropertyNames(1)})},{getOwnPropertyNames:o})},function(e,t,n){var r=n(4),i=n(9),o=n(32),a=n(80),s=n(278);r({target:"Object",stat:!0,forced:i(function(){a(1)}),sham:!s},{getPrototypeOf:function(e){return a(o(e))}})},function(e,t,n){n(4)({target:"Object",stat:!0},{hasOwn:n(26)})},function(e,t,n){n(4)({target:"Object",stat:!0},{is:n(396)})},function(e,t,n){var r=n(4),i=n(224);r({target:"Object",stat:!0,forced:Object.isExtensible!==i},{isExtensible:i})},function(e,t,n){var r=n(4),i=n(9),o=n(21),a=n(66),s=n(288),u=Object.isFrozen;r({target:"Object",stat:!0,forced:i(function(){u(1)})||s},{isFrozen:function(e){return!o(e)||(!(!s||"ArrayBuffer"!=a(e))||!!u&&u(e))}})},function(e,t,n){var r=n(4),i=n(9),o=n(21),a=n(66),s=n(288),u=Object.isSealed;r({target:"Object",stat:!0,forced:i(function(){u(1)})||s},{isSealed:function(e){return!o(e)||(!(!s||"ArrayBuffer"!=a(e))||!!u&&u(e))}})},function(e,t,n){var r=n(4),i=n(32),o=n(179);r({target:"Object",stat:!0,forced:n(9)(function(){o(1)})},{keys:function(e){return o(i(e))}})},function(e,t,n){"use strict";var r=n(4),i=n(17),o=n(228),a=n(32),s=n(113),u=n(80),c=n(55).f;i&&r({target:"Object",proto:!0,forced:o},{__lookupGetter__:function(e){var t,n=a(this),r=s(e);do{if(t=c(n,r))return t.get}while(n=u(n))}})},function(e,t,n){"use strict";var r=n(4),i=n(17),o=n(228),a=n(32),s=n(113),u=n(80),c=n(55).f;i&&r({target:"Object",proto:!0,forced:o},{__lookupSetter__:function(e){var t,n=a(this),r=s(e);do{if(t=c(n,r))return t.set}while(n=u(n))}})},function(e,t,n){var r=n(4),i=n(21),o=n(131).onFreeze,a=n(185),s=n(9),u=Object.preventExtensions;r({target:"Object",stat:!0,forced:s(function(){u(1)}),sham:!a},{preventExtensions:function(e){return u&&i(e)?u(o(e)):e}})},function(e,t,n){var r=n(4),i=n(21),o=n(131).onFreeze,a=n(185),s=n(9),u=Object.seal;r({target:"Object",stat:!0,forced:s(function(){u(1)}),sham:!a},{seal:function(e){return u&&i(e)?u(o(e)):e}})},function(e,t,n){n(4)({target:"Object",stat:!0},{setPrototypeOf:n(92)})},function(e,t,n){var r=n(4),i=n(395).values;r({target:"Object",stat:!0},{values:function(e){return i(e)}})},function(e,t,n){var r=n(4),i=n(392);r({global:!0,forced:parseFloat!=i},{parseFloat:i})},function(e,t,n){var r=n(4),i=n(393);r({global:!0,forced:parseInt!=i},{parseInt:i})},function(e,t,n){n(660),n(665),n(666),n(667),n(668),n(669)},function(e,t,n){"use strict";var r,i,o,a=n(4),s=n(44),u=n(115),c=n(14),l=n(19),h=n(39),f=n(92),d=n(69),p=n(157),g=n(49),y=n(23),v=n(21),m=n(94),b=n(158),_=n(229).set,w=n(398),E=n(663),S=n(186),C=n(664),O=n(46),T=n(160),k=n(187),I=n(132),A=k.CONSTRUCTOR,N=k.REJECTION_EVENT,R=k.SUBCLASSING,P=O.getterFor("Promise"),x=O.set,M=T&&T.prototype,L=T,D=M,j=c.TypeError,U=c.document,F=c.process,H=I.f,B=H,V=!!(U&&U.createEvent&&c.dispatchEvent),q=function(e){var t;return!(!v(e)||!y(t=e.then))&&t},G=function(e,t){var n,r,i,o=t.value,a=1==t.state,s=a?e.ok:e.fail,u=e.resolve,c=e.reject,h=e.domain;try{s?(a||(2===t.rejection&&Q(t),t.rejection=1),!0===s?n=o:(h&&h.enter(),n=s(o),h&&(h.exit(),i=!0)),n===e.promise?c(j("Promise-chain cycle")):(r=q(n))?l(r,n,u,c):u(n)):c(o)}catch(f){h&&!i&&h.exit(),c(f)}},z=function(e,t){e.notified||(e.notified=!0,w(function(){for(var n,r=e.reactions;n=r.get();)G(n,e);e.notified=!1,t&&!e.rejection&&K(e)}))},W=function(e,t,n){var r,i;V?((r=U.createEvent("Event")).promise=t,r.reason=n,r.initEvent(e,!1,!0),c.dispatchEvent(r)):r={promise:t,reason:n},!N&&(i=c["on"+e])?i(r):"unhandledrejection"===e&&E("Unhandled promise rejection",n)},K=function(e){l(_,c,function(){var t,n=e.facade,r=e.value;if(Y(e)&&(t=S(function(){u?F.emit("unhandledRejection",r,n):W("unhandledrejection",n,r)}),e.rejection=u||Y(e)?2:1,t.error))throw t.value})},Y=function(e){return 1!==e.rejection&&!e.parent},Q=function(e){l(_,c,function(){var t=e.facade;u?F.emit("rejectionHandled",t):W("rejectionhandled",t,e.value)})},$=function(e,t,n){return function(r){e(t,r,n)}},X=function(e,t,n){e.done||(e.done=!0,n&&(e=n),e.value=t,e.state=2,z(e,!0))},J=function e(t,n,r){if(!t.done){t.done=!0,r&&(t=r);try{if(t.facade===n)throw j("Promise can't be resolved itself");var i=q(n);i?w(function(){var r={done:!1};try{l(i,n,$(e,r,t),$(X,r,t))}catch(o){X(r,o,t)}}):(t.value=n,t.state=1,z(t,!1))}catch(o){X({done:!1},o,t)}}};if(A&&(D=(L=function(e){m(this,D),g(e),l(r,this);var t=P(this);try{e($(J,t),$(X,t))}catch(n){X(t,n)}}).prototype,(r=function(e){x(this,{type:"Promise",done:!1,notified:!1,parent:!1,reactions:new C,rejection:!1,state:0,value:void 0})}).prototype=h(D,"then",function(e,t){var n=P(this),r=H(b(this,L));return n.parent=!0,r.ok=!y(e)||e,r.fail=y(t)&&t,r.domain=u?F.domain:void 0,0==n.state?n.reactions.add(r):w(function(){G(r,n)}),r.promise}),i=function(){var e=new r,t=P(e);this.promise=e,this.resolve=$(J,t),this.reject=$(X,t)},I.f=H=function(e){return e===L||void 0===e?new i(e):B(e)},!s&&y(T)&&M!==Object.prototype)){o=M.then,R||h(M,"then",function(e,t){var n=this;return new L(function(e,t){l(o,n,e,t)}).then(e,t)},{unsafe:!0});try{delete M.constructor}catch(Z){}f&&f(M,D)}a({global:!0,constructor:!0,wrap:!0,forced:A},{Promise:L}),d(L,"Promise",!1,!0),p("Promise")},function(e,t,n){var r=n(102),i=n(14);e.exports=/ipad|iphone|ipod/i.test(r)&&void 0!==i.Pebble},function(e,t,n){var r=n(102);e.exports=/web0s(?!.*chrome)/i.test(r)},function(e,t,n){var r=n(14);e.exports=function(e,t){var n=r.console;n&&n.error&&(1==arguments.length?n.error(e):n.error(e,t))}},function(e,t){var n=function(){this.head=null,this.tail=null};n.prototype={add:function(e){var t={item:e,next:null};this.head?this.tail.next=t:this.head=t,this.tail=t},get:function(){var e=this.head;if(e)return this.head=e.next,this.tail===e&&(this.tail=null),e.item}},e.exports=n},function(e,t,n){"use strict";var r=n(4),i=n(19),o=n(49),a=n(132),s=n(186),u=n(93);r({target:"Promise",stat:!0,forced:n(401)},{all:function(e){var t=this,n=a.f(t),r=n.resolve,c=n.reject,l=s(function(){var n=o(t.resolve),a=[],s=0,l=1;u(e,function(e){var o=s++,u=!1;l++,i(n,t,e).then(function(e){u||(u=!0,a[o]=e,--l||r(a))},c)}),--l||r(a)});return l.error&&c(l.value),n.promise}})},function(e,t,n){"use strict";var r=n(4),i=n(44),o=n(187).CONSTRUCTOR,a=n(160),s=n(37),u=n(23),c=n(39),l=a&&a.prototype;if(r({target:"Promise",proto:!0,forced:o,real:!0},{catch:function(e){return this.then(void 0,e)}}),!i&&u(a)){var h=s("Promise").prototype.catch;l.catch!==h&&c(l,"catch",h,{unsafe:!0})}},function(e,t,n){"use strict";var r=n(4),i=n(19),o=n(49),a=n(132),s=n(186),u=n(93);r({target:"Promise",stat:!0,forced:n(401)},{race:function(e){var t=this,n=a.f(t),r=n.reject,c=s(function(){var a=o(t.resolve);u(e,function(e){i(a,t,e).then(n.resolve,r)})});return c.error&&r(c.value),n.promise}})},function(e,t,n){"use strict";var r=n(4),i=n(19),o=n(132);r({target:"Promise",stat:!0,forced:n(187).CONSTRUCTOR},{reject:function(e){var t=o.f(this);return i(t.reject,void 0,e),t.promise}})},function(e,t,n){"use strict";var r=n(4),i=n(37),o=n(44),a=n(160),s=n(187).CONSTRUCTOR,u=n(402),c=i("Promise"),l=o&&!s;r({target:"Promise",stat:!0,forced:o||s},{resolve:function(e){return u(l&&this===c?a:this,e)}})},function(e,t,n){"use strict";var r=n(4),i=n(19),o=n(49),a=n(132),s=n(186),u=n(93);r({target:"Promise",stat:!0},{allSettled:function(e){var t=this,n=a.f(t),r=n.resolve,c=n.reject,l=s(function(){var n=o(t.resolve),a=[],s=0,c=1;u(e,function(e){var o=s++,u=!1;c++,i(n,t,e).then(function(e){u||(u=!0,a[o]={status:"fulfilled",value:e},--c||r(a))},function(e){u||(u=!0,a[o]={status:"rejected",reason:e},--c||r(a))})}),--c||r(a)});return l.error&&c(l.value),n.promise}})},function(e,t,n){"use strict";var r=n(4),i=n(19),o=n(49),a=n(37),s=n(132),u=n(186),c=n(93);r({target:"Promise",stat:!0},{any:function(e){var t=this,n=a("AggregateError"),r=s.f(t),l=r.resolve,h=r.reject,f=u(function(){var r=o(t.resolve),a=[],s=0,u=1,f=!1;c(e,function(e){var o=s++,c=!1;u++,i(r,t,e).then(function(e){c||f||(f=!0,l(e))},function(e){c||f||(c=!0,a[o]=e,--u||h(new n(a,"No one promise resolved")))})}),--u||h(new n(a,"No one promise resolved"))});return f.error&&h(f.value),r.promise}})},function(e,t,n){"use strict";var r=n(4),i=n(44),o=n(160),a=n(9),s=n(37),u=n(23),c=n(158),l=n(402),h=n(39),f=o&&o.prototype;if(r({target:"Promise",proto:!0,real:!0,forced:!!o&&a(function(){f.finally.call({then:function(){}},function(){})})},{finally:function(e){var t=c(this,s("Promise")),n=u(e);return this.then(n?function(n){return l(t,e()).then(function(){return n})}:e,n?function(n){return l(t,e()).then(function(){throw n})}:e)}}),!i&&u(o)){var d=s("Promise").prototype.finally;f.finally!==d&&h(f,"finally",d,{unsafe:!0})}},function(e,t,n){var r=n(4),i=n(79),o=n(49),a=n(18);r({target:"Reflect",stat:!0,forced:!n(9)(function(){Reflect.apply(function(){})})},{apply:function(e,t,n){return i(o(e),t,a(n))}})},function(e,t,n){var r=n(4),i=n(37),o=n(79),a=n(388),s=n(286),u=n(18),c=n(21),l=n(68),h=n(9),f=i("Reflect","construct"),d=Object.prototype,p=[].push,g=h(function(){function e(){}return!(f(function(){},[],e)instanceof e)}),y=!h(function(){f(function(){})}),v=g||y;r({target:"Reflect",stat:!0,forced:v,sham:v},{construct:function(e,t){s(e),u(t);var n=arguments.length<3?e:s(arguments[2]);if(y&&!g)return f(e,t,n);if(e==n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var r=[null];return o(p,r,t),new(o(a,e,r))}var i=n.prototype,h=l(c(i)?i:d),v=o(e,h,t);return c(v)?v:h}})},function(e,t,n){var r=n(4),i=n(17),o=n(18),a=n(113),s=n(33);r({target:"Reflect",stat:!0,forced:n(9)(function(){Reflect.defineProperty(s.f({},1,{value:1}),1,{value:2})}),sham:!i},{defineProperty:function(e,t,n){o(e);var r=a(t);o(n);try{return s.f(e,r,n),!0}catch(i){return!1}}})},function(e,t,n){var r=n(4),i=n(18),o=n(55).f;r({target:"Reflect",stat:!0},{deleteProperty:function(e,t){var n=o(i(e),t);return!(n&&!n.configurable)&&delete e[t]}})},function(e,t,n){var r=n(4),i=n(19),o=n(21),a=n(18),s=n(403),u=n(55),c=n(80);r({target:"Reflect",stat:!0},{get:function e(t,n){var r,l,h=arguments.length<3?t:arguments[2];return a(t)===h?t[n]:(r=u.f(t,n))?s(r)?r.value:void 0===r.get?void 0:i(r.get,h):o(l=c(t))?e(l,n,h):void 0}})},function(e,t,n){var r=n(4),i=n(17),o=n(18),a=n(55);r({target:"Reflect",stat:!0,sham:!i},{getOwnPropertyDescriptor:function(e,t){return a.f(o(e),t)}})},function(e,t,n){var r=n(4),i=n(18),o=n(80);r({target:"Reflect",stat:!0,sham:!n(278)},{getPrototypeOf:function(e){return o(i(e))}})},function(e,t,n){n(4)({target:"Reflect",stat:!0},{has:function(e,t){return t in e}})},function(e,t,n){var r=n(4),i=n(18),o=n(224);r({target:"Reflect",stat:!0},{isExtensible:function(e){return i(e),o(e)}})},function(e,t,n){n(4)({target:"Reflect",stat:!0},{ownKeys:n(271)})},function(e,t,n){var r=n(4),i=n(37),o=n(18);r({target:"Reflect",stat:!0,sham:!n(185)},{preventExtensions:function(e){o(e);try{var t=i("Object","preventExtensions");return t&&t(e),!0}catch(n){return!1}}})},function(e,t,n){var r=n(4),i=n(19),o=n(18),a=n(21),s=n(403),u=n(9),c=n(33),l=n(55),h=n(80),f=n(77);r({target:"Reflect",stat:!0,forced:u(function(){var e=function(){},t=c.f(new e,"a",{configurable:!0});return!1!==Reflect.set(e.prototype,"a",1,t)})},{set:function e(t,n,r){var u,d,p,g=arguments.length<4?t:arguments[3],y=l.f(o(t),n);if(!y){if(a(d=h(t)))return e(d,n,r,g);y=f(0)}if(s(y)){if(!1===y.writable||!a(g))return!1;if(u=l.f(g,n)){if(u.get||u.set||!1===u.writable)return!1;u.value=r,c.f(g,n,u)}else c.f(g,n,f(0,r))}else{if(void 0===(p=y.set))return!1;i(p,g,r)}return!0}})},function(e,t,n){var r=n(4),i=n(18),o=n(373),a=n(92);a&&r({target:"Reflect",stat:!0},{setPrototypeOf:function(e,t){i(e),o(t);try{return a(e,t),!0}catch(n){return!1}}})},function(e,t,n){var r=n(17),i=n(14),o=n(10),a=n(175),s=n(156),u=n(62),c=n(114).f,l=n(78),h=n(188),f=n(24),d=n(189),p=n(230),g=n(378),y=n(39),v=n(9),m=n(26),b=n(46).enforce,_=n(157),w=n(22),E=n(292),S=n(404),C=w("match"),O=i.RegExp,T=O.prototype,k=i.SyntaxError,I=o(T.exec),A=o("".charAt),N=o("".replace),R=o("".indexOf),P=o("".slice),x=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,M=/a/g,L=/a/g,D=new O(M)!==M,j=p.MISSED_STICKY,U=p.UNSUPPORTED_Y,F=r&&(!D||j||E||S||v(function(){return L[C]=!1,O(M)!=M||O(L)==L||"/a/i"!=O(M,"i")}));if(a("RegExp",F)){for(var H=function(e,t){var n,r,i,o,a,c,p=l(T,this),g=h(e),y=void 0===t,v=[],_=e;if(!p&&g&&y&&e.constructor===H)return e;if((g||l(T,e))&&(e=e.source,y&&(t=d(_))),e=void 0===e?"":f(e),t=void 0===t?"":f(t),_=e,E&&"dotAll"in M&&(r=!!t&&R(t,"s")>-1)&&(t=N(t,/s/g,"")),n=t,j&&"sticky"in M&&(i=!!t&&R(t,"y")>-1)&&U&&(t=N(t,/y/g,"")),S&&(e=(o=function(e){for(var t,n=e.length,r=0,i="",o=[],a={},s=!1,u=!1,c=0,l="";r<=n;r++){if("\\"===(t=A(e,r)))t+=A(e,++r);else if("]"===t)s=!1;else if(!s)switch(!0){case"["===t:s=!0;break;case"("===t:I(x,P(e,r+1))&&(r+=2,u=!0),i+=t,c++;continue;case">"===t&&u:if(""===l||m(a,l))throw new k("Invalid capture group name");a[l]=!0,o[o.length]=[l,c],u=!1,l="";continue}u?l+=t:i+=t}return[i,o]}(e))[0],v=o[1]),a=s(O(e,t),p?this:T,H),(r||i||v.length)&&(c=b(a),r&&(c.dotAll=!0,c.raw=H(function(e){for(var t,n=e.length,r=0,i="",o=!1;r<=n;r++)"\\"!==(t=A(e,r))?o||"."!==t?("["===t?o=!0:"]"===t&&(o=!1),i+=t):i+="[\\s\\S]":i+=t+A(e,++r);return i}(e),n)),i&&(c.sticky=!0),v.length&&(c.groups=v)),e!==_)try{u(a,"source",""===_?"(?:)":_)}catch(w){}return a},B=c(O),V=0;B.length>V;)g(H,O,B[V++]);T.constructor=H,H.prototype=T,y(i,"RegExp",H,{constructor:!0})}_("RegExp")},function(e,t,n){var r=n(17),i=n(292),o=n(66),a=n(190),s=n(46).get,u=RegExp.prototype,c=TypeError;r&&i&&a(u,"dotAll",{configurable:!0,get:function(){if(this!==u){if("RegExp"===o(this))return!!s(this).dotAll;throw c("Incompatible receiver, RegExp required")}}})},function(e,t,n){var r=n(14),i=n(17),o=n(190),a=n(291),s=n(9),u=r.RegExp,c=u.prototype;i&&s(function(){var e=!0;try{u(".","d")}catch(s){e=!1}var t={},n="",r=e?"dgimsy":"gimsy",i=function(e,r){Object.defineProperty(t,e,{get:function(){return n+=r,!0}})},o={dotAll:"s",global:"g",ignoreCase:"i",multiline:"m",sticky:"y"};for(var a in e&&(o.hasIndices="d"),o)i(a,o[a]);return Object.getOwnPropertyDescriptor(c,"flags").get.call(t)!==r||n!==r})&&o(c,"flags",{configurable:!0,get:a})},function(e,t,n){var r=n(17),i=n(230).MISSED_STICKY,o=n(66),a=n(190),s=n(46).get,u=RegExp.prototype,c=TypeError;r&&i&&a(u,"sticky",{configurable:!0,get:function(){if(this!==u){if("RegExp"===o(this))return!!s(this).sticky;throw c("Incompatible receiver, RegExp required")}}})},function(e,t,n){"use strict";n(293);var r=n(4),i=n(19),o=n(10),a=n(23),s=n(21),u=function(){var e=!1,t=/[ac]/;return t.exec=function(){return e=!0,/./.exec.apply(this,arguments)},!0===t.test("abc")&&e}(),c=TypeError,l=o(/./.test);r({target:"RegExp",proto:!0,forced:!u},{test:function(e){var t=this.exec;if(!a(t))return l(this,e);var n=i(t,this,e);if(null!==n&&!s(n))throw new c("RegExp exec method returned something other than an Object or null");return!!n}})},function(e,t,n){"use strict";var r=n(154).PROPER,i=n(39),o=n(18),a=n(24),s=n(9),u=n(189),c=RegExp.prototype.toString,l=s(function(){return"/a/b"!=c.call({source:"a",flags:"b"})}),h=r&&"toString"!=c.name;(l||h)&&i(RegExp.prototype,"toString",function(){var e=o(this);return"/"+a(e.source)+"/"+a(u(e))},{unsafe:!0})},function(e,t,n){n(693)},function(e,t,n){"use strict";n(223)("Set",function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},n(389))},function(e,t,n){"use strict";var r=n(4),i=n(10),o=n(48),a=n(50),s=n(24),u=n(9),c=i("".charAt);r({target:"String",proto:!0,forced:u(function(){return"\ud842"!=="\ud842\udfb7".at(-2)})},{at:function(e){var t=s(o(this)),n=t.length,r=a(e),i=r>=0?r:n+r;return i<0||i>=n?void 0:c(t,i)}})},function(e,t,n){"use strict";var r=n(4),i=n(214).codeAt;r({target:"String",proto:!0},{codePointAt:function(e){return i(this,e)}})},function(e,t,n){"use strict";var r=n(4),i=n(10),o=n(55).f,a=n(67),s=n(24),u=n(294),c=n(48),l=n(295),h=n(44),f=i("".endsWith),d=i("".slice),p=Math.min,g=l("endsWith");r({target:"String",proto:!0,forced:!(!h&&!g&&!!function(){var e=o(String.prototype,"endsWith");return e&&!e.writable}())&&!g},{endsWith:function(e){var t=s(c(this));u(e);var n=arguments.length>1?arguments[1]:void 0,r=t.length,i=void 0===n?r:p(a(n),r),o=s(e);return f?f(t,o,i):d(t,i-o.length,i)===o}})},function(e,t,n){var r=n(4),i=n(10),o=n(104),a=RangeError,s=String.fromCharCode,u=String.fromCodePoint,c=i([].join);r({target:"String",stat:!0,arity:1,forced:!!u&&1!=u.length},{fromCodePoint:function(e){for(var t,n=[],r=arguments.length,i=0;r>i;){if(t=+arguments[i++],o(t,1114111)!==t)throw a(t+" is not a valid code point");n[i]=t<65536?s(t):s(55296+((t-=65536)>>10),t%1024+56320)}return c(n,"")}})},function(e,t,n){"use strict";var r=n(4),i=n(10),o=n(294),a=n(48),s=n(24),u=n(295),c=i("".indexOf);r({target:"String",proto:!0,forced:!u("includes")},{includes:function(e){return!!~c(s(a(this)),s(o(e)),arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){"use strict";var r=n(19),i=n(232),o=n(18),a=n(67),s=n(24),u=n(48),c=n(103),l=n(233),h=n(191);i("match",function(e,t,n){return[function(t){var n=u(this),i=void 0==t?void 0:c(t,e);return i?r(i,t,n):new RegExp(t)[e](s(n))},function(e){var r=o(this),i=s(e),u=n(t,r,i);if(u.done)return u.value;if(!r.global)return h(r,i);var c=r.unicode;r.lastIndex=0;for(var f,d=[],p=0;null!==(f=h(r,i));){var g=s(f[0]);d[p]=g,""===g&&(r.lastIndex=l(i,a(r.lastIndex),c)),p++}return 0===p?null:d}]})},function(e,t,n){"use strict";var r=n(4),i=n(19),o=n(10),a=n(277),s=n(48),u=n(67),c=n(24),l=n(18),h=n(66),f=n(188),d=n(189),p=n(103),g=n(39),y=n(9),v=n(22),m=n(158),b=n(233),_=n(191),w=n(46),E=n(44),S=v("matchAll"),C=w.set,O=w.getterFor("RegExp String Iterator"),T=RegExp.prototype,k=TypeError,I=o("".indexOf),A=o("".matchAll),N=!!A&&!y(function(){A("a",/./)}),R=a(function(e,t,n,r){C(this,{type:"RegExp String Iterator",regexp:e,string:t,global:n,unicode:r,done:!1})},"RegExp String",function(){var e=O(this);if(e.done)return{value:void 0,done:!0};var t=e.regexp,n=e.string,r=_(t,n);return null===r?{value:void 0,done:e.done=!0}:e.global?(""===c(r[0])&&(t.lastIndex=b(n,u(t.lastIndex),e.unicode)),{value:r,done:!1}):(e.done=!0,{value:r,done:!1})}),P=function(e){var t,n,r,i=l(this),o=c(e),a=m(i,RegExp),s=c(d(i));return t=new a(a===RegExp?i.source:i,s),n=!!~I(s,"g"),r=!!~I(s,"u"),t.lastIndex=u(i.lastIndex),new R(t,o,n,r)};r({target:"String",proto:!0,forced:N},{matchAll:function(e){var t,n,r,o,a=s(this);if(null!=e){if(f(e)&&(t=c(s(d(e))),!~I(t,"g")))throw k("`.matchAll` does not allow non-global regexes");if(N)return A(a,e);if(void 0===(r=p(e,S))&&E&&"RegExp"==h(e)&&(r=P),r)return i(r,e,a)}else if(N)return A(a,e);return n=c(a),o=new RegExp(e,"g"),E?i(P,o,n):o[S](n)}}),E||S in T||g(T,S,P)},function(e,t,n){"use strict";var r=n(4),i=n(287).end;r({target:"String",proto:!0,forced:n(405)},{padEnd:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){"use strict";var r=n(4),i=n(287).start;r({target:"String",proto:!0,forced:n(405)},{padStart:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){var r=n(4),i=n(10),o=n(61),a=n(32),s=n(24),u=n(36),c=i([].push),l=i([].join);r({target:"String",stat:!0},{raw:function(e){for(var t=o(a(e).raw),n=u(t),r=arguments.length,i=[],h=0;n>h;){if(c(i,s(t[h++])),h===n)return l(i,"");h<r&&c(i,s(arguments[h]))}}})},function(e,t,n){n(4)({target:"String",proto:!0},{repeat:n(222)})},function(e,t,n){"use strict";var r=n(79),i=n(19),o=n(10),a=n(232),s=n(9),u=n(18),c=n(23),l=n(50),h=n(67),f=n(24),d=n(48),p=n(233),g=n(103),y=n(406),v=n(191),m=n(22)("replace"),b=Math.max,_=Math.min,w=o([].concat),E=o([].push),S=o("".indexOf),C=o("".slice),O="$0"==="a".replace(/./,"$0"),T=!!/./[m]&&""===/./[m]("a","$0");a("replace",function(e,t,n){var o=T?"$":"$0";return[function(e,n){var r=d(this),o=void 0==e?void 0:g(e,m);return o?i(o,e,r,n):i(t,f(r),e,n)},function(e,i){var a=u(this),s=f(e);if("string"==typeof i&&-1===S(i,o)&&-1===S(i,"$<")){var d=n(t,a,s,i);if(d.done)return d.value}var g=c(i);g||(i=f(i));var m=a.global;if(m){var O=a.unicode;a.lastIndex=0}for(var T=[];;){var k=v(a,s);if(null===k)break;if(E(T,k),!m)break;""===f(k[0])&&(a.lastIndex=p(s,h(a.lastIndex),O))}for(var I,A="",N=0,R=0;R<T.length;R++){for(var P=f((k=T[R])[0]),x=b(_(l(k.index),s.length),0),M=[],L=1;L<k.length;L++)E(M,void 0===(I=k[L])?I:String(I));var D=k.groups;if(g){var j=w([P],M,x,s);void 0!==D&&E(j,D);var U=f(r(i,void 0,j))}else U=y(P,s,x,M,D,i);x>=N&&(A+=C(s,N,x)+U,N=x+P.length)}return A+C(s,N)}]},!!s(function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})||!O||T)},function(e,t,n){"use strict";var r=n(4),i=n(19),o=n(10),a=n(48),s=n(23),u=n(188),c=n(24),l=n(103),h=n(189),f=n(406),d=n(22),p=n(44),g=d("replace"),y=TypeError,v=o("".indexOf),m=o("".replace),b=o("".slice),_=Math.max,w=function(e,t,n){return n>e.length?-1:""===t?n:v(e,t,n)};r({target:"String",proto:!0},{replaceAll:function(e,t){var n,r,o,d,E,S,C,O,T,k=a(this),I=0,A=0,N="";if(null!=e){if((n=u(e))&&(r=c(a(h(e))),!~v(r,"g")))throw y("`.replaceAll` does not allow non-global regexes");if(o=l(e,g))return i(o,e,k,t);if(p&&n)return m(c(k),e,t)}for(d=c(k),E=c(e),(S=s(t))||(t=c(t)),C=E.length,O=_(1,C),I=w(d,E,0);-1!==I;)T=S?c(t(E,I,d)):f(E,d,I,[],void 0,t),N+=b(d,A,I)+T,A=I+C,I=w(d,E,I+O);return A<d.length&&(N+=b(d,A)),N}})},function(e,t,n){"use strict";var r=n(19),i=n(232),o=n(18),a=n(48),s=n(396),u=n(24),c=n(103),l=n(191);i("search",function(e,t,n){return[function(t){var n=a(this),i=void 0==t?void 0:c(t,e);return i?r(i,t,n):new RegExp(t)[e](u(n))},function(e){var r=o(this),i=u(e),a=n(t,r,i);if(a.done)return a.value;var c=r.lastIndex;s(c,0)||(r.lastIndex=0);var h=l(r,i);return s(r.lastIndex,c)||(r.lastIndex=c),null===h?-1:h.index}]})},function(e,t,n){"use strict";var r=n(79),i=n(19),o=n(10),a=n(232),s=n(188),u=n(18),c=n(48),l=n(158),h=n(233),f=n(67),d=n(24),p=n(103),g=n(180),y=n(191),v=n(231),m=n(230),b=n(9),_=m.UNSUPPORTED_Y,w=Math.min,E=[].push,S=o(/./.exec),C=o(E),O=o("".slice);a("split",function(e,t,n){var o;return o="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,n){var o=d(c(this)),a=void 0===n?4294967295:n>>>0;if(0===a)return[];if(void 0===e)return[o];if(!s(e))return i(t,o,e,a);for(var u,l,h,f=[],p=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),y=0,m=new RegExp(e.source,p+"g");(u=i(v,m,o))&&!((l=m.lastIndex)>y&&(C(f,O(o,y,u.index)),u.length>1&&u.index<o.length&&r(E,f,g(u,1)),h=u[0].length,y=l,f.length>=a));)m.lastIndex===u.index&&m.lastIndex++;return y===o.length?!h&&S(m,"")||C(f,""):C(f,O(o,y)),f.length>a?g(f,0,a):f}:"0".split(void 0,0).length?function(e,n){return void 0===e&&0===n?[]:i(t,this,e,n)}:t,[function(t,n){var r=c(this),a=void 0==t?void 0:p(t,e);return a?i(a,t,r,n):i(o,d(r),t,n)},function(e,r){var i=u(this),a=d(e),s=n(o,i,a,r,o!==t);if(s.done)return s.value;var c=l(i,RegExp),p=i.unicode,g=(i.ignoreCase?"i":"")+(i.multiline?"m":"")+(i.unicode?"u":"")+(_?"g":"y"),v=new c(_?"^(?:"+i.source+")":i,g),m=void 0===r?4294967295:r>>>0;if(0===m)return[];if(0===a.length)return null===y(v,a)?[a]:[];for(var b=0,E=0,S=[];E<a.length;){v.lastIndex=_?0:E;var T,k=y(v,_?O(a,E):a);if(null===k||(T=w(f(v.lastIndex+(_?E:0)),a.length))===b)E=h(a,E,p);else{if(C(S,O(a,b,E)),S.length===m)return S;for(var I=1;I<=k.length-1;I++)if(C(S,k[I]),S.length===m)return S;E=b=T}}return C(S,O(a,b)),S}]},!!b(function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}),_)},function(e,t,n){"use strict";var r=n(4),i=n(10),o=n(55).f,a=n(67),s=n(24),u=n(294),c=n(48),l=n(295),h=n(44),f=i("".startsWith),d=i("".slice),p=Math.min,g=l("startsWith");r({target:"String",proto:!0,forced:!(!h&&!g&&!!function(){var e=o(String.prototype,"startsWith");return e&&!e.writable}())&&!g},{startsWith:function(e){var t=s(c(this));u(e);var n=a(p(arguments.length>1?arguments[1]:void 0,t.length)),r=s(e);return f?f(t,r,n):d(t,n,n+r.length)===r}})},function(e,t,n){"use strict";var r=n(4),i=n(10),o=n(48),a=n(50),s=n(24),u=i("".slice),c=Math.max,l=Math.min;r({target:"String",proto:!0,forced:!"".substr||"b"!=="ab".substr(-1)},{substr:function(e,t){var n,r,i=s(o(this)),h=i.length,f=a(e);return f===1/0&&(f=0),f<0&&(f=c(h+f,0)),(n=void 0===t?h:a(t))<=0||n===1/0?"":f>=(r=l(f+n,h))?"":u(i,f,r)}})},function(e,t,n){"use strict";var r=n(4),i=n(159).trim;r({target:"String",proto:!0,forced:n(296)("trim")},{trim:function(){return i(this)}})},function(e,t,n){n(713);var r=n(4),i=n(407);r({target:"String",proto:!0,name:"trimEnd",forced:"".trimEnd!==i},{trimEnd:i})},function(e,t,n){var r=n(4),i=n(407);r({target:"String",proto:!0,name:"trimEnd",forced:"".trimRight!==i},{trimRight:i})},function(e,t,n){n(715);var r=n(4),i=n(408);r({target:"String",proto:!0,name:"trimStart",forced:"".trimStart!==i},{trimStart:i})},function(e,t,n){var r=n(4),i=n(408);r({target:"String",proto:!0,name:"trimStart",forced:"".trimLeft!==i},{trimLeft:i})},function(e,t,n){"use strict";var r=n(4),i=n(70);r({target:"String",proto:!0,forced:n(71)("anchor")},{anchor:function(e){return i(this,"a","name",e)}})},function(e,t,n){"use strict";var r=n(4),i=n(70);r({target:"String",proto:!0,forced:n(71)("big")},{big:function(){return i(this,"big","","")}})},function(e,t,n){"use strict";var r=n(4),i=n(70);r({target:"String",proto:!0,forced:n(71)("blink")},{blink:function(){return i(this,"blink","","")}})},function(e,t,n){"use strict";var r=n(4),i=n(70);r({target:"String",proto:!0,forced:n(71)("bold")},{bold:function(){return i(this,"b","","")}})},function(e,t,n){"use strict";var r=n(4),i=n(70);r({target:"String",proto:!0,forced:n(71)("fixed")},{fixed:function(){return i(this,"tt","","")}})},function(e,t,n){"use strict";var r=n(4),i=n(70);r({target:"String",proto:!0,forced:n(71)("fontcolor")},{fontcolor:function(e){return i(this,"font","color",e)}})},function(e,t,n){"use strict";var r=n(4),i=n(70);r({target:"String",proto:!0,forced:n(71)("fontsize")},{fontsize:function(e){return i(this,"font","size",e)}})},function(e,t,n){"use strict";var r=n(4),i=n(70);r({target:"String",proto:!0,forced:n(71)("italics")},{italics:function(){return i(this,"i","","")}})},function(e,t,n){"use strict";var r=n(4),i=n(70);r({target:"String",proto:!0,forced:n(71)("link")},{link:function(e){return i(this,"a","href",e)}})},function(e,t,n){"use strict";var r=n(4),i=n(70);r({target:"String",proto:!0,forced:n(71)("small")},{small:function(){return i(this,"small","","")}})},function(e,t,n){"use strict";var r=n(4),i=n(70);r({target:"String",proto:!0,forced:n(71)("strike")},{strike:function(){return i(this,"strike","","")}})},function(e,t,n){"use strict";var r=n(4),i=n(70);r({target:"String",proto:!0,forced:n(71)("sub")},{sub:function(){return i(this,"sub","","")}})},function(e,t,n){"use strict";var r=n(4),i=n(70);r({target:"String",proto:!0,forced:n(71)("sup")},{sup:function(){return i(this,"sup","","")}})},function(e,t,n){n(108)("Float32",function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){var r=n(50),i=RangeError;e.exports=function(e){var t=r(e);if(t<0)throw i("The argument can't be less than 0");return t}},function(e,t,n){n(108)("Float64",function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){n(108)("Int8",function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){n(108)("Int16",function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){n(108)("Int32",function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){n(108)("Uint8",function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){n(108)("Uint8",function(e){return function(t,n,r){return e(this,t,n,r)}},!0)},function(e,t,n){n(108)("Uint16",function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){n(108)("Uint32",function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){"use strict";var r=n(27),i=n(36),o=n(50),a=r.aTypedArray;(0,r.exportTypedArrayMethod)("at",function(e){var t=a(this),n=i(t),r=o(e),s=r>=0?r:n+r;return s<0||s>=n?void 0:t[s]})},function(e,t,n){"use strict";var r=n(10),i=n(27),o=r(n(381)),a=i.aTypedArray;(0,i.exportTypedArrayMethod)("copyWithin",function(e,t){return o(a(this),e,t,arguments.length>2?arguments[2]:void 0)})},function(e,t,n){"use strict";var r=n(27),i=n(53).every,o=r.aTypedArray;(0,r.exportTypedArrayMethod)("every",function(e){return i(o(this),e,arguments.length>1?arguments[1]:void 0)})},function(e,t,n){"use strict";var r=n(27),i=n(282),o=n(743),a=n(106),s=n(19),u=n(10),c=n(9),l=r.aTypedArray,h=r.exportTypedArrayMethod,f=u("".slice);h("fill",function(e){var t=arguments.length;l(this);var n="Big"===f(a(this),0,3)?o(e):+e;return s(i,this,n,t>1?arguments[1]:void 0,t>2?arguments[2]:void 0)},c(function(){var e=0;return new Int8Array(2).fill({valueOf:function(){return e++}}),1!==e}))},function(e,t,n){var r=n(206),i=TypeError;e.exports=function(e){var t=r(e,"number");if("number"==typeof t)throw i("Can't convert number to bigint");return BigInt(t)}},function(e,t,n){"use strict";var r=n(27),i=n(53).filter,o=n(745),a=r.aTypedArray;(0,r.exportTypedArrayMethod)("filter",function(e){var t=i(a(this),e,arguments.length>1?arguments[1]:void 0);return o(this,t)})},function(e,t,n){var r=n(746),i=n(234);e.exports=function(e,t){return r(i(e),t)}},function(e,t,n){var r=n(36);e.exports=function(e,t){for(var n=0,i=r(t),o=new e(i);i>n;)o[n]=t[n++];return o}},function(e,t,n){"use strict";var r=n(27),i=n(53).find,o=r.aTypedArray;(0,r.exportTypedArrayMethod)("find",function(e){return i(o(this),e,arguments.length>1?arguments[1]:void 0)})},function(e,t,n){"use strict";var r=n(27),i=n(53).findIndex,o=r.aTypedArray;(0,r.exportTypedArrayMethod)("findIndex",function(e){return i(o(this),e,arguments.length>1?arguments[1]:void 0)})},function(e,t,n){"use strict";var r=n(27),i=n(219).findLast,o=r.aTypedArray;(0,r.exportTypedArrayMethod)("findLast",function(e){return i(o(this),e,arguments.length>1?arguments[1]:void 0)})},function(e,t,n){"use strict";var r=n(27),i=n(219).findLastIndex,o=r.aTypedArray;(0,r.exportTypedArrayMethod)("findLastIndex",function(e){return i(o(this),e,arguments.length>1?arguments[1]:void 0)})},function(e,t,n){"use strict";var r=n(27),i=n(53).forEach,o=r.aTypedArray;(0,r.exportTypedArrayMethod)("forEach",function(e){i(o(this),e,arguments.length>1?arguments[1]:void 0)})},function(e,t,n){"use strict";var r=n(297);(0,n(27).exportTypedArrayStaticMethod)("from",n(410),r)},function(e,t,n){"use strict";var r=n(27),i=n(174).includes,o=r.aTypedArray;(0,r.exportTypedArrayMethod)("includes",function(e){return i(o(this),e,arguments.length>1?arguments[1]:void 0)})},function(e,t,n){"use strict";var r=n(27),i=n(174).indexOf,o=r.aTypedArray;(0,r.exportTypedArrayMethod)("indexOf",function(e){return i(o(this),e,arguments.length>1?arguments[1]:void 0)})},function(e,t,n){"use strict";var r=n(14),i=n(9),o=n(10),a=n(27),s=n(213),u=n(22)("iterator"),c=r.Uint8Array,l=o(s.values),h=o(s.keys),f=o(s.entries),d=a.aTypedArray,p=a.exportTypedArrayMethod,g=c&&c.prototype,y=!i(function(){g[u].call([1])}),v=!!g&&g.values&&g[u]===g.values&&"values"===g.values.name,m=function(){return l(d(this))};p("entries",function(){return f(d(this))},y),p("keys",function(){return h(d(this))},y),p("values",m,y||!v,{name:"values"}),p(u,m,y||!v,{name:"values"})},function(e,t,n){"use strict";var r=n(27),i=n(10),o=r.aTypedArray,a=r.exportTypedArrayMethod,s=i([].join);a("join",function(e){return s(o(this),e)})},function(e,t,n){"use strict";var r=n(27),i=n(79),o=n(384),a=r.aTypedArray;(0,r.exportTypedArrayMethod)("lastIndexOf",function(e){var t=arguments.length;return i(o,a(this),t>1?[e,arguments[1]]:[e])})},function(e,t,n){"use strict";var r=n(27),i=n(53).map,o=n(234),a=r.aTypedArray;(0,r.exportTypedArrayMethod)("map",function(e){return i(a(this),e,arguments.length>1?arguments[1]:void 0,function(e,t){return new(o(e))(t)})})},function(e,t,n){"use strict";var r=n(27),i=n(297),o=r.aTypedArrayConstructor;(0,r.exportTypedArrayStaticMethod)("of",function(){for(var e=0,t=arguments.length,n=new(o(this))(t);t>e;)n[e]=arguments[e++];return n},i)},function(e,t,n){"use strict";var r=n(27),i=n(220).left,o=r.aTypedArray;(0,r.exportTypedArrayMethod)("reduce",function(e){var t=arguments.length;return i(o(this),e,t,t>1?arguments[1]:void 0)})},function(e,t,n){"use strict";var r=n(27),i=n(220).right,o=r.aTypedArray;(0,r.exportTypedArrayMethod)("reduceRight",function(e){var t=arguments.length;return i(o(this),e,t,t>1?arguments[1]:void 0)})},function(e,t,n){"use strict";var r=n(27),i=r.aTypedArray,o=r.exportTypedArrayMethod,a=Math.floor;o("reverse",function(){for(var e,t=i(this).length,n=a(t/2),r=0;r<n;)e=this[r],this[r++]=this[--t],this[t]=e;return this})},function(e,t,n){"use strict";var r=n(14),i=n(19),o=n(27),a=n(36),s=n(409),u=n(32),c=n(9),l=r.RangeError,h=r.Int8Array,f=h&&h.prototype,d=f&&f.set,p=o.aTypedArray,g=o.exportTypedArrayMethod,y=!c(function(){var e=new Uint8ClampedArray(2);return i(d,e,{length:1,0:3},1),3!==e[1]}),v=y&&o.NATIVE_ARRAY_BUFFER_VIEWS&&c(function(){var e=new h(2);return e.set(1),e.set("2",1),0!==e[0]||2!==e[1]});g("set",function(e){p(this);var t=s(arguments.length>1?arguments[1]:void 0,1),n=u(e);if(y)return i(d,this,n,t);var r=this.length,o=a(n),c=0;if(o+t>r)throw l("Wrong length");for(;c<o;)this[t+c]=n[c++]},!y||v)},function(e,t,n){"use strict";var r=n(27),i=n(234),o=n(9),a=n(130),s=r.aTypedArray;(0,r.exportTypedArrayMethod)("slice",function(e,t){for(var n=a(s(this),e,t),r=i(this),o=0,u=n.length,c=new r(u);u>o;)c[o]=n[o++];return c},o(function(){new Int8Array(1).slice()}))},function(e,t,n){"use strict";var r=n(27),i=n(53).some,o=r.aTypedArray;(0,r.exportTypedArrayMethod)("some",function(e){return i(o(this),e,arguments.length>1?arguments[1]:void 0)})},function(e,t,n){"use strict";var r=n(14),i=n(10),o=n(9),a=n(49),s=n(283),u=n(27),c=n(385),l=n(386),h=n(101),f=n(284),d=u.aTypedArray,p=u.exportTypedArrayMethod,g=r.Uint16Array,y=g&&i(g.prototype.sort),v=!!y&&!(o(function(){y(new g(2),null)})&&o(function(){y(new g(2),{})})),m=!!y&&!o(function(){if(h)return h<74;if(c)return c<67;if(l)return!0;if(f)return f<602;var e,t,n=new g(516),r=Array(516);for(e=0;e<516;e++)t=e%4,n[e]=515-e,r[e]=e-2*t+3;for(y(n,function(e,t){return(e/4|0)-(t/4|0)}),e=0;e<516;e++)if(n[e]!==r[e])return!0});p("sort",function(e){return void 0!==e&&a(e),m?y(this,e):s(d(this),function(e){return function(t,n){return void 0!==e?+e(t,n)||0:n!==n?-1:t!==t?1:0===t&&0===n?1/t>0&&1/n<0?1:-1:t>n}}(e))},!m||v)},function(e,t,n){"use strict";var r=n(27),i=n(67),o=n(104),a=n(234),s=r.aTypedArray;(0,r.exportTypedArrayMethod)("subarray",function(e,t){var n=s(this),r=n.length,u=o(e,r);return new(a(n))(n.buffer,n.byteOffset+u*n.BYTES_PER_ELEMENT,i((void 0===t?r:o(t,r))-u))})},function(e,t,n){"use strict";var r=n(14),i=n(79),o=n(27),a=n(9),s=n(130),u=r.Int8Array,c=o.aTypedArray,l=o.exportTypedArrayMethod,h=[].toLocaleString,f=!!u&&a(function(){h.call(new u(1))});l("toLocaleString",function(){return i(h,f?s(c(this)):c(this),s(arguments))},a(function(){return[1,2].toLocaleString()!=new u([1,2]).toLocaleString()})||!a(function(){u.prototype.toLocaleString.call([1,2])}))},function(e,t,n){"use strict";var r=n(27).exportTypedArrayMethod,i=n(9),o=n(14),a=n(10),s=o.Uint8Array,u=s&&s.prototype||{},c=[].toString,l=a([].join);i(function(){c.call({})})&&(c=function(){return l(this)});var h=u.toString!=c;r("toString",c,h)},function(e,t,n){"use strict";var r=n(4),i=n(10),o=n(24),a=String.fromCharCode,s=i("".charAt),u=i(/./.exec),c=i("".slice),l=/^[\da-f]{2}$/i,h=/^[\da-f]{4}$/i;r({global:!0},{unescape:function(e){for(var t,n,r=o(e),i="",f=r.length,d=0;d<f;){if("%"===(t=s(r,d++)))if("u"===s(r,d)){if(n=c(r,d+1,d+5),u(h,n)){i+=a(parseInt(n,16)),d+=5;continue}}else if(n=c(r,d,d+2),u(l,n)){i+=a(parseInt(n,16)),d+=2;continue}i+=t}return i}})},function(e,t,n){n(772)},function(e,t,n){"use strict";var r,i=n(14),o=n(10),a=n(184),s=n(131),u=n(223),c=n(411),l=n(21),h=n(224),f=n(46).enforce,d=n(342),p=!i.ActiveXObject&&"ActiveXObject"in i,g=function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},y=u("WeakMap",g,c);if(d&&p){r=c.getConstructor(g,"WeakMap",!0),s.enable();var v=y.prototype,m=o(v.delete),b=o(v.has),_=o(v.get),w=o(v.set);a(v,{delete:function(e){if(l(e)&&!h(e)){var t=f(this);return t.frozen||(t.frozen=new r),m(this,e)||t.frozen.delete(e)}return m(this,e)},has:function(e){if(l(e)&&!h(e)){var t=f(this);return t.frozen||(t.frozen=new r),b(this,e)||t.frozen.has(e)}return b(this,e)},get:function(e){if(l(e)&&!h(e)){var t=f(this);return t.frozen||(t.frozen=new r),b(this,e)?_(this,e):t.frozen.get(e)}return _(this,e)},set:function(e,t){if(l(e)&&!h(e)){var n=f(this);n.frozen||(n.frozen=new r),b(this,e)?w(this,e,t):n.frozen.set(e,t)}else w(this,e,t);return this}})}},function(e,t,n){n(774)},function(e,t,n){"use strict";n(223)("WeakSet",function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},n(411))},function(e,t,n){var r=n(4),i=n(37),o=n(10),a=n(9),s=n(24),u=n(26),c=n(116),l=n(412).ctoi,h=/[^\d+/a-z]/i,f=/[\t\n\f\r ]+/g,d=/[=]+$/,p=i("atob"),g=String.fromCharCode,y=o("".charAt),v=o("".replace),m=o(h.exec),b=a(function(){return""!==p(" ")}),_=!a(function(){p("a")}),w=!b&&!_&&!a(function(){p()}),E=!b&&!_&&1!==p.length;r({global:!0,enumerable:!0,forced:b||_||w||E},{atob:function(e){if(c(arguments.length,1),w||E)return p(e);var t,n,r=v(s(e),f,""),o="",a=0,b=0;if(r.length%4==0&&(r=v(r,d,"")),r.length%4==1||m(h,r))throw new(i("DOMException"))("The string is not correctly encoded","InvalidCharacterError");for(;t=y(r,a++);)u(l,t)&&(n=b%4?64*n+l[t]:l[t],b++%4&&(o+=g(255&n>>(-2*b&6))));return o}})},function(e,t,n){var r=n(4),i=n(37),o=n(10),a=n(9),s=n(24),u=n(116),c=n(412).itoc,l=i("btoa"),h=o("".charAt),f=o("".charCodeAt),d=!!l&&!a(function(){l()}),p=!!l&&a(function(){return"bnVsbA=="!==l(null)}),g=!!l&&1!==l.length;r({global:!0,enumerable:!0,forced:d||p||g},{btoa:function(e){if(u(arguments.length,1),d||p||g)return l(s(e));for(var t,n,r=s(e),o="",a=0,y=c;h(r,a)||(y="=",a%1);){if((n=f(r,a+=.75))>255)throw new(i("DOMException"))("The string contains characters outside of the Latin1 range","InvalidCharacterError");o+=h(y,63&(t=t<<8|n)>>8-a%1*8)}return o}})},function(e,t,n){var r=n(14),i=n(370),o=n(371),a=n(383),s=n(62),u=function(e){if(e&&e.forEach!==a)try{s(e,"forEach",a)}catch(t){e.forEach=a}};for(var c in i)i[c]&&u(r[c]&&r[c].prototype);u(o)},function(e,t,n){"use strict";var r=n(4),i=n(779),o=n(37),a=n(9),s=n(68),u=n(77),c=n(33).f,l=n(39),h=n(190),f=n(26),d=n(94),p=n(18),g=n(380),y=n(183),v=n(413),m=n(217),b=n(46),_=n(17),w=n(44),E=o("Error"),S=o("DOMException")||function(){try{(new(o("MessageChannel")||i("worker_threads").MessageChannel)).port1.postMessage(new WeakMap)}catch(e){if("DATA_CLONE_ERR"==e.name&&25==e.code)return e.constructor}}(),C=S&&S.prototype,O=E.prototype,T=b.set,k=b.getterFor("DOMException"),I="stack"in E("DOMException"),A=function(e){return f(v,e)&&v[e].m?v[e].c:0},N=function(){d(this,R);var e=arguments.length,t=y(e<1?void 0:arguments[0]),n=y(e<2?void 0:arguments[1],"Error"),r=A(n);if(T(this,{type:"DOMException",name:n,message:t,code:r}),_||(this.name=n,this.message=t,this.code=r),I){var i=E(t);i.name="DOMException",c(this,"stack",u(1,m(i.stack,1)))}},R=N.prototype=s(O),P=function(e){return{enumerable:!0,configurable:!0,get:e}},x=function(e){return P(function(){return k(this)[e]})};_&&(h(R,"code",x("code")),h(R,"message",x("message")),h(R,"name",x("name"))),c(R,"constructor",u(1,N));var M=a(function(){return!(new S instanceof E)}),L=M||a(function(){return O.toString!==g||"2: 1"!==String(new S(1,2))}),D=M||a(function(){return 25!==new S(1,"DataCloneError").code}),j=M||25!==S.DATA_CLONE_ERR||25!==C.DATA_CLONE_ERR,U=w?L||D||j:M;r({global:!0,constructor:!0,forced:U},{DOMException:U?N:S});var F=o("DOMException"),H=F.prototype;for(var B in L&&(w||S===F)&&l(H,"toString",g),D&&_&&S===F&&h(H,"code",P(function(){return A(p(this).name)})),v)if(f(v,B)){var V=v[B],q=V.s,G=u(6,V.c);f(F,q)||c(F,q,G),f(H,q)||c(H,q,G)}},function(e,t,n){var r=n(115);e.exports=function(e){try{if(r)return Function('return require("'+e+'")')()}catch(t){}}},function(e,t,n){"use strict";var r=n(4),i=n(14),o=n(37),a=n(77),s=n(33).f,u=n(26),c=n(94),l=n(156),h=n(183),f=n(413),d=n(217),p=n(17),g=n(44),y=o("Error"),v=o("DOMException"),m=function(){c(this,b);var e=arguments.length,t=h(e<1?void 0:arguments[0]),n=h(e<2?void 0:arguments[1],"Error"),r=new v(t,n),i=y(t);return i.name="DOMException",s(r,"stack",a(1,d(i.stack,1))),l(r,this,m),r},b=m.prototype=v.prototype,_="stack"in y("DOMException"),w="stack"in new v(1,2),E=v&&p&&Object.getOwnPropertyDescriptor(i,"DOMException"),S=!!E&&!(E.writable&&E.configurable),C=_&&!S&&!w;r({global:!0,constructor:!0,forced:g||C},{DOMException:C?m:v});var O=o("DOMException"),T=O.prototype;if(T.constructor!==O)for(var k in g||s(T,"constructor",a(1,O)),f)if(u(f,k)){var I=f[k],A=I.s;u(O,A)||s(O,A,a(6,I.c))}},function(e,t,n){var r=n(37);n(69)(r("DOMException"),"DOMException")},function(e,t,n){n(783),n(784)},function(e,t,n){var r=n(4),i=n(14),o=n(229).clear;r({global:!0,bind:!0,enumerable:!0,forced:i.clearImmediate!==o},{clearImmediate:o})},function(e,t,n){var r=n(4),i=n(14),o=n(229).set;r({global:!0,bind:!0,enumerable:!0,forced:i.setImmediate!==o},{setImmediate:o})},function(e,t,n){var r=n(4),i=n(14),o=n(398),a=n(49),s=n(116),u=n(115),c=i.process;r({global:!0,enumerable:!0,dontCallGetSet:!0},{queueMicrotask:function(e){s(arguments.length,1),a(e);var t=u&&c.domain;o(t?t.bind(e):e)}})},function(e,t,n){var r,i=n(44),o=n(4),a=n(14),s=n(37),u=n(10),c=n(9),l=n(153),h=n(23),f=n(155),d=n(21),p=n(127),g=n(93),y=n(18),v=n(106),m=n(26),b=n(105),_=n(62),w=n(36),E=n(116),S=n(189),C=n(281),O=n(101),T=n(399),k=n(400),I=n(115),A=a.Object,N=a.Date,R=a.Error,P=a.EvalError,x=a.RangeError,M=a.ReferenceError,L=a.SyntaxError,D=a.TypeError,j=a.URIError,U=a.PerformanceMark,F=a.WebAssembly,H=F&&F.CompileError||R,B=F&&F.LinkError||R,V=F&&F.RuntimeError||R,q=s("DOMException"),G=s("Set"),z=s("Map"),W=z.prototype,K=u(W.has),Y=u(W.get),Q=u(W.set),$=u(G.prototype.add),X=s("Object","keys"),J=u([].push),Z=u((!0).valueOf),ee=u(1..valueOf),te=u("".valueOf),ne=u(N.prototype.getTime),re=l("structuredClone"),ie=function(e){return!c(function(){var t=new a.Set([7]),n=e(t),r=e(A(7));return n==t||!n.has(7)||"object"!=typeof r||7!=r})&&e},oe=function(e,t){return!c(function(){var n=new t,r=e({a:n,b:n});return!(r&&r.a===r.b&&r.a instanceof t&&r.a.stack===n.stack)})},ae=a.structuredClone,se=i||!oe(ae,R)||!oe(ae,q)||(r=ae,!!c(function(){var e=r(new a.AggregateError([1],re,{cause:3}));return"AggregateError"!=e.name||1!=e.errors[0]||e.message!=re||3!=e.cause})),ue=!ae&&ie(function(e){return new U(re,{detail:e}).detail}),ce=ie(ae)||ue,le=function(e){throw new q("Uncloneable type: "+e,"DataCloneError")},he=function(e,t){throw new q((t||"Cloning")+" of "+e+" cannot be properly polyfilled in this engine","DataCloneError")},fe=ae&&!c(function(){if(k&&O>92||I&&O>94||T&&O>97)return!1;var e=new ArrayBuffer(8),t=ae(e,{transfer:[e]});return 0!=e.byteLength||8!=t.byteLength});o({global:!0,enumerable:!0,sham:!fe,forced:se},{structuredClone:function(e){var t,n=E(arguments.length,1)>1&&null!=arguments[1]?y(arguments[1]):void 0,r=n?n.transfer:void 0;return void 0!==r&&function(e,t){if(!d(e))throw D("Transfer option cannot be converted to a sequence");var n=[];g(e,function(e){J(n,y(e))});var r,i,o,s,u,c,l=0,p=w(n);if(fe)for(s=ae(n,{transfer:n});l<p;)Q(t,n[l],s[l++]);else for(;l<p;){if(r=n[l++],K(t,r))throw new q("Duplicate transferable","DataCloneError");switch(i=v(r)){case"ImageBitmap":o=a.OffscreenCanvas,f(o)||he(i,"Transferring");try{(c=new o(r.width,r.height)).getContext("bitmaprenderer").transferFromImageBitmap(r),u=c.transferToImageBitmap()}catch(m){}break;case"AudioData":case"VideoFrame":h(r.clone)&&h(r.close)||he(i,"Transferring");try{u=r.clone(),r.close()}catch(m){}break;case"ArrayBuffer":case"MessagePort":case"OffscreenCanvas":case"ReadableStream":case"TransformStream":case"WritableStream":he(i,"Transferring")}if(void 0===u)throw new q("This object cannot be transferred: "+i,"DataCloneError");Q(t,r,u)}}(r,t=new z),function e(t,n){if(p(t)&&le("Symbol"),!d(t))return t;if(n){if(K(n,t))return Y(n,t)}else n=new z;var r,i,o,u,c,l,g,y,E,O,T=v(t),k=!1;switch(T){case"Array":o=[],k=!0;break;case"Object":o={},k=!0;break;case"Map":o=new z,k=!0;break;case"Set":o=new G,k=!0;break;case"RegExp":o=new RegExp(t.source,S(t));break;case"Error":switch(i=t.name){case"AggregateError":o=s("AggregateError")([]);break;case"EvalError":o=P();break;case"RangeError":o=x();break;case"ReferenceError":o=M();break;case"SyntaxError":o=L();break;case"TypeError":o=D();break;case"URIError":o=j();break;case"CompileError":o=H();break;case"LinkError":o=B();break;case"RuntimeError":o=V();break;default:o=R()}k=!0;break;case"DOMException":o=new q(t.message,t.name),k=!0;break;case"DataView":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"BigInt64Array":case"BigUint64Array":r=a[T],d(r)||he(T),o=new r(e(t.buffer,n),t.byteOffset,"DataView"===T?t.byteLength:t.length);break;case"DOMQuad":try{o=new DOMQuad(e(t.p1,n),e(t.p2,n),e(t.p3,n),e(t.p4,n))}catch(I){ce?o=ce(t):he(T)}break;case"FileList":if(r=a.DataTransfer,f(r)){for(u=new r,c=0,l=w(t);c<l;c++)u.items.add(e(t[c],n));o=u.files}else ce?o=ce(t):he(T);break;case"ImageData":try{o=new ImageData(e(t.data,n),t.width,t.height,{colorSpace:t.colorSpace})}catch(I){ce?o=ce(t):he(T)}break;default:if(ce)o=ce(t);else switch(T){case"BigInt":o=A(t.valueOf());break;case"Boolean":o=A(Z(t));break;case"Number":o=A(ee(t));break;case"String":o=A(te(t));break;case"Date":o=new N(ne(t));break;case"ArrayBuffer":(r=a.DataView)||"function"==typeof t.slice||he(T);try{if("function"==typeof t.slice)o=t.slice(0);else for(l=t.byteLength,o=new ArrayBuffer(l),E=new r(t),O=new r(o),c=0;c<l;c++)O.setUint8(c,E.getUint8(c))}catch(I){throw new q("ArrayBuffer is detached","DataCloneError")}break;case"SharedArrayBuffer":o=t;break;case"Blob":try{o=t.slice(0,t.size,t.type)}catch(I){he(T)}break;case"DOMPoint":case"DOMPointReadOnly":r=a[T];try{o=r.fromPoint?r.fromPoint(t):new r(t.x,t.y,t.z,t.w)}catch(I){he(T)}break;case"DOMRect":case"DOMRectReadOnly":r=a[T];try{o=r.fromRect?r.fromRect(t):new r(t.x,t.y,t.width,t.height)}catch(I){he(T)}break;case"DOMMatrix":case"DOMMatrixReadOnly":r=a[T];try{o=r.fromMatrix?r.fromMatrix(t):new r(t)}catch(I){he(T)}break;case"AudioData":case"VideoFrame":h(t.clone)||he(T);try{o=t.clone()}catch(I){le(T)}break;case"File":try{o=new File([t],t.name,t)}catch(I){he(T)}break;case"CryptoKey":case"GPUCompilationMessage":case"GPUCompilationInfo":case"ImageBitmap":case"RTCCertificate":case"WebAssembly.Module":he(T);default:le(T)}}if(Q(n,t,o),k)switch(T){case"Array":case"Object":for(g=X(t),c=0,l=w(g);c<l;c++)y=g[c],b(o,y,e(t[y],n));break;case"Map":t.forEach(function(t,r){Q(o,e(r,n),e(t,n))});break;case"Set":t.forEach(function(t){$(o,e(t,n))});break;case"Error":_(o,"message",e(t.message,n)),m(t,"cause")&&_(o,"cause",e(t.cause,n)),"AggregateError"==i&&(o.errors=e(t.errors,n));case"DOMException":C&&_(o,"stack",e(t.stack,n))}return o}(e,t)}})},function(e,t,n){n(788),n(789)},function(e,t,n){var r=n(4),i=n(14),o=n(414).setInterval;r({global:!0,bind:!0,forced:i.setInterval!==o},{setInterval:o})},function(e,t,n){var r=n(4),i=n(14),o=n(414).setTimeout;r({global:!0,bind:!0,forced:i.setTimeout!==o},{setTimeout:o})},function(e,t,n){n(791)},function(e,t,n){"use strict";n(279);var r,i=n(4),o=n(17),a=n(415),s=n(14),u=n(84),c=n(10),l=n(39),h=n(190),f=n(94),d=n(26),p=n(394),g=n(375),y=n(180),v=n(214).codeAt,m=n(792),b=n(24),_=n(69),w=n(116),E=n(416),S=n(46),C=S.set,O=S.getterFor("URL"),T=E.URLSearchParams,k=E.getState,I=s.URL,A=s.TypeError,N=s.parseInt,R=Math.floor,P=Math.pow,x=c("".charAt),M=c(/./.exec),L=c([].join),D=c(1..toString),j=c([].pop),U=c([].push),F=c("".replace),H=c([].shift),B=c("".split),V=c("".slice),q=c("".toLowerCase),G=c([].unshift),z=/[a-z]/i,W=/[\d+-.a-z]/i,K=/\d/,Y=/^0x/i,Q=/^[0-7]+$/,$=/^\d+$/,X=/^[\da-f]+$/i,J=/[\0\t\n\r #%/:<>?@[\\\]^|]/,Z=/[\0\t\n\r #/:<>?@[\\\]^|]/,ee=/^[\u0000-\u0020]+|[\u0000-\u0020]+$/g,te=/[\t\n\r]/g,ne=function(e){var t,n,r,i;if("number"==typeof e){for(t=[],n=0;n<4;n++)G(t,e%256),e=R(e/256);return L(t,".")}if("object"==typeof e){for(t="",r=function(e){for(var t=null,n=1,r=null,i=0,o=0;o<8;o++)0!==e[o]?(i>n&&(t=r,n=i),r=null,i=0):(null===r&&(r=o),++i);return i>n&&(t=r,n=i),t}(e),n=0;n<8;n++)i&&0===e[n]||(i&&(i=!1),r===n?(t+=n?":":"::",i=!0):(t+=D(e[n],16),n<7&&(t+=":")));return"["+t+"]"}return e},re={},ie=p({},re,{" ":1,'"':1,"<":1,">":1,"`":1}),oe=p({},ie,{"#":1,"?":1,"{":1,"}":1}),ae=p({},oe,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),se=function(e,t){var n=v(e,0);return n>32&&n<127&&!d(t,e)?e:encodeURIComponent(e)},ue={ftp:21,file:null,http:80,https:443,ws:80,wss:443},ce=function(e,t){var n;return 2==e.length&&M(z,x(e,0))&&(":"==(n=x(e,1))||!t&&"|"==n)},le=function(e){var t;return e.length>1&&ce(V(e,0,2))&&(2==e.length||"/"===(t=x(e,2))||"\\"===t||"?"===t||"#"===t)},he=function(e){return"."===e||"%2e"===q(e)},fe={},de={},pe={},ge={},ye={},ve={},me={},be={},_e={},we={},Ee={},Se={},Ce={},Oe={},Te={},ke={},Ie={},Ae={},Ne={},Re={},Pe={},xe=function e(t,n,r){var i,o,a,s=b(t);if(n){if(o=this.parse(s))throw A(o);this.searchParams=null}else{if(void 0!==r&&(i=new e(r,!0)),o=this.parse(s,null,i))throw A(o);(a=k(new T)).bindURL(this),this.searchParams=a}};xe.prototype={type:"URL",parse:function(e,t,n){var i,o,a,s,u,c=this,l=t||fe,h=0,f="",p=!1,v=!1,m=!1;for(e=b(e),t||(c.scheme="",c.username="",c.password="",c.host=null,c.port=null,c.path=[],c.query=null,c.fragment=null,c.cannotBeABaseURL=!1,e=F(e,ee,"")),e=F(e,te,""),i=g(e);h<=i.length;){switch(o=i[h],l){case fe:if(!o||!M(z,o)){if(t)return"Invalid scheme";l=pe;continue}f+=q(o),l=de;break;case de:if(o&&(M(W,o)||"+"==o||"-"==o||"."==o))f+=q(o);else{if(":"!=o){if(t)return"Invalid scheme";f="",l=pe,h=0;continue}if(t&&(c.isSpecial()!=d(ue,f)||"file"==f&&(c.includesCredentials()||null!==c.port)||"file"==c.scheme&&!c.host))return;if(c.scheme=f,t)return void(c.isSpecial()&&ue[c.scheme]==c.port&&(c.port=null));f="","file"==c.scheme?l=Oe:c.isSpecial()&&n&&n.scheme==c.scheme?l=ge:c.isSpecial()?l=be:"/"==i[h+1]?(l=ye,h++):(c.cannotBeABaseURL=!0,U(c.path,""),l=Ne)}break;case pe:if(!n||n.cannotBeABaseURL&&"#"!=o)return"Invalid scheme";if(n.cannotBeABaseURL&&"#"==o){c.scheme=n.scheme,c.path=y(n.path),c.query=n.query,c.fragment="",c.cannotBeABaseURL=!0,l=Pe;break}l="file"==n.scheme?Oe:ve;continue;case ge:if("/"!=o||"/"!=i[h+1]){l=ve;continue}l=_e,h++;break;case ye:if("/"==o){l=we;break}l=Ae;continue;case ve:if(c.scheme=n.scheme,o==r)c.username=n.username,c.password=n.password,c.host=n.host,c.port=n.port,c.path=y(n.path),c.query=n.query;else if("/"==o||"\\"==o&&c.isSpecial())l=me;else if("?"==o)c.username=n.username,c.password=n.password,c.host=n.host,c.port=n.port,c.path=y(n.path),c.query="",l=Re;else{if("#"!=o){c.username=n.username,c.password=n.password,c.host=n.host,c.port=n.port,c.path=y(n.path),c.path.length--,l=Ae;continue}c.username=n.username,c.password=n.password,c.host=n.host,c.port=n.port,c.path=y(n.path),c.query=n.query,c.fragment="",l=Pe}break;case me:if(!c.isSpecial()||"/"!=o&&"\\"!=o){if("/"!=o){c.username=n.username,c.password=n.password,c.host=n.host,c.port=n.port,l=Ae;continue}l=we}else l=_e;break;case be:if(l=_e,"/"!=o||"/"!=x(f,h+1))continue;h++;break;case _e:if("/"!=o&&"\\"!=o){l=we;continue}break;case we:if("@"==o){p&&(f="%40"+f),p=!0,a=g(f);for(var _=0;_<a.length;_++){var w=a[_];if(":"!=w||m){var E=se(w,ae);m?c.password+=E:c.username+=E}else m=!0}f=""}else if(o==r||"/"==o||"?"==o||"#"==o||"\\"==o&&c.isSpecial()){if(p&&""==f)return"Invalid authority";h-=g(f).length+1,f="",l=Ee}else f+=o;break;case Ee:case Se:if(t&&"file"==c.scheme){l=ke;continue}if(":"!=o||v){if(o==r||"/"==o||"?"==o||"#"==o||"\\"==o&&c.isSpecial()){if(c.isSpecial()&&""==f)return"Invalid host";if(t&&""==f&&(c.includesCredentials()||null!==c.port))return;if(s=c.parseHost(f))return s;if(f="",l=Ie,t)return;continue}"["==o?v=!0:"]"==o&&(v=!1),f+=o}else{if(""==f)return"Invalid host";if(s=c.parseHost(f))return s;if(f="",l=Ce,t==Se)return}break;case Ce:if(!M(K,o)){if(o==r||"/"==o||"?"==o||"#"==o||"\\"==o&&c.isSpecial()||t){if(""!=f){var S=N(f,10);if(S>65535)return"Invalid port";c.port=c.isSpecial()&&S===ue[c.scheme]?null:S,f=""}if(t)return;l=Ie;continue}return"Invalid port"}f+=o;break;case Oe:if(c.scheme="file","/"==o||"\\"==o)l=Te;else{if(!n||"file"!=n.scheme){l=Ae;continue}if(o==r)c.host=n.host,c.path=y(n.path),c.query=n.query;else if("?"==o)c.host=n.host,c.path=y(n.path),c.query="",l=Re;else{if("#"!=o){le(L(y(i,h),""))||(c.host=n.host,c.path=y(n.path),c.shortenPath()),l=Ae;continue}c.host=n.host,c.path=y(n.path),c.query=n.query,c.fragment="",l=Pe}}break;case Te:if("/"==o||"\\"==o){l=ke;break}n&&"file"==n.scheme&&!le(L(y(i,h),""))&&(ce(n.path[0],!0)?U(c.path,n.path[0]):c.host=n.host),l=Ae;continue;case ke:if(o==r||"/"==o||"\\"==o||"?"==o||"#"==o){if(!t&&ce(f))l=Ae;else if(""==f){if(c.host="",t)return;l=Ie}else{if(s=c.parseHost(f))return s;if("localhost"==c.host&&(c.host=""),t)return;f="",l=Ie}continue}f+=o;break;case Ie:if(c.isSpecial()){if(l=Ae,"/"!=o&&"\\"!=o)continue}else if(t||"?"!=o)if(t||"#"!=o){if(o!=r&&(l=Ae,"/"!=o))continue}else c.fragment="",l=Pe;else c.query="",l=Re;break;case Ae:if(o==r||"/"==o||"\\"==o&&c.isSpecial()||!t&&("?"==o||"#"==o)){if(".."===(u=q(u=f))||"%2e."===u||".%2e"===u||"%2e%2e"===u?(c.shortenPath(),"/"==o||"\\"==o&&c.isSpecial()||U(c.path,"")):he(f)?"/"==o||"\\"==o&&c.isSpecial()||U(c.path,""):("file"==c.scheme&&!c.path.length&&ce(f)&&(c.host&&(c.host=""),f=x(f,0)+":"),U(c.path,f)),f="","file"==c.scheme&&(o==r||"?"==o||"#"==o))for(;c.path.length>1&&""===c.path[0];)H(c.path);"?"==o?(c.query="",l=Re):"#"==o&&(c.fragment="",l=Pe)}else f+=se(o,oe);break;case Ne:"?"==o?(c.query="",l=Re):"#"==o?(c.fragment="",l=Pe):o!=r&&(c.path[0]+=se(o,re));break;case Re:t||"#"!=o?o!=r&&("'"==o&&c.isSpecial()?c.query+="%27":c.query+="#"==o?"%23":se(o,re)):(c.fragment="",l=Pe);break;case Pe:o!=r&&(c.fragment+=se(o,ie))}h++}},parseHost:function(e){var t,n,r;if("["==x(e,0)){if("]"!=x(e,e.length-1))return"Invalid host";if(!(t=function(e){var t,n,r,i,o,a,s,u=[0,0,0,0,0,0,0,0],c=0,l=null,h=0,f=function(){return x(e,h)};if(":"==f()){if(":"!=x(e,1))return;h+=2,l=++c}for(;f();){if(8==c)return;if(":"!=f()){for(t=n=0;n<4&&M(X,f());)t=16*t+N(f(),16),h++,n++;if("."==f()){if(0==n)return;if(h-=n,c>6)return;for(r=0;f();){if(i=null,r>0){if(!("."==f()&&r<4))return;h++}if(!M(K,f()))return;for(;M(K,f());){if(o=N(f(),10),null===i)i=o;else{if(0==i)return;i=10*i+o}if(i>255)return;h++}u[c]=256*u[c]+i,2!=++r&&4!=r||c++}if(4!=r)return;break}if(":"==f()){if(h++,!f())return}else if(f())return;u[c++]=t}else{if(null!==l)return;h++,l=++c}}if(null!==l)for(a=c-l,c=7;0!=c&&a>0;)s=u[c],u[c--]=u[l+a-1],u[l+--a]=s;else if(8!=c)return;return u}(V(e,1,-1))))return"Invalid host";this.host=t}else if(this.isSpecial()){if(e=m(e),M(J,e))return"Invalid host";if(null===(t=function(e){var t,n,r,i,o,a,s,u=B(e,".");if(u.length&&""==u[u.length-1]&&u.length--,(t=u.length)>4)return e;for(n=[],r=0;r<t;r++){if(""==(i=u[r]))return e;if(o=10,i.length>1&&"0"==x(i,0)&&(o=M(Y,i)?16:8,i=V(i,8==o?1:2)),""===i)a=0;else{if(!M(10==o?$:8==o?Q:X,i))return e;a=N(i,o)}U(n,a)}for(r=0;r<t;r++)if(a=n[r],r==t-1){if(a>=P(256,5-t))return null}else if(a>255)return null;for(s=j(n),r=0;r<n.length;r++)s+=n[r]*P(256,3-r);return s}(e)))return"Invalid host";this.host=t}else{if(M(Z,e))return"Invalid host";for(t="",n=g(e),r=0;r<n.length;r++)t+=se(n[r],re);this.host=t}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||"file"==this.scheme},includesCredentials:function(){return""!=this.username||""!=this.password},isSpecial:function(){return d(ue,this.scheme)},shortenPath:function(){var e=this.path,t=e.length;!t||"file"==this.scheme&&1==t&&ce(e[0],!0)||e.length--},serialize:function(){var e=this,t=e.scheme,n=e.username,r=e.password,i=e.host,o=e.port,a=e.path,s=e.query,u=e.fragment,c=t+":";return null!==i?(c+="//",e.includesCredentials()&&(c+=n+(r?":"+r:"")+"@"),c+=ne(i),null!==o&&(c+=":"+o)):"file"==t&&(c+="//"),c+=e.cannotBeABaseURL?a[0]:a.length?"/"+L(a,"/"):"",null!==s&&(c+="?"+s),null!==u&&(c+="#"+u),c},setHref:function(e){var t=this.parse(e);if(t)throw A(t);this.searchParams.update()},getOrigin:function(){var e=this.scheme,t=this.port;if("blob"==e)try{return new Me(e.path[0]).origin}catch(n){return"null"}return"file"!=e&&this.isSpecial()?e+"://"+ne(this.host)+(null!==t?":"+t:""):"null"},getProtocol:function(){return this.scheme+":"},setProtocol:function(e){this.parse(b(e)+":",fe)},getUsername:function(){return this.username},setUsername:function(e){var t=g(b(e));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var n=0;n<t.length;n++)this.username+=se(t[n],ae)}},getPassword:function(){return this.password},setPassword:function(e){var t=g(b(e));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var n=0;n<t.length;n++)this.password+=se(t[n],ae)}},getHost:function(){var e=this.host,t=this.port;return null===e?"":null===t?ne(e):ne(e)+":"+t},setHost:function(e){this.cannotBeABaseURL||this.parse(e,Ee)},getHostname:function(){var e=this.host;return null===e?"":ne(e)},setHostname:function(e){this.cannotBeABaseURL||this.parse(e,Se)},getPort:function(){var e=this.port;return null===e?"":b(e)},setPort:function(e){this.cannotHaveUsernamePasswordPort()||(""==(e=b(e))?this.port=null:this.parse(e,Ce))},getPathname:function(){var e=this.path;return this.cannotBeABaseURL?e[0]:e.length?"/"+L(e,"/"):""},setPathname:function(e){this.cannotBeABaseURL||(this.path=[],this.parse(e,Ie))},getSearch:function(){var e=this.query;return e?"?"+e:""},setSearch:function(e){""==(e=b(e))?this.query=null:("?"==x(e,0)&&(e=V(e,1)),this.query="",this.parse(e,Re)),this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var e=this.fragment;return e?"#"+e:""},setHash:function(e){""!=(e=b(e))?("#"==x(e,0)&&(e=V(e,1)),this.fragment="",this.parse(e,Pe)):this.fragment=null},update:function(){this.query=this.searchParams.serialize()||null}};var Me=function(e){var t=f(this,Le),n=w(arguments.length,1)>1?arguments[1]:void 0,r=C(t,new xe(e,!1,n));o||(t.href=r.serialize(),t.origin=r.getOrigin(),t.protocol=r.getProtocol(),t.username=r.getUsername(),t.password=r.getPassword(),t.host=r.getHost(),t.hostname=r.getHostname(),t.port=r.getPort(),t.pathname=r.getPathname(),t.search=r.getSearch(),t.searchParams=r.getSearchParams(),t.hash=r.getHash())},Le=Me.prototype,De=function(e,t){return{get:function(){return O(this)[e]()},set:t&&function(e){return O(this)[t](e)},configurable:!0,enumerable:!0}};if(o&&(h(Le,"href",De("serialize","setHref")),h(Le,"origin",De("getOrigin")),h(Le,"protocol",De("getProtocol","setProtocol")),h(Le,"username",De("getUsername","setUsername")),h(Le,"password",De("getPassword","setPassword")),h(Le,"host",De("getHost","setHost")),h(Le,"hostname",De("getHostname","setHostname")),h(Le,"port",De("getPort","setPort")),h(Le,"pathname",De("getPathname","setPathname")),h(Le,"search",De("getSearch","setSearch")),h(Le,"searchParams",De("getSearchParams")),h(Le,"hash",De("getHash","setHash"))),l(Le,"toJSON",function(){return O(this).serialize()},{enumerable:!0}),l(Le,"toString",function(){return O(this).serialize()},{enumerable:!0}),I){var je=I.createObjectURL,Ue=I.revokeObjectURL;je&&l(Me,"createObjectURL",u(je,I)),Ue&&l(Me,"revokeObjectURL",u(Ue,I))}_(Me,"URL"),i({global:!0,constructor:!0,forced:!a,sham:!o},{URL:Me})},function(e,t,n){"use strict";var r=n(10),i=/[^\0-\u007E]/,o=/[.\u3002\uFF0E\uFF61]/g,a="Overflow: input needs wider integers to process",s=RangeError,u=r(o.exec),c=Math.floor,l=String.fromCharCode,h=r("".charCodeAt),f=r([].join),d=r([].push),p=r("".replace),g=r("".split),y=r("".toLowerCase),v=function(e){return e+22+75*(e<26)},m=function(e,t,n){var r=0;for(e=n?c(e/700):e>>1,e+=c(e/t);e>455;)e=c(e/35),r+=36;return c(r+36*e/(e+38))},b=function(e){var t,n,r=[],i=(e=function(e){for(var t=[],n=0,r=e.length;n<r;){var i=h(e,n++);if(i>=55296&&i<=56319&&n<r){var o=h(e,n++);56320==(64512&o)?d(t,((1023&i)<<10)+(1023&o)+65536):(d(t,i),n--)}else d(t,i)}return t}(e)).length,o=128,u=0,p=72;for(t=0;t<e.length;t++)(n=e[t])<128&&d(r,l(n));var g=r.length,y=g;for(g&&d(r,"-");y<i;){var b=2147483647;for(t=0;t<e.length;t++)(n=e[t])>=o&&n<b&&(b=n);var _=y+1;if(b-o>c((2147483647-u)/_))throw s(a);for(u+=(b-o)*_,o=b,t=0;t<e.length;t++){if((n=e[t])<o&&++u>2147483647)throw s(a);if(n==o){for(var w=u,E=36;;){var S=E<=p?1:E>=p+26?26:E-p;if(w<S)break;var C=w-S,O=36-S;d(r,l(v(S+C%O))),w=c(C/O),E+=36}d(r,l(v(w))),p=m(u,_,y==g),u=0,y++}}u++,o++}return f(r,"")};e.exports=function(e){var t,n,r=[],a=g(p(y(e),o,"."),".");for(t=0;t<a.length;t++)n=a[t],d(r,u(i,n)?"xn--"+b(n):n);return f(r,".")}},function(e,t,n){"use strict";var r=n(4),i=n(19);r({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return i(URL.prototype.toString,this)}})},function(e,t,n){n(416)},function(e,t,n){var r=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(R){u=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var i=t&&t.prototype instanceof y?t:y,o=Object.create(i.prototype),a=new I(r||[]);return o._invoke=function(e,t,n){var r=h;return function(i,o){if(r===d)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw o;return N()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=O(a,n);if(s){if(s===g)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===h)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var u=l(e,t,n);if("normal"===u.type){if(r=n.done?p:f,u.arg===g)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=p,n.method="throw",n.arg=u.arg)}}}(e,n,a),o}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(R){return{type:"throw",arg:R}}}e.wrap=c;var h="suspendedStart",f="suspendedYield",d="executing",p="completed",g={};function y(){}function v(){}function m(){}var b={};u(b,o,function(){return this});var _=Object.getPrototypeOf,w=_&&_(_(A([])));w&&w!==n&&r.call(w,o)&&(b=w);var E=m.prototype=y.prototype=Object.create(b);function S(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function C(e,t){var n;this._invoke=function(i,o){function a(){return new t(function(n,a){!function n(i,o,a,s){var u=l(e[i],e,o);if("throw"!==u.type){var c=u.arg,h=c.value;return h&&"object"===typeof h&&r.call(h,"__await")?t.resolve(h.__await).then(function(e){n("next",e,a,s)},function(e){n("throw",e,a,s)}):t.resolve(h).then(function(e){c.value=e,a(c)},function(e){return n("throw",e,a,s)})}s(u.arg)}(i,o,n,a)})}return n=n?n.then(a,a):a()}}function O(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,O(e,n),"throw"===n.method))return g;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return g}var i=l(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,g;var o=i.arg;return o?o.done?(n[e.resultName]=o.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,g):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function A(e){if(e){var n=e[o];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}return{next:N}}function N(){return{value:t,done:!0}}return v.prototype=m,u(E,"constructor",m),u(m,"constructor",v),v.displayName=u(m,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,u(e,s,"GeneratorFunction")),e.prototype=Object.create(E),e},e.awrap=function(e){return{__await:e}},S(C.prototype),u(C.prototype,a,function(){return this}),e.AsyncIterator=C,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new C(c(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then(function(e){return e.done?e.value:a.next()})},S(E),u(E,s,"Generator"),u(E,o,function(){return this}),u(E,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=A,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(k),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var u=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(u&&c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,g):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),k(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;k(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:A(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),g}},e}(e.exports);try{regeneratorRuntime=r}catch(i){"object"===typeof globalThis?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}},function(e,t,n){"use strict";var r=n(204),i="function"===typeof Symbol&&Symbol.for,o=i?Symbol.for("react.element"):60103,a=i?Symbol.for("react.portal"):60106,s=i?Symbol.for("react.fragment"):60107,u=i?Symbol.for("react.strict_mode"):60108,c=i?Symbol.for("react.profiler"):60114,l=i?Symbol.for("react.provider"):60109,h=i?Symbol.for("react.context"):60110,f=i?Symbol.for("react.forward_ref"):60112,d=i?Symbol.for("react.suspense"):60113,p=i?Symbol.for("react.memo"):60115,g=i?Symbol.for("react.lazy"):60116,y="function"===typeof Symbol&&Symbol.iterator;function v(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b={};function _(e,t,n){this.props=e,this.context=t,this.refs=b,this.updater=n||m}function w(){}function E(e,t,n){this.props=e,this.context=t,this.refs=b,this.updater=n||m}_.prototype.isReactComponent={},_.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(v(85));this.updater.enqueueSetState(this,e,t,"setState")},_.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},w.prototype=_.prototype;var S=E.prototype=new w;S.constructor=E,r(S,_.prototype),S.isPureReactComponent=!0;var C={current:null},O=Object.prototype.hasOwnProperty,T={key:!0,ref:!0,__self:!0,__source:!0};function k(e,t,n){var r,i={},a=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)O.call(t,r)&&!T.hasOwnProperty(r)&&(i[r]=t[r]);var u=arguments.length-2;if(1===u)i.children=n;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];i.children=c}if(e&&e.defaultProps)for(r in u=e.defaultProps)void 0===i[r]&&(i[r]=u[r]);return{$$typeof:o,type:e,key:a,ref:s,props:i,_owner:C.current}}function I(e){return"object"===typeof e&&null!==e&&e.$$typeof===o}var A=/\/+/g,N=[];function R(e,t,n,r){if(N.length){var i=N.pop();return i.result=e,i.keyPrefix=t,i.func=n,i.context=r,i.count=0,i}return{result:e,keyPrefix:t,func:n,context:r,count:0}}function P(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>N.length&&N.push(e)}function x(e,t,n){return null==e?0:function e(t,n,r,i){var s=typeof t;"undefined"!==s&&"boolean"!==s||(t=null);var u=!1;if(null===t)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(t.$$typeof){case o:case a:u=!0}}if(u)return r(i,t,""===n?"."+M(t,0):n),1;if(u=0,n=""===n?".":n+":",Array.isArray(t))for(var c=0;c<t.length;c++){var l=n+M(s=t[c],c);u+=e(s,l,r,i)}else if(l=null===t||"object"!==typeof t?null:"function"===typeof(l=y&&t[y]||t["@@iterator"])?l:null,"function"===typeof l)for(t=l.call(t),c=0;!(s=t.next()).done;)u+=e(s=s.value,l=n+M(s,c++),r,i);else if("object"===s)throw r=""+t,Error(v(31,"[object Object]"===r?"object with keys {"+Object.keys(t).join(", ")+"}":r,""));return u}(e,"",t,n)}function M(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,function(e){return t[e]})}(e.key):t.toString(36)}function L(e,t){e.func.call(e.context,t,e.count++)}function D(e,t,n){var r=e.result,i=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?j(e,r,n,function(e){return e}):null!=e&&(I(e)&&(e=function(e,t){return{$$typeof:o,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(e,i+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(A,"$&/")+"/")+n)),r.push(e))}function j(e,t,n,r,i){var o="";null!=n&&(o=(""+n).replace(A,"$&/")+"/"),x(e,D,t=R(t,o,r,i)),P(t)}var U={current:null};function F(){var e=U.current;if(null===e)throw Error(v(321));return e}var H={ReactCurrentDispatcher:U,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:C,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:function(e,t,n){if(null==e)return e;var r=[];return j(e,r,null,t,n),r},forEach:function(e,t,n){if(null==e)return e;x(e,L,t=R(null,null,t,n)),P(t)},count:function(e){return x(e,function(){return null},null)},toArray:function(e){var t=[];return j(e,t,null,function(e){return e}),t},only:function(e){if(!I(e))throw Error(v(143));return e}},t.Component=_,t.Fragment=s,t.Profiler=c,t.PureComponent=E,t.StrictMode=u,t.Suspense=d,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=H,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(v(267,e));var i=r({},e.props),a=e.key,s=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,u=C.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)O.call(t,l)&&!T.hasOwnProperty(l)&&(i[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)i.children=n;else if(1<l){c=Array(l);for(var h=0;h<l;h++)c[h]=arguments[h+2];i.children=c}return{$$typeof:o,type:e.type,key:a,ref:s,props:i,_owner:u}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:h,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:l,_context:e},e.Consumer=e},t.createElement=k,t.createFactory=function(e){var t=k.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:f,render:e}},t.isValidElement=I,t.lazy=function(e){return{$$typeof:g,_ctor:e,_status:-1,_result:null}},t.memo=function(e,t){return{$$typeof:p,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return F().useCallback(e,t)},t.useContext=function(e,t){return F().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return F().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return F().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return F().useLayoutEffect(e,t)},t.useMemo=function(e,t){return F().useMemo(e,t)},t.useReducer=function(e,t,n){return F().useReducer(e,t,n)},t.useRef=function(e){return F().useRef(e)},t.useState=function(e){return F().useState(e)},t.version="16.13.1"},function(e,t,n){"use strict";var r=n(0),i=n(204),o=n(798);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(a(227));var s=!1,u=null,c=!1,l=null,h={onError:function(e){s=!0,u=e}};function f(e,t,n,r,i,o,a,c,l){s=!1,u=null,function(e,t,n,r,i,o,a,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}.apply(h,arguments)}var d=null,p=null,g=null;function y(e,t,n){var r=e.type||"unknown-event";e.currentTarget=g(n),function(e,t,n,r,i,o,h,d,p){if(f.apply(this,arguments),s){if(!s)throw Error(a(198));var g=u;s=!1,u=null,c||(c=!0,l=g)}}(r,t,void 0,e),e.currentTarget=null}var v=null,m={};function b(){if(v)for(var e in m){var t=m[e],n=v.indexOf(e);if(!(-1<n))throw Error(a(96,e));if(!w[n]){if(!t.extractEvents)throw Error(a(97,e));for(var r in w[n]=t,n=t.eventTypes){var i=void 0,o=n[r],s=t,u=r;if(E.hasOwnProperty(u))throw Error(a(99,u));E[u]=o;var c=o.phasedRegistrationNames;if(c){for(i in c)c.hasOwnProperty(i)&&_(c[i],s,u);i=!0}else o.registrationName?(_(o.registrationName,s,u),i=!0):i=!1;if(!i)throw Error(a(98,r,e))}}}}function _(e,t,n){if(S[e])throw Error(a(100,e));S[e]=t,C[e]=t.eventTypes[n].dependencies}var w=[],E={},S={},C={};function O(e){var t,n=!1;for(t in e)if(e.hasOwnProperty(t)){var r=e[t];if(!m.hasOwnProperty(t)||m[t]!==r){if(m[t])throw Error(a(102,t));m[t]=r,n=!0}}n&&b()}var T=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),k=null,I=null,A=null;function N(e){if(e=p(e)){if("function"!==typeof k)throw Error(a(280));var t=e.stateNode;t&&(t=d(t),k(e.stateNode,e.type,t))}}function R(e){I?A?A.push(e):A=[e]:I=e}function P(){if(I){var e=I,t=A;if(A=I=null,N(e),t)for(e=0;e<t.length;e++)N(t[e])}}function x(e,t){return e(t)}function M(e,t,n,r,i){return e(t,n,r,i)}function L(){}var D=x,j=!1,U=!1;function F(){null===I&&null===A||(L(),P())}function H(e,t,n){if(U)return e(t,n);U=!0;try{return D(e,t,n)}finally{U=!1,F()}}var B=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,V=Object.prototype.hasOwnProperty,q={},G={};function z(e,t,n,r,i,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o}var W={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){W[e]=new z(e,0,!1,e,null,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];W[t]=new z(t,1,!1,e[1],null,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){W[e]=new z(e,2,!1,e.toLowerCase(),null,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){W[e]=new z(e,2,!1,e,null,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){W[e]=new z(e,3,!1,e.toLowerCase(),null,!1)}),["checked","multiple","muted","selected"].forEach(function(e){W[e]=new z(e,3,!0,e,null,!1)}),["capture","download"].forEach(function(e){W[e]=new z(e,4,!1,e,null,!1)}),["cols","rows","size","span"].forEach(function(e){W[e]=new z(e,6,!1,e,null,!1)}),["rowSpan","start"].forEach(function(e){W[e]=new z(e,5,!1,e.toLowerCase(),null,!1)});var K=/[\-:]([a-z])/g;function Y(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(K,Y);W[t]=new z(t,1,!1,e,null,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(K,Y);W[t]=new z(t,1,!1,e,"http://www.w3.org/1999/xlink",!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(K,Y);W[t]=new z(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1)}),["tabIndex","crossOrigin"].forEach(function(e){W[e]=new z(e,1,!1,e.toLowerCase(),null,!1)}),W.xlinkHref=new z("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach(function(e){W[e]=new z(e,1,!1,e.toLowerCase(),null,!0)});var Q=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function $(e,t,n,r){var i=W.hasOwnProperty(t)?W[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!V.call(G,e)||!V.call(q,e)&&(B.test(e)?G[e]=!0:(q[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}Q.hasOwnProperty("ReactCurrentDispatcher")||(Q.ReactCurrentDispatcher={current:null}),Q.hasOwnProperty("ReactCurrentBatchConfig")||(Q.ReactCurrentBatchConfig={suspense:null});var X=/^(.*)[\\\/]/,J="function"===typeof Symbol&&Symbol.for,Z=J?Symbol.for("react.element"):60103,ee=J?Symbol.for("react.portal"):60106,te=J?Symbol.for("react.fragment"):60107,ne=J?Symbol.for("react.strict_mode"):60108,re=J?Symbol.for("react.profiler"):60114,ie=J?Symbol.for("react.provider"):60109,oe=J?Symbol.for("react.context"):60110,ae=J?Symbol.for("react.concurrent_mode"):60111,se=J?Symbol.for("react.forward_ref"):60112,ue=J?Symbol.for("react.suspense"):60113,ce=J?Symbol.for("react.suspense_list"):60120,le=J?Symbol.for("react.memo"):60115,he=J?Symbol.for("react.lazy"):60116,fe=J?Symbol.for("react.block"):60121,de="function"===typeof Symbol&&Symbol.iterator;function pe(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=de&&e[de]||e["@@iterator"])?e:null}function ge(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case te:return"Fragment";case ee:return"Portal";case re:return"Profiler";case ne:return"StrictMode";case ue:return"Suspense";case ce:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case oe:return"Context.Consumer";case ie:return"Context.Provider";case se:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case le:return ge(e.type);case fe:return ge(e.render);case he:if(e=1===e._status?e._result:null)return ge(e)}return null}function ye(e){var t="";do{e:switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break e;default:var r=e._debugOwner,i=e._debugSource,o=ge(e.type);n=null,r&&(n=ge(r.type)),r=o,o="",i?o=" (at "+i.fileName.replace(X,"")+":"+i.lineNumber+")":n&&(o=" (created by "+n+")"),n="\n    in "+(r||"Unknown")+o}t+=n,e=e.return}while(e);return t}function ve(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function me(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function be(e){e._valueTracker||(e._valueTracker=function(e){var t=me(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function _e(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=me(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function we(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=ve(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Se(e,t){null!=(t=t.checked)&&$(e,"checked",t,!1)}function Ce(e,t){Se(e,t);var n=ve(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?Te(e,t.type,n):t.hasOwnProperty("defaultValue")&&Te(e,t.type,ve(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Oe(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function Te(e,t,n){"number"===t&&e.ownerDocument.activeElement===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function ke(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,function(e){null!=e&&(t+=e)}),t}(t.children))&&(e.children=t),e}function Ie(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ve(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function Ae(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ne(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:ve(n)}}function Re(e,t){var n=ve(t.value),r=ve(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function Pe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var xe="http://www.w3.org/1999/xhtml",Me="http://www.w3.org/2000/svg";function Le(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function De(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?Le(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var je,Ue,Fe=(Ue=function(e,t){if(e.namespaceURI!==Me||"innerHTML"in e)e.innerHTML=t;else{for((je=je||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=je.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return Ue(e,t)})}:Ue);function He(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}function Be(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ve={animationend:Be("Animation","AnimationEnd"),animationiteration:Be("Animation","AnimationIteration"),animationstart:Be("Animation","AnimationStart"),transitionend:Be("Transition","TransitionEnd")},qe={},Ge={};function ze(e){if(qe[e])return qe[e];if(!Ve[e])return e;var t,n=Ve[e];for(t in n)if(n.hasOwnProperty(t)&&t in Ge)return qe[e]=n[t];return e}T&&(Ge=document.createElement("div").style,"AnimationEvent"in window||(delete Ve.animationend.animation,delete Ve.animationiteration.animation,delete Ve.animationstart.animation),"TransitionEvent"in window||delete Ve.transitionend.transition);var We=ze("animationend"),Ke=ze("animationiteration"),Ye=ze("animationstart"),Qe=ze("transitionend"),$e="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Xe=new("function"===typeof WeakMap?WeakMap:Map);function Je(e){var t=Xe.get(e);return void 0===t&&(t=new Map,Xe.set(e,t)),t}function Ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).effectTag)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function et(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function tt(e){if(Ze(e)!==e)throw Error(a(188))}function nt(e){if(!(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ze(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return tt(i),e;if(o===r)return tt(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function rt(e,t){if(null==t)throw Error(a(30));return null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function it(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}var ot=null;function at(e){if(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(t))for(var r=0;r<t.length&&!e.isPropagationStopped();r++)y(e,t[r],n[r]);else t&&y(e,t,n);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}function st(e){if(null!==e&&(ot=rt(ot,e)),e=ot,ot=null,e){if(it(e,at),ot)throw Error(a(95));if(c)throw e=l,c=!1,l=null,e}}function ut(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function ct(e){if(!T)return!1;var t=(e="on"+e)in document;return t||((t=document.createElement("div")).setAttribute(e,"return;"),t="function"===typeof t[e]),t}var lt=[];function ht(e){e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,10>lt.length&&lt.push(e)}function ft(e,t,n,r){if(lt.length){var i=lt.pop();return i.topLevelType=e,i.eventSystemFlags=r,i.nativeEvent=t,i.targetInst=n,i}return{topLevelType:e,eventSystemFlags:r,nativeEvent:t,targetInst:n,ancestors:[]}}function dt(e){var t=e.targetInst,n=t;do{if(!n){e.ancestors.push(n);break}var r=n;if(3===r.tag)r=r.stateNode.containerInfo;else{for(;r.return;)r=r.return;r=3!==r.tag?null:r.stateNode.containerInfo}if(!r)break;5!==(t=n.tag)&&6!==t||e.ancestors.push(n),n=An(r)}while(n);for(n=0;n<e.ancestors.length;n++){t=e.ancestors[n];var i=ut(e.nativeEvent);r=e.topLevelType;var o=e.nativeEvent,a=e.eventSystemFlags;0===n&&(a|=64);for(var s=null,u=0;u<w.length;u++){var c=w[u];c&&(c=c.extractEvents(r,t,o,i,a))&&(s=rt(s,c))}st(s)}}function pt(e,t,n){if(!n.has(e)){switch(e){case"scroll":Yt(t,"scroll",!0);break;case"focus":case"blur":Yt(t,"focus",!0),Yt(t,"blur",!0),n.set("blur",null),n.set("focus",null);break;case"cancel":case"close":ct(e)&&Yt(t,e,!0);break;case"invalid":case"submit":case"reset":break;default:-1===$e.indexOf(e)&&Kt(e,t)}n.set(e,null)}}var gt,yt,vt,mt=!1,bt=[],_t=null,wt=null,Et=null,St=new Map,Ct=new Map,Ot=[],Tt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),kt="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" ");function It(e,t,n,r,i){return{blockedOn:e,topLevelType:t,eventSystemFlags:32|n,nativeEvent:i,container:r}}function At(e,t){switch(e){case"focus":case"blur":_t=null;break;case"dragenter":case"dragleave":wt=null;break;case"mouseover":case"mouseout":Et=null;break;case"pointerover":case"pointerout":St.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ct.delete(t.pointerId)}}function Nt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e=It(t,n,r,i,o),null!==t&&(null!==(t=Nn(t))&&yt(t)),e):(e.eventSystemFlags|=r,e)}function Rt(e){var t=An(e.target);if(null!==t){var n=Ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=et(n)))return e.blockedOn=t,void o.unstable_runWithPriority(e.priority,function(){vt(n)})}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Pt(e){if(null!==e.blockedOn)return!1;var t=$t(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);if(null!==t){var n=Nn(t);return null!==n&&yt(n),e.blockedOn=t,!1}return!0}function xt(e,t,n){Pt(e)&&n.delete(t)}function Mt(){for(mt=!1;0<bt.length;){var e=bt[0];if(null!==e.blockedOn){null!==(e=Nn(e.blockedOn))&&gt(e);break}var t=$t(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);null!==t?e.blockedOn=t:bt.shift()}null!==_t&&Pt(_t)&&(_t=null),null!==wt&&Pt(wt)&&(wt=null),null!==Et&&Pt(Et)&&(Et=null),St.forEach(xt),Ct.forEach(xt)}function Lt(e,t){e.blockedOn===t&&(e.blockedOn=null,mt||(mt=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,Mt)))}function Dt(e){function t(t){return Lt(t,e)}if(0<bt.length){Lt(bt[0],e);for(var n=1;n<bt.length;n++){var r=bt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==_t&&Lt(_t,e),null!==wt&&Lt(wt,e),null!==Et&&Lt(Et,e),St.forEach(t),Ct.forEach(t),n=0;n<Ot.length;n++)(r=Ot[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Ot.length&&null===(n=Ot[0]).blockedOn;)Rt(n),null===n.blockedOn&&Ot.shift()}var jt={},Ut=new Map,Ft=new Map,Ht=["abort","abort",We,"animationEnd",Ke,"animationIteration",Ye,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Qe,"transitionEnd","waiting","waiting"];function Bt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1],o="on"+(i[0].toUpperCase()+i.slice(1));o={phasedRegistrationNames:{bubbled:o,captured:o+"Capture"},dependencies:[r],eventPriority:t},Ft.set(r,t),Ut.set(r,o),jt[i]=o}}Bt("blur blur cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focus focus input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Bt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Bt(Ht,2);for(var Vt="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),qt=0;qt<Vt.length;qt++)Ft.set(Vt[qt],0);var Gt=o.unstable_UserBlockingPriority,zt=o.unstable_runWithPriority,Wt=!0;function Kt(e,t){Yt(t,e,!1)}function Yt(e,t,n){var r=Ft.get(t);switch(void 0===r?2:r){case 0:r=function(e,t,n,r){j||L();var i=Qt,o=j;j=!0;try{M(i,e,t,n,r)}finally{(j=o)||F()}}.bind(null,t,1,e);break;case 1:r=function(e,t,n,r){zt(Gt,Qt.bind(null,e,t,n,r))}.bind(null,t,1,e);break;default:r=Qt.bind(null,t,1,e)}n?e.addEventListener(t,r,!0):e.addEventListener(t,r,!1)}function Qt(e,t,n,r){if(Wt)if(0<bt.length&&-1<Tt.indexOf(e))e=It(null,e,t,n,r),bt.push(e);else{var i=$t(e,t,n,r);if(null===i)At(e,r);else if(-1<Tt.indexOf(e))e=It(i,e,t,n,r),bt.push(e);else if(!function(e,t,n,r,i){switch(t){case"focus":return _t=Nt(_t,e,t,n,r,i),!0;case"dragenter":return wt=Nt(wt,e,t,n,r,i),!0;case"mouseover":return Et=Nt(Et,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return St.set(o,Nt(St.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Ct.set(o,Nt(Ct.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r)){At(e,r),e=ft(e,r,null,t);try{H(dt,e)}finally{ht(e)}}}}function $t(e,t,n,r){if(null!==(n=An(n=ut(r)))){var i=Ze(n);if(null===i)n=null;else{var o=i.tag;if(13===o){if(null!==(n=et(i)))return n;n=null}else if(3===o){if(i.stateNode.hydrate)return 3===i.tag?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}e=ft(e,r,n,t);try{H(dt,e)}finally{ht(e)}return null}var Xt={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Jt=["Webkit","ms","Moz","O"];function Zt(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||Xt.hasOwnProperty(e)&&Xt[e]?(""+t).trim():t+"px"}function en(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=Zt(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(Xt).forEach(function(e){Jt.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Xt[t]=Xt[e]})});var tn=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function nn(e,t){if(t){if(tn[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e,""));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if(!("object"===typeof t.dangerouslySetInnerHTML&&"__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62,""))}}function rn(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var on=xe;function an(e,t){var n=Je(e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument);t=C[t];for(var r=0;r<t.length;r++)pt(t[r],e,n)}function sn(){}function un(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function cn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ln(e,t){var n,r=cn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cn(r)}}function hn(){for(var e=window,t=un();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=un((e=t.contentWindow).document)}return t}function fn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var dn="$",pn="/$",gn="$?",yn="$!",vn=null,mn=null;function bn(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function _n(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var wn="function"===typeof setTimeout?setTimeout:void 0,En="function"===typeof clearTimeout?clearTimeout:void 0;function Sn(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Cn(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if(n===dn||n===yn||n===gn){if(0===t)return e;t--}else n===pn&&t++}e=e.previousSibling}return null}var On=Math.random().toString(36).slice(2),Tn="__reactInternalInstance$"+On,kn="__reactEventHandlers$"+On,In="__reactContainere$"+On;function An(e){var t=e[Tn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[In]||n[Tn]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Cn(e);null!==e;){if(n=e[Tn])return n;e=Cn(e)}return t}n=(e=n).parentNode}return null}function Nn(e){return!(e=e[Tn]||e[In])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Rn(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function Pn(e){return e[kn]||null}function xn(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function Mn(e,t){var n=e.stateNode;if(!n)return null;var r=d(n);if(!r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}function Ln(e,t,n){(t=Mn(e,n.dispatchConfig.phasedRegistrationNames[t]))&&(n._dispatchListeners=rt(n._dispatchListeners,t),n._dispatchInstances=rt(n._dispatchInstances,e))}function Dn(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var t=e._targetInst,n=[];t;)n.push(t),t=xn(t);for(t=n.length;0<t--;)Ln(n[t],"captured",e);for(t=0;t<n.length;t++)Ln(n[t],"bubbled",e)}}function jn(e,t,n){e&&n&&n.dispatchConfig.registrationName&&(t=Mn(e,n.dispatchConfig.registrationName))&&(n._dispatchListeners=rt(n._dispatchListeners,t),n._dispatchInstances=rt(n._dispatchInstances,e))}function Un(e){e&&e.dispatchConfig.registrationName&&jn(e._targetInst,null,e)}function Fn(e){it(e,Dn)}var Hn=null,Bn=null,Vn=null;function qn(){if(Vn)return Vn;var e,t,n=Bn,r=n.length,i="value"in Hn?Hn.value:Hn.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return Vn=i.slice(e,1<t?1-t:void 0)}function Gn(){return!0}function zn(){return!1}function Wn(e,t,n,r){for(var i in this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n,e=this.constructor.Interface)e.hasOwnProperty(i)&&((t=e[i])?this[i]=t(n):"target"===i?this.target=r:this[i]=n[i]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?Gn:zn,this.isPropagationStopped=zn,this}function Kn(e,t,n,r){if(this.eventPool.length){var i=this.eventPool.pop();return this.call(i,e,t,n,r),i}return new this(e,t,n,r)}function Yn(e){if(!(e instanceof this))throw Error(a(279));e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function Qn(e){e.eventPool=[],e.getPooled=Kn,e.release=Yn}i(Wn.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Gn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Gn)},persist:function(){this.isPersistent=Gn},isPersistent:zn,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=zn,this._dispatchInstances=this._dispatchListeners=null}}),Wn.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},Wn.extend=function(e){function t(){}function n(){return r.apply(this,arguments)}var r=this;t.prototype=r.prototype;var o=new t;return i(o,n.prototype),n.prototype=o,n.prototype.constructor=n,n.Interface=i({},r.Interface,e),n.extend=r.extend,Qn(n),n},Qn(Wn);var $n=Wn.extend({data:null}),Xn=Wn.extend({data:null}),Jn=[9,13,27,32],Zn=T&&"CompositionEvent"in window,er=null;T&&"documentMode"in document&&(er=document.documentMode);var tr=T&&"TextEvent"in window&&!er,nr=T&&(!Zn||er&&8<er&&11>=er),rr=String.fromCharCode(32),ir={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},or=!1;function ar(e,t){switch(e){case"keyup":return-1!==Jn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function sr(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var ur=!1;var cr={eventTypes:ir,extractEvents:function(e,t,n,r){var i;if(Zn)e:{switch(e){case"compositionstart":var o=ir.compositionStart;break e;case"compositionend":o=ir.compositionEnd;break e;case"compositionupdate":o=ir.compositionUpdate;break e}o=void 0}else ur?ar(e,n)&&(o=ir.compositionEnd):"keydown"===e&&229===n.keyCode&&(o=ir.compositionStart);return o?(nr&&"ko"!==n.locale&&(ur||o!==ir.compositionStart?o===ir.compositionEnd&&ur&&(i=qn()):(Bn="value"in(Hn=r)?Hn.value:Hn.textContent,ur=!0)),o=$n.getPooled(o,t,n,r),i?o.data=i:null!==(i=sr(n))&&(o.data=i),Fn(o),i=o):i=null,(e=tr?function(e,t){switch(e){case"compositionend":return sr(t);case"keypress":return 32!==t.which?null:(or=!0,rr);case"textInput":return(e=t.data)===rr&&or?null:e;default:return null}}(e,n):function(e,t){if(ur)return"compositionend"===e||!Zn&&ar(e,t)?(e=qn(),Vn=Bn=Hn=null,ur=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return nr&&"ko"!==t.locale?null:t.data;default:return null}}(e,n))?((t=Xn.getPooled(ir.beforeInput,t,n,r)).data=e,Fn(t)):t=null,null===i?t:null===t?i:[i,t]}},lr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!lr[e.type]:"textarea"===t}var fr={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function dr(e,t,n){return(e=Wn.getPooled(fr.change,e,t,n)).type="change",R(n),Fn(e),e}var pr=null,gr=null;function yr(e){st(e)}function vr(e){if(_e(Rn(e)))return e}function mr(e,t){if("change"===e)return t}var br=!1;function _r(){pr&&(pr.detachEvent("onpropertychange",wr),gr=pr=null)}function wr(e){if("value"===e.propertyName&&vr(gr))if(e=dr(gr,e,ut(e)),j)st(e);else{j=!0;try{x(yr,e)}finally{j=!1,F()}}}function Er(e,t,n){"focus"===e?(_r(),gr=n,(pr=t).attachEvent("onpropertychange",wr)):"blur"===e&&_r()}function Sr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return vr(gr)}function Cr(e,t){if("click"===e)return vr(t)}function Or(e,t){if("input"===e||"change"===e)return vr(t)}T&&(br=ct("input")&&(!document.documentMode||9<document.documentMode));var Tr={eventTypes:fr,_isInputEventSupported:br,extractEvents:function(e,t,n,r){var i=t?Rn(t):window,o=i.nodeName&&i.nodeName.toLowerCase();if("select"===o||"input"===o&&"file"===i.type)var a=mr;else if(hr(i))if(br)a=Or;else{a=Sr;var s=Er}else(o=i.nodeName)&&"input"===o.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(a=Cr);if(a&&(a=a(e,t)))return dr(a,n,r);s&&s(e,i,t),"blur"===e&&(e=i._wrapperState)&&e.controlled&&"number"===i.type&&Te(i,"number",i.value)}},kr=Wn.extend({view:null,detail:null}),Ir={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ar(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Ir[e])&&!!t[e]}function Nr(){return Ar}var Rr=0,Pr=0,xr=!1,Mr=!1,Lr=kr.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Nr,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},movementX:function(e){if("movementX"in e)return e.movementX;var t=Rr;return Rr=e.screenX,xr?"mousemove"===e.type?e.screenX-t:0:(xr=!0,0)},movementY:function(e){if("movementY"in e)return e.movementY;var t=Pr;return Pr=e.screenY,Mr?"mousemove"===e.type?e.screenY-t:0:(Mr=!0,0)}}),Dr=Lr.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),jr={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},Ur={eventTypes:jr,extractEvents:function(e,t,n,r,i){var o="mouseover"===e||"pointerover"===e,a="mouseout"===e||"pointerout"===e;if(o&&0===(32&i)&&(n.relatedTarget||n.fromElement)||!a&&!o)return null;(o=r.window===r?r:(o=r.ownerDocument)?o.defaultView||o.parentWindow:window,a)?(a=t,null!==(t=(t=n.relatedTarget||n.toElement)?An(t):null)&&(t!==Ze(t)||5!==t.tag&&6!==t.tag)&&(t=null)):a=null;if(a===t)return null;if("mouseout"===e||"mouseover"===e)var s=Lr,u=jr.mouseLeave,c=jr.mouseEnter,l="mouse";else"pointerout"!==e&&"pointerover"!==e||(s=Dr,u=jr.pointerLeave,c=jr.pointerEnter,l="pointer");if(e=null==a?o:Rn(a),o=null==t?o:Rn(t),(u=s.getPooled(u,a,n,r)).type=l+"leave",u.target=e,u.relatedTarget=o,(n=s.getPooled(c,t,n,r)).type=l+"enter",n.target=o,n.relatedTarget=e,l=t,(r=a)&&l)e:{for(c=l,a=0,e=s=r;e;e=xn(e))a++;for(e=0,t=c;t;t=xn(t))e++;for(;0<a-e;)s=xn(s),a--;for(;0<e-a;)c=xn(c),e--;for(;a--;){if(s===c||s===c.alternate)break e;s=xn(s),c=xn(c)}s=null}else s=null;for(c=s,s=[];r&&r!==c&&(null===(a=r.alternate)||a!==c);)s.push(r),r=xn(r);for(r=[];l&&l!==c&&(null===(a=l.alternate)||a!==c);)r.push(l),l=xn(l);for(l=0;l<s.length;l++)jn(s[l],"bubbled",u);for(l=r.length;0<l--;)jn(r[l],"captured",n);return 0===(64&i)?[u]:[u,n]}};var Fr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},Hr=Object.prototype.hasOwnProperty;function Br(e,t){if(Fr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!Hr.call(t,n[r])||!Fr(e[n[r]],t[n[r]]))return!1;return!0}var Vr=T&&"documentMode"in document&&11>=document.documentMode,qr={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},Gr=null,zr=null,Wr=null,Kr=!1;function Yr(e,t){var n=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;return Kr||null==Gr||Gr!==un(n)?null:("selectionStart"in(n=Gr)&&fn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},Wr&&Br(Wr,n)?null:(Wr=n,(e=Wn.getPooled(qr.select,zr,e,t)).type="select",e.target=Gr,Fn(e),e))}var Qr={eventTypes:qr,extractEvents:function(e,t,n,r,i,o){if(!(o=!(i=o||(r.window===r?r.document:9===r.nodeType?r:r.ownerDocument)))){e:{i=Je(i),o=C.onSelect;for(var a=0;a<o.length;a++)if(!i.has(o[a])){i=!1;break e}i=!0}o=!i}if(o)return null;switch(i=t?Rn(t):window,e){case"focus":(hr(i)||"true"===i.contentEditable)&&(Gr=i,zr=t,Wr=null);break;case"blur":Wr=zr=Gr=null;break;case"mousedown":Kr=!0;break;case"contextmenu":case"mouseup":case"dragend":return Kr=!1,Yr(n,r);case"selectionchange":if(Vr)break;case"keydown":case"keyup":return Yr(n,r)}return null}},$r=Wn.extend({animationName:null,elapsedTime:null,pseudoElement:null}),Xr=Wn.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Jr=kr.extend({relatedTarget:null});function Zr(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}var ei={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ti={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ni=kr.extend({key:function(e){if(e.key){var t=ei[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Zr(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?ti[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Nr,charCode:function(e){return"keypress"===e.type?Zr(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Zr(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),ri=Lr.extend({dataTransfer:null}),ii=kr.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Nr}),oi=Wn.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),ai=Lr.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),si={eventTypes:jt,extractEvents:function(e,t,n,r){var i=Ut.get(e);if(!i)return null;switch(e){case"keypress":if(0===Zr(n))return null;case"keydown":case"keyup":e=ni;break;case"blur":case"focus":e=Jr;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=Lr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=ri;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=ii;break;case We:case Ke:case Ye:e=$r;break;case Qe:e=oi;break;case"scroll":e=kr;break;case"wheel":e=ai;break;case"copy":case"cut":case"paste":e=Xr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=Dr;break;default:e=Wn}return Fn(t=e.getPooled(i,t,n,r)),t}};if(v)throw Error(a(101));v=Array.prototype.slice.call("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),b(),d=Pn,p=Nn,g=Rn,O({SimpleEventPlugin:si,EnterLeaveEventPlugin:Ur,ChangeEventPlugin:Tr,SelectEventPlugin:Qr,BeforeInputEventPlugin:cr});var ui=[],ci=-1;function li(e){0>ci||(e.current=ui[ci],ui[ci]=null,ci--)}function hi(e,t){ui[++ci]=e.current,e.current=t}var fi={},di={current:fi},pi={current:!1},gi=fi;function yi(e,t){var n=e.type.contextTypes;if(!n)return fi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function vi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function mi(){li(pi),li(di)}function bi(e,t,n){if(di.current!==fi)throw Error(a(168));hi(di,t),hi(pi,n)}function _i(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in e))throw Error(a(108,ge(t)||"Unknown",o));return i({},n,{},r)}function wi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||fi,gi=di.current,hi(di,e),hi(pi,pi.current),!0}function Ei(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=_i(e,t,gi),r.__reactInternalMemoizedMergedChildContext=e,li(pi),li(di),hi(di,e)):li(pi),hi(pi,n)}var Si=o.unstable_runWithPriority,Ci=o.unstable_scheduleCallback,Oi=o.unstable_cancelCallback,Ti=o.unstable_requestPaint,ki=o.unstable_now,Ii=o.unstable_getCurrentPriorityLevel,Ai=o.unstable_ImmediatePriority,Ni=o.unstable_UserBlockingPriority,Ri=o.unstable_NormalPriority,Pi=o.unstable_LowPriority,xi=o.unstable_IdlePriority,Mi={},Li=o.unstable_shouldYield,Di=void 0!==Ti?Ti:function(){},ji=null,Ui=null,Fi=!1,Hi=ki(),Bi=1e4>Hi?ki:function(){return ki()-Hi};function Vi(){switch(Ii()){case Ai:return 99;case Ni:return 98;case Ri:return 97;case Pi:return 96;case xi:return 95;default:throw Error(a(332))}}function qi(e){switch(e){case 99:return Ai;case 98:return Ni;case 97:return Ri;case 96:return Pi;case 95:return xi;default:throw Error(a(332))}}function Gi(e,t){return e=qi(e),Si(e,t)}function zi(e,t,n){return e=qi(e),Ci(e,t,n)}function Wi(e){return null===ji?(ji=[e],Ui=Ci(Ai,Yi)):ji.push(e),Mi}function Ki(){if(null!==Ui){var e=Ui;Ui=null,Oi(e)}Yi()}function Yi(){if(!Fi&&null!==ji){Fi=!0;var e=0;try{var t=ji;Gi(99,function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}}),ji=null}catch(n){throw null!==ji&&(ji=ji.slice(e+1)),Ci(Ai,Ki),n}finally{Fi=!1}}}function Qi(e,t,n){return 1073741821-(1+((1073741821-e+t/10)/(n/=10)|0))*n}function $i(e,t){if(e&&e.defaultProps)for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}var Xi={current:null},Ji=null,Zi=null,eo=null;function to(){eo=Zi=Ji=null}function no(e){var t=Xi.current;li(Xi),e.type._context._currentValue=t}function ro(e,t){for(;null!==e;){var n=e.alternate;if(e.childExpirationTime<t)e.childExpirationTime=t,null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t);else{if(!(null!==n&&n.childExpirationTime<t))break;n.childExpirationTime=t}e=e.return}}function io(e,t){Ji=e,eo=Zi=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(e.expirationTime>=t&&(Pa=!0),e.firstContext=null)}function oo(e,t){if(eo!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(eo=e,t=1073741823),t={context:e,observedBits:t,next:null},null===Zi){if(null===Ji)throw Error(a(308));Zi=t,Ji.dependencies={expirationTime:0,firstContext:t,responders:null}}else Zi=Zi.next=t;return e._currentValue}var ao=!1;function so(e){e.updateQueue={baseState:e.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}function uo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,baseQueue:e.baseQueue,shared:e.shared,effects:e.effects})}function co(e,t){return(e={expirationTime:e,suspenseConfig:t,tag:0,payload:null,callback:null,next:null}).next=e}function lo(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function ho(e,t){var n=e.alternate;null!==n&&uo(n,e),null===(n=(e=e.updateQueue).baseQueue)?(e.baseQueue=t.next=t,t.next=t):(t.next=n.next,n.next=t)}function fo(e,t,n,r){var o=e.updateQueue;ao=!1;var a=o.baseQueue,s=o.shared.pending;if(null!==s){if(null!==a){var u=a.next;a.next=s.next,s.next=u}a=s,o.shared.pending=null,null!==(u=e.alternate)&&(null!==(u=u.updateQueue)&&(u.baseQueue=s))}if(null!==a){u=a.next;var c=o.baseState,l=0,h=null,f=null,d=null;if(null!==u)for(var p=u;;){if((s=p.expirationTime)<r){var g={expirationTime:p.expirationTime,suspenseConfig:p.suspenseConfig,tag:p.tag,payload:p.payload,callback:p.callback,next:null};null===d?(f=d=g,h=c):d=d.next=g,s>l&&(l=s)}else{null!==d&&(d=d.next={expirationTime:1073741823,suspenseConfig:p.suspenseConfig,tag:p.tag,payload:p.payload,callback:p.callback,next:null}),gu(s,p.suspenseConfig);e:{var y=e,v=p;switch(s=t,g=n,v.tag){case 1:if("function"===typeof(y=v.payload)){c=y.call(g,c,s);break e}c=y;break e;case 3:y.effectTag=-4097&y.effectTag|64;case 0:if(null===(s="function"===typeof(y=v.payload)?y.call(g,c,s):y)||void 0===s)break e;c=i({},c,s);break e;case 2:ao=!0}}null!==p.callback&&(e.effectTag|=32,null===(s=o.effects)?o.effects=[p]:s.push(p))}if(null===(p=p.next)||p===u){if(null===(s=o.shared.pending))break;p=a.next=s.next,s.next=u,o.baseQueue=a=s,o.shared.pending=null}}null===d?h=c:d.next=f,o.baseState=h,o.baseQueue=d,yu(l),e.expirationTime=l,e.memoizedState=c}}function po(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=i,i=n,"function"!==typeof r)throw Error(a(191,r));r.call(i)}}}var go=Q.ReactCurrentBatchConfig,yo=(new r.Component).refs;function vo(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.expirationTime&&(e.updateQueue.baseState=n)}var mo={isMounted:function(e){return!!(e=e._reactInternalFiber)&&Ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternalFiber;var r=ru(),i=go.suspense;(i=co(r=iu(r,e,i),i)).payload=t,void 0!==n&&null!==n&&(i.callback=n),lo(e,i),ou(e,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternalFiber;var r=ru(),i=go.suspense;(i=co(r=iu(r,e,i),i)).tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),lo(e,i),ou(e,r)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var n=ru(),r=go.suspense;(r=co(n=iu(n,e,r),r)).tag=2,void 0!==t&&null!==t&&(r.callback=t),lo(e,r),ou(e,n)}};function bo(e,t,n,r,i,o,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!Br(n,r)||!Br(i,o))}function _o(e,t,n){var r=!1,i=fi,o=t.contextType;return"object"===typeof o&&null!==o?o=oo(o):(i=vi(t)?gi:di.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?yi(e,i):fi),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=mo,e.stateNode=t,t._reactInternalFiber=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function wo(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&mo.enqueueReplaceState(t,t.state,null)}function Eo(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=yo,so(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=oo(o):(o=vi(t)?gi:di.current,i.context=yi(e,o)),fo(e,n,i,r),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(vo(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&mo.enqueueReplaceState(i,i.state,null),fo(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.effectTag|=4)}var So=Array.isArray;function Co(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:((t=function(e){var t=r.refs;t===yo&&(t=r.refs={}),null===e?delete t[i]:t[i]=e})._stringRef=i,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Oo(e,t){if("textarea"!==e.type)throw Error(a(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,""))}function To(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Mu(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.effectTag=2,n):r:(t.effectTag=2,n):n}function s(t){return e&&null===t.alternate&&(t.effectTag=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=ju(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=Co(e,t,n),r.return=e,r):((r=Lu(n.type,n.key,n.props,null,e.mode,r)).ref=Co(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Uu(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,o){return null===t||7!==t.tag?((t=Du(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function f(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=ju(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case Z:return(n=Lu(t.type,t.key,t.props,null,e.mode,n)).ref=Co(e,null,t),n.return=e,n;case ee:return(t=Uu(t,e.mode,n)).return=e,t}if(So(t)||pe(t))return(t=Du(t,e.mode,n,null)).return=e,t;Oo(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case Z:return n.key===i?n.type===te?h(e,t,n.props.children,r,i):c(e,t,n,r):null;case ee:return n.key===i?l(e,t,n,r):null}if(So(n)||pe(n))return null!==i?null:h(e,t,n,r,null);Oo(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case Z:return e=e.get(null===r.key?n:r.key)||null,r.type===te?h(t,e,r.props.children,i,r.key):c(t,e,r,i);case ee:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(So(r)||pe(r))return h(t,e=e.get(n)||null,r,i,null);Oo(t,r)}return null}function g(i,a,s,u){for(var c=null,l=null,h=a,g=a=0,y=null;null!==h&&g<s.length;g++){h.index>g?(y=h,h=null):y=h.sibling;var v=d(i,h,s[g],u);if(null===v){null===h&&(h=y);break}e&&h&&null===v.alternate&&t(i,h),a=o(v,a,g),null===l?c=v:l.sibling=v,l=v,h=y}if(g===s.length)return n(i,h),c;if(null===h){for(;g<s.length;g++)null!==(h=f(i,s[g],u))&&(a=o(h,a,g),null===l?c=h:l.sibling=h,l=h);return c}for(h=r(i,h);g<s.length;g++)null!==(y=p(h,i,g,s[g],u))&&(e&&null!==y.alternate&&h.delete(null===y.key?g:y.key),a=o(y,a,g),null===l?c=y:l.sibling=y,l=y);return e&&h.forEach(function(e){return t(i,e)}),c}function y(i,s,u,c){var l=pe(u);if("function"!==typeof l)throw Error(a(150));if(null==(u=l.call(u)))throw Error(a(151));for(var h=l=null,g=s,y=s=0,v=null,m=u.next();null!==g&&!m.done;y++,m=u.next()){g.index>y?(v=g,g=null):v=g.sibling;var b=d(i,g,m.value,c);if(null===b){null===g&&(g=v);break}e&&g&&null===b.alternate&&t(i,g),s=o(b,s,y),null===h?l=b:h.sibling=b,h=b,g=v}if(m.done)return n(i,g),l;if(null===g){for(;!m.done;y++,m=u.next())null!==(m=f(i,m.value,c))&&(s=o(m,s,y),null===h?l=m:h.sibling=m,h=m);return l}for(g=r(i,g);!m.done;y++,m=u.next())null!==(m=p(g,i,y,m.value,c))&&(e&&null!==m.alternate&&g.delete(null===m.key?y:m.key),s=o(m,s,y),null===h?l=m:h.sibling=m,h=m);return e&&g.forEach(function(e){return t(i,e)}),l}return function(e,r,o,u){var c="object"===typeof o&&null!==o&&o.type===te&&null===o.key;c&&(o=o.props.children);var l="object"===typeof o&&null!==o;if(l)switch(o.$$typeof){case Z:e:{for(l=o.key,c=r;null!==c;){if(c.key===l){switch(c.tag){case 7:if(o.type===te){n(e,c.sibling),(r=i(c,o.props.children)).return=e,e=r;break e}break;default:if(c.elementType===o.type){n(e,c.sibling),(r=i(c,o.props)).ref=Co(e,c,o),r.return=e,e=r;break e}}n(e,c);break}t(e,c),c=c.sibling}o.type===te?((r=Du(o.props.children,e.mode,u,o.key)).return=e,e=r):((u=Lu(o.type,o.key,o.props,null,e.mode,u)).ref=Co(e,r,o),u.return=e,e=u)}return s(e);case ee:e:{for(c=o.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(e,r.sibling),(r=i(r,o.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Uu(o,e.mode,u)).return=e,e=r}return s(e)}if("string"===typeof o||"number"===typeof o)return o=""+o,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,o)).return=e,e=r):(n(e,r),(r=ju(o,e.mode,u)).return=e,e=r),s(e);if(So(o))return g(e,r,o,u);if(pe(o))return y(e,r,o,u);if(l&&Oo(e,o),"undefined"===typeof o&&!c)switch(e.tag){case 1:case 0:throw e=e.type,Error(a(152,e.displayName||e.name||"Component"))}return n(e,r)}}var ko=To(!0),Io=To(!1),Ao={},No={current:Ao},Ro={current:Ao},Po={current:Ao};function xo(e){if(e===Ao)throw Error(a(174));return e}function Mo(e,t){switch(hi(Po,t),hi(Ro,e),hi(No,Ao),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:De(null,"");break;default:t=De(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}li(No),hi(No,t)}function Lo(){li(No),li(Ro),li(Po)}function Do(e){xo(Po.current);var t=xo(No.current),n=De(t,e.type);t!==n&&(hi(Ro,e),hi(No,n))}function jo(e){Ro.current===e&&(li(No),li(Ro))}var Uo={current:0};function Fo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||n.data===gn||n.data===yn))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.effectTag))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Ho(e,t){return{responder:e,props:t}}var Bo=Q.ReactCurrentDispatcher,Vo=Q.ReactCurrentBatchConfig,qo=0,Go=null,zo=null,Wo=null,Ko=!1;function Yo(){throw Error(a(321))}function Qo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Fr(e[n],t[n]))return!1;return!0}function $o(e,t,n,r,i,o){if(qo=o,Go=t,t.memoizedState=null,t.updateQueue=null,t.expirationTime=0,Bo.current=null===e||null===e.memoizedState?ba:_a,e=n(r,i),t.expirationTime===qo){o=0;do{if(t.expirationTime=0,!(25>o))throw Error(a(301));o+=1,Wo=zo=null,t.updateQueue=null,Bo.current=wa,e=n(r,i)}while(t.expirationTime===qo)}if(Bo.current=ma,t=null!==zo&&null!==zo.next,qo=0,Wo=zo=Go=null,Ko=!1,t)throw Error(a(300));return e}function Xo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Wo?Go.memoizedState=Wo=e:Wo=Wo.next=e,Wo}function Jo(){if(null===zo){var e=Go.alternate;e=null!==e?e.memoizedState:null}else e=zo.next;var t=null===Wo?Go.memoizedState:Wo.next;if(null!==t)Wo=t,zo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(zo=e).memoizedState,baseState:zo.baseState,baseQueue:zo.baseQueue,queue:zo.queue,next:null},null===Wo?Go.memoizedState=Wo=e:Wo=Wo.next=e}return Wo}function Zo(e,t){return"function"===typeof t?t(e):t}function ea(e){var t=Jo(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=zo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var u=s=o=null,c=i;do{var l=c.expirationTime;if(l<qo){var h={expirationTime:c.expirationTime,suspenseConfig:c.suspenseConfig,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===u?(s=u=h,o=r):u=u.next=h,l>Go.expirationTime&&(Go.expirationTime=l,yu(l))}else null!==u&&(u=u.next={expirationTime:1073741823,suspenseConfig:c.suspenseConfig,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),gu(l,c.suspenseConfig),r=c.eagerReducer===e?c.eagerState:e(r,c.action);c=c.next}while(null!==c&&c!==i);null===u?o=r:u.next=s,Fr(r,t.memoizedState)||(Pa=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=u,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function ta(e){var t=Jo(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);Fr(o,t.memoizedState)||(Pa=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function na(e){var t=Xo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:Zo,lastRenderedState:e}).dispatch=va.bind(null,Go,e),[t.memoizedState,e]}function ra(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Go.updateQueue)?(t={lastEffect:null},Go.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function ia(){return Jo().memoizedState}function oa(e,t,n,r){var i=Xo();Go.effectTag|=e,i.memoizedState=ra(1|t,n,void 0,void 0===r?null:r)}function aa(e,t,n,r){var i=Jo();r=void 0===r?null:r;var o=void 0;if(null!==zo){var a=zo.memoizedState;if(o=a.destroy,null!==r&&Qo(r,a.deps))return void ra(t,n,o,r)}Go.effectTag|=e,i.memoizedState=ra(1|t,n,o,r)}function sa(e,t){return oa(516,4,e,t)}function ua(e,t){return aa(516,4,e,t)}function ca(e,t){return aa(4,2,e,t)}function la(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function ha(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,aa(4,2,la.bind(null,t,e),n)}function fa(){}function da(e,t){return Xo().memoizedState=[e,void 0===t?null:t],e}function pa(e,t){var n=Jo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Qo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function ga(e,t){var n=Jo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Qo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function ya(e,t,n){var r=Vi();Gi(98>r?98:r,function(){e(!0)}),Gi(97<r?97:r,function(){var r=Vo.suspense;Vo.suspense=void 0===t?null:t;try{e(!1),n()}finally{Vo.suspense=r}})}function va(e,t,n){var r=ru(),i=go.suspense;i={expirationTime:r=iu(r,e,i),suspenseConfig:i,action:n,eagerReducer:null,eagerState:null,next:null};var o=t.pending;if(null===o?i.next=i:(i.next=o.next,o.next=i),t.pending=i,o=e.alternate,e===Go||null!==o&&o===Go)Ko=!0,i.expirationTime=qo,Go.expirationTime=qo;else{if(0===e.expirationTime&&(null===o||0===o.expirationTime)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=o(a,n);if(i.eagerReducer=o,i.eagerState=s,Fr(s,a))return}catch(u){}ou(e,r)}}var ma={readContext:oo,useCallback:Yo,useContext:Yo,useEffect:Yo,useImperativeHandle:Yo,useLayoutEffect:Yo,useMemo:Yo,useReducer:Yo,useRef:Yo,useState:Yo,useDebugValue:Yo,useResponder:Yo,useDeferredValue:Yo,useTransition:Yo},ba={readContext:oo,useCallback:da,useContext:oo,useEffect:sa,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,oa(4,2,la.bind(null,t,e),n)},useLayoutEffect:function(e,t){return oa(4,2,e,t)},useMemo:function(e,t){var n=Xo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Xo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=va.bind(null,Go,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Xo().memoizedState=e},useState:na,useDebugValue:fa,useResponder:Ho,useDeferredValue:function(e,t){var n=na(e),r=n[0],i=n[1];return sa(function(){var n=Vo.suspense;Vo.suspense=void 0===t?null:t;try{i(e)}finally{Vo.suspense=n}},[e,t]),r},useTransition:function(e){var t=na(!1),n=t[0];return t=t[1],[da(ya.bind(null,t,e),[t,e]),n]}},_a={readContext:oo,useCallback:pa,useContext:oo,useEffect:ua,useImperativeHandle:ha,useLayoutEffect:ca,useMemo:ga,useReducer:ea,useRef:ia,useState:function(){return ea(Zo)},useDebugValue:fa,useResponder:Ho,useDeferredValue:function(e,t){var n=ea(Zo),r=n[0],i=n[1];return ua(function(){var n=Vo.suspense;Vo.suspense=void 0===t?null:t;try{i(e)}finally{Vo.suspense=n}},[e,t]),r},useTransition:function(e){var t=ea(Zo),n=t[0];return t=t[1],[pa(ya.bind(null,t,e),[t,e]),n]}},wa={readContext:oo,useCallback:pa,useContext:oo,useEffect:ua,useImperativeHandle:ha,useLayoutEffect:ca,useMemo:ga,useReducer:ta,useRef:ia,useState:function(){return ta(Zo)},useDebugValue:fa,useResponder:Ho,useDeferredValue:function(e,t){var n=ta(Zo),r=n[0],i=n[1];return ua(function(){var n=Vo.suspense;Vo.suspense=void 0===t?null:t;try{i(e)}finally{Vo.suspense=n}},[e,t]),r},useTransition:function(e){var t=ta(Zo),n=t[0];return t=t[1],[pa(ya.bind(null,t,e),[t,e]),n]}},Ea=null,Sa=null,Ca=!1;function Oa(e,t){var n=Pu(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Ta(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function ka(e){if(Ca){var t=Sa;if(t){var n=t;if(!Ta(e,t)){if(!(t=Sn(n.nextSibling))||!Ta(e,t))return e.effectTag=-1025&e.effectTag|2,Ca=!1,void(Ea=e);Oa(Ea,n)}Ea=e,Sa=Sn(t.firstChild)}else e.effectTag=-1025&e.effectTag|2,Ca=!1,Ea=e}}function Ia(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Ea=e}function Aa(e){if(e!==Ea)return!1;if(!Ca)return Ia(e),Ca=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!_n(t,e.memoizedProps))for(t=Sa;t;)Oa(e,t),t=Sn(t.nextSibling);if(Ia(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if(n===pn){if(0===t){Sa=Sn(e.nextSibling);break e}t--}else n!==dn&&n!==yn&&n!==gn||t++}e=e.nextSibling}Sa=null}}else Sa=Ea?Sn(e.stateNode.nextSibling):null;return!0}function Na(){Sa=Ea=null,Ca=!1}var Ra=Q.ReactCurrentOwner,Pa=!1;function xa(e,t,n,r){t.child=null===e?Io(t,null,n,r):ko(t,e.child,n,r)}function Ma(e,t,n,r,i){n=n.render;var o=t.ref;return io(t,i),r=$o(e,t,n,r,o,i),null===e||Pa?(t.effectTag|=1,xa(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),Xa(e,t,i))}function La(e,t,n,r,i,o){if(null===e){var a=n.type;return"function"!==typeof a||xu(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Lu(n.type,null,r,null,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Da(e,t,a,r,i,o))}return a=e.child,i<o&&(i=a.memoizedProps,(n=null!==(n=n.compare)?n:Br)(i,r)&&e.ref===t.ref)?Xa(e,t,o):(t.effectTag|=1,(e=Mu(a,r)).ref=t.ref,e.return=t,t.child=e)}function Da(e,t,n,r,i,o){return null!==e&&Br(e.memoizedProps,r)&&e.ref===t.ref&&(Pa=!1,i<o)?(t.expirationTime=e.expirationTime,Xa(e,t,o)):Ua(e,t,n,r,o)}function ja(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.effectTag|=128)}function Ua(e,t,n,r,i){var o=vi(n)?gi:di.current;return o=yi(t,o),io(t,i),n=$o(e,t,n,r,o,i),null===e||Pa?(t.effectTag|=1,xa(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),Xa(e,t,i))}function Fa(e,t,n,r,i){if(vi(n)){var o=!0;wi(t)}else o=!1;if(io(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),_o(t,n,r),Eo(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var u=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=oo(c):c=yi(t,c=vi(n)?gi:di.current);var l=n.getDerivedStateFromProps,h="function"===typeof l||"function"===typeof a.getSnapshotBeforeUpdate;h||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||u!==c)&&wo(t,a,r,c),ao=!1;var f=t.memoizedState;a.state=f,fo(t,r,a,i),u=t.memoizedState,s!==r||f!==u||pi.current||ao?("function"===typeof l&&(vo(t,n,l,r),u=t.memoizedState),(s=ao||bo(t,n,s,r,f,u,c))?(h||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.effectTag|=4)):("function"===typeof a.componentDidMount&&(t.effectTag|=4),t.memoizedProps=r,t.memoizedState=u),a.props=r,a.state=u,a.context=c,r=s):("function"===typeof a.componentDidMount&&(t.effectTag|=4),r=!1)}else a=t.stateNode,uo(e,t),s=t.memoizedProps,a.props=t.type===t.elementType?s:$i(t.type,s),u=a.context,"object"===typeof(c=n.contextType)&&null!==c?c=oo(c):c=yi(t,c=vi(n)?gi:di.current),(h="function"===typeof(l=n.getDerivedStateFromProps)||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||u!==c)&&wo(t,a,r,c),ao=!1,u=t.memoizedState,a.state=u,fo(t,r,a,i),f=t.memoizedState,s!==r||u!==f||pi.current||ao?("function"===typeof l&&(vo(t,n,l,r),f=t.memoizedState),(l=ao||bo(t,n,s,r,u,f,c))?(h||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,f,c),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,f,c)),"function"===typeof a.componentDidUpdate&&(t.effectTag|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=256),t.memoizedProps=r,t.memoizedState=f),a.props=r,a.state=f,a.context=c,r=l):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=256),r=!1);return Ha(e,t,n,r,o,i)}function Ha(e,t,n,r,i,o){ja(e,t);var a=0!==(64&t.effectTag);if(!r&&!a)return i&&Ei(t,n,!1),Xa(e,t,o);r=t.stateNode,Ra.current=t;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.effectTag|=1,null!==e&&a?(t.child=ko(t,e.child,null,o),t.child=ko(t,null,s,o)):xa(e,t,s,o),t.memoizedState=r.state,i&&Ei(t,n,!0),t.child}function Ba(e){var t=e.stateNode;t.pendingContext?bi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&bi(0,t.context,!1),Mo(e,t.containerInfo)}var Va,qa,Ga,za,Wa={dehydrated:null,retryTime:0};function Ka(e,t,n){var r,i=t.mode,o=t.pendingProps,a=Uo.current,s=!1;if((r=0!==(64&t.effectTag))||(r=0!==(2&a)&&(null===e||null!==e.memoizedState)),r?(s=!0,t.effectTag&=-65):null!==e&&null===e.memoizedState||void 0===o.fallback||!0===o.unstable_avoidThisFallback||(a|=1),hi(Uo,1&a),null===e){if(void 0!==o.fallback&&ka(t),s){if(s=o.fallback,(o=Du(null,i,0,null)).return=t,0===(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,o.child=e;null!==e;)e.return=o,e=e.sibling;return(n=Du(s,i,n,null)).return=t,o.sibling=n,t.memoizedState=Wa,t.child=o,n}return i=o.children,t.memoizedState=null,t.child=Io(t,null,i,n)}if(null!==e.memoizedState){if(i=(e=e.child).sibling,s){if(o=o.fallback,(n=Mu(e,e.pendingProps)).return=t,0===(2&t.mode)&&(s=null!==t.memoizedState?t.child.child:t.child)!==e.child)for(n.child=s;null!==s;)s.return=n,s=s.sibling;return(i=Mu(i,o)).return=t,n.sibling=i,n.childExpirationTime=0,t.memoizedState=Wa,t.child=n,i}return n=ko(t,e.child,o.children,n),t.memoizedState=null,t.child=n}if(e=e.child,s){if(s=o.fallback,(o=Du(null,i,0,null)).return=t,o.child=e,null!==e&&(e.return=o),0===(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,o.child=e;null!==e;)e.return=o,e=e.sibling;return(n=Du(s,i,n,null)).return=t,o.sibling=n,n.effectTag|=2,o.childExpirationTime=0,t.memoizedState=Wa,t.child=o,n}return t.memoizedState=null,t.child=ko(t,e,o.children,n)}function Ya(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t),ro(e.return,t)}function Qa(e,t,n,r,i,o){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailExpiration:0,tailMode:i,lastEffect:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailExpiration=0,a.tailMode=i,a.lastEffect=o)}function $a(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(xa(e,t,r.children,n),0!==(2&(r=Uo.current)))r=1&r|2,t.effectTag|=64;else{if(null!==e&&0!==(64&e.effectTag))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ya(e,n);else if(19===e.tag)Ya(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(hi(Uo,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Fo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Qa(t,!1,i,n,o,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Fo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Qa(t,!0,n,null,o,t.lastEffect);break;case"together":Qa(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function Xa(e,t,n){null!==e&&(t.dependencies=e.dependencies);var r=t.expirationTime;if(0!==r&&yu(r),t.childExpirationTime<n)return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Mu(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Mu(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ja(e,t){switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Za(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return vi(t.type)&&mi(),null;case 3:return Lo(),li(pi),li(di),(n=t.stateNode).pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||!Aa(t)||(t.effectTag|=4),qa(t),null;case 5:jo(t),n=xo(Po.current);var o=t.type;if(null!==e&&null!=t.stateNode)Ga(e,t,o,r,n),e.ref!==t.ref&&(t.effectTag|=128);else{if(!r){if(null===t.stateNode)throw Error(a(166));return null}if(e=xo(No.current),Aa(t)){r=t.stateNode,o=t.type;var s=t.memoizedProps;switch(r[Tn]=t,r[kn]=s,o){case"iframe":case"object":case"embed":Kt("load",r);break;case"video":case"audio":for(e=0;e<$e.length;e++)Kt($e[e],r);break;case"source":Kt("error",r);break;case"img":case"image":case"link":Kt("error",r),Kt("load",r);break;case"form":Kt("reset",r),Kt("submit",r);break;case"details":Kt("toggle",r);break;case"input":Ee(r,s),Kt("invalid",r),an(n,"onChange");break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Kt("invalid",r),an(n,"onChange");break;case"textarea":Ne(r,s),Kt("invalid",r),an(n,"onChange")}for(var u in nn(o,s),e=null,s)if(s.hasOwnProperty(u)){var c=s[u];"children"===u?"string"===typeof c?r.textContent!==c&&(e=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(e=["children",""+c]):S.hasOwnProperty(u)&&null!=c&&an(n,u)}switch(o){case"input":be(r),Oe(r,s,!0);break;case"textarea":be(r),Pe(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=sn)}n=e,t.updateQueue=n,null!==n&&(t.effectTag|=4)}else{switch(u=9===n.nodeType?n:n.ownerDocument,e===on&&(e=Le(o)),e===on?"script"===o?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=u.createElement(o,{is:r.is}):(e=u.createElement(o),"select"===o&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,o),e[Tn]=t,e[kn]=r,Va(e,t,!1,!1),t.stateNode=e,u=rn(o,r),o){case"iframe":case"object":case"embed":Kt("load",e),c=r;break;case"video":case"audio":for(c=0;c<$e.length;c++)Kt($e[c],e);c=r;break;case"source":Kt("error",e),c=r;break;case"img":case"image":case"link":Kt("error",e),Kt("load",e),c=r;break;case"form":Kt("reset",e),Kt("submit",e),c=r;break;case"details":Kt("toggle",e),c=r;break;case"input":Ee(e,r),c=we(e,r),Kt("invalid",e),an(n,"onChange");break;case"option":c=ke(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},c=i({},r,{value:void 0}),Kt("invalid",e),an(n,"onChange");break;case"textarea":Ne(e,r),c=Ae(e,r),Kt("invalid",e),an(n,"onChange");break;default:c=r}nn(o,c);var l=c;for(s in l)if(l.hasOwnProperty(s)){var h=l[s];"style"===s?en(e,h):"dangerouslySetInnerHTML"===s?null!=(h=h?h.__html:void 0)&&Fe(e,h):"children"===s?"string"===typeof h?("textarea"!==o||""!==h)&&He(e,h):"number"===typeof h&&He(e,""+h):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(S.hasOwnProperty(s)?null!=h&&an(n,s):null!=h&&$(e,s,h,u))}switch(o){case"input":be(e),Oe(e,r,!1);break;case"textarea":be(e),Pe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+ve(r.value));break;case"select":e.multiple=!!r.multiple,null!=(n=r.value)?Ie(e,!!r.multiple,n,!1):null!=r.defaultValue&&Ie(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof c.onClick&&(e.onclick=sn)}bn(o,r)&&(t.effectTag|=4)}null!==t.ref&&(t.effectTag|=128)}return null;case 6:if(e&&null!=t.stateNode)za(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));n=xo(Po.current),xo(No.current),Aa(t)?(n=t.stateNode,r=t.memoizedProps,n[Tn]=t,n.nodeValue!==r&&(t.effectTag|=4)):((n=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Tn]=t,t.stateNode=n)}return null;case 13:return li(Uo),r=t.memoizedState,0!==(64&t.effectTag)?(t.expirationTime=n,t):(n=null!==r,r=!1,null===e?void 0!==t.memoizedProps.fallback&&Aa(t):(r=null!==(o=e.memoizedState),n||null===o||null!==(o=e.child.sibling)&&(null!==(s=t.firstEffect)?(t.firstEffect=o,o.nextEffect=s):(t.firstEffect=t.lastEffect=o,o.nextEffect=null),o.effectTag=8)),n&&!r&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&Uo.current)?js===ks&&(js=Ns):(js!==ks&&js!==Ns||(js=Rs),0!==Vs&&null!==Ms&&(Bu(Ms,Ds),Vu(Ms,Vs)))),(n||r)&&(t.effectTag|=4),null);case 4:return Lo(),qa(t),null;case 10:return no(t),null;case 17:return vi(t.type)&&mi(),null;case 19:if(li(Uo),null===(r=t.memoizedState))return null;if(o=0!==(64&t.effectTag),null===(s=r.rendering)){if(o)Ja(r,!1);else if(js!==ks||null!==e&&0!==(64&e.effectTag))for(s=t.child;null!==s;){if(null!==(e=Fo(s))){for(t.effectTag|=64,Ja(r,!1),null!==(o=e.updateQueue)&&(t.updateQueue=o,t.effectTag|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=t.child;null!==r;)s=n,(o=r).effectTag&=2,o.nextEffect=null,o.firstEffect=null,o.lastEffect=null,null===(e=o.alternate)?(o.childExpirationTime=0,o.expirationTime=s,o.child=null,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null):(o.childExpirationTime=e.childExpirationTime,o.expirationTime=e.expirationTime,o.child=e.child,o.memoizedProps=e.memoizedProps,o.memoizedState=e.memoizedState,o.updateQueue=e.updateQueue,s=e.dependencies,o.dependencies=null===s?null:{expirationTime:s.expirationTime,firstContext:s.firstContext,responders:s.responders}),r=r.sibling;return hi(Uo,1&Uo.current|2),t.child}s=s.sibling}}else{if(!o)if(null!==(e=Fo(s))){if(t.effectTag|=64,o=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.effectTag|=4),Ja(r,!0),null===r.tail&&"hidden"===r.tailMode&&!s.alternate)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*Bi()-r.renderingStartTime>r.tailExpiration&&1<n&&(t.effectTag|=64,o=!0,Ja(r,!1),t.expirationTime=t.childExpirationTime=n-1);r.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=r.last)?n.sibling=s:t.child=s,r.last=s)}return null!==r.tail?(0===r.tailExpiration&&(r.tailExpiration=Bi()+500),n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=Bi(),n.sibling=null,t=Uo.current,hi(Uo,o?1&t|2:1&t),n):null}throw Error(a(156,t.tag))}function es(e){switch(e.tag){case 1:vi(e.type)&&mi();var t=e.effectTag;return 4096&t?(e.effectTag=-4097&t|64,e):null;case 3:if(Lo(),li(pi),li(di),0!==(64&(t=e.effectTag)))throw Error(a(285));return e.effectTag=-4097&t|64,e;case 5:return jo(e),null;case 13:return li(Uo),4096&(t=e.effectTag)?(e.effectTag=-4097&t|64,e):null;case 19:return li(Uo),null;case 4:return Lo(),null;case 10:return no(e),null;default:return null}}function ts(e,t){return{value:e,source:t,stack:ye(t)}}Va=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},qa=function(){},Ga=function(e,t,n,r,o){var a=e.memoizedProps;if(a!==r){var s,u,c=t.stateNode;switch(xo(No.current),e=null,n){case"input":a=we(c,a),r=we(c,r),e=[];break;case"option":a=ke(c,a),r=ke(c,r),e=[];break;case"select":a=i({},a,{value:void 0}),r=i({},r,{value:void 0}),e=[];break;case"textarea":a=Ae(c,a),r=Ae(c,r),e=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(c.onclick=sn)}for(s in nn(n,r),n=null,a)if(!r.hasOwnProperty(s)&&a.hasOwnProperty(s)&&null!=a[s])if("style"===s)for(u in c=a[s])c.hasOwnProperty(u)&&(n||(n={}),n[u]="");else"dangerouslySetInnerHTML"!==s&&"children"!==s&&"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(S.hasOwnProperty(s)?e||(e=[]):(e=e||[]).push(s,null));for(s in r){var l=r[s];if(c=null!=a?a[s]:void 0,r.hasOwnProperty(s)&&l!==c&&(null!=l||null!=c))if("style"===s)if(c){for(u in c)!c.hasOwnProperty(u)||l&&l.hasOwnProperty(u)||(n||(n={}),n[u]="");for(u in l)l.hasOwnProperty(u)&&c[u]!==l[u]&&(n||(n={}),n[u]=l[u])}else n||(e||(e=[]),e.push(s,n)),n=l;else"dangerouslySetInnerHTML"===s?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(e=e||[]).push(s,l)):"children"===s?c===l||"string"!==typeof l&&"number"!==typeof l||(e=e||[]).push(s,""+l):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&(S.hasOwnProperty(s)?(null!=l&&an(o,s),e||c===l||(e=[])):(e=e||[]).push(s,l))}n&&(e=e||[]).push("style",n),o=e,(t.updateQueue=o)&&(t.effectTag|=4)}},za=function(e,t,n,r){n!==r&&(t.effectTag|=4)};var ns="function"===typeof WeakSet?WeakSet:Set;function rs(e,t){var n=t.source,r=t.stack;null===r&&null!==n&&(r=ye(n)),null!==n&&ge(n.type),t=t.value,null!==e&&1===e.tag&&ge(e.type);try{console.error(t)}catch(i){setTimeout(function(){throw i})}}function is(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){ku(e,n)}else t.current=null}function os(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&t.effectTag&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:$i(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:case 5:case 6:case 4:case 17:return}throw Error(a(163))}function as(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.destroy;n.destroy=void 0,void 0!==r&&r()}n=n.next}while(n!==t)}}function ss(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function us(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:return void ss(3,n);case 1:if(e=n.stateNode,4&n.effectTag)if(null===t)e.componentDidMount();else{var r=n.elementType===n.type?t.memoizedProps:$i(n.type,t.memoizedProps);e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate)}return void(null!==(t=n.updateQueue)&&po(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}po(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.effectTag&&bn(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&Dt(n)))));case 19:case 17:case 20:case 21:return}throw Error(a(163))}function cs(e,t,n){switch("function"===typeof Nu&&Nu(t),t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var r=e.next;Gi(97<n?97:n,function(){var e=r;do{var n=e.destroy;if(void 0!==n){var i=t;try{n()}catch(o){ku(i,o)}}e=e.next}while(e!==r)})}break;case 1:is(t),"function"===typeof(n=t.stateNode).componentWillUnmount&&function(e,t){try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(n){ku(e,n)}}(t,n);break;case 5:is(t);break;case 4:ds(e,t,n)}}function ls(e){var t=e.alternate;e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.alternate=null,e.firstEffect=null,e.lastEffect=null,e.pendingProps=null,e.memoizedProps=null,e.stateNode=null,null!==t&&ls(t)}function hs(e){return 5===e.tag||3===e.tag||4===e.tag}function fs(e){e:{for(var t=e.return;null!==t;){if(hs(t)){var n=t;break e}t=t.return}throw Error(a(160))}switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(a(161))}16&n.effectTag&&(He(t,""),n.effectTag&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||hs(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.effectTag)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break e}}r?function e(t,n,r){var i=t.tag,o=5===i||6===i;if(o)t=o?t.stateNode:t.stateNode.instance,n?8===r.nodeType?r.parentNode.insertBefore(t,n):r.insertBefore(t,n):(8===r.nodeType?(n=r.parentNode,n.insertBefore(t,r)):(n=r,n.appendChild(t)),r=r._reactRootContainer,null!==r&&void 0!==r||null!==n.onclick||(n.onclick=sn));else if(4!==i&&(t=t.child,null!==t))for(e(t,n,r),t=t.sibling;null!==t;)e(t,n,r),t=t.sibling}(e,n,t):function e(t,n,r){var i=t.tag,o=5===i||6===i;if(o)t=o?t.stateNode:t.stateNode.instance,n?r.insertBefore(t,n):r.appendChild(t);else if(4!==i&&(t=t.child,null!==t))for(e(t,n,r),t=t.sibling;null!==t;)e(t,n,r),t=t.sibling}(e,n,t)}function ds(e,t,n){for(var r,i,o=t,s=!1;;){if(!s){s=o.return;e:for(;;){if(null===s)throw Error(a(160));switch(r=s.stateNode,s.tag){case 5:i=!1;break e;case 3:case 4:r=r.containerInfo,i=!0;break e}s=s.return}s=!0}if(5===o.tag||6===o.tag){e:for(var u=e,c=o,l=n,h=c;;)if(cs(u,h,l),null!==h.child&&4!==h.tag)h.child.return=h,h=h.child;else{if(h===c)break e;for(;null===h.sibling;){if(null===h.return||h.return===c)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}i?(u=r,c=o.stateNode,8===u.nodeType?u.parentNode.removeChild(c):u.removeChild(c)):r.removeChild(o.stateNode)}else if(4===o.tag){if(null!==o.child){r=o.stateNode.containerInfo,i=!0,o.child.return=o,o=o.child;continue}}else if(cs(e,o,n),null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break;for(;null===o.sibling;){if(null===o.return||o.return===t)return;4===(o=o.return).tag&&(s=!1)}o.sibling.return=o.return,o=o.sibling}}function ps(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:return void as(3,t);case 1:return;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps,i=null!==e?e.memoizedProps:r;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for(n[kn]=r,"input"===e&&"radio"===r.type&&null!=r.name&&Se(n,r),rn(e,i),t=rn(e,r),i=0;i<o.length;i+=2){var s=o[i],u=o[i+1];"style"===s?en(n,u):"dangerouslySetInnerHTML"===s?Fe(n,u):"children"===s?He(n,u):$(n,s,u,t)}switch(e){case"input":Ce(n,r);break;case"textarea":Re(n,r);break;case"select":t=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(e=r.value)?Ie(n,!!r.multiple,e,!1):t!==!!r.multiple&&(null!=r.defaultValue?Ie(n,!!r.multiple,r.defaultValue,!0):Ie(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(a(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((t=t.stateNode).hydrate&&(t.hydrate=!1,Dt(t.containerInfo)));case 12:return;case 13:if(n=t,null===t.memoizedState?r=!1:(r=!0,n=t.child,Gs=Bi()),null!==n)e:for(e=n;;){if(5===e.tag)o=e.stateNode,r?"function"===typeof(o=o.style).setProperty?o.setProperty("display","none","important"):o.display="none":(o=e.stateNode,i=void 0!==(i=e.memoizedProps.style)&&null!==i&&i.hasOwnProperty("display")?i.display:null,o.style.display=Zt("display",i));else if(6===e.tag)e.stateNode.nodeValue=r?"":e.memoizedProps;else{if(13===e.tag&&null!==e.memoizedState&&null===e.memoizedState.dehydrated){(o=e.child.sibling).return=e,e=o;continue}if(null!==e.child){e.child.return=e,e=e.child;continue}}if(e===n)break;for(;null===e.sibling;){if(null===e.return||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}return void gs(t);case 19:return void gs(t);case 17:return}throw Error(a(163))}function gs(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new ns),t.forEach(function(t){var r=function(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(t=iu(t=ru(),e,null)),null!==(e=au(e,t))&&uu(e)}.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}var ys="function"===typeof WeakMap?WeakMap:Map;function vs(e,t,n){(n=co(n,null)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ks||(Ks=!0,Ys=r),rs(e,t)},n}function ms(e,t,n){(n=co(n,null)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return rs(e,t),r(i)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Qs?Qs=new Set([this]):Qs.add(this),rs(e,t));var n=t.stack;this.componentDidCatch(t.value,{componentStack:null!==n?n:""})}),n}var bs,_s=Math.ceil,ws=Q.ReactCurrentDispatcher,Es=Q.ReactCurrentOwner,Ss=0,Cs=8,Os=16,Ts=32,ks=0,Is=1,As=2,Ns=3,Rs=4,Ps=5,xs=Ss,Ms=null,Ls=null,Ds=0,js=ks,Us=null,Fs=1073741823,Hs=1073741823,Bs=null,Vs=0,qs=!1,Gs=0,zs=500,Ws=null,Ks=!1,Ys=null,Qs=null,$s=!1,Xs=null,Js=90,Zs=null,eu=0,tu=null,nu=0;function ru(){return(xs&(Os|Ts))!==Ss?1073741821-(Bi()/10|0):0!==nu?nu:nu=1073741821-(Bi()/10|0)}function iu(e,t,n){if(0===(2&(t=t.mode)))return 1073741823;var r=Vi();if(0===(4&t))return 99===r?1073741823:1073741822;if((xs&Os)!==Ss)return Ds;if(null!==n)e=Qi(e,0|n.timeoutMs||5e3,250);else switch(r){case 99:e=1073741823;break;case 98:e=Qi(e,150,100);break;case 97:case 96:e=Qi(e,5e3,250);break;case 95:e=2;break;default:throw Error(a(326))}return null!==Ms&&e===Ds&&--e,e}function ou(e,t){if(50<eu)throw eu=0,tu=null,Error(a(185));if(null!==(e=au(e,t))){var n=Vi();1073741823===t?(xs&Cs)!==Ss&&(xs&(Os|Ts))===Ss?cu(e):(uu(e),xs===Ss&&Ki()):uu(e),(4&xs)===Ss||98!==n&&99!==n||(null===Zs?Zs=new Map([[e,t]]):(void 0===(n=Zs.get(e))||n>t)&&Zs.set(e,t))}}function au(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t);var r=e.return,i=null;if(null===r&&3===e.tag)i=e.stateNode;else for(;null!==r;){if(n=r.alternate,r.childExpirationTime<t&&(r.childExpirationTime=t),null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t),null===r.return&&3===r.tag){i=r.stateNode;break}r=r.return}return null!==i&&(Ms===i&&(yu(t),js===Rs&&Bu(i,Ds)),Vu(i,t)),i}function su(e){var t=e.lastExpiredTime;if(0!==t)return t;if(!Hu(e,t=e.firstPendingTime))return t;var n=e.lastPingedTime;return 2>=(e=n>(e=e.nextKnownPendingLevel)?n:e)&&t!==e?0:e}function uu(e){if(0!==e.lastExpiredTime)e.callbackExpirationTime=1073741823,e.callbackPriority=99,e.callbackNode=Wi(cu.bind(null,e));else{var t=su(e),n=e.callbackNode;if(0===t)null!==n&&(e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90);else{var r=ru();if(1073741823===t?r=99:1===t||2===t?r=95:r=0>=(r=10*(1073741821-t)-10*(1073741821-r))?99:250>=r?98:5250>=r?97:95,null!==n){var i=e.callbackPriority;if(e.callbackExpirationTime===t&&i>=r)return;n!==Mi&&Oi(n)}e.callbackExpirationTime=t,e.callbackPriority=r,t=1073741823===t?Wi(cu.bind(null,e)):zi(r,function e(t,n){nu=0;if(n)return n=ru(),qu(t,n),uu(t),null;var r=su(t);if(0!==r){if(n=t.callbackNode,(xs&(Os|Ts))!==Ss)throw Error(a(327));if(Cu(),t===Ms&&r===Ds||fu(t,r),null!==Ls){var i=xs;xs|=Os;for(var o=pu();;)try{mu();break}catch(c){du(t,c)}if(to(),xs=i,ws.current=o,js===Is)throw n=Us,fu(t,r),Bu(t,r),uu(t),n;if(null===Ls)switch(o=t.finishedWork=t.current.alternate,t.finishedExpirationTime=r,i=js,Ms=null,i){case ks:case Is:throw Error(a(345));case As:qu(t,2<r?2:r);break;case Ns:if(Bu(t,r),i=t.lastSuspendedTime,r===i&&(t.nextKnownPendingLevel=wu(o)),1073741823===Fs&&10<(o=Gs+zs-Bi())){if(qs){var s=t.lastPingedTime;if(0===s||s>=r){t.lastPingedTime=r,fu(t,r);break}}if(0!==(s=su(t))&&s!==r)break;if(0!==i&&i!==r){t.lastPingedTime=i;break}t.timeoutHandle=wn(Eu.bind(null,t),o);break}Eu(t);break;case Rs:if(Bu(t,r),i=t.lastSuspendedTime,r===i&&(t.nextKnownPendingLevel=wu(o)),qs&&(0===(o=t.lastPingedTime)||o>=r)){t.lastPingedTime=r,fu(t,r);break}if(0!==(o=su(t))&&o!==r)break;if(0!==i&&i!==r){t.lastPingedTime=i;break}if(1073741823!==Hs?i=10*(1073741821-Hs)-Bi():1073741823===Fs?i=0:(i=10*(1073741821-Fs)-5e3,o=Bi(),r=10*(1073741821-r)-o,0>(i=o-i)&&(i=0),i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*_s(i/1960))-i,r<i&&(i=r)),10<i){t.timeoutHandle=wn(Eu.bind(null,t),i);break}Eu(t);break;case Ps:if(1073741823!==Fs&&null!==Bs){s=Fs;var u=Bs;if(0>=(i=0|u.busyMinDurationMs)?i=0:(o=0|u.busyDelayMs,s=Bi()-(10*(1073741821-s)-(0|u.timeoutMs||5e3)),i=s<=o?0:o+i-s),10<i){Bu(t,r),t.timeoutHandle=wn(Eu.bind(null,t),i);break}}Eu(t);break;default:throw Error(a(329))}if(uu(t),t.callbackNode===n)return e.bind(null,t)}}return null}.bind(null,e),{timeout:10*(1073741821-t)-Bi()}),e.callbackNode=t}}}function cu(e){var t=e.lastExpiredTime;if(t=0!==t?t:1073741823,(xs&(Os|Ts))!==Ss)throw Error(a(327));if(Cu(),e===Ms&&t===Ds||fu(e,t),null!==Ls){var n=xs;xs|=Os;for(var r=pu();;)try{vu();break}catch(i){du(e,i)}if(to(),xs=n,ws.current=r,js===Is)throw n=Us,fu(e,t),Bu(e,t),uu(e),n;if(null!==Ls)throw Error(a(261));e.finishedWork=e.current.alternate,e.finishedExpirationTime=t,Ms=null,Eu(e),uu(e)}return null}function lu(e,t){var n=xs;xs|=1;try{return e(t)}finally{(xs=n)===Ss&&Ki()}}function hu(e,t){var n=xs;xs&=-2,xs|=Cs;try{return e(t)}finally{(xs=n)===Ss&&Ki()}}function fu(e,t){e.finishedWork=null,e.finishedExpirationTime=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,En(n)),null!==Ls)for(n=Ls.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&mi();break;case 3:Lo(),li(pi),li(di);break;case 5:jo(r);break;case 4:Lo();break;case 13:case 19:li(Uo);break;case 10:no(r)}n=n.return}Ms=e,Ls=Mu(e.current,null),Ds=t,js=ks,Us=null,Hs=Fs=1073741823,Bs=null,Vs=0,qs=!1}function du(e,t){for(;;){try{if(to(),Bo.current=ma,Ko)for(var n=Go.memoizedState;null!==n;){var r=n.queue;null!==r&&(r.pending=null),n=n.next}if(qo=0,Wo=zo=Go=null,Ko=!1,null===Ls||null===Ls.return)return js=Is,Us=t,Ls=null;e:{var i=e,o=Ls.return,a=Ls,s=t;if(t=Ds,a.effectTag|=2048,a.firstEffect=a.lastEffect=null,null!==s&&"object"===typeof s&&"function"===typeof s.then){var u=s;if(0===(2&a.mode)){var c=a.alternate;c?(a.updateQueue=c.updateQueue,a.memoizedState=c.memoizedState,a.expirationTime=c.expirationTime):(a.updateQueue=null,a.memoizedState=null)}var l=0!==(1&Uo.current),h=o;do{var f;if(f=13===h.tag){var d=h.memoizedState;if(null!==d)f=null!==d.dehydrated;else{var p=h.memoizedProps;f=void 0!==p.fallback&&(!0!==p.unstable_avoidThisFallback||!l)}}if(f){var g=h.updateQueue;if(null===g){var y=new Set;y.add(u),h.updateQueue=y}else g.add(u);if(0===(2&h.mode)){if(h.effectTag|=64,a.effectTag&=-2981,1===a.tag)if(null===a.alternate)a.tag=17;else{var v=co(1073741823,null);v.tag=2,lo(a,v)}a.expirationTime=1073741823;break e}s=void 0,a=t;var m=i.pingCache;if(null===m?(m=i.pingCache=new ys,s=new Set,m.set(u,s)):void 0===(s=m.get(u))&&(s=new Set,m.set(u,s)),!s.has(a)){s.add(a);var b=Iu.bind(null,i,u,a);u.then(b,b)}h.effectTag|=4096,h.expirationTime=t;break e}h=h.return}while(null!==h);s=Error((ge(a.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+ye(a))}js!==Ps&&(js=As),s=ts(s,a),h=o;do{switch(h.tag){case 3:u=s,h.effectTag|=4096,h.expirationTime=t,ho(h,vs(h,u,t));break e;case 1:u=s;var _=h.type,w=h.stateNode;if(0===(64&h.effectTag)&&("function"===typeof _.getDerivedStateFromError||null!==w&&"function"===typeof w.componentDidCatch&&(null===Qs||!Qs.has(w)))){h.effectTag|=4096,h.expirationTime=t,ho(h,ms(h,u,t));break e}}h=h.return}while(null!==h)}Ls=_u(Ls)}catch(E){t=E;continue}break}}function pu(){var e=ws.current;return ws.current=ma,null===e?ma:e}function gu(e,t){e<Fs&&2<e&&(Fs=e),null!==t&&e<Hs&&2<e&&(Hs=e,Bs=t)}function yu(e){e>Vs&&(Vs=e)}function vu(){for(;null!==Ls;)Ls=bu(Ls)}function mu(){for(;null!==Ls&&!Li();)Ls=bu(Ls)}function bu(e){var t=bs(e.alternate,e,Ds);return e.memoizedProps=e.pendingProps,null===t&&(t=_u(e)),Es.current=null,t}function _u(e){Ls=e;do{var t=Ls.alternate;if(e=Ls.return,0===(2048&Ls.effectTag)){if(t=Za(t,Ls,Ds),1===Ds||1!==Ls.childExpirationTime){for(var n=0,r=Ls.child;null!==r;){var i=r.expirationTime,o=r.childExpirationTime;i>n&&(n=i),o>n&&(n=o),r=r.sibling}Ls.childExpirationTime=n}if(null!==t)return t;null!==e&&0===(2048&e.effectTag)&&(null===e.firstEffect&&(e.firstEffect=Ls.firstEffect),null!==Ls.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=Ls.firstEffect),e.lastEffect=Ls.lastEffect),1<Ls.effectTag&&(null!==e.lastEffect?e.lastEffect.nextEffect=Ls:e.firstEffect=Ls,e.lastEffect=Ls))}else{if(null!==(t=es(Ls)))return t.effectTag&=2047,t;null!==e&&(e.firstEffect=e.lastEffect=null,e.effectTag|=2048)}if(null!==(t=Ls.sibling))return t;Ls=e}while(null!==Ls);return js===ks&&(js=Ps),null}function wu(e){var t=e.expirationTime;return t>(e=e.childExpirationTime)?t:e}function Eu(e){var t=Vi();return Gi(99,function(e,t){do{Cu()}while(null!==Xs);if((xs&(Os|Ts))!==Ss)throw Error(a(327));var n=e.finishedWork,r=e.finishedExpirationTime;if(null===n)return null;if(e.finishedWork=null,e.finishedExpirationTime=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90,e.nextKnownPendingLevel=0;var i=wu(n);if(e.firstPendingTime=i,r<=e.lastSuspendedTime?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:r<=e.firstSuspendedTime&&(e.firstSuspendedTime=r-1),r<=e.lastPingedTime&&(e.lastPingedTime=0),r<=e.lastExpiredTime&&(e.lastExpiredTime=0),e===Ms&&(Ls=Ms=null,Ds=0),1<n.effectTag?null!==n.lastEffect?(n.lastEffect.nextEffect=n,i=n.firstEffect):i=n:i=n.firstEffect,null!==i){var o=xs;xs|=Ts,Es.current=null,vn=Wt;var s=hn();if(fn(s)){if("selectionStart"in s)var u={start:s.selectionStart,end:s.selectionEnd};else e:{var c=(u=(u=s.ownerDocument)&&u.defaultView||window).getSelection&&u.getSelection();if(c&&0!==c.rangeCount){u=c.anchorNode;var l=c.anchorOffset,h=c.focusNode;c=c.focusOffset;try{u.nodeType,h.nodeType}catch(T){u=null;break e}var f=0,d=-1,p=-1,g=0,y=0,v=s,m=null;t:for(;;){for(var b;v!==u||0!==l&&3!==v.nodeType||(d=f+l),v!==h||0!==c&&3!==v.nodeType||(p=f+c),3===v.nodeType&&(f+=v.nodeValue.length),null!==(b=v.firstChild);)m=v,v=b;for(;;){if(v===s)break t;if(m===u&&++g===l&&(d=f),m===h&&++y===c&&(p=f),null!==(b=v.nextSibling))break;m=(v=m).parentNode}v=b}u=-1===d||-1===p?null:{start:d,end:p}}else u=null}u=u||{start:0,end:0}}else u=null;mn={activeElementDetached:null,focusedElem:s,selectionRange:u},Wt=!1,Ws=i;do{try{Su()}catch(T){if(null===Ws)throw Error(a(330));ku(Ws,T),Ws=Ws.nextEffect}}while(null!==Ws);Ws=i;do{try{for(s=e,u=t;null!==Ws;){var _=Ws.effectTag;if(16&_&&He(Ws.stateNode,""),128&_){var w=Ws.alternate;if(null!==w){var E=w.ref;null!==E&&("function"===typeof E?E(null):E.current=null)}}switch(1038&_){case 2:fs(Ws),Ws.effectTag&=-3;break;case 6:fs(Ws),Ws.effectTag&=-3,ps(Ws.alternate,Ws);break;case 1024:Ws.effectTag&=-1025;break;case 1028:Ws.effectTag&=-1025,ps(Ws.alternate,Ws);break;case 4:ps(Ws.alternate,Ws);break;case 8:ds(s,l=Ws,u),ls(l)}Ws=Ws.nextEffect}}catch(T){if(null===Ws)throw Error(a(330));ku(Ws,T),Ws=Ws.nextEffect}}while(null!==Ws);if(E=mn,w=hn(),_=E.focusedElem,u=E.selectionRange,w!==_&&_&&_.ownerDocument&&function e(t,n){return!(!t||!n)&&(t===n||(!t||3!==t.nodeType)&&(n&&3===n.nodeType?e(t,n.parentNode):"contains"in t?t.contains(n):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(n))))}(_.ownerDocument.documentElement,_)){null!==u&&fn(_)&&(w=u.start,void 0===(E=u.end)&&(E=w),"selectionStart"in _?(_.selectionStart=w,_.selectionEnd=Math.min(E,_.value.length)):(E=(w=_.ownerDocument||document)&&w.defaultView||window).getSelection&&(E=E.getSelection(),l=_.textContent.length,s=Math.min(u.start,l),u=void 0===u.end?s:Math.min(u.end,l),!E.extend&&s>u&&(l=u,u=s,s=l),l=ln(_,s),h=ln(_,u),l&&h&&(1!==E.rangeCount||E.anchorNode!==l.node||E.anchorOffset!==l.offset||E.focusNode!==h.node||E.focusOffset!==h.offset)&&((w=w.createRange()).setStart(l.node,l.offset),E.removeAllRanges(),s>u?(E.addRange(w),E.extend(h.node,h.offset)):(w.setEnd(h.node,h.offset),E.addRange(w))))),w=[];for(E=_;E=E.parentNode;)1===E.nodeType&&w.push({element:E,left:E.scrollLeft,top:E.scrollTop});for("function"===typeof _.focus&&_.focus(),_=0;_<w.length;_++)(E=w[_]).element.scrollLeft=E.left,E.element.scrollTop=E.top}Wt=!!vn,mn=vn=null,e.current=n,Ws=i;do{try{for(_=e;null!==Ws;){var S=Ws.effectTag;if(36&S&&us(_,Ws.alternate,Ws),128&S){w=void 0;var C=Ws.ref;if(null!==C){var O=Ws.stateNode;switch(Ws.tag){case 5:w=O;break;default:w=O}"function"===typeof C?C(w):C.current=w}}Ws=Ws.nextEffect}}catch(T){if(null===Ws)throw Error(a(330));ku(Ws,T),Ws=Ws.nextEffect}}while(null!==Ws);Ws=null,Di(),xs=o}else e.current=n;if($s)$s=!1,Xs=e,Js=t;else for(Ws=i;null!==Ws;)t=Ws.nextEffect,Ws.nextEffect=null,Ws=t;if(0===(t=e.firstPendingTime)&&(Qs=null),1073741823===t?e===tu?eu++:(eu=0,tu=e):eu=0,"function"===typeof Au&&Au(n.stateNode,r),uu(e),Ks)throw Ks=!1,e=Ys,Ys=null,e;return(xs&Cs)!==Ss?null:(Ki(),null)}.bind(null,e,t)),null}function Su(){for(;null!==Ws;){var e=Ws.effectTag;0!==(256&e)&&os(Ws.alternate,Ws),0===(512&e)||$s||($s=!0,zi(97,function(){return Cu(),null})),Ws=Ws.nextEffect}}function Cu(){if(90!==Js){var e=97<Js?97:Js;return Js=90,Gi(e,Ou)}}function Ou(){if(null===Xs)return!1;var e=Xs;if(Xs=null,(xs&(Os|Ts))!==Ss)throw Error(a(331));var t=xs;for(xs|=Ts,e=e.current.firstEffect;null!==e;){try{var n=e;if(0!==(512&n.effectTag))switch(n.tag){case 0:case 11:case 15:case 22:as(5,n),ss(5,n)}}catch(r){if(null===e)throw Error(a(330));ku(e,r)}n=e.nextEffect,e.nextEffect=null,e=n}return xs=t,Ki(),!0}function Tu(e,t,n){lo(e,t=vs(e,t=ts(n,t),1073741823)),null!==(e=au(e,1073741823))&&uu(e)}function ku(e,t){if(3===e.tag)Tu(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Tu(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Qs||!Qs.has(r))){lo(n,e=ms(n,e=ts(t,e),1073741823)),null!==(n=au(n,1073741823))&&uu(n);break}}n=n.return}}function Iu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),Ms===e&&Ds===n?js===Rs||js===Ns&&1073741823===Fs&&Bi()-Gs<zs?fu(e,Ds):qs=!0:Hu(e,n)&&(0!==(t=e.lastPingedTime)&&t<n||(e.lastPingedTime=n,uu(e)))}bs=function(e,t,n){var r=t.expirationTime;if(null!==e){var i=t.pendingProps;if(e.memoizedProps!==i||pi.current)Pa=!0;else{if(r<n){switch(Pa=!1,t.tag){case 3:Ba(t),Na();break;case 5:if(Do(t),4&t.mode&&1!==n&&i.hidden)return t.expirationTime=t.childExpirationTime=1,null;break;case 1:vi(t.type)&&wi(t);break;case 4:Mo(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value,i=t.type._context,hi(Xi,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(r=t.child.childExpirationTime)&&r>=n?Ka(e,t,n):(hi(Uo,1&Uo.current),null!==(t=Xa(e,t,n))?t.sibling:null);hi(Uo,1&Uo.current);break;case 19:if(r=t.childExpirationTime>=n,0!==(64&e.effectTag)){if(r)return $a(e,t,n);t.effectTag|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null),hi(Uo,Uo.current),!r)return null}return Xa(e,t,n)}Pa=!1}}else Pa=!1;switch(t.expirationTime=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,i=yi(t,di.current),io(t,n),i=$o(null,t,r,e,i,n),t.effectTag|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,vi(r)){var o=!0;wi(t)}else o=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,so(t);var s=r.getDerivedStateFromProps;"function"===typeof s&&vo(t,r,s,e),i.updater=mo,t.stateNode=i,i._reactInternalFiber=t,Eo(t,r,e,n),t=Ha(null,t,r,!0,o,n)}else t.tag=0,xa(null,t,i,n),t=t.child;return t;case 16:e:{if(i=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,function(e){if(-1===e._status){e._status=0;var t=e._ctor;t=t(),e._result=t,t.then(function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)},function(t){0===e._status&&(e._status=2,e._result=t)})}}(i),1!==i._status)throw i._result;switch(i=i._result,t.type=i,o=t.tag=function(e){if("function"===typeof e)return xu(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===se)return 11;if(e===le)return 14}return 2}(i),e=$i(i,e),o){case 0:t=Ua(null,t,i,e,n);break e;case 1:t=Fa(null,t,i,e,n);break e;case 11:t=Ma(null,t,i,e,n);break e;case 14:t=La(null,t,i,$i(i.type,e),r,n);break e}throw Error(a(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ua(e,t,r,i=t.elementType===r?i:$i(r,i),n);case 1:return r=t.type,i=t.pendingProps,Fa(e,t,r,i=t.elementType===r?i:$i(r,i),n);case 3:if(Ba(t),r=t.updateQueue,null===e||null===r)throw Error(a(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,uo(e,t),fo(t,r,null,n),(r=t.memoizedState.element)===i)Na(),t=Xa(e,t,n);else{if((i=t.stateNode.hydrate)&&(Sa=Sn(t.stateNode.containerInfo.firstChild),Ea=t,i=Ca=!0),i)for(n=Io(t,null,r,n),t.child=n;n;)n.effectTag=-3&n.effectTag|1024,n=n.sibling;else xa(e,t,r,n),Na();t=t.child}return t;case 5:return Do(t),null===e&&ka(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,_n(r,i)?s=null:null!==o&&_n(r,o)&&(t.effectTag|=16),ja(e,t),4&t.mode&&1!==n&&i.hidden?(t.expirationTime=t.childExpirationTime=1,t=null):(xa(e,t,s,n),t=t.child),t;case 6:return null===e&&ka(t),null;case 13:return Ka(e,t,n);case 4:return Mo(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=ko(t,null,r,n):xa(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Ma(e,t,r,i=t.elementType===r?i:$i(r,i),n);case 7:return xa(e,t,t.pendingProps,n),t.child;case 8:case 12:return xa(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value;var u=t.type._context;if(hi(Xi,u._currentValue),u._currentValue=o,null!==s)if(u=s.value,0===(o=Fr(u,o)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(u,o):1073741823))){if(s.children===i.children&&!pi.current){t=Xa(e,t,n);break e}}else for(null!==(u=t.child)&&(u.return=t);null!==u;){var c=u.dependencies;if(null!==c){s=u.child;for(var l=c.firstContext;null!==l;){if(l.context===r&&0!==(l.observedBits&o)){1===u.tag&&((l=co(n,null)).tag=2,lo(u,l)),u.expirationTime<n&&(u.expirationTime=n),null!==(l=u.alternate)&&l.expirationTime<n&&(l.expirationTime=n),ro(u.return,n),c.expirationTime<n&&(c.expirationTime=n);break}l=l.next}}else s=10===u.tag&&u.type===t.type?null:u.child;if(null!==s)s.return=u;else for(s=u;null!==s;){if(s===t){s=null;break}if(null!==(u=s.sibling)){u.return=s.return,s=u;break}s=s.return}u=s}xa(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(o=t.pendingProps).children,io(t,n),r=r(i=oo(i,o.unstable_observedBits)),t.effectTag|=1,xa(e,t,r,n),t.child;case 14:return o=$i(i=t.type,t.pendingProps),La(e,t,i,o=$i(i.type,o),r,n);case 15:return Da(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:$i(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),t.tag=1,vi(r)?(e=!0,wi(t)):e=!1,io(t,n),_o(t,r,i),Eo(t,r,i,n),Ha(null,t,r,!0,e,n);case 19:return $a(e,t,n)}throw Error(a(156,t.tag))};var Au=null,Nu=null;function Ru(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function Pu(e,t,n,r){return new Ru(e,t,n,r)}function xu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Mu(e,t){var n=e.alternate;return null===n?((n=Pu(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=e.childExpirationTime,n.expirationTime=e.expirationTime,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{expirationTime:t.expirationTime,firstContext:t.firstContext,responders:t.responders},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Lu(e,t,n,r,i,o){var s=2;if(r=e,"function"===typeof e)xu(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case te:return Du(n.children,i,o,t);case ae:s=8,i|=7;break;case ne:s=8,i|=1;break;case re:return(e=Pu(12,n,t,8|i)).elementType=re,e.type=re,e.expirationTime=o,e;case ue:return(e=Pu(13,n,t,i)).type=ue,e.elementType=ue,e.expirationTime=o,e;case ce:return(e=Pu(19,n,t,i)).elementType=ce,e.expirationTime=o,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case ie:s=10;break e;case oe:s=9;break e;case se:s=11;break e;case le:s=14;break e;case he:s=16,r=null;break e;case fe:s=22;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Pu(s,n,t,i)).elementType=e,t.type=r,t.expirationTime=o,t}function Du(e,t,n,r){return(e=Pu(7,e,r,t)).expirationTime=n,e}function ju(e,t,n){return(e=Pu(6,e,null,t)).expirationTime=n,e}function Uu(e,t,n){return(t=Pu(4,null!==e.children?e.children:[],e.key,t)).expirationTime=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Fu(e,t,n){this.tag=t,this.current=null,this.containerInfo=e,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function Hu(e,t){var n=e.firstSuspendedTime;return e=e.lastSuspendedTime,0!==n&&n>=t&&e<=t}function Bu(e,t){var n=e.firstSuspendedTime,r=e.lastSuspendedTime;n<t&&(e.firstSuspendedTime=t),(r>t||0===n)&&(e.lastSuspendedTime=t),t<=e.lastPingedTime&&(e.lastPingedTime=0),t<=e.lastExpiredTime&&(e.lastExpiredTime=0)}function Vu(e,t){t>e.firstPendingTime&&(e.firstPendingTime=t);var n=e.firstSuspendedTime;0!==n&&(t>=n?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:t>=e.lastSuspendedTime&&(e.lastSuspendedTime=t+1),t>e.nextKnownPendingLevel&&(e.nextKnownPendingLevel=t))}function qu(e,t){var n=e.lastExpiredTime;(0===n||n>t)&&(e.lastExpiredTime=t)}function Gu(e,t,n,r){var i=t.current,o=ru(),s=go.suspense;o=iu(o,i,s);e:if(n){t:{if(Ze(n=n._reactInternalFiber)!==n||1!==n.tag)throw Error(a(170));var u=n;do{switch(u.tag){case 3:u=u.stateNode.context;break t;case 1:if(vi(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break t}}u=u.return}while(null!==u);throw Error(a(171))}if(1===n.tag){var c=n.type;if(vi(c)){n=_i(n,c,u);break e}}n=u}else n=fi;return null===t.context?t.context=n:t.pendingContext=n,(t=co(o,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),lo(i,t),ou(i,o),o}function zu(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function Wu(e,t){null!==(e=e.memoizedState)&&null!==e.dehydrated&&e.retryTime<t&&(e.retryTime=t)}function Ku(e,t){Wu(e,t),(e=e.alternate)&&Wu(e,t)}function Yu(e,t,n){var r=new Fu(e,t,n=null!=n&&!0===n.hydrate),i=Pu(3,null,null,2===t?7:1===t?3:0);r.current=i,i.stateNode=r,so(i),e[In]=r.current,n&&0!==t&&function(e,t){var n=Je(t);Tt.forEach(function(e){pt(e,t,n)}),kt.forEach(function(e){pt(e,t,n)})}(0,9===e.nodeType?e:e.ownerDocument),this._internalRoot=r}function Qu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function $u(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o._internalRoot;if("function"===typeof i){var s=i;i=function(){var e=zu(a);s.call(e)}}Gu(t,a,e,i)}else{if(o=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new Yu(e,0,t?{hydrate:!0}:void 0)}(n,r),a=o._internalRoot,"function"===typeof i){var u=i;i=function(){var e=zu(a);u.call(e)}}hu(function(){Gu(t,a,e,i)})}return zu(a)}function Xu(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Qu(t))throw Error(a(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:ee,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)}Yu.prototype.render=function(e){Gu(e,this._internalRoot,null,null)},Yu.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Gu(null,e,null,function(){t[In]=null})},gt=function(e){if(13===e.tag){var t=Qi(ru(),150,100);ou(e,t),Ku(e,t)}},yt=function(e){13===e.tag&&(ou(e,3),Ku(e,3))},vt=function(e){if(13===e.tag){var t=ru();ou(e,t=iu(t,e,null)),Ku(e,t)}},k=function(e,t,n){switch(t){case"input":if(Ce(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Pn(r);if(!i)throw Error(a(90));_e(r),Ce(r,i)}}}break;case"textarea":Re(e,n);break;case"select":null!=(t=n.value)&&Ie(e,!!n.multiple,t,!1)}},x=lu,M=function(e,t,n,r,i){var o=xs;xs|=4;try{return Gi(98,e.bind(null,t,n,r,i))}finally{(xs=o)===Ss&&Ki()}},L=function(){(xs&(1|Os|Ts))===Ss&&(function(){if(null!==Zs){var e=Zs;Zs=null,e.forEach(function(e,t){qu(t,e),uu(t)}),Ki()}}(),Cu())},D=function(e,t){var n=xs;xs|=2;try{return e(t)}finally{(xs=n)===Ss&&Ki()}};var Ju={Events:[Nn,Rn,Pn,O,E,Fn,function(e){it(e,Un)},R,P,Qt,st,Cu,{current:!1}]};!function(e){var t=e.findFiberByHostInstance;(function(e){if("undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var n=t.inject(e);Au=function(e){try{t.onCommitFiberRoot(n,e,void 0,64===(64&e.current.effectTag))}catch(r){}},Nu=function(e){try{t.onCommitFiberUnmount(n,e)}catch(r){}}}catch(r){}})(i({},e,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Q.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=nt(e))?null:e.stateNode},findFiberByHostInstance:function(e){return t?t(e):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}))}({findFiberByHostInstance:An,bundleType:0,version:"16.13.1",rendererPackageName:"react-dom"}),t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ju,t.createPortal=Xu,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternalFiber;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw Error(a(268,Object.keys(e)))}return e=null===(e=nt(t))?null:e.stateNode},t.flushSync=function(e,t){if((xs&(Os|Ts))!==Ss)throw Error(a(187));var n=xs;xs|=1;try{return Gi(99,e.bind(null,t))}finally{xs=n,Ki()}},t.hydrate=function(e,t,n){if(!Qu(t))throw Error(a(200));return $u(null,e,t,!0,n)},t.render=function(e,t,n){if(!Qu(t))throw Error(a(200));return $u(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Qu(e))throw Error(a(40));return!!e._reactRootContainer&&(hu(function(){$u(null,null,e,!1,function(){e._reactRootContainer=null,e[In]=null})}),!0)},t.unstable_batchedUpdates=lu,t.unstable_createPortal=function(e,t){return Xu(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Qu(n))throw Error(a(200));if(null==e||void 0===e._reactInternalFiber)throw Error(a(38));return $u(e,t,n,!1,r)},t.version="16.13.1"},function(e,t,n){"use strict";e.exports=n(799)},function(e,t,n){"use strict";var r,i,o,a,s;if("undefined"===typeof window||"function"!==typeof MessageChannel){var u=null,c=null,l=function e(){if(null!==u)try{var n=t.unstable_now();u(!0,n),u=null}catch(r){throw setTimeout(e,0),r}},h=Date.now();t.unstable_now=function(){return Date.now()-h},r=function(e){null!==u?setTimeout(r,0,e):(u=e,setTimeout(l,0))},i=function(e,t){c=setTimeout(e,t)},o=function(){clearTimeout(c)},a=function(){return!1},s=t.unstable_forceFrameRate=function(){}}else{var f=window.performance,d=window.Date,p=window.setTimeout,g=window.clearTimeout;if("undefined"!==typeof console){var y=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!==typeof y&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"===typeof f&&"function"===typeof f.now)t.unstable_now=function(){return f.now()};else{var v=d.now();t.unstable_now=function(){return d.now()-v}}var m=!1,b=null,_=-1,w=5,E=0;a=function(){return t.unstable_now()>=E},s=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):w=0<e?Math.floor(1e3/e):5};var S=new MessageChannel,C=S.port2;S.port1.onmessage=function(){if(null!==b){var e=t.unstable_now();E=e+w;try{b(!0,e)?C.postMessage(null):(m=!1,b=null)}catch(n){throw C.postMessage(null),n}}else m=!1},r=function(e){b=e,m||(m=!0,C.postMessage(null))},i=function(e,n){_=p(function(){e(t.unstable_now())},n)},o=function(){g(_),_=-1}}function O(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<I(i,t)))break e;e[r]=t,e[n]=i,n=r}}function T(e){return void 0===(e=e[0])?null:e}function k(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var o=2*(r+1)-1,a=e[o],s=o+1,u=e[s];if(void 0!==a&&0>I(a,n))void 0!==u&&0>I(u,a)?(e[r]=u,e[s]=n,r=s):(e[r]=a,e[o]=n,r=o);else{if(!(void 0!==u&&0>I(u,n)))break e;e[r]=u,e[s]=n,r=s}}}return t}return null}function I(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var A=[],N=[],R=1,P=null,x=3,M=!1,L=!1,D=!1;function j(e){for(var t=T(N);null!==t;){if(null===t.callback)k(N);else{if(!(t.startTime<=e))break;k(N),t.sortIndex=t.expirationTime,O(A,t)}t=T(N)}}function U(e){if(D=!1,j(e),!L)if(null!==T(A))L=!0,r(F);else{var t=T(N);null!==t&&i(U,t.startTime-e)}}function F(e,n){L=!1,D&&(D=!1,o()),M=!0;var r=x;try{for(j(n),P=T(A);null!==P&&(!(P.expirationTime>n)||e&&!a());){var s=P.callback;if(null!==s){P.callback=null,x=P.priorityLevel;var u=s(P.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?P.callback=u:P===T(A)&&k(A),j(n)}else k(A);P=T(A)}if(null!==P)var c=!0;else{var l=T(N);null!==l&&i(U,l.startTime-n),c=!1}return c}finally{P=null,x=r,M=!1}}function H(e){switch(e){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var B=s;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){L||M||(L=!0,r(F))},t.unstable_getCurrentPriorityLevel=function(){return x},t.unstable_getFirstCallbackNode=function(){return T(A)},t.unstable_next=function(e){switch(x){case 1:case 2:case 3:var t=3;break;default:t=x}var n=x;x=t;try{return e()}finally{x=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=B,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=x;x=e;try{return t()}finally{x=n}},t.unstable_scheduleCallback=function(e,n,a){var s=t.unstable_now();if("object"===typeof a&&null!==a){var u=a.delay;u="number"===typeof u&&0<u?s+u:s,a="number"===typeof a.timeout?a.timeout:H(e)}else a=H(e),u=s;return e={id:R++,callback:n,priorityLevel:e,startTime:u,expirationTime:a=u+a,sortIndex:-1},u>s?(e.sortIndex=u,O(N,e),null===T(A)&&e===T(N)&&(D?o():D=!0,i(U,u-s))):(e.sortIndex=a,O(A,e),L||M||(L=!0,r(F))),e},t.unstable_shouldYield=function(){var e=t.unstable_now();j(e);var n=T(A);return n!==P&&null!==P&&null!==n&&null!==n.callback&&n.startTime<=e&&n.expirationTime<P.expirationTime||a()},t.unstable_wrapCallback=function(e){var t=x;return function(){var n=x;x=t;try{return e.apply(this,arguments)}finally{x=n}}}},function(e,t,n){"use strict";var r=n(801);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";e.exports=n(803)},function(e,t,n){"use strict";var r="function"===typeof Symbol&&Symbol.for,i=r?Symbol.for("react.element"):60103,o=r?Symbol.for("react.portal"):60106,a=r?Symbol.for("react.fragment"):60107,s=r?Symbol.for("react.strict_mode"):60108,u=r?Symbol.for("react.profiler"):60114,c=r?Symbol.for("react.provider"):60109,l=r?Symbol.for("react.context"):60110,h=r?Symbol.for("react.async_mode"):60111,f=r?Symbol.for("react.concurrent_mode"):60111,d=r?Symbol.for("react.forward_ref"):60112,p=r?Symbol.for("react.suspense"):60113,g=r?Symbol.for("react.suspense_list"):60120,y=r?Symbol.for("react.memo"):60115,v=r?Symbol.for("react.lazy"):60116,m=r?Symbol.for("react.block"):60121,b=r?Symbol.for("react.fundamental"):60117,_=r?Symbol.for("react.responder"):60118,w=r?Symbol.for("react.scope"):60119;function E(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case h:case f:case a:case u:case s:case p:return e;default:switch(e=e&&e.$$typeof){case l:case d:case v:case y:case c:return e;default:return t}}case o:return t}}}function S(e){return E(e)===f}t.AsyncMode=h,t.ConcurrentMode=f,t.ContextConsumer=l,t.ContextProvider=c,t.Element=i,t.ForwardRef=d,t.Fragment=a,t.Lazy=v,t.Memo=y,t.Portal=o,t.Profiler=u,t.StrictMode=s,t.Suspense=p,t.isAsyncMode=function(e){return S(e)||E(e)===h},t.isConcurrentMode=S,t.isContextConsumer=function(e){return E(e)===l},t.isContextProvider=function(e){return E(e)===c},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===i},t.isForwardRef=function(e){return E(e)===d},t.isFragment=function(e){return E(e)===a},t.isLazy=function(e){return E(e)===v},t.isMemo=function(e){return E(e)===y},t.isPortal=function(e){return E(e)===o},t.isProfiler=function(e){return E(e)===u},t.isStrictMode=function(e){return E(e)===s},t.isSuspense=function(e){return E(e)===p},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===f||e===u||e===s||e===p||e===g||"object"===typeof e&&null!==e&&(e.$$typeof===v||e.$$typeof===y||e.$$typeof===c||e.$$typeof===l||e.$$typeof===d||e.$$typeof===b||e.$$typeof===_||e.$$typeof===w||e.$$typeof===m)},t.typeOf=E},function(e,t,n){"use strict";var r="function"===typeof Symbol&&Symbol.for,i=r?Symbol.for("react.element"):60103,o=r?Symbol.for("react.portal"):60106,a=r?Symbol.for("react.fragment"):60107,s=r?Symbol.for("react.strict_mode"):60108,u=r?Symbol.for("react.profiler"):60114,c=r?Symbol.for("react.provider"):60109,l=r?Symbol.for("react.context"):60110,h=r?Symbol.for("react.async_mode"):60111,f=r?Symbol.for("react.concurrent_mode"):60111,d=r?Symbol.for("react.forward_ref"):60112,p=r?Symbol.for("react.suspense"):60113,g=r?Symbol.for("react.suspense_list"):60120,y=r?Symbol.for("react.memo"):60115,v=r?Symbol.for("react.lazy"):60116,m=r?Symbol.for("react.block"):60121,b=r?Symbol.for("react.fundamental"):60117,_=r?Symbol.for("react.responder"):60118,w=r?Symbol.for("react.scope"):60119;function E(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case h:case f:case a:case u:case s:case p:return e;default:switch(e=e&&e.$$typeof){case l:case d:case v:case y:case c:return e;default:return t}}case o:return t}}}function S(e){return E(e)===f}t.AsyncMode=h,t.ConcurrentMode=f,t.ContextConsumer=l,t.ContextProvider=c,t.Element=i,t.ForwardRef=d,t.Fragment=a,t.Lazy=v,t.Memo=y,t.Portal=o,t.Profiler=u,t.StrictMode=s,t.Suspense=p,t.isAsyncMode=function(e){return S(e)||E(e)===h},t.isConcurrentMode=S,t.isContextConsumer=function(e){return E(e)===l},t.isContextProvider=function(e){return E(e)===c},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===i},t.isForwardRef=function(e){return E(e)===d},t.isFragment=function(e){return E(e)===a},t.isLazy=function(e){return E(e)===v},t.isMemo=function(e){return E(e)===y},t.isPortal=function(e){return E(e)===o},t.isProfiler=function(e){return E(e)===u},t.isStrictMode=function(e){return E(e)===s},t.isSuspense=function(e){return E(e)===p},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===f||e===u||e===s||e===p||e===g||"object"===typeof e&&null!==e&&(e.$$typeof===v||e.$$typeof===y||e.$$typeof===c||e.$$typeof===l||e.$$typeof===d||e.$$typeof===b||e.$$typeof===_||e.$$typeof===w||e.$$typeof===m)},t.typeOf=E},function(e,t,n){"use strict";function r(e){return e&&"object"===typeof e&&"default"in e?e.default:e}var i=n(0),o=r(i),a=r(n(316));function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u=!("undefined"===typeof window||!window.document||!window.document.createElement);e.exports=function(e,t,n){if("function"!==typeof e)throw new Error("Expected reducePropsToState to be a function.");if("function"!==typeof t)throw new Error("Expected handleStateChangeOnClient to be a function.");if("undefined"!==typeof n&&"function"!==typeof n)throw new Error("Expected mapStateOnServer to either be undefined or a function.");return function(r){if("function"!==typeof r)throw new Error("Expected WrappedComponent to be a React component.");var c,l=[];function h(){c=e(l.map(function(e){return e.props})),f.canUseDOM?t(c):n&&(c=n(c))}var f=function(e){var t,n;function i(){return e.apply(this,arguments)||this}n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,i.peek=function(){return c},i.rewind=function(){if(i.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var e=c;return c=void 0,l=[],e};var s=i.prototype;return s.shouldComponentUpdate=function(e){return!a(e,this.props)},s.componentWillMount=function(){l.push(this),h()},s.componentDidUpdate=function(){h()},s.componentWillUnmount=function(){var e=l.indexOf(this);l.splice(e,1),h()},s.render=function(){return o.createElement(r,this.props)},i}(i.Component);return s(f,"displayName","SideEffect("+function(e){return e.displayName||e.name||"Component"}(r)+")"),s(f,"canUseDOM",u),f}}},function(e,t,n){"use strict";var r=Array.isArray,i=Object.keys,o=Object.prototype.hasOwnProperty,a="undefined"!==typeof Element;e.exports=function(e,t){try{return function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){var s,u,c,l=r(t),h=r(n);if(l&&h){if((u=t.length)!=n.length)return!1;for(s=u;0!==s--;)if(!e(t[s],n[s]))return!1;return!0}if(l!=h)return!1;var f=t instanceof Date,d=n instanceof Date;if(f!=d)return!1;if(f&&d)return t.getTime()==n.getTime();var p=t instanceof RegExp,g=n instanceof RegExp;if(p!=g)return!1;if(p&&g)return t.toString()==n.toString();var y=i(t);if((u=y.length)!==i(n).length)return!1;for(s=u;0!==s--;)if(!o.call(n,y[s]))return!1;if(a&&t instanceof Element&&n instanceof Element)return t===n;for(s=u;0!==s--;)if(("_owner"!==(c=y[s])||!t.$$typeof)&&!e(t[c],n[c]))return!1;return!0}return t!==t&&n!==n}(e,t)}catch(n){if(n.message&&n.message.match(/stack|recursion/i)||-2146828260===n.number)return console.warn("Warning: react-fast-compare does not handle circular references.",n.name,n.message),!1;throw n}}},function(e,t,n){(function(e){t.__esModule=!0,t.warn=t.requestAnimationFrame=t.reducePropsToState=t.mapStateOnServer=t.handleClientStateChange=t.convertReactPropstoHtmlAttributes=void 0;var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=u(n(0)),a=u(n(204)),s=n(418);function u(e){return e&&e.__esModule?e:{default:e}}var c=function(e){return!1===(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},l=function(e){var t=g(e,s.TAG_NAMES.TITLE),n=g(e,s.HELMET_PROPS.TITLE_TEMPLATE);if(n&&t)return n.replace(/%s/g,function(){return t});var r=g(e,s.HELMET_PROPS.DEFAULT_TITLE);return t||r||void 0},h=function(e){return g(e,s.HELMET_PROPS.ON_CHANGE_CLIENT_STATE)||function(){}},f=function(e,t){return t.filter(function(t){return"undefined"!==typeof t[e]}).map(function(t){return t[e]}).reduce(function(e,t){return i({},e,t)},{})},d=function(e,t){return t.filter(function(e){return"undefined"!==typeof e[s.TAG_NAMES.BASE]}).map(function(e){return e[s.TAG_NAMES.BASE]}).reverse().reduce(function(t,n){if(!t.length)for(var r=Object.keys(n),i=0;i<r.length;i++){var o=r[i].toLowerCase();if(-1!==e.indexOf(o)&&n[o])return t.concat(n)}return t},[])},p=function(e,t,n){var i={};return n.filter(function(t){return!!Array.isArray(t[e])||("undefined"!==typeof t[e]&&_("Helmet: "+e+' should be of type "Array". Instead found type "'+r(t[e])+'"'),!1)}).map(function(t){return t[e]}).reverse().reduce(function(e,n){var r={};n.filter(function(e){for(var n=void 0,o=Object.keys(e),a=0;a<o.length;a++){var u=o[a],c=u.toLowerCase();-1===t.indexOf(c)||n===s.TAG_PROPERTIES.REL&&"canonical"===e[n].toLowerCase()||c===s.TAG_PROPERTIES.REL&&"stylesheet"===e[c].toLowerCase()||(n=c),-1===t.indexOf(u)||u!==s.TAG_PROPERTIES.INNER_HTML&&u!==s.TAG_PROPERTIES.CSS_TEXT&&u!==s.TAG_PROPERTIES.ITEM_PROP||(n=u)}if(!n||!e[n])return!1;var l=e[n].toLowerCase();return i[n]||(i[n]={}),r[n]||(r[n]={}),!i[n][l]&&(r[n][l]=!0,!0)}).reverse().forEach(function(t){return e.push(t)});for(var o=Object.keys(r),u=0;u<o.length;u++){var c=o[u],l=(0,a.default)({},i[c],r[c]);i[c]=l}return e},[]).reverse()},g=function(e,t){for(var n=e.length-1;n>=0;n--){var r=e[n];if(r.hasOwnProperty(t))return r[t]}return null},y=function(){var e=Date.now();return function(t){var n=Date.now();n-e>16?(e=n,t(n)):setTimeout(function(){y(t)},0)}}(),v=function(e){return clearTimeout(e)},m="undefined"!==typeof window?window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||y:e.requestAnimationFrame||y,b="undefined"!==typeof window?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||v:e.cancelAnimationFrame||v,_=function(e){return console&&"function"===typeof console.warn&&console.warn(e)},w=null,E=function(e,t){var n=e.baseTag,r=e.bodyAttributes,i=e.htmlAttributes,o=e.linkTags,a=e.metaTags,u=e.noscriptTags,c=e.onChangeClientState,l=e.scriptTags,h=e.styleTags,f=e.title,d=e.titleAttributes;O(s.TAG_NAMES.BODY,r),O(s.TAG_NAMES.HTML,i),C(f,d);var p={baseTag:T(s.TAG_NAMES.BASE,n),linkTags:T(s.TAG_NAMES.LINK,o),metaTags:T(s.TAG_NAMES.META,a),noscriptTags:T(s.TAG_NAMES.NOSCRIPT,u),scriptTags:T(s.TAG_NAMES.SCRIPT,l),styleTags:T(s.TAG_NAMES.STYLE,h)},g={},y={};Object.keys(p).forEach(function(e){var t=p[e],n=t.newTags,r=t.oldTags;n.length&&(g[e]=n),r.length&&(y[e]=p[e].oldTags)}),t&&t(),c(e,g,y)},S=function(e){return Array.isArray(e)?e.join(""):e},C=function(e,t){"undefined"!==typeof e&&document.title!==e&&(document.title=S(e)),O(s.TAG_NAMES.TITLE,t)},O=function(e,t){var n=document.getElementsByTagName(e)[0];if(n){for(var r=n.getAttribute(s.HELMET_ATTRIBUTE),i=r?r.split(","):[],o=[].concat(i),a=Object.keys(t),u=0;u<a.length;u++){var c=a[u],l=t[c]||"";n.getAttribute(c)!==l&&n.setAttribute(c,l),-1===i.indexOf(c)&&i.push(c);var h=o.indexOf(c);-1!==h&&o.splice(h,1)}for(var f=o.length-1;f>=0;f--)n.removeAttribute(o[f]);i.length===o.length?n.removeAttribute(s.HELMET_ATTRIBUTE):n.getAttribute(s.HELMET_ATTRIBUTE)!==a.join(",")&&n.setAttribute(s.HELMET_ATTRIBUTE,a.join(","))}},T=function(e,t){var n=document.head||document.querySelector(s.TAG_NAMES.HEAD),r=n.querySelectorAll(e+"["+s.HELMET_ATTRIBUTE+"]"),i=Array.prototype.slice.call(r),o=[],a=void 0;return t&&t.length&&t.forEach(function(t){var n=document.createElement(e);for(var r in t)if(t.hasOwnProperty(r))if(r===s.TAG_PROPERTIES.INNER_HTML)n.innerHTML=t.innerHTML;else if(r===s.TAG_PROPERTIES.CSS_TEXT)n.styleSheet?n.styleSheet.cssText=t.cssText:n.appendChild(document.createTextNode(t.cssText));else{var u="undefined"===typeof t[r]?"":t[r];n.setAttribute(r,u)}n.setAttribute(s.HELMET_ATTRIBUTE,"true"),i.some(function(e,t){return a=t,n.isEqualNode(e)})?i.splice(a,1):o.push(n)}),i.forEach(function(e){return e.parentNode.removeChild(e)}),o.forEach(function(e){return n.appendChild(e)}),{oldTags:i,newTags:o}},k=function(e){return Object.keys(e).reduce(function(t,n){var r="undefined"!==typeof e[n]?n+'="'+e[n]+'"':""+n;return t?t+" "+r:r},"")},I=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(e).reduce(function(t,n){return t[s.REACT_TAG_MAP[n]||n]=e[n],t},t)},A=function(e,t,n){switch(e){case s.TAG_NAMES.TITLE:return{toComponent:function(){return function(e,t,n){var r,i=((r={key:t})[s.HELMET_ATTRIBUTE]=!0,r),a=I(n,i);return[o.default.createElement(s.TAG_NAMES.TITLE,a,t)]}(0,t.title,t.titleAttributes)},toString:function(){return function(e,t,n,r){var i=k(n),o=S(t);return i?"<"+e+" "+s.HELMET_ATTRIBUTE+'="true" '+i+">"+c(o,r)+"</"+e+">":"<"+e+" "+s.HELMET_ATTRIBUTE+'="true">'+c(o,r)+"</"+e+">"}(e,t.title,t.titleAttributes,n)}};case s.ATTRIBUTE_NAMES.BODY:case s.ATTRIBUTE_NAMES.HTML:return{toComponent:function(){return I(t)},toString:function(){return k(t)}};default:return{toComponent:function(){return function(e,t){return t.map(function(t,n){var r,i=((r={key:n})[s.HELMET_ATTRIBUTE]=!0,r);return Object.keys(t).forEach(function(e){var n=s.REACT_TAG_MAP[e]||e;if(n===s.TAG_PROPERTIES.INNER_HTML||n===s.TAG_PROPERTIES.CSS_TEXT){var r=t.innerHTML||t.cssText;i.dangerouslySetInnerHTML={__html:r}}else i[n]=t[e]}),o.default.createElement(e,i)})}(e,t)},toString:function(){return function(e,t,n){return t.reduce(function(t,r){var i=Object.keys(r).filter(function(e){return!(e===s.TAG_PROPERTIES.INNER_HTML||e===s.TAG_PROPERTIES.CSS_TEXT)}).reduce(function(e,t){var i="undefined"===typeof r[t]?t:t+'="'+c(r[t],n)+'"';return e?e+" "+i:i},""),o=r.innerHTML||r.cssText||"",a=-1===s.SELF_CLOSING_TAGS.indexOf(e);return t+"<"+e+" "+s.HELMET_ATTRIBUTE+'="true" '+i+(a?"/>":">"+o+"</"+e+">")},"")}(e,t,n)}}}};t.convertReactPropstoHtmlAttributes=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(e).reduce(function(t,n){return t[s.HTML_TAG_MAP[n]||n]=e[n],t},t)},t.handleClientStateChange=function(e){w&&b(w),e.defer?w=m(function(){E(e,function(){w=null})}):(E(e),w=null)},t.mapStateOnServer=function(e){var t=e.baseTag,n=e.bodyAttributes,r=e.encode,i=e.htmlAttributes,o=e.linkTags,a=e.metaTags,u=e.noscriptTags,c=e.scriptTags,l=e.styleTags,h=e.title,f=void 0===h?"":h,d=e.titleAttributes;return{base:A(s.TAG_NAMES.BASE,t,r),bodyAttributes:A(s.ATTRIBUTE_NAMES.BODY,n,r),htmlAttributes:A(s.ATTRIBUTE_NAMES.HTML,i,r),link:A(s.TAG_NAMES.LINK,o,r),meta:A(s.TAG_NAMES.META,a,r),noscript:A(s.TAG_NAMES.NOSCRIPT,u,r),script:A(s.TAG_NAMES.SCRIPT,c,r),style:A(s.TAG_NAMES.STYLE,l,r),title:A(s.TAG_NAMES.TITLE,{title:f,titleAttributes:d},r)}},t.reducePropsToState=function(e){return{baseTag:d([s.TAG_PROPERTIES.HREF],e),bodyAttributes:f(s.ATTRIBUTE_NAMES.BODY,e),defer:g(e,s.HELMET_PROPS.DEFER),encode:g(e,s.HELMET_PROPS.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:f(s.ATTRIBUTE_NAMES.HTML,e),linkTags:p(s.TAG_NAMES.LINK,[s.TAG_PROPERTIES.REL,s.TAG_PROPERTIES.HREF],e),metaTags:p(s.TAG_NAMES.META,[s.TAG_PROPERTIES.NAME,s.TAG_PROPERTIES.CHARSET,s.TAG_PROPERTIES.HTTPEQUIV,s.TAG_PROPERTIES.PROPERTY,s.TAG_PROPERTIES.ITEM_PROP],e),noscriptTags:p(s.TAG_NAMES.NOSCRIPT,[s.TAG_PROPERTIES.INNER_HTML],e),onChangeClientState:h(e),scriptTags:p(s.TAG_NAMES.SCRIPT,[s.TAG_PROPERTIES.SRC,s.TAG_PROPERTIES.INNER_HTML],e),styleTags:p(s.TAG_NAMES.STYLE,[s.TAG_PROPERTIES.CSS_TEXT],e),title:l(e),titleAttributes:f(s.ATTRIBUTE_NAMES.TITLE,e)}},t.requestAnimationFrame=m,t.warn=_}).call(this,n(90))},function(e,t,n){"use strict";var r,i=Symbol.for("react.element"),o=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),l=Symbol.for("react.context"),h=Symbol.for("react.server_context"),f=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.suspense_list"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.for("react.offscreen");function m(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case a:case u:case s:case d:case p:return e;default:switch(e=e&&e.$$typeof){case h:case l:case f:case y:case g:case c:return e;default:return t}}case o:return t}}}r=Symbol.for("react.module.reference"),t.ContextConsumer=l,t.ContextProvider=c,t.Element=i,t.ForwardRef=f,t.Fragment=a,t.Lazy=y,t.Memo=g,t.Portal=o,t.Profiler=u,t.StrictMode=s,t.Suspense=d,t.SuspenseList=p,t.isAsyncMode=function(){return!1},t.isConcurrentMode=function(){return!1},t.isContextConsumer=function(e){return m(e)===l},t.isContextProvider=function(e){return m(e)===c},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===i},t.isForwardRef=function(e){return m(e)===f},t.isFragment=function(e){return m(e)===a},t.isLazy=function(e){return m(e)===y},t.isMemo=function(e){return m(e)===g},t.isPortal=function(e){return m(e)===o},t.isProfiler=function(e){return m(e)===u},t.isStrictMode=function(e){return m(e)===s},t.isSuspense=function(e){return m(e)===d},t.isSuspenseList=function(e){return m(e)===p},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===u||e===s||e===d||e===p||e===v||"object"===typeof e&&null!==e&&(e.$$typeof===y||e.$$typeof===g||e.$$typeof===c||e.$$typeof===l||e.$$typeof===f||e.$$typeof===r||void 0!==e.getModuleId)},t.typeOf=m},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),a=c(o),s=n(7),u=c(n(810));function c(e){return e&&e.__esModule?e:{default:e}}var l={"ps-scroll-y":"onScrollY","ps-scroll-x":"onScrollX","ps-scroll-up":"onScrollUp","ps-scroll-down":"onScrollDown","ps-scroll-left":"onScrollLeft","ps-scroll-right":"onScrollRight","ps-y-reach-start":"onYReachStart","ps-y-reach-end":"onYReachEnd","ps-x-reach-start":"onXReachStart","ps-x-reach-end":"onXReachEnd"};Object.freeze(l);var h=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleRef=n.handleRef.bind(n),n._handlerByEvent={},n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),i(t,[{key:"componentDidMount",value:function(){this.props.option&&console.warn('react-perfect-scrollbar: the "option" prop has been deprecated in favor of "options"'),this._ps=new u.default(this._container,this.props.options||this.props.option),this._updateEventHook(),this._updateClassName()}},{key:"componentDidUpdate",value:function(e){this._updateEventHook(e),this.updateScroll(),e.className!==this.props.className&&this._updateClassName()}},{key:"componentWillUnmount",value:function(){var e=this;Object.keys(this._handlerByEvent).forEach(function(t){var n=e._handlerByEvent[t];n&&e._container.removeEventListener(t,n,!1)}),this._handlerByEvent={},this._ps.destroy(),this._ps=null}},{key:"_updateEventHook",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object.keys(l).forEach(function(n){var r=e.props[l[n]],i=t[l[n]];if(r!==i){if(i){var o=e._handlerByEvent[n];e._container.removeEventListener(n,o,!1),e._handlerByEvent[n]=null}if(r){var a=function(){return r(e._container)};e._container.addEventListener(n,a,!1),e._handlerByEvent[n]=a}}})}},{key:"_updateClassName",value:function(){var e=this.props.className,t=this._container.className.split(" ").filter(function(e){return e.match(/^ps([-_].+|)$/)}).join(" ");this._container&&(this._container.className="scrollbar-container"+(e?" "+e:"")+(t?" "+t:""))}},{key:"updateScroll",value:function(){this.props.onSync(this._ps)}},{key:"handleRef",value:function(e){this._container=e,this.props.containerRef(e)}},{key:"render",value:function(){var e=this.props,t=(e.className,e.style),n=(e.option,e.options,e.containerRef,e.onScrollY,e.onScrollX,e.onScrollUp,e.onScrollDown,e.onScrollLeft,e.onScrollRight,e.onYReachStart,e.onYReachEnd,e.onXReachStart,e.onXReachEnd,e.component),i=(e.onSync,e.children),o=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["className","style","option","options","containerRef","onScrollY","onScrollX","onScrollUp","onScrollDown","onScrollLeft","onScrollRight","onYReachStart","onYReachEnd","onXReachStart","onXReachEnd","component","onSync","children"]),s=n;return a.default.createElement(s,r({style:t,ref:this.handleRef},o),i)}}]),t}();t.default=h,h.defaultProps={className:"",style:void 0,option:void 0,options:void 0,containerRef:function(){},onScrollY:void 0,onScrollX:void 0,onScrollUp:void 0,onScrollDown:void 0,onScrollLeft:void 0,onScrollRight:void 0,onYReachStart:void 0,onYReachEnd:void 0,onXReachStart:void 0,onXReachEnd:void 0,onSync:function(e){return e.update()},component:"div"},h.propTypes={children:s.PropTypes.node.isRequired,className:s.PropTypes.string,style:s.PropTypes.object,option:s.PropTypes.object,options:s.PropTypes.object,containerRef:s.PropTypes.func,onScrollY:s.PropTypes.func,onScrollX:s.PropTypes.func,onScrollUp:s.PropTypes.func,onScrollDown:s.PropTypes.func,onScrollLeft:s.PropTypes.func,onScrollRight:s.PropTypes.func,onYReachStart:s.PropTypes.func,onYReachEnd:s.PropTypes.func,onXReachStart:s.PropTypes.func,onXReachEnd:s.PropTypes.func,onSync:s.PropTypes.func,component:s.PropTypes.string},e.exports=t.default},function(e,t,n){"use strict";function r(e){return getComputedStyle(e)}function i(e,t){for(var n in t){var r=t[n];"number"===typeof r&&(r+="px"),e.style[n]=r}return e}function o(e){var t=document.createElement("div");return t.className=e,t}n.r(t);var a="undefined"!==typeof Element&&(Element.prototype.matches||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector);function s(e,t){if(!a)throw new Error("No element matching method supported");return a.call(e,t)}function u(e){e.remove?e.remove():e.parentNode&&e.parentNode.removeChild(e)}function c(e,t){return Array.prototype.filter.call(e.children,function(e){return s(e,t)})}var l={main:"ps",rtl:"ps__rtl",element:{thumb:function(e){return"ps__thumb-"+e},rail:function(e){return"ps__rail-"+e},consuming:"ps__child--consume"},state:{focus:"ps--focus",clicking:"ps--clicking",active:function(e){return"ps--active-"+e},scrolling:function(e){return"ps--scrolling-"+e}}},h={x:null,y:null};function f(e,t){var n=e.element.classList,r=l.state.scrolling(t);n.contains(r)?clearTimeout(h[t]):n.add(r)}function d(e,t){h[t]=setTimeout(function(){return e.isAlive&&e.element.classList.remove(l.state.scrolling(t))},e.settings.scrollingThreshold)}var p=function(e){this.element=e,this.handlers={}},g={isEmpty:{configurable:!0}};p.prototype.bind=function(e,t){"undefined"===typeof this.handlers[e]&&(this.handlers[e]=[]),this.handlers[e].push(t),this.element.addEventListener(e,t,!1)},p.prototype.unbind=function(e,t){var n=this;this.handlers[e]=this.handlers[e].filter(function(r){return!(!t||r===t)||(n.element.removeEventListener(e,r,!1),!1)})},p.prototype.unbindAll=function(){for(var e in this.handlers)this.unbind(e)},g.isEmpty.get=function(){var e=this;return Object.keys(this.handlers).every(function(t){return 0===e.handlers[t].length})},Object.defineProperties(p.prototype,g);var y=function(){this.eventElements=[]};function v(e){if("function"===typeof window.CustomEvent)return new CustomEvent(e);var t=document.createEvent("CustomEvent");return t.initCustomEvent(e,!1,!1,void 0),t}function m(e,t,n,r,i){var o;if(void 0===r&&(r=!0),void 0===i&&(i=!1),"top"===t)o=["contentHeight","containerHeight","scrollTop","y","up","down"];else{if("left"!==t)throw new Error("A proper axis should be provided");o=["contentWidth","containerWidth","scrollLeft","x","left","right"]}!function(e,t,n,r,i){var o=n[0],a=n[1],s=n[2],u=n[3],c=n[4],l=n[5];void 0===r&&(r=!0);void 0===i&&(i=!1);var h=e.element;e.reach[u]=null,h[s]<1&&(e.reach[u]="start");h[s]>e[o]-e[a]-1&&(e.reach[u]="end");t&&(h.dispatchEvent(v("ps-scroll-"+u)),t<0?h.dispatchEvent(v("ps-scroll-"+c)):t>0&&h.dispatchEvent(v("ps-scroll-"+l)),r&&function(e,t){f(e,t),d(e,t)}(e,u));e.reach[u]&&(t||i)&&h.dispatchEvent(v("ps-"+u+"-reach-"+e.reach[u]))}(e,n,o,r,i)}function b(e){return parseInt(e,10)||0}y.prototype.eventElement=function(e){var t=this.eventElements.filter(function(t){return t.element===e})[0];return t||(t=new p(e),this.eventElements.push(t)),t},y.prototype.bind=function(e,t,n){this.eventElement(e).bind(t,n)},y.prototype.unbind=function(e,t,n){var r=this.eventElement(e);r.unbind(t,n),r.isEmpty&&this.eventElements.splice(this.eventElements.indexOf(r),1)},y.prototype.unbindAll=function(){this.eventElements.forEach(function(e){return e.unbindAll()}),this.eventElements=[]},y.prototype.once=function(e,t,n){var r=this.eventElement(e);r.bind(t,function e(i){r.unbind(t,e),n(i)})};var _={isWebKit:"undefined"!==typeof document&&"WebkitAppearance"in document.documentElement.style,supportsTouch:"undefined"!==typeof window&&("ontouchstart"in window||"maxTouchPoints"in window.navigator&&window.navigator.maxTouchPoints>0||window.DocumentTouch&&document instanceof window.DocumentTouch),supportsIePointer:"undefined"!==typeof navigator&&navigator.msMaxTouchPoints,isChrome:"undefined"!==typeof navigator&&/Chrome/i.test(navigator&&navigator.userAgent)};function w(e){var t=e.element,n=Math.floor(t.scrollTop),r=t.getBoundingClientRect();e.containerWidth=Math.round(r.width),e.containerHeight=Math.round(r.height),e.contentWidth=t.scrollWidth,e.contentHeight=t.scrollHeight,t.contains(e.scrollbarXRail)||(c(t,l.element.rail("x")).forEach(function(e){return u(e)}),t.appendChild(e.scrollbarXRail)),t.contains(e.scrollbarYRail)||(c(t,l.element.rail("y")).forEach(function(e){return u(e)}),t.appendChild(e.scrollbarYRail)),!e.settings.suppressScrollX&&e.containerWidth+e.settings.scrollXMarginOffset<e.contentWidth?(e.scrollbarXActive=!0,e.railXWidth=e.containerWidth-e.railXMarginWidth,e.railXRatio=e.containerWidth/e.railXWidth,e.scrollbarXWidth=E(e,b(e.railXWidth*e.containerWidth/e.contentWidth)),e.scrollbarXLeft=b((e.negativeScrollAdjustment+t.scrollLeft)*(e.railXWidth-e.scrollbarXWidth)/(e.contentWidth-e.containerWidth))):e.scrollbarXActive=!1,!e.settings.suppressScrollY&&e.containerHeight+e.settings.scrollYMarginOffset<e.contentHeight?(e.scrollbarYActive=!0,e.railYHeight=e.containerHeight-e.railYMarginHeight,e.railYRatio=e.containerHeight/e.railYHeight,e.scrollbarYHeight=E(e,b(e.railYHeight*e.containerHeight/e.contentHeight)),e.scrollbarYTop=b(n*(e.railYHeight-e.scrollbarYHeight)/(e.contentHeight-e.containerHeight))):e.scrollbarYActive=!1,e.scrollbarXLeft>=e.railXWidth-e.scrollbarXWidth&&(e.scrollbarXLeft=e.railXWidth-e.scrollbarXWidth),e.scrollbarYTop>=e.railYHeight-e.scrollbarYHeight&&(e.scrollbarYTop=e.railYHeight-e.scrollbarYHeight),function(e,t){var n={width:t.railXWidth},r=Math.floor(e.scrollTop);t.isRtl?n.left=t.negativeScrollAdjustment+e.scrollLeft+t.containerWidth-t.contentWidth:n.left=e.scrollLeft;t.isScrollbarXUsingBottom?n.bottom=t.scrollbarXBottom-r:n.top=t.scrollbarXTop+r;i(t.scrollbarXRail,n);var o={top:r,height:t.railYHeight};t.isScrollbarYUsingRight?t.isRtl?o.right=t.contentWidth-(t.negativeScrollAdjustment+e.scrollLeft)-t.scrollbarYRight-t.scrollbarYOuterWidth-9:o.right=t.scrollbarYRight-e.scrollLeft:t.isRtl?o.left=t.negativeScrollAdjustment+e.scrollLeft+2*t.containerWidth-t.contentWidth-t.scrollbarYLeft-t.scrollbarYOuterWidth:o.left=t.scrollbarYLeft+e.scrollLeft;i(t.scrollbarYRail,o),i(t.scrollbarX,{left:t.scrollbarXLeft,width:t.scrollbarXWidth-t.railBorderXWidth}),i(t.scrollbarY,{top:t.scrollbarYTop,height:t.scrollbarYHeight-t.railBorderYWidth})}(t,e),e.scrollbarXActive?t.classList.add(l.state.active("x")):(t.classList.remove(l.state.active("x")),e.scrollbarXWidth=0,e.scrollbarXLeft=0,t.scrollLeft=!0===e.isRtl?e.contentWidth:0),e.scrollbarYActive?t.classList.add(l.state.active("y")):(t.classList.remove(l.state.active("y")),e.scrollbarYHeight=0,e.scrollbarYTop=0,t.scrollTop=0)}function E(e,t){return e.settings.minScrollbarLength&&(t=Math.max(t,e.settings.minScrollbarLength)),e.settings.maxScrollbarLength&&(t=Math.min(t,e.settings.maxScrollbarLength)),t}function S(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],u=t[6],c=t[7],h=t[8],p=e.element,g=null,y=null,v=null;function m(t){t.touches&&t.touches[0]&&(t[i]=t.touches[0].pageY),p[u]=g+v*(t[i]-y),f(e,c),w(e),t.stopPropagation(),t.type.startsWith("touch")&&t.changedTouches.length>1&&t.preventDefault()}function b(){d(e,c),e[h].classList.remove(l.state.clicking),e.event.unbind(e.ownerDocument,"mousemove",m)}function _(t,a){g=p[u],a&&t.touches&&(t[i]=t.touches[0].pageY),y=t[i],v=(e[r]-e[n])/(e[o]-e[s]),a?e.event.bind(e.ownerDocument,"touchmove",m):(e.event.bind(e.ownerDocument,"mousemove",m),e.event.once(e.ownerDocument,"mouseup",b),t.preventDefault()),e[h].classList.add(l.state.clicking),t.stopPropagation()}e.event.bind(e[a],"mousedown",function(e){_(e)}),e.event.bind(e[a],"touchstart",function(e){_(e,!0)})}var C={"click-rail":function(e){e.element,e.event.bind(e.scrollbarY,"mousedown",function(e){return e.stopPropagation()}),e.event.bind(e.scrollbarYRail,"mousedown",function(t){var n=t.pageY-window.pageYOffset-e.scrollbarYRail.getBoundingClientRect().top>e.scrollbarYTop?1:-1;e.element.scrollTop+=n*e.containerHeight,w(e),t.stopPropagation()}),e.event.bind(e.scrollbarX,"mousedown",function(e){return e.stopPropagation()}),e.event.bind(e.scrollbarXRail,"mousedown",function(t){var n=t.pageX-window.pageXOffset-e.scrollbarXRail.getBoundingClientRect().left>e.scrollbarXLeft?1:-1;e.element.scrollLeft+=n*e.containerWidth,w(e),t.stopPropagation()})},"drag-thumb":function(e){S(e,["containerWidth","contentWidth","pageX","railXWidth","scrollbarX","scrollbarXWidth","scrollLeft","x","scrollbarXRail"]),S(e,["containerHeight","contentHeight","pageY","railYHeight","scrollbarY","scrollbarYHeight","scrollTop","y","scrollbarYRail"])},keyboard:function(e){var t=e.element;e.event.bind(e.ownerDocument,"keydown",function(n){if(!(n.isDefaultPrevented&&n.isDefaultPrevented()||n.defaultPrevented)&&(s(t,":hover")||s(e.scrollbarX,":focus")||s(e.scrollbarY,":focus"))){var r,i=document.activeElement?document.activeElement:e.ownerDocument.activeElement;if(i){if("IFRAME"===i.tagName)i=i.contentDocument.activeElement;else for(;i.shadowRoot;)i=i.shadowRoot.activeElement;if(s(r=i,"input,[contenteditable]")||s(r,"select,[contenteditable]")||s(r,"textarea,[contenteditable]")||s(r,"button,[contenteditable]"))return}var o=0,a=0;switch(n.which){case 37:o=n.metaKey?-e.contentWidth:n.altKey?-e.containerWidth:-30;break;case 38:a=n.metaKey?e.contentHeight:n.altKey?e.containerHeight:30;break;case 39:o=n.metaKey?e.contentWidth:n.altKey?e.containerWidth:30;break;case 40:a=n.metaKey?-e.contentHeight:n.altKey?-e.containerHeight:-30;break;case 32:a=n.shiftKey?e.containerHeight:-e.containerHeight;break;case 33:a=e.containerHeight;break;case 34:a=-e.containerHeight;break;case 36:a=e.contentHeight;break;case 35:a=-e.contentHeight;break;default:return}e.settings.suppressScrollX&&0!==o||e.settings.suppressScrollY&&0!==a||(t.scrollTop-=a,t.scrollLeft+=o,w(e),function(n,r){var i=Math.floor(t.scrollTop);if(0===n){if(!e.scrollbarYActive)return!1;if(0===i&&r>0||i>=e.contentHeight-e.containerHeight&&r<0)return!e.settings.wheelPropagation}var o=t.scrollLeft;if(0===r){if(!e.scrollbarXActive)return!1;if(0===o&&n<0||o>=e.contentWidth-e.containerWidth&&n>0)return!e.settings.wheelPropagation}return!0}(o,a)&&n.preventDefault())}})},wheel:function(e){var t=e.element;function n(n){var i=function(e){var t=e.deltaX,n=-1*e.deltaY;return"undefined"!==typeof t&&"undefined"!==typeof n||(t=-1*e.wheelDeltaX/6,n=e.wheelDeltaY/6),e.deltaMode&&1===e.deltaMode&&(t*=10,n*=10),t!==t&&n!==n&&(t=0,n=e.wheelDelta),e.shiftKey?[-n,-t]:[t,n]}(n),o=i[0],a=i[1];if(!function(e,n,i){if(!_.isWebKit&&t.querySelector("select:focus"))return!0;if(!t.contains(e))return!1;for(var o=e;o&&o!==t;){if(o.classList.contains(l.element.consuming))return!0;var a=r(o);if(i&&a.overflowY.match(/(scroll|auto)/)){var s=o.scrollHeight-o.clientHeight;if(s>0&&(o.scrollTop>0&&i<0||o.scrollTop<s&&i>0))return!0}if(n&&a.overflowX.match(/(scroll|auto)/)){var u=o.scrollWidth-o.clientWidth;if(u>0&&(o.scrollLeft>0&&n<0||o.scrollLeft<u&&n>0))return!0}o=o.parentNode}return!1}(n.target,o,a)){var s=!1;e.settings.useBothWheelAxes?e.scrollbarYActive&&!e.scrollbarXActive?(a?t.scrollTop-=a*e.settings.wheelSpeed:t.scrollTop+=o*e.settings.wheelSpeed,s=!0):e.scrollbarXActive&&!e.scrollbarYActive&&(o?t.scrollLeft+=o*e.settings.wheelSpeed:t.scrollLeft-=a*e.settings.wheelSpeed,s=!0):(t.scrollTop-=a*e.settings.wheelSpeed,t.scrollLeft+=o*e.settings.wheelSpeed),w(e),(s=s||function(n,r){var i=Math.floor(t.scrollTop),o=0===t.scrollTop,a=i+t.offsetHeight===t.scrollHeight,s=0===t.scrollLeft,u=t.scrollLeft+t.offsetWidth===t.scrollWidth;return!(Math.abs(r)>Math.abs(n)?o||a:s||u)||!e.settings.wheelPropagation}(o,a))&&!n.ctrlKey&&(n.stopPropagation(),n.preventDefault())}}"undefined"!==typeof window.onwheel?e.event.bind(t,"wheel",n):"undefined"!==typeof window.onmousewheel&&e.event.bind(t,"mousewheel",n)},touch:function(e){if(_.supportsTouch||_.supportsIePointer){var t=e.element,n={},i=0,o={},a=null;_.supportsTouch?(e.event.bind(t,"touchstart",h),e.event.bind(t,"touchmove",f),e.event.bind(t,"touchend",d)):_.supportsIePointer&&(window.PointerEvent?(e.event.bind(t,"pointerdown",h),e.event.bind(t,"pointermove",f),e.event.bind(t,"pointerup",d)):window.MSPointerEvent&&(e.event.bind(t,"MSPointerDown",h),e.event.bind(t,"MSPointerMove",f),e.event.bind(t,"MSPointerUp",d)))}function s(n,r){t.scrollTop-=r,t.scrollLeft-=n,w(e)}function u(e){return e.targetTouches?e.targetTouches[0]:e}function c(e){return(!e.pointerType||"pen"!==e.pointerType||0!==e.buttons)&&(!(!e.targetTouches||1!==e.targetTouches.length)||!(!e.pointerType||"mouse"===e.pointerType||e.pointerType===e.MSPOINTER_TYPE_MOUSE))}function h(e){if(c(e)){var t=u(e);n.pageX=t.pageX,n.pageY=t.pageY,i=(new Date).getTime(),null!==a&&clearInterval(a)}}function f(a){if(c(a)){var h=u(a),f={pageX:h.pageX,pageY:h.pageY},d=f.pageX-n.pageX,p=f.pageY-n.pageY;if(function(e,n,i){if(!t.contains(e))return!1;for(var o=e;o&&o!==t;){if(o.classList.contains(l.element.consuming))return!0;var a=r(o);if(i&&a.overflowY.match(/(scroll|auto)/)){var s=o.scrollHeight-o.clientHeight;if(s>0&&(o.scrollTop>0&&i<0||o.scrollTop<s&&i>0))return!0}if(n&&a.overflowX.match(/(scroll|auto)/)){var u=o.scrollWidth-o.clientWidth;if(u>0&&(o.scrollLeft>0&&n<0||o.scrollLeft<u&&n>0))return!0}o=o.parentNode}return!1}(a.target,d,p))return;s(d,p),n=f;var g=(new Date).getTime(),y=g-i;y>0&&(o.x=d/y,o.y=p/y,i=g),function(n,r){var i=Math.floor(t.scrollTop),o=t.scrollLeft,a=Math.abs(n),s=Math.abs(r);if(s>a){if(r<0&&i===e.contentHeight-e.containerHeight||r>0&&0===i)return 0===window.scrollY&&r>0&&_.isChrome}else if(a>s&&(n<0&&o===e.contentWidth-e.containerWidth||n>0&&0===o))return!0;return!0}(d,p)&&a.preventDefault()}}function d(){e.settings.swipeEasing&&(clearInterval(a),a=setInterval(function(){e.isInitialized?clearInterval(a):o.x||o.y?Math.abs(o.x)<.01&&Math.abs(o.y)<.01?clearInterval(a):e.element?(s(30*o.x,30*o.y),o.x*=.8,o.y*=.8):clearInterval(a):clearInterval(a)},10))}}},O=function(e,t){var n=this;if(void 0===t&&(t={}),"string"===typeof e&&(e=document.querySelector(e)),!e||!e.nodeName)throw new Error("no element is specified to initialize PerfectScrollbar");for(var a in this.element=e,e.classList.add(l.main),this.settings={handlers:["click-rail","drag-thumb","keyboard","wheel","touch"],maxScrollbarLength:null,minScrollbarLength:null,scrollingThreshold:1e3,scrollXMarginOffset:0,scrollYMarginOffset:0,suppressScrollX:!1,suppressScrollY:!1,swipeEasing:!0,useBothWheelAxes:!1,wheelPropagation:!0,wheelSpeed:1},t)this.settings[a]=t[a];this.containerWidth=null,this.containerHeight=null,this.contentWidth=null,this.contentHeight=null;var s=function(){return e.classList.add(l.state.focus)},u=function(){return e.classList.remove(l.state.focus)};this.isRtl="rtl"===r(e).direction,!0===this.isRtl&&e.classList.add(l.rtl),this.isNegativeScroll=function(){var t,n=e.scrollLeft;return e.scrollLeft=-1,t=e.scrollLeft<0,e.scrollLeft=n,t}(),this.negativeScrollAdjustment=this.isNegativeScroll?e.scrollWidth-e.clientWidth:0,this.event=new y,this.ownerDocument=e.ownerDocument||document,this.scrollbarXRail=o(l.element.rail("x")),e.appendChild(this.scrollbarXRail),this.scrollbarX=o(l.element.thumb("x")),this.scrollbarXRail.appendChild(this.scrollbarX),this.scrollbarX.setAttribute("tabindex",0),this.event.bind(this.scrollbarX,"focus",s),this.event.bind(this.scrollbarX,"blur",u),this.scrollbarXActive=null,this.scrollbarXWidth=null,this.scrollbarXLeft=null;var c=r(this.scrollbarXRail);this.scrollbarXBottom=parseInt(c.bottom,10),isNaN(this.scrollbarXBottom)?(this.isScrollbarXUsingBottom=!1,this.scrollbarXTop=b(c.top)):this.isScrollbarXUsingBottom=!0,this.railBorderXWidth=b(c.borderLeftWidth)+b(c.borderRightWidth),i(this.scrollbarXRail,{display:"block"}),this.railXMarginWidth=b(c.marginLeft)+b(c.marginRight),i(this.scrollbarXRail,{display:""}),this.railXWidth=null,this.railXRatio=null,this.scrollbarYRail=o(l.element.rail("y")),e.appendChild(this.scrollbarYRail),this.scrollbarY=o(l.element.thumb("y")),this.scrollbarYRail.appendChild(this.scrollbarY),this.scrollbarY.setAttribute("tabindex",0),this.event.bind(this.scrollbarY,"focus",s),this.event.bind(this.scrollbarY,"blur",u),this.scrollbarYActive=null,this.scrollbarYHeight=null,this.scrollbarYTop=null;var h=r(this.scrollbarYRail);this.scrollbarYRight=parseInt(h.right,10),isNaN(this.scrollbarYRight)?(this.isScrollbarYUsingRight=!1,this.scrollbarYLeft=b(h.left)):this.isScrollbarYUsingRight=!0,this.scrollbarYOuterWidth=this.isRtl?function(e){var t=r(e);return b(t.width)+b(t.paddingLeft)+b(t.paddingRight)+b(t.borderLeftWidth)+b(t.borderRightWidth)}(this.scrollbarY):null,this.railBorderYWidth=b(h.borderTopWidth)+b(h.borderBottomWidth),i(this.scrollbarYRail,{display:"block"}),this.railYMarginHeight=b(h.marginTop)+b(h.marginBottom),i(this.scrollbarYRail,{display:""}),this.railYHeight=null,this.railYRatio=null,this.reach={x:e.scrollLeft<=0?"start":e.scrollLeft>=this.contentWidth-this.containerWidth?"end":null,y:e.scrollTop<=0?"start":e.scrollTop>=this.contentHeight-this.containerHeight?"end":null},this.isAlive=!0,this.settings.handlers.forEach(function(e){return C[e](n)}),this.lastScrollTop=Math.floor(e.scrollTop),this.lastScrollLeft=e.scrollLeft,this.event.bind(this.element,"scroll",function(e){return n.onScroll(e)}),w(this)};O.prototype.update=function(){this.isAlive&&(this.negativeScrollAdjustment=this.isNegativeScroll?this.element.scrollWidth-this.element.clientWidth:0,i(this.scrollbarXRail,{display:"block"}),i(this.scrollbarYRail,{display:"block"}),this.railXMarginWidth=b(r(this.scrollbarXRail).marginLeft)+b(r(this.scrollbarXRail).marginRight),this.railYMarginHeight=b(r(this.scrollbarYRail).marginTop)+b(r(this.scrollbarYRail).marginBottom),i(this.scrollbarXRail,{display:"none"}),i(this.scrollbarYRail,{display:"none"}),w(this),m(this,"top",0,!1,!0),m(this,"left",0,!1,!0),i(this.scrollbarXRail,{display:""}),i(this.scrollbarYRail,{display:""}))},O.prototype.onScroll=function(e){this.isAlive&&(w(this),m(this,"top",this.element.scrollTop-this.lastScrollTop),m(this,"left",this.element.scrollLeft-this.lastScrollLeft),this.lastScrollTop=Math.floor(this.element.scrollTop),this.lastScrollLeft=this.element.scrollLeft)},O.prototype.destroy=function(){this.isAlive&&(this.event.unbindAll(),u(this.scrollbarX),u(this.scrollbarY),u(this.scrollbarXRail),u(this.scrollbarYRail),this.removePsClasses(),this.element=null,this.scrollbarX=null,this.scrollbarY=null,this.scrollbarXRail=null,this.scrollbarYRail=null,this.isAlive=!1)},O.prototype.removePsClasses=function(){this.element.className=this.element.className.split(" ").filter(function(e){return!e.match(/^ps([-_].+|)$/)}).join(" ")},t.default=O},,function(e,t){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},function(e,t,n){"use strict";e.exports=n(814)},function(e,t,n){"use strict";var r="function"===typeof Symbol&&Symbol.for,i=r?Symbol.for("react.element"):60103,o=r?Symbol.for("react.portal"):60106,a=r?Symbol.for("react.fragment"):60107,s=r?Symbol.for("react.strict_mode"):60108,u=r?Symbol.for("react.profiler"):60114,c=r?Symbol.for("react.provider"):60109,l=r?Symbol.for("react.context"):60110,h=r?Symbol.for("react.async_mode"):60111,f=r?Symbol.for("react.concurrent_mode"):60111,d=r?Symbol.for("react.forward_ref"):60112,p=r?Symbol.for("react.suspense"):60113,g=r?Symbol.for("react.suspense_list"):60120,y=r?Symbol.for("react.memo"):60115,v=r?Symbol.for("react.lazy"):60116,m=r?Symbol.for("react.block"):60121,b=r?Symbol.for("react.fundamental"):60117,_=r?Symbol.for("react.responder"):60118,w=r?Symbol.for("react.scope"):60119;function E(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case h:case f:case a:case u:case s:case p:return e;default:switch(e=e&&e.$$typeof){case l:case d:case v:case y:case c:return e;default:return t}}case o:return t}}}function S(e){return E(e)===f}t.AsyncMode=h,t.ConcurrentMode=f,t.ContextConsumer=l,t.ContextProvider=c,t.Element=i,t.ForwardRef=d,t.Fragment=a,t.Lazy=v,t.Memo=y,t.Portal=o,t.Profiler=u,t.StrictMode=s,t.Suspense=p,t.isAsyncMode=function(e){return S(e)||E(e)===h},t.isConcurrentMode=S,t.isContextConsumer=function(e){return E(e)===l},t.isContextProvider=function(e){return E(e)===c},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===i},t.isForwardRef=function(e){return E(e)===d},t.isFragment=function(e){return E(e)===a},t.isLazy=function(e){return E(e)===v},t.isMemo=function(e){return E(e)===y},t.isPortal=function(e){return E(e)===o},t.isProfiler=function(e){return E(e)===u},t.isStrictMode=function(e){return E(e)===s},t.isSuspense=function(e){return E(e)===p},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===f||e===u||e===s||e===p||e===g||"object"===typeof e&&null!==e&&(e.$$typeof===v||e.$$typeof===y||e.$$typeof===c||e.$$typeof===l||e.$$typeof===d||e.$$typeof===b||e.$$typeof===_||e.$$typeof===w||e.$$typeof===m)},t.typeOf=E},function(e,t,n){"use strict";(function(e,t){var r=n(12),i=n(35),o=n(2),a=n(1),s=n(34),u="@firebase/database",c="0.11.0",l="";function h(e){l=e}var f=function(){function e(e){this.domStorage_=e,this.prefix_="firebase:"}return e.prototype.set=function(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Object(o.stringify)(t))},e.prototype.get=function(e){var t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:Object(o.jsonEval)(t)},e.prototype.remove=function(e){this.domStorage_.removeItem(this.prefixedName_(e))},e.prototype.prefixedName_=function(e){return this.prefix_+e},e.prototype.toString=function(){return this.domStorage_.toString()},e}(),d=function(){function e(){this.cache_={},this.isInMemoryStorage=!0}return e.prototype.set=function(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t},e.prototype.get=function(e){return Object(o.contains)(this.cache_,e)?this.cache_[e]:null},e.prototype.remove=function(e){delete this.cache_[e]},e}(),p=function(e){try{if("undefined"!==typeof window&&"undefined"!==typeof window[e]){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new f(t)}}catch(n){}return new d},g=p("localStorage"),y=p("sessionStorage"),v=new s.Logger("@firebase/database"),m=function(){var e=1;return function(){return e++}}(),b=function(e){var t=Object(o.stringToByteArray)(e),n=new o.Sha1;n.update(t);var r=n.digest();return o.base64.encodeByteArray(r)},_=function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r="",i=0;i<t.length;i++){var a=t[i];Array.isArray(a)||a&&"object"===typeof a&&"number"===typeof a.length?r+=e.apply(null,a):r+="object"===typeof a?Object(o.stringify)(a):a,r+=" "}return r},w=null,E=!0,S=function(e,t){Object(o.assert)(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(v.logLevel=s.LogLevel.VERBOSE,w=v.log.bind(v),t&&y.set("logging_enabled",!0)):"function"===typeof e?w=e:(w=null,y.remove("logging_enabled"))},C=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(!0===E&&(E=!1,null===w&&!0===y.get("logging_enabled")&&S(!0)),w){var n=_.apply(null,e);w(n)}},O=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];C.apply(void 0,Object(a.__spreadArray)([e],Object(a.__read)(t)))}},T=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE INTERNAL ERROR: "+_.apply(void 0,Object(a.__spreadArray)([],Object(a.__read)(e)));v.error(n)},k=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE FATAL ERROR: "+_.apply(void 0,Object(a.__spreadArray)([],Object(a.__read)(e)));throw v.error(n),new Error(n)},I=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE WARNING: "+_.apply(void 0,Object(a.__spreadArray)([],Object(a.__read)(e)));v.warn(n)},A=function(e){return"number"===typeof e&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},N="[MIN_NAME]",R="[MAX_NAME]",P=function(e,t){if(e===t)return 0;if(e===N||t===R)return-1;if(t===N||e===R)return 1;var n=H(e),r=H(t);return null!==n?null!==r?n-r===0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1},x=function(e,t){return e===t?0:e<t?-1:1},M=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+Object(o.stringify)(t))},L=function e(t){if("object"!==typeof t||null===t)return Object(o.stringify)(t);var n=[];for(var r in t)n.push(r);n.sort();for(var i="{",a=0;a<n.length;a++)0!==a&&(i+=","),i+=Object(o.stringify)(n[a]),i+=":",i+=e(t[n[a]]);return i+="}"},D=function(e,t){var n=e.length;if(n<=t)return[e];for(var r=[],i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function j(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}var U=function(e){Object(o.assert)(!A(e),"Invalid JSON number");var t,n,r,i,a;0===e?(n=0,r=0,t=1/e===-1/0?1:0):(t=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(e)/Math.LN2),1023))+1023,r=Math.round(e*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(e/Math.pow(2,-1074))));var s=[];for(a=52;a;a-=1)s.push(r%2?1:0),r=Math.floor(r/2);for(a=11;a;a-=1)s.push(n%2?1:0),n=Math.floor(n/2);s.push(t?1:0),s.reverse();var u=s.join(""),c="";for(a=0;a<64;a+=8){var l=parseInt(u.substr(a,8),2).toString(16);1===l.length&&(l="0"+l),c+=l}return c.toLowerCase()};var F=new RegExp("^-?(0*)\\d{1,10}$"),H=function(e){if(F.test(e)){var t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},B=function(e){try{e()}catch(t){setTimeout(function(){var e=t.stack||"";throw I("Exception was thrown by user callback.",e),t},Math.floor(0))}},V=function(){return("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},q=function(e,t){var n=setTimeout(e,t);return"object"===typeof n&&n.unref&&n.unref(),n},G=function(){function e(e,t){var n=this;this.appName_=e,this.appCheckProvider=t,this.appCheck=null===t||void 0===t?void 0:t.getImmediate({optional:!0}),this.appCheck||null===t||void 0===t||t.get().then(function(e){return n.appCheck=e})}return e.prototype.getToken=function(e){var t=this;return this.appCheck?this.appCheck.getToken(e):new Promise(function(n,r){setTimeout(function(){t.appCheck?t.getToken(e).then(n,r):n(null)},0)})},e.prototype.addTokenChangeListener=function(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then(function(t){return t.addTokenListener(e)})},e.prototype.notifyForInvalidToken=function(){I('Provided AppCheck credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly.')},e}(),z=function(){function e(e,t,n){var r=this;this.appName_=e,this.firebaseOptions_=t,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit(function(e){return r.auth_=e})}return e.prototype.getToken=function(e){var t=this;return this.auth_?this.auth_.getToken(e).catch(function(e){return e&&"auth/token-not-initialized"===e.code?(C("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)}):new Promise(function(n,r){setTimeout(function(){t.auth_?t.getToken(e).then(n,r):n(null)},0)})},e.prototype.addTokenChangeListener=function(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(function(t){return t.addAuthTokenListener(e)})},e.prototype.removeTokenChangeListener=function(e){this.authProvider_.get().then(function(t){return t.removeAuthTokenListener(e)})},e.prototype.notifyForInvalidToken=function(){var e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',I(e)},e}(),W=function(){function e(e){this.accessToken=e}return e.prototype.getToken=function(e){return Promise.resolve({accessToken:this.accessToken})},e.prototype.addTokenChangeListener=function(e){e(this.accessToken)},e.prototype.removeTokenChangeListener=function(e){},e.prototype.notifyForInvalidToken=function(){},e.OWNER="owner",e}(),K=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Y="ac",Q="websocket",$="long_polling",X=function(){function e(e,t,n,r,i,o,a){void 0===i&&(i=!1),void 0===o&&(o=""),void 0===a&&(a=!1),this.secure=t,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=g.get("host:"+e)||this._host}return e.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},e.prototype.isCustomHost=function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain},Object.defineProperty(e.prototype,"host",{get:function(){return this._host},set:function(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&g.set("host:"+this._host,this.internalHost))},enumerable:!1,configurable:!0}),e.prototype.toString=function(){var e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e},e.prototype.toURLString=function(){var e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?"?ns="+this.namespace:"";return""+e+this.host+"/"+t},e}();function J(e,t,n){var r;if(Object(o.assert)("string"===typeof t,"typeof type must == string"),Object(o.assert)("object"===typeof n,"typeof params must == object"),t===Q)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==$)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);var i=[];return j(n,function(e,t){i.push(e+"="+t)}),r+i.join("&")}var Z=function(){function e(){this.counters_={}}return e.prototype.incrementCounter=function(e,t){void 0===t&&(t=1),Object(o.contains)(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t},e.prototype.get=function(){return Object(o.deepCopy)(this.counters_)},e}(),ee={},te={};function ne(e){var t=e.toString();return ee[t]||(ee[t]=new Z),ee[t]}var re=function(){function e(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return e.prototype.closeAfter=function(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},e.prototype.handleResponse=function(e,t){var n=this;this.pendingResponses[e]=t;for(var r=function(){var e=i.pendingResponses[i.currentResponseNum];delete i.pendingResponses[i.currentResponseNum];for(var t=function(t){e[t]&&B(function(){n.onMessage_(e[t])})},r=0;r<e.length;++r)t(r);if(i.currentResponseNum===i.closeAfterResponse)return i.onClose&&(i.onClose(),i.onClose=null),"break";i.currentResponseNum++},i=this;this.pendingResponses[this.currentResponseNum];){if("break"===r())break}},e}(),ie="pLPCommand",oe="pRTLPCB",ae=function(){function e(e,t,n,r,i,o,a){var s=this;this.connId=e,this.repoInfo=t,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=O(e),this.stats_=ne(t),this.urlFn=function(e){return s.appCheckToken&&(e[Y]=s.appCheckToken),J(t,$,e)}}return e.prototype.open=function(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new re(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null},Math.floor(3e4)),function(e){if(Object(o.isNodeSdk)()||"complete"===document.readyState)e();else{var t=!1,n=function n(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}}(function(){if(!n.isClosed_){n.scriptTagHolder=new se(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=Object(a.__read)(e,5),i=r[0],o=r[1],s=r[2];if(r[3],r[4],n.incrementIncomingBytes_(e),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,"start"===i)n.id=o,n.password=s;else{if("close"!==i)throw new Error("Unrecognized command received: "+i);o?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(o,function(){n.onClosed_()})):n.onClosed_()}},function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=Object(a.__read)(e,2),i=r[0],o=r[1];n.incrementIncomingBytes_(e),n.myPacketOrderer.handleResponse(i,o)},function(){n.onClosed_()},n.urlFn);var e={start:"t"};e.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=n.scriptTagHolder.uniqueCallbackIdentifier),e.v="5",n.transportSessionId&&(e.s=n.transportSessionId),n.lastSessionId&&(e.ls=n.lastSessionId),n.applicationId&&(e.p=n.applicationId),n.appCheckToken&&(e[Y]=n.appCheckToken),"undefined"!==typeof location&&location.hostname&&K.test(location.hostname)&&(e.r="f");var t=n.urlFn(e);n.log_("Connecting via long-poll to "+t),n.scriptTagHolder.addTag(t,function(){})}})},e.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},e.forceAllow=function(){e.forceAllow_=!0},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){return!Object(o.isNodeSdk)()&&(!!e.forceAllow_||!e.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!("object"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===typeof Windows&&"object"===typeof Windows.UI))},e.prototype.markConnectionHealthy=function(){},e.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},e.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},e.prototype.send=function(e){var t=Object(o.stringify)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);for(var n=Object(o.base64Encode)(t),r=D(n,1840),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++},e.prototype.addDisconnectPingFrame=function(e,t){if(!Object(o.isNodeSdk)()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},e.prototype.incrementIncomingBytes_=function(e){var t=Object(o.stringify)(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)},e}(),se=function(){function e(t,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,Object(o.isNodeSdk)())this.commandCB=t,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=m(),window[ie+this.uniqueCallbackIdentifier]=t,window[oe+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();var a="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length))a='<script>document.domain="'+document.domain+'";<\/script>';var s="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(u){C("frame writing exception"),u.stack&&C(u.stack),C(u)}}}return e.createIFrame_=function(){var e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||C("No IE domain setting required")}catch(n){var t=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+t+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e},e.prototype.close=function(){var e=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(function(){null!==e.myIFrame&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)},Math.floor(0)));var t=this.onDisconnect;t&&(this.onDisconnect=null,t())},e.prototype.startLongPoll=function(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););},e.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;for(var t=this.urlFn(e),n="",r=0;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1},e.prototype.enqueueSegment=function(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()},e.prototype.addLongPollTag_=function(e,t){var n=this;this.outstandingRequests.add(t);var r=function(){n.outstandingRequests.delete(t),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,function(){clearTimeout(i),r()})},e.prototype.addTag=function(e,t){var n=this;Object(o.isNodeSdk)()?this.doNodeLongPoll(e,t):setTimeout(function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){var e=r.readyState;e&&"loaded"!==e&&"complete"!==e||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=function(){C("Long-poll script failed to load: "+e),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(i){}},Math.floor(1))},e}(),ue=null;"undefined"!==typeof MozWebSocket?ue=MozWebSocket:"undefined"!==typeof WebSocket&&(ue=WebSocket);var ce=function(){function t(e,n,r,i,o,a,s){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=O(this.connId),this.stats_=ne(n),this.connURL=t.connectionURL_(n,a,s,i),this.nodeAdmin=n.nodeAdmin}return t.connectionURL_=function(e,t,n,r){var i={v:"5"};return!Object(o.isNodeSdk)()&&"undefined"!==typeof location&&location.hostname&&K.test(location.hostname)&&(i.r="f"),t&&(i.s=t),n&&(i.ls=n),r&&(i[Y]=r),J(e,Q,i)},t.prototype.open=function(t,n){var r=this;this.onDisconnect=n,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,g.set("previous_websocket_failure",!0);try{if(Object(o.isNodeSdk)()){var i=this.nodeAdmin?"AdminNode":"Node",a={headers:{"User-Agent":"Firebase/5/"+l+"/"+e.platform+"/"+i,"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(a.headers.Authorization="Bearer "+this.authToken),this.appCheckToken&&(a.headers["X-Firebase-AppCheck"]=this.appCheckToken);var s=Object({NODE_ENV:"production",PUBLIC_URL:""}),u=0===this.connURL.indexOf("wss://")?s.HTTPS_PROXY||s.https_proxy:s.HTTP_PROXY||s.http_proxy;u&&(a.proxy={origin:u}),this.mySock=new ue(this.connURL,[],a)}else{a={headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}};this.mySock=new ue(this.connURL,[],a)}}catch(h){this.log_("Error instantiating WebSocket.");var c=h.message||h.data;return c&&this.log_(c),void this.onClosed_()}this.mySock.onopen=function(){r.log_("Websocket connected."),r.everConnected_=!0},this.mySock.onclose=function(){r.log_("Websocket connection was disconnected."),r.mySock=null,r.onClosed_()},this.mySock.onmessage=function(e){r.handleIncomingFrame(e)},this.mySock.onerror=function(e){r.log_("WebSocket error.  Closing connection.");var t=e.message||e.data;t&&r.log_(t),r.onClosed_()}},t.prototype.start=function(){},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){var e=!1;if("undefined"!==typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==ue&&!t.forceDisallow_},t.previouslyFailed=function(){return g.isInMemoryStorage||!0===g.get("previous_websocket_failure")},t.prototype.markConnectionHealthy=function(){g.remove("previous_websocket_failure")},t.prototype.appendFrame_=function(e){if(this.frames.push(e),this.frames.length===this.totalFrames){var t=this.frames.join("");this.frames=null;var n=Object(o.jsonEval)(t);this.onMessage(n)}},t.prototype.handleNewFrameCount_=function(e){this.totalFrames=e,this.frames=[]},t.prototype.extractFrameCount_=function(e){if(Object(o.assert)(null===this.frames,"We already have a frame buffer"),e.length<=6){var t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e},t.prototype.handleIncomingFrame=function(e){if(null!==this.mySock){var t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{var n=this.extractFrameCount_(t);null!==n&&this.appendFrame_(n)}}},t.prototype.send=function(e){this.resetKeepAlive();var t=Object(o.stringify)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);var n=D(t,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])},t.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},t.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},t.prototype.resetKeepAlive=function(){var e=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(function(){e.mySock&&e.sendString_("0"),e.resetKeepAlive()},Math.floor(45e3))},t.prototype.sendString_=function(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4,t}(),le=function(){function e(e){this.initTransports_(e)}return Object.defineProperty(e,"ALL_TRANSPORTS",{get:function(){return[ae,ce]},enumerable:!1,configurable:!0}),e.prototype.initTransports_=function(t){var n,r,i=ce&&ce.isAvailable(),o=i&&!ce.previouslyFailed();if(t.webSocketOnly&&(i||I("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),o=!0),o)this.transports_=[ce];else{var s=this.transports_=[];try{for(var u=Object(a.__values)(e.ALL_TRANSPORTS),c=u.next();!c.done;c=u.next()){var l=c.value;l&&l.isAvailable()&&s.push(l)}}catch(h){n={error:h}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}},e.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},e.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},e}(),he=function(){function e(e,t,n,r,i,o,a,s,u,c){this.id=e,this.repoInfo_=t,this.applicationId_=n,this.appCheckToken_=r,this.authToken_=i,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=s,this.onKill_=u,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=O("c:"+this.id+":"),this.transportManager_=new le(t),this.log_("Connection created"),this.start_()}return e.prototype.start_=function(){var e=this,t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(function(){e.conn_&&e.conn_.open(n,r)},Math.floor(0));var i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=q(function(){e.healthyTimeout_=null,e.isHealthy_||(e.conn_&&e.conn_.bytesReceived>102400?(e.log_("Connection exceeded healthy timeout but has received "+e.conn_.bytesReceived+" bytes.  Marking connection healthy."),e.isHealthy_=!0,e.conn_.markConnectionHealthy()):e.conn_&&e.conn_.bytesSent>10240?e.log_("Connection exceeded healthy timeout but has sent "+e.conn_.bytesSent+" bytes.  Leaving connection alive."):(e.log_("Closing unhealthy connection after timeout."),e.close()))},Math.floor(i)))},e.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},e.prototype.disconnReceiver_=function(e){var t=this;return function(n){e===t.conn_?t.onConnectionLost_(n):e===t.secondaryConn_?(t.log_("Secondary connection lost."),t.onSecondaryConnectionLost_()):t.log_("closing an old connection")}},e.prototype.connReceiver_=function(e){var t=this;return function(n){2!==t.state_&&(e===t.rx_?t.onPrimaryMessageReceived_(n):e===t.secondaryConn_?t.onSecondaryMessageReceived_(n):t.log_("message on old connection"))}},e.prototype.sendRequest=function(e){var t={t:"d",d:e};this.sendData_(t)},e.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},e.prototype.onSecondaryControl_=function(e){if("t"in e){var t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},e.prototype.onSecondaryMessageReceived_=function(e){var t=M("t",e),n=M("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}},e.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},e.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},e.prototype.onPrimaryMessageReceived_=function(e){var t=M("t",e),n=M("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)},e.prototype.onDataMessage_=function(e){this.onPrimaryResponse_(),this.onMessage_(e)},e.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},e.prototype.onControl_=function(e){var t=M("t",e);if("d"in e){var n=e.d;if("h"===t)this.onHandshake_(n);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?T("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):T("Unknown control packet command: "+t)}},e.prototype.onHandshake_=function(e){var t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==n&&I("Protocol version mismatch detected"),this.tryStartUpgrade_())},e.prototype.tryStartUpgrade_=function(){var e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)},e.prototype.startUpgrade_=function(e){var t=this;this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),q(function(){t.secondaryConn_&&(t.log_("Timed out trying to upgrade."),t.secondaryConn_.close())},Math.floor(6e4))},e.prototype.onReset_=function(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())},e.prototype.onConnectionEstablished_=function(e,t){var n=this;this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):q(function(){n.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))},e.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},e.prototype.onSecondaryConnectionLost_=function(){var e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()},e.prototype.onConnectionLost_=function(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(g.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},e.prototype.onConnectionShutdown_=function(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()},e.prototype.sendData_=function(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)},e.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},e.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},e}(),fe=function(){function e(){}return e.prototype.put=function(e,t,n,r){},e.prototype.merge=function(e,t,n,r){},e.prototype.refreshAuthToken=function(e){},e.prototype.refreshAppCheckToken=function(e){},e.prototype.onDisconnectPut=function(e,t,n){},e.prototype.onDisconnectMerge=function(e,t,n){},e.prototype.onDisconnectCancel=function(e,t){},e.prototype.reportStats=function(e){},e}(),de=function(){function e(e){this.allowedEvents_=e,this.listeners_={},Object(o.assert)(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}return e.prototype.trigger=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Array.isArray(this.listeners_[e]))for(var r=Object(a.__spreadArray)([],Object(a.__read)(this.listeners_[e])),i=0;i<r.length;i++)r[i].callback.apply(r[i].context,t)},e.prototype.on=function(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});var r=this.getInitialEvent(e);r&&t.apply(n,r)},e.prototype.off=function(e,t,n){this.validateEventType_(e);for(var r=this.listeners_[e]||[],i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)},e.prototype.validateEventType_=function(e){Object(o.assert)(this.allowedEvents_.find(function(t){return t===e}),"Unknown event: "+e)},e}(),pe=function(e){function t(){var t=e.call(this,["online"])||this;return t.online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||Object(o.isMobileCordova)()||(window.addEventListener("online",function(){t.online_||(t.online_=!0,t.trigger("online",!0))},!1),window.addEventListener("offline",function(){t.online_&&(t.online_=!1,t.trigger("online",!1))},!1)),t}return Object(a.__extends)(t,e),t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(e){return Object(o.assert)("online"===e,"Unknown event type: "+e),[this.online_]},t.prototype.currentlyOnline=function(){return this.online_},t}(de),ge=32,ye=768,ve=function(){function e(e,t){if(void 0===t){this.pieces_=e.split("/");for(var n=0,r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}return e.prototype.toString=function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"},e}();function me(){return new ve("")}function be(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function _e(e){return e.pieces_.length-e.pieceNum_}function we(e){var t=e.pieceNum_;return t<e.pieces_.length&&t++,new ve(e.pieces_,t)}function Ee(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function Se(e,t){return void 0===t&&(t=0),e.pieces_.slice(e.pieceNum_+t)}function Ce(e){if(e.pieceNum_>=e.pieces_.length)return null;for(var t=[],n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new ve(t,0)}function Oe(e,t){for(var n=[],r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof ve)for(r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{var i=t.split("/");for(r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new ve(n,0)}function Te(e){return e.pieceNum_>=e.pieces_.length}function ke(e,t){var n=be(e),r=be(t);if(null===n)return t;if(n===r)return ke(we(e),we(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function Ie(e,t){for(var n=Se(e,0),r=Se(t,0),i=0;i<n.length&&i<r.length;i++){var o=P(n[i],r[i]);if(0!==o)return o}return n.length===r.length?0:n.length<r.length?-1:1}function Ae(e,t){if(_e(e)!==_e(t))return!1;for(var n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function Ne(e,t){var n=e.pieceNum_,r=t.pieceNum_;if(_e(e)>_e(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}var Re=function(){return function(e,t){this.errorPrefix_=t,this.parts_=Se(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=Object(o.stringLength)(this.parts_[n]);Pe(this)}}();function Pe(e){if(e.byteLength_>ye)throw new Error(e.errorPrefix_+"has a key path longer than "+ye+" bytes ("+e.byteLength_+").");if(e.parts_.length>ge)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+ge+") or object contains a cycle "+xe(e))}function xe(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}var Me,Le,De=function(e){function t(){var t,n,r=e.call(this,["visible"])||this;return"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(n="visibilitychange",t="hidden"):"undefined"!==typeof document.mozHidden?(n="mozvisibilitychange",t="mozHidden"):"undefined"!==typeof document.msHidden?(n="msvisibilitychange",t="msHidden"):"undefined"!==typeof document.webkitHidden&&(n="webkitvisibilitychange",t="webkitHidden")),r.visible_=!0,n&&document.addEventListener(n,function(){var e=!document[t];e!==r.visible_&&(r.visible_=e,r.trigger("visible",e))},!1),r}return Object(a.__extends)(t,e),t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(e){return Object(o.assert)("visible"===e,"Unknown event type: "+e),[this.visible_]},t}(de),je=1e3,Ue=3e5,Fe=function(e){function t(n,r,i,a,s,u,c,l){var h=e.call(this)||this;if(h.repoInfo_=n,h.applicationId_=r,h.onDataUpdate_=i,h.onConnectStatus_=a,h.onServerInfoUpdate_=s,h.authTokenProvider_=u,h.appCheckTokenProvider_=c,h.authOverride_=l,h.id=t.nextPersistentConnectionId_++,h.log_=O("p:"+h.id+":"),h.interruptReasons_={},h.listens=new Map,h.outstandingPuts_=[],h.outstandingGets_=[],h.outstandingPutCount_=0,h.outstandingGetCount_=0,h.onDisconnectRequestQueue_=[],h.connected_=!1,h.reconnectDelay_=je,h.maxReconnectDelay_=Ue,h.securityDebugCallback_=null,h.lastSessionId=null,h.establishConnectionTimer_=null,h.visible_=!1,h.requestCBHash_={},h.requestNumber_=0,h.realtime_=null,h.authToken_=null,h.appCheckToken_=null,h.forceTokenRefresh_=!1,h.invalidAuthTokenCount_=0,h.invalidAppCheckTokenCount_=0,h.firstConnection_=!0,h.lastConnectionAttemptTime_=null,h.lastConnectionEstablishedTime_=null,l&&!Object(o.isNodeSdk)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return De.getInstance().on("visible",h.onVisible_,h),-1===n.host.indexOf("fblocal")&&pe.getInstance().on("online",h.onOnline_,h),h}return Object(a.__extends)(t,e),t.prototype.sendRequest=function(e,t,n){var r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_(Object(o.stringify)(i)),Object(o.assert)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)},t.prototype.get=function(e){var t=this;this.initConnection_();var n=new o.Deferred,r={p:e._path.toString(),q:e._queryObject},i={action:"g",request:r,onComplete:function(e){var i=e.d;"ok"===e.s?(t.onDataUpdate_(r.p,i,!1,null),n.resolve(i)):n.reject(i)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;var a=this.outstandingGets_.length-1;return this.connected_||setTimeout(function(){var e=t.outstandingGets_[a];void 0!==e&&i===e&&(delete t.outstandingGets_[a],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),t.log_("get "+a+" timed out on connection"),n.reject(new Error("Client is offline.")))},3e3),this.connected_&&this.sendGet_(a),n.promise},t.prototype.listen=function(e,t,n,r){this.initConnection_();var i=e._queryIdentifier,a=e._path.toString();this.log_("Listen called for "+a+" "+i),this.listens.has(a)||this.listens.set(a,new Map),Object(o.assert)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Object(o.assert)(!this.listens.get(a).has(i),"listen() called twice for same path/queryId.");var s={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(a).set(i,s),this.connected_&&this.sendListen_(s)},t.prototype.sendGet_=function(e){var t=this,n=this.outstandingGets_[e];this.sendRequest("g",n.request,function(r){delete t.outstandingGets_[e],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})},t.prototype.sendListen_=function(e){var n=this,r=e.query,i=r._path.toString(),o=r._queryIdentifier;this.log_("Listen on "+i+" for "+o);var a={p:i};e.tag&&(a.q=r._queryObject,a.t=e.tag),a.h=e.hashFn(),this.sendRequest("q",a,function(a){var s=a.d,u=a.s;t.warnOnListenWarnings_(s,r),(n.listens.get(i)&&n.listens.get(i).get(o))===e&&(n.log_("listen response",a),"ok"!==u&&n.removeListen_(i,o),e.onComplete&&e.onComplete(u,s))})},t.warnOnListenWarnings_=function(e,t){if(e&&"object"===typeof e&&Object(o.contains)(e,"w")){var n=Object(o.safeGet)(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+t._queryParams.getIndex().toString()+'"',i=t._path.toString();I("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+r+" at "+i+" to your security rules for better performance.")}}},t.prototype.refreshAuthToken=function(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},function(){}),this.reduceReconnectDelayIfAdminCredential_(e)},t.prototype.reduceReconnectDelayIfAdminCredential_=function(e){(e&&40===e.length||Object(o.isAdmin)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},t.prototype.refreshAppCheckToken=function(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},function(){})},t.prototype.tryAuth=function(){var e=this;if(this.connected_&&this.authToken_){var t=this.authToken_,n=Object(o.isValidFormat)(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"===typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,function(n){var r=n.s,i=n.d||"error";e.authToken_===t&&("ok"===r?e.invalidAuthTokenCount_=0:e.onAuthRevoked_(r,i))})}},t.prototype.tryAppCheck=function(){var e=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},function(t){var n=t.s,r=t.d||"error";"ok"===n?e.invalidAppCheckTokenCount_=0:e.onAppCheckRevoked_(n,r)})},t.prototype.unlisten=function(e,t){var n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),Object(o.assert)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)},t.prototype.sendUnlisten_=function(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);var i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)},t.prototype.onDisconnectPut=function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})},t.prototype.onDisconnectMerge=function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})},t.prototype.onDisconnectCancel=function(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})},t.prototype.sendOnDisconnect_=function(e,t,n,r){var i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,function(e){r&&setTimeout(function(){r(e.s,e.d)},Math.floor(0))})},t.prototype.put=function(e,t,n,r){this.putInternal("p",e,t,n,r)},t.prototype.merge=function(e,t,n,r){this.putInternal("m",e,t,n,r)},t.prototype.putInternal=function(e,t,n,r,i){this.initConnection_();var o={p:t,d:n};void 0!==i&&(o.h=i),this.outstandingPuts_.push({action:e,request:o,onComplete:r}),this.outstandingPutCount_++;var a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+t)},t.prototype.sendPut_=function(e){var t=this,n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,function(r){t.log_(n+" response",r),delete t.outstandingPuts_[e],t.outstandingPutCount_--,0===t.outstandingPutCount_&&(t.outstandingPuts_=[]),i&&i(r.s,r.d)})},t.prototype.reportStats=function(e){var t=this;if(this.connected_){var n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,function(e){if("ok"!==e.s){var n=e.d;t.log_("reportStats","Error sending stats: "+n)}})}},t.prototype.onDataMessage_=function(e){if("r"in e){this.log_("from server: "+Object(o.stringify)(e));var t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}},t.prototype.onDataPush_=function(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):T("Unrecognized action received from server: "+Object(o.stringify)(e)+"\nAre you using the latest client?")},t.prototype.onReady_=function(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},t.prototype.scheduleConnect_=function(e){var t=this;Object(o.assert)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(function(){t.establishConnectionTimer_=null,t.establishConnection_()},Math.floor(e))},t.prototype.initConnection_=function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)},t.prototype.onVisible_=function(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=je,this.realtime_||this.scheduleConnect_(0)),this.visible_=e},t.prototype.onOnline_=function(e){e?(this.log_("Browser went online."),this.reconnectDelay_=je,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},t.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=je),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();var e=(new Date).getTime()-this.lastConnectionAttemptTime_,t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},t.prototype.establishConnection_=function(){return Object(a.__awaiter)(this,void 0,void 0,function(){var e,n,r,i,s,u,c,l,h,f,d,p,g,y,v=this;return Object(a.__generator)(this,function(m){switch(m.label){case 0:if(!this.shouldReconnect_())return[3,4];this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+t.nextConnectionId_++,s=this.lastSessionId,u=!1,c=null,l=function(){c?c.close():(u=!0,r())},h=function(e){Object(o.assert)(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(e)},this.realtime_={close:l,sendRequest:h},f=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,m.label=1;case 1:return m.trys.push([1,3,,4]),[4,Promise.all([this.authTokenProvider_.getToken(f),this.appCheckTokenProvider_.getToken(f)])];case 2:return d=a.__read.apply(void 0,[m.sent(),2]),p=d[0],g=d[1],u?C("getToken() completed but was canceled"):(C("getToken() completed. Creating connection."),this.authToken_=p&&p.accessToken,this.appCheckToken_=g&&g.token,c=new he(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,function(e){I(e+" ("+v.repoInfo_.toString()+")"),v.interrupt("server_kill")},s)),[3,4];case 3:return y=m.sent(),this.log_("Failed to get token: "+y),u||(this.repoInfo_.nodeAdmin&&I(y),l()),[3,4];case 4:return[2]}})})},t.prototype.interrupt=function(e){C("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},t.prototype.resume=function(e){C("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Object(o.isEmpty)(this.interruptReasons_)&&(this.reconnectDelay_=je,this.realtime_||this.scheduleConnect_(0))},t.prototype.handleTimestamp_=function(e){var t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})},t.prototype.cancelSentTransactions_=function(){for(var e=0;e<this.outstandingPuts_.length;e++){var t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},t.prototype.onListenRevoked_=function(e,t){var n;n=t?t.map(function(e){return L(e)}).join("$"):"default";var r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")},t.prototype.removeListen_=function(e,t){var n,r=new ve(e).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(t),i.delete(t),0===i.size&&this.listens.delete(r)}else n=void 0;return n},t.prototype.onAuthRevoked_=function(e,t){C("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},t.prototype.onAppCheckRevoked_=function(e,t){C("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())},t.prototype.onSecurityDebugPacket_=function(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))},t.prototype.restoreState_=function(){var e,t,n,r;this.tryAuth(),this.tryAppCheck();try{for(var i=Object(a.__values)(this.listens.values()),o=i.next();!o.done;o=i.next()){var s=o.value;try{for(var u=(n=void 0,Object(a.__values)(s.values())),c=u.next();!c.done;c=u.next()){var l=c.value;this.sendListen_(l)}}catch(d){n={error:d}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}}catch(p){e={error:p}}finally{try{o&&!o.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}for(var h=0;h<this.outstandingPuts_.length;h++)this.outstandingPuts_[h]&&this.sendPut_(h);for(;this.onDisconnectRequestQueue_.length;){var f=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(f.action,f.pathString,f.data,f.onComplete)}for(h=0;h<this.outstandingGets_.length;h++)this.outstandingGets_[h]&&this.sendGet_(h)},t.prototype.sendConnectStats_=function(){var e={},t="js";Object(o.isNodeSdk)()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+l.replace(/\./g,"-")]=1,Object(o.isMobileCordova)()?e["framework.cordova"]=1:Object(o.isReactNative)()&&(e["framework.reactnative"]=1),this.reportStats(e)},t.prototype.shouldReconnect_=function(){var e=pe.getInstance().currentlyOnline();return Object(o.isEmpty)(this.interruptReasons_)&&e},t.nextPersistentConnectionId_=0,t.nextConnectionId_=0,t}(fe),He=function(){function e(e,t){this.name=e,this.node=t}return e.Wrap=function(t,n){return new e(t,n)},e}(),Be=function(){function e(){}return e.prototype.getCompare=function(){return this.compare.bind(this)},e.prototype.indexedValueChanged=function(e,t){var n=new He(N,e),r=new He(N,t);return 0!==this.compare(n,r)},e.prototype.minPost=function(){return He.MIN},e}(),Ve=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(a.__extends)(t,e),Object.defineProperty(t,"__EMPTY_NODE",{get:function(){return Me},set:function(e){Me=e},enumerable:!1,configurable:!0}),t.prototype.compare=function(e,t){return P(e.name,t.name)},t.prototype.isDefinedOn=function(e){throw Object(o.assertionError)("KeyIndex.isDefinedOn not expected to be called.")},t.prototype.indexedValueChanged=function(e,t){return!1},t.prototype.minPost=function(){return He.MIN},t.prototype.maxPost=function(){return new He(R,Me)},t.prototype.makePost=function(e,t){return Object(o.assert)("string"===typeof e,"KeyIndex indexValue must always be a string."),new He(e,Me)},t.prototype.toString=function(){return".key"},t}(Be),qe=new Ve,Ge=function(){function e(e,t,n,r,i){void 0===i&&(i=null),this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];for(var o=1;!e.isEmpty();)if(e=e,o=t?n(e.key,t):1,r&&(o*=-1),o<0)e=this.isReverse_?e.left:e.right;else{if(0===o){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}return e.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e},e.prototype.hasNext=function(){return this.nodeStack_.length>0},e.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}},e}(),ze=function(){function e(t,n,r,i,o){this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:Ke.EMPTY_NODE,this.right=null!=o?o:Ke.EMPTY_NODE}return e.prototype.copy=function(t,n,r,i,o){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},e.prototype.count=function(){return this.left.count()+1+this.right.count()},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},e.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},e.prototype.minKey=function(){return this.min_().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp_()},e.prototype.removeMin_=function(){if(this.left.isEmpty())return Ke.EMPTY_NODE;var e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),(e=e.copy(null,null,null,e.left.removeMin_(),null)).fixUp_()},e.prototype.remove=function(e,t){var n,r;if(t(e,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return Ke.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()},e.prototype.isRed_=function(){return this.color},e.prototype.fixUp_=function(){var e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e},e.prototype.moveRedLeft_=function(){var e=this.colorFlip_();return e.right.left.isRed_()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight_())).rotateLeft_()).colorFlip_()),e},e.prototype.moveRedRight_=function(){var e=this.colorFlip_();return e.left.left.isRed_()&&(e=(e=e.rotateRight_()).colorFlip_()),e},e.prototype.rotateLeft_=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight_=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip_=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},e.prototype.checkMaxDepth_=function(){var e=this.check_();return Math.pow(2,e)<=this.count()+1},e.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)},e.RED=!0,e.BLACK=!1,e}(),We=function(){function e(){}return e.prototype.copy=function(e,t,n,r,i){return this},e.prototype.insert=function(e,t,n){return new ze(e,t,null)},e.prototype.remove=function(e,t){return this},e.prototype.count=function(){return 0},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(e){return!1},e.prototype.reverseTraversal=function(e){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.check_=function(){return 0},e.prototype.isRed_=function(){return!1},e}(),Ke=function(){function e(t,n){void 0===n&&(n=e.EMPTY_NODE),this.comparator_=t,this.root_=n}return e.prototype.insert=function(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,ze.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,ze.BLACK,null,null))},e.prototype.get=function(e){for(var t,n=this.root_;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key)))return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null},e.prototype.getPredecessorKey=function(e){for(var t,n=this.root_,r=null;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},e.prototype.isEmpty=function(){return this.root_.isEmpty()},e.prototype.count=function(){return this.root_.count()},e.prototype.minKey=function(){return this.root_.minKey()},e.prototype.maxKey=function(){return this.root_.maxKey()},e.prototype.inorderTraversal=function(e){return this.root_.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.root_.reverseTraversal(e)},e.prototype.getIterator=function(e){return new Ge(this.root_,null,this.comparator_,!1,e)},e.prototype.getIteratorFrom=function(e,t){return new Ge(this.root_,e,this.comparator_,!1,t)},e.prototype.getReverseIteratorFrom=function(e,t){return new Ge(this.root_,e,this.comparator_,!0,t)},e.prototype.getReverseIterator=function(e){return new Ge(this.root_,null,this.comparator_,!0,e)},e.EMPTY_NODE=new We,e}();function Ye(e,t){return P(e.name,t.name)}function Qe(e,t){return P(e,t)}var $e,Xe,Je,Ze=function(e){return"number"===typeof e?"number:"+U(e):"string:"+e},et=function(e){if(e.isLeafNode()){var t=e.val();Object(o.assert)("string"===typeof t||"number"===typeof t||"object"===typeof t&&Object(o.contains)(t,".sv"),"Priority must be a string or number.")}else Object(o.assert)(e===Le||e.isEmpty(),"priority of unexpected type.");Object(o.assert)(e===Le||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},tt=function(){function e(t,n){void 0===n&&(n=e.__childrenNodeConstructor.EMPTY_NODE),this.value_=t,this.priorityNode_=n,this.lazyHash_=null,Object(o.assert)(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),et(this.priorityNode_)}return Object.defineProperty(e,"__childrenNodeConstructor",{get:function(){return $e},set:function(e){$e=e},enumerable:!1,configurable:!0}),e.prototype.isLeafNode=function(){return!0},e.prototype.getPriority=function(){return this.priorityNode_},e.prototype.updatePriority=function(t){return new e(this.value_,t)},e.prototype.getImmediateChild=function(t){return".priority"===t?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.getChild=function(t){return Te(t)?this:".priority"===be(t)?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.hasChild=function(){return!1},e.prototype.getPredecessorChildName=function(e,t){return null},e.prototype.updateImmediateChild=function(t,n){return".priority"===t?this.updatePriority(n):n.isEmpty()&&".priority"!==t?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)},e.prototype.updateChild=function(t,n){var r=be(t);return null===r?n:n.isEmpty()&&".priority"!==r?this:(Object(o.assert)(".priority"!==r||1===_e(t),".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(we(t),n)))},e.prototype.isEmpty=function(){return!1},e.prototype.numChildren=function(){return 0},e.prototype.forEachChild=function(e,t){return!1},e.prototype.val=function(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},e.prototype.hash=function(){if(null===this.lazyHash_){var e="";this.priorityNode_.isEmpty()||(e+="priority:"+Ze(this.priorityNode_.val())+":");var t=typeof this.value_;e+=t+":",e+="number"===t?U(this.value_):this.value_,this.lazyHash_=b(e)}return this.lazyHash_},e.prototype.getValue=function(){return this.value_},e.prototype.compareTo=function(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:(Object(o.assert)(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))},e.prototype.compareToLeafNode_=function(t){var n=typeof t.value_,r=typeof this.value_,i=e.VALUE_TYPE_ORDER.indexOf(n),a=e.VALUE_TYPE_ORDER.indexOf(r);return Object(o.assert)(i>=0,"Unknown leaf type: "+n),Object(o.assert)(a>=0,"Unknown leaf type: "+r),i===a?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:a-i},e.prototype.withIndex=function(){return this},e.prototype.isIndexed=function(){return!0},e.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode()){var t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1},e.VALUE_TYPE_ORDER=["object","boolean","number","string"],e}();var nt,rt,it=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(a.__extends)(t,e),t.prototype.compare=function(e,t){var n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?P(e.name,t.name):i},t.prototype.isDefinedOn=function(e){return!e.getPriority().isEmpty()},t.prototype.indexedValueChanged=function(e,t){return!e.getPriority().equals(t.getPriority())},t.prototype.minPost=function(){return He.MIN},t.prototype.maxPost=function(){return new He(R,new tt("[PRIORITY-POST]",Je))},t.prototype.makePost=function(e,t){var n=Xe(e);return new He(t,new tt("[PRIORITY-POST]",n))},t.prototype.toString=function(){return".priority"},t}(Be)),ot=Math.log(2),at=function(){function e(e){var t;this.count=(t=e+1,parseInt(Math.log(t)/ot,10)),this.current_=this.count-1;var n,r=(n=this.count,parseInt(Array(n+1).join("1"),2));this.bits_=e+1&r}return e.prototype.nextBitIsOne=function(){var e=!(this.bits_&1<<this.current_);return this.current_--,e},e}(),st=function(e,t,n,r){e.sort(t);var i=function(t){for(var r=null,i=null,o=e.length,a=function(t,r){var i=o-t,a=o;o-=t;var u=function t(r,i){var o,a,s=i-r;if(0===s)return null;if(1===s)return o=e[r],a=n?n(o):o,new ze(a,o.node,ze.BLACK,null,null);var u=parseInt(s/2,10)+r,c=t(r,u),l=t(u+1,i);return o=e[u],a=n?n(o):o,new ze(a,o.node,ze.BLACK,c,l)}(i+1,a),c=e[i],l=n?n(c):c;s(new ze(l,c.node,r,null,u))},s=function(e){r?(r.left=e,r=e):(i=e,r=e)},u=0;u<t.count;++u){var c=t.nextBitIsOne(),l=Math.pow(2,t.count-(u+1));c?a(l,ze.BLACK):(a(l,ze.BLACK),a(l,ze.RED))}return i}(new at(e.length));return new Ke(r||t,i)},ut={},ct=function(){function e(e,t){this.indexes_=e,this.indexSet_=t}return Object.defineProperty(e,"Default",{get:function(){return Object(o.assert)(ut&&it,"ChildrenNode.ts has not been loaded"),nt=nt||new e({".priority":ut},{".priority":it})},enumerable:!1,configurable:!0}),e.prototype.get=function(e){var t=Object(o.safeGet)(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Ke?t:null},e.prototype.hasIndex=function(e){return Object(o.contains)(this.indexSet_,e.toString())},e.prototype.addIndex=function(t,n){Object(o.assert)(t!==qe,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,i=[],s=!1,u=n.getIterator(He.Wrap),c=u.getNext();c;)s=s||t.isDefinedOn(c.node),i.push(c),c=u.getNext();r=s?st(i,t.getCompare()):ut;var l=t.toString(),h=Object(a.__assign)({},this.indexSet_);h[l]=t;var f=Object(a.__assign)({},this.indexes_);return f[l]=r,new e(f,h)},e.prototype.addToIndexes=function(t,n){var r=this;return new e(Object(o.map)(this.indexes_,function(e,i){var a=Object(o.safeGet)(r.indexSet_,i);if(Object(o.assert)(a,"Missing index implementation for "+i),e===ut){if(a.isDefinedOn(t.node)){for(var s=[],u=n.getIterator(He.Wrap),c=u.getNext();c;)c.name!==t.name&&s.push(c),c=u.getNext();return s.push(t),st(s,a.getCompare())}return ut}var l=n.get(t.name),h=e;return l&&(h=h.remove(new He(t.name,l))),h.insert(t,t.node)}),this.indexSet_)},e.prototype.removeFromIndexes=function(t,n){return new e(Object(o.map)(this.indexes_,function(e){if(e===ut)return e;var r=n.get(t.name);return r?e.remove(new He(t.name,r)):e}),this.indexSet_)},e}(),lt=function(){function e(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&et(this.priorityNode_),this.children_.isEmpty()&&Object(o.assert)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(e,"EMPTY_NODE",{get:function(){return rt||(rt=new e(new Ke(Qe),null,ct.Default))},enumerable:!1,configurable:!0}),e.prototype.isLeafNode=function(){return!1},e.prototype.getPriority=function(){return this.priorityNode_||rt},e.prototype.updatePriority=function(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)},e.prototype.getImmediateChild=function(e){if(".priority"===e)return this.getPriority();var t=this.children_.get(e);return null===t?rt:t},e.prototype.getChild=function(e){var t=be(e);return null===t?this:this.getImmediateChild(t).getChild(we(e))},e.prototype.hasChild=function(e){return null!==this.children_.get(e)},e.prototype.updateImmediateChild=function(t,n){if(Object(o.assert)(n,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(n);var r=new He(t,n),i=void 0,a=void 0;n.isEmpty()?(i=this.children_.remove(t),a=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(t,n),a=this.indexMap_.addToIndexes(r,this.children_));var s=i.isEmpty()?rt:this.priorityNode_;return new e(i,s,a)},e.prototype.updateChild=function(e,t){var n=be(e);if(null===n)return t;Object(o.assert)(".priority"!==be(e)||1===_e(e),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(we(e),t);return this.updateImmediateChild(n,r)},e.prototype.isEmpty=function(){return this.children_.isEmpty()},e.prototype.numChildren=function(){return this.children_.count()},e.prototype.val=function(t){if(this.isEmpty())return null;var n={},r=0,i=0,o=!0;if(this.forEachChild(it,function(a,s){n[a]=s.val(t),r++,o&&e.INTEGER_REGEXP_.test(a)?i=Math.max(i,Number(a)):o=!1}),!t&&o&&i<2*r){var a=[];for(var s in n)a[s]=n[s];return a}return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},e.prototype.hash=function(){if(null===this.lazyHash_){var e="";this.getPriority().isEmpty()||(e+="priority:"+Ze(this.getPriority().val())+":"),this.forEachChild(it,function(t,n){var r=n.hash();""!==r&&(e+=":"+t+":"+r)}),this.lazyHash_=""===e?"":b(e)}return this.lazyHash_},e.prototype.getPredecessorChildName=function(e,t,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new He(e,t));return i?i.name:null}return this.children_.getPredecessorKey(e)},e.prototype.getFirstChildName=function(e){var t=this.resolveIndex_(e);if(t){var n=t.minKey();return n&&n.name}return this.children_.minKey()},e.prototype.getFirstChild=function(e){var t=this.getFirstChildName(e);return t?new He(t,this.children_.get(t)):null},e.prototype.getLastChildName=function(e){var t=this.resolveIndex_(e);if(t){var n=t.maxKey();return n&&n.name}return this.children_.maxKey()},e.prototype.getLastChild=function(e){var t=this.getLastChildName(e);return t?new He(t,this.children_.get(t)):null},e.prototype.forEachChild=function(e,t){var n=this.resolveIndex_(e);return n?n.inorderTraversal(function(e){return t(e.name,e.node)}):this.children_.inorderTraversal(t)},e.prototype.getIterator=function(e){return this.getIteratorFrom(e.minPost(),e)},e.prototype.getIteratorFrom=function(e,t){var n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,function(e){return e});for(var r=this.children_.getIteratorFrom(e.name,He.Wrap),i=r.peek();null!=i&&t.compare(i,e)<0;)r.getNext(),i=r.peek();return r},e.prototype.getReverseIterator=function(e){return this.getReverseIteratorFrom(e.maxPost(),e)},e.prototype.getReverseIteratorFrom=function(e,t){var n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,function(e){return e});for(var r=this.children_.getReverseIteratorFrom(e.name,He.Wrap),i=r.peek();null!=i&&t.compare(i,e)>0;)r.getNext(),i=r.peek();return r},e.prototype.compareTo=function(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===ht?-1:0},e.prototype.withIndex=function(t){if(t===qe||this.indexMap_.hasIndex(t))return this;var n=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,n)},e.prototype.isIndexed=function(e){return e===qe||this.indexMap_.hasIndex(e)},e.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode())return!1;var t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){for(var n=this.getIterator(it),r=t.getIterator(it),i=n.getNext(),o=r.getNext();i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=n.getNext(),o=r.getNext()}return null===i&&null===o}return!1}return!1},e.prototype.resolveIndex_=function(e){return e===qe?null:this.indexMap_.get(e.toString())},e.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,e}(),ht=new(function(e){function t(){return e.call(this,new Ke(Qe),lt.EMPTY_NODE,ct.Default)||this}return Object(a.__extends)(t,e),t.prototype.compareTo=function(e){return e===this?0:1},t.prototype.equals=function(e){return e===this},t.prototype.getPriority=function(){return this},t.prototype.getImmediateChild=function(e){return lt.EMPTY_NODE},t.prototype.isEmpty=function(){return!1},t}(lt));Object.defineProperties(He,{MIN:{value:new He(N,lt.EMPTY_NODE)},MAX:{value:new He(R,ht)}}),Ve.__EMPTY_NODE=lt.EMPTY_NODE,tt.__childrenNodeConstructor=lt,Le=ht,function(e){Je=e}(ht);var ft=!0;function dt(e,t){if(void 0===t&&(t=null),null===e)return lt.EMPTY_NODE;if("object"===typeof e&&".priority"in e&&(t=e[".priority"]),Object(o.assert)(null===t||"string"===typeof t||"number"===typeof t||"object"===typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"===typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!==typeof e||".sv"in e)return new tt(e,dt(t));if(e instanceof Array||!ft){var n=lt.EMPTY_NODE;return j(e,function(t,r){if(Object(o.contains)(e,t)&&"."!==t.substring(0,1)){var i=dt(r);!i.isLeafNode()&&i.isEmpty()||(n=n.updateImmediateChild(t,i))}}),n.updatePriority(dt(t))}var r=[],i=!1;if(j(e,function(e,t){if("."!==e.substring(0,1)){var n=dt(t);n.isEmpty()||(i=i||!n.getPriority().isEmpty(),r.push(new He(e,n)))}}),0===r.length)return lt.EMPTY_NODE;var a=st(r,Ye,function(e){return e.name},Qe);if(i){var s=st(r,it.getCompare());return new lt(a,dt(t),new ct({".priority":s},{".priority":it}))}return new lt(a,dt(t),ct.Default)}!function(e){Xe=e}(dt);var pt=function(e){function t(t){var n=e.call(this)||this;return n.indexPath_=t,Object(o.assert)(!Te(t)&&".priority"!==be(t),"Can't create PathIndex with empty path or .priority key"),n}return Object(a.__extends)(t,e),t.prototype.extractChild=function(e){return e.getChild(this.indexPath_)},t.prototype.isDefinedOn=function(e){return!e.getChild(this.indexPath_).isEmpty()},t.prototype.compare=function(e,t){var n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?P(e.name,t.name):i},t.prototype.makePost=function(e,t){var n=dt(e),r=lt.EMPTY_NODE.updateChild(this.indexPath_,n);return new He(t,r)},t.prototype.maxPost=function(){var e=lt.EMPTY_NODE.updateChild(this.indexPath_,ht);return new He(R,e)},t.prototype.toString=function(){return Se(this.indexPath_,0).join("/")},t}(Be),gt=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(a.__extends)(t,e),t.prototype.compare=function(e,t){var n=e.node.compareTo(t.node);return 0===n?P(e.name,t.name):n},t.prototype.isDefinedOn=function(e){return!0},t.prototype.indexedValueChanged=function(e,t){return!e.equals(t)},t.prototype.minPost=function(){return He.MIN},t.prototype.maxPost=function(){return He.MAX},t.prototype.makePost=function(e,t){var n=dt(e);return new He(t,n)},t.prototype.toString=function(){return".value"},t}(Be)),yt="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",vt=function(){var e=0,t=[];return function(n){var r,i=n===e;e=n;var a=new Array(8);for(r=7;r>=0;r--)a[r]=yt.charAt(n%64),n=Math.floor(n/64);Object(o.assert)(0===n,"Cannot push at time == 0");var s=a.join("");if(i){for(r=11;r>=0&&63===t[r];r--)t[r]=0;t[r]++}else for(r=0;r<12;r++)t[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)s+=yt.charAt(t[r]);return Object(o.assert)(20===s.length,"nextPushId: Length should be 20."),s}}(),mt=function(e){if("2147483647"===e)return"-";var t=H(e);if(null!=t)return""+(t+1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);if(n.length<786)return n.push("-"),n.join("");for(var i=n.length-1;i>=0&&"z"===n[i];)i--;if(-1===i)return R;var o=n[i],a=yt.charAt(yt.indexOf(o)+1);return n[i]=a,n.slice(0,i+1).join("")},bt=function(e){if("-2147483648"===e)return N;var t=H(e);if(null!=t)return""+(t-1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);return"-"===n[n.length-1]?1===n.length?"2147483647":(delete n[n.length-1],n.join("")):(n[n.length-1]=yt.charAt(yt.indexOf(n[n.length-1])-1),n.join("")+"z".repeat(786-n.length))};function _t(e){return{type:"value",snapshotNode:e}}function wt(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function Et(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function St(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}var Ct=function(){function e(e){this.index_=e}return e.prototype.updateChild=function(e,t,n,r,i,a){Object(o.assert)(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");var s=e.getImmediateChild(t);return s.getChild(r).equals(n.getChild(r))&&s.isEmpty()===n.isEmpty()?e:(null!=a&&(n.isEmpty()?e.hasChild(t)?a.trackChildChange(Et(t,s)):Object(o.assert)(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):s.isEmpty()?a.trackChildChange(wt(t,n)):a.trackChildChange(St(t,n,s))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))},e.prototype.updateFullNode=function(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(it,function(e,r){t.hasChild(e)||n.trackChildChange(Et(e,r))}),t.isLeafNode()||t.forEachChild(it,function(t,r){if(e.hasChild(t)){var i=e.getImmediateChild(t);i.equals(r)||n.trackChildChange(St(t,r,i))}else n.trackChildChange(wt(t,r))})),t.withIndex(this.index_)},e.prototype.updatePriority=function(e,t){return e.isEmpty()?lt.EMPTY_NODE:e.updatePriority(t)},e.prototype.filtersNodes=function(){return!1},e.prototype.getIndexedFilter=function(){return this},e.prototype.getIndex=function(){return this.index_},e}(),Ot=function(){function e(t){this.indexedFilter_=new Ct(t.getIndex()),this.index_=t.getIndex(),this.startPost_=e.getStartPost_(t),this.endPost_=e.getEndPost_(t)}return e.prototype.getStartPost=function(){return this.startPost_},e.prototype.getEndPost=function(){return this.endPost_},e.prototype.matches=function(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0},e.prototype.updateChild=function(e,t,n,r,i,o){return this.matches(new He(t,n))||(n=lt.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,o)},e.prototype.updateFullNode=function(e,t,n){t.isLeafNode()&&(t=lt.EMPTY_NODE);var r=t.withIndex(this.index_);r=r.updatePriority(lt.EMPTY_NODE);var i=this;return t.forEachChild(it,function(e,t){i.matches(new He(e,t))||(r=r.updateImmediateChild(e,lt.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,r,n)},e.prototype.updatePriority=function(e,t){return e},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.indexedFilter_},e.prototype.getIndex=function(){return this.index_},e.getStartPost_=function(e){if(e.hasStart()){var t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()},e.getEndPost_=function(e){if(e.hasEnd()){var t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()},e}(),Tt=function(){function e(e){this.rangedFilter_=new Ot(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft()}return e.prototype.updateChild=function(e,t,n,r,i,o){return this.rangedFilter_.matches(new He(t,n))||(n=lt.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,i,o):this.fullLimitUpdateChild_(e,t,n,i,o)},e.prototype.updateFullNode=function(e,t,n){var r;if(t.isLeafNode()||t.isEmpty())r=lt.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){r=lt.EMPTY_NODE.withIndex(this.index_);var i=void 0;i=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var o=0;i.hasNext()&&o<this.limit_;){var a=i.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),a)<=0:this.index_.compare(a,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(a.name,a.node),o++}}else{r=(r=t.withIndex(this.index_)).updatePriority(lt.EMPTY_NODE);var s=void 0,u=void 0,c=void 0;i=void 0;if(this.reverse_){i=r.getReverseIterator(this.index_),s=this.rangedFilter_.getEndPost(),u=this.rangedFilter_.getStartPost();var l=this.index_.getCompare();c=function(e,t){return l(t,e)}}else i=r.getIterator(this.index_),s=this.rangedFilter_.getStartPost(),u=this.rangedFilter_.getEndPost(),c=this.index_.getCompare();o=0;for(var h=!1;i.hasNext();){a=i.getNext();!h&&c(s,a)<=0&&(h=!0),h&&o<this.limit_&&c(a,u)<=0?o++:r=r.updateImmediateChild(a.name,lt.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)},e.prototype.updatePriority=function(e,t){return e},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},e.prototype.getIndex=function(){return this.index_},e.prototype.fullLimitUpdateChild_=function(e,t,n,r,i){var a;if(this.reverse_){var s=this.index_.getCompare();a=function(e,t){return s(t,e)}}else a=this.index_.getCompare();var u=e;Object(o.assert)(u.numChildren()===this.limit_,"");var c=new He(t,n),l=this.reverse_?u.getFirstChild(this.index_):u.getLastChild(this.index_),h=this.rangedFilter_.matches(c);if(u.hasChild(t)){for(var f=u.getImmediateChild(t),d=r.getChildAfterChild(this.index_,l,this.reverse_);null!=d&&(d.name===t||u.hasChild(d.name));)d=r.getChildAfterChild(this.index_,d,this.reverse_);var p=null==d?1:a(d,c);if(h&&!n.isEmpty()&&p>=0)return null!=i&&i.trackChildChange(St(t,n,f)),u.updateImmediateChild(t,n);null!=i&&i.trackChildChange(Et(t,f));var g=u.updateImmediateChild(t,lt.EMPTY_NODE);return null!=d&&this.rangedFilter_.matches(d)?(null!=i&&i.trackChildChange(wt(d.name,d.node)),g.updateImmediateChild(d.name,d.node)):g}return n.isEmpty()?e:h&&a(l,c)>=0?(null!=i&&(i.trackChildChange(Et(l.name,l.node)),i.trackChildChange(wt(t,n))),u.updateImmediateChild(t,n).updateImmediateChild(l.name,lt.EMPTY_NODE)):e},e}(),kt=function(){function e(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=it}return e.prototype.hasStart=function(){return this.startSet_},e.prototype.hasStartAfter=function(){return this.startAfterSet_},e.prototype.hasEndBefore=function(){return this.endBeforeSet_},e.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_},e.prototype.getIndexStartValue=function(){return Object(o.assert)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},e.prototype.getIndexStartName=function(){return Object(o.assert)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:N},e.prototype.hasEnd=function(){return this.endSet_},e.prototype.getIndexEndValue=function(){return Object(o.assert)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},e.prototype.getIndexEndName=function(){return Object(o.assert)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:R},e.prototype.hasLimit=function(){return this.limitSet_},e.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},e.prototype.getLimit=function(){return Object(o.assert)(this.limitSet_,"Only valid if limit has been set"),this.limit_},e.prototype.getIndex=function(){return this.index_},e.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},e.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===it},e.prototype.copy=function(){var t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t},e}();function It(e,t,n){var r=e.copy();return r.startSet_=!0,void 0===t&&(t=null),r.indexStartValue_=t,null!=n?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function At(e,t,n){var r=e.copy();return r.endSet_=!0,void 0===t&&(t=null),r.indexEndValue_=t,void 0!==n?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function Nt(e,t){var n=e.copy();return n.index_=t,n}function Rt(e){var t,n={};return e.isDefault()?n:(e.index_===it?t="$priority":e.index_===gt?t="$value":e.index_===qe?t="$key":(Object(o.assert)(e.index_ instanceof pt,"Unrecognized index type!"),t=e.index_.toString()),n.orderBy=Object(o.stringify)(t),e.startSet_&&(n.startAt=Object(o.stringify)(e.indexStartValue_),e.startNameSet_&&(n.startAt+=","+Object(o.stringify)(e.indexStartName_))),e.endSet_&&(n.endAt=Object(o.stringify)(e.indexEndValue_),e.endNameSet_&&(n.endAt+=","+Object(o.stringify)(e.indexEndName_))),e.limitSet_&&(e.isViewFromLeft()?n.limitToFirst=e.limit_:n.limitToLast=e.limit_),n)}function Pt(e){var t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_)),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_)),e.limitSet_){t.l=e.limit_;var n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==it&&(t.i=e.index_.toString()),t}var xt=function(e){function t(t,n,r,i){var o=e.call(this)||this;return o.repoInfo_=t,o.onDataUpdate_=n,o.authTokenProvider_=r,o.appCheckTokenProvider_=i,o.log_=O("p:rest:"),o.listens_={},o}return Object(a.__extends)(t,e),t.prototype.reportStats=function(e){throw new Error("Method not implemented.")},t.getListenId_=function(e,t){return void 0!==t?"tag$"+t:(Object(o.assert)(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())},t.prototype.listen=function(e,n,r,i){var a=this,s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);var u=t.getListenId_(e,r),c={};this.listens_[u]=c;var l=Rt(e._queryParams);this.restRequest_(s+".json",l,function(e,t){var n=t;(404===e&&(n=null,e=null),null===e&&a.onDataUpdate_(s,n,!1,r),Object(o.safeGet)(a.listens_,u)===c)&&i(e?401===e?"permission_denied":"rest_error:"+e:"ok",null)})},t.prototype.unlisten=function(e,n){var r=t.getListenId_(e,n);delete this.listens_[r]},t.prototype.get=function(e){var t=this,n=Rt(e._queryParams),r=e._path.toString(),i=new o.Deferred;return this.restRequest_(r+".json",n,function(e,n){var o=n;404===e&&(o=null,e=null),null===e?(t.onDataUpdate_(r,o,!1,null),i.resolve(o)):i.reject(new Error(o))}),i.promise},t.prototype.refreshAuthToken=function(e){},t.prototype.restRequest_=function(e,t,n){var r=this;return void 0===t&&(t={}),t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(function(i){var s=Object(a.__read)(i,2),u=s[0],c=s[1];u&&u.accessToken&&(t.auth=u.accessToken),c&&c.token&&(t.ac=c.token);var l=(r.repoInfo_.secure?"https://":"http://")+r.repoInfo_.host+e+"?ns="+r.repoInfo_.namespace+Object(o.querystring)(t);r.log_("Sending REST request for "+l);var h=new XMLHttpRequest;h.onreadystatechange=function(){if(n&&4===h.readyState){r.log_("REST Response for "+l+" received. status:",h.status,"response:",h.responseText);var e=null;if(h.status>=200&&h.status<300){try{e=Object(o.jsonEval)(h.responseText)}catch(t){I("Failed to parse JSON response for "+l+": "+h.responseText)}n(null,e)}else 401!==h.status&&404!==h.status&&I("Got unsuccessful REST response for "+l+" Status: "+h.status),n(h.status);n=null}},h.open("GET",l,!0),h.send()})},t}(fe),Mt=function(){function e(){this.rootNode_=lt.EMPTY_NODE}return e.prototype.getNode=function(e){return this.rootNode_.getChild(e)},e.prototype.updateSnapshot=function(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)},e}();function Lt(){return{value:null,children:new Map}}function Dt(e,t,n){if(Te(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{var r=be(t);e.children.has(r)||e.children.set(r,Lt()),Dt(e.children.get(r),t=we(t),n)}}function jt(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach(function(e,n){t(n,e)})}(e,function(e,r){jt(r,new ve(t.toString()+"/"+e),n)})}var Ut,Ft=function(){function e(e){this.collection_=e,this.last_=null}return e.prototype.get=function(){var e=this.collection_.get(),t=Object(a.__assign)({},e);return this.last_&&j(this.last_,function(e,n){t[e]=t[e]-n}),this.last_=e,t},e}(),Ht=1e4,Bt=3e4,Vt=function(){function e(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new Ft(e);var n=Ht+(Bt-Ht)*Math.random();q(this.reportStats_.bind(this),Math.floor(n))}return e.prototype.reportStats_=function(){var e=this,t=this.statsListener_.get(),n={},r=!1;j(t,function(t,i){i>0&&Object(o.contains)(e.statsToReport_,t)&&(n[t]=i,r=!0)}),r&&this.server_.reportStats(n),q(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},e}();function qt(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(Ut||(Ut={}));var Gt,zt=function(){function e(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=Ut.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return e.prototype.operationForChild=function(t){if(Te(this.path)){if(null!=this.affectedTree.value)return Object(o.assert)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new ve(t));return new e(me(),n,this.revert)}return Object(o.assert)(be(this.path)===t,"operationForChild called for unrelated child."),new e(we(this.path),this.affectedTree,this.revert)},e}(),Wt=function(){function e(e,t){this.source=e,this.path=t,this.type=Ut.LISTEN_COMPLETE}return e.prototype.operationForChild=function(t){return Te(this.path)?new e(this.source,me()):new e(this.source,we(this.path))},e}(),Kt=function(){function e(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=Ut.OVERWRITE}return e.prototype.operationForChild=function(t){return Te(this.path)?new e(this.source,me(),this.snap.getImmediateChild(t)):new e(this.source,we(this.path),this.snap)},e}(),Yt=function(){function e(e,t,n){this.source=e,this.path=t,this.children=n,this.type=Ut.MERGE}return e.prototype.operationForChild=function(t){if(Te(this.path)){var n=this.children.subtree(new ve(t));return n.isEmpty()?null:n.value?new Kt(this.source,me(),n.value):new e(this.source,me(),n)}return Object(o.assert)(be(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,we(this.path),this.children)},e.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},e}(),Qt=function(){function e(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}return e.prototype.isFullyInitialized=function(){return this.fullyInitialized_},e.prototype.isFiltered=function(){return this.filtered_},e.prototype.isCompleteForPath=function(e){if(Te(e))return this.isFullyInitialized()&&!this.filtered_;var t=be(e);return this.isCompleteForChild(t)},e.prototype.isCompleteForChild=function(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)},e.prototype.getNode=function(){return this.node_},e}(),$t=function(){return function(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}();function Xt(e,t,n,r,i,a){var s=r.filter(function(e){return e.type===n});s.sort(function(t,n){return function(e,t,n){if(null==t.childName||null==n.childName)throw Object(o.assertionError)("Should only compare child_ events.");var r=new He(t.childName,t.snapshotNode),i=new He(n.childName,n.snapshotNode);return e.index_.compare(r,i)}(e,t,n)}),s.forEach(function(n){var r=function(e,t,n){return"value"===t.type||"child_removed"===t.type?t:(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_),t)}(e,n,a);i.forEach(function(i){i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))})})}function Jt(e,t){return{eventCache:e,serverCache:t}}function Zt(e,t,n,r){return Jt(new Qt(t,n,r),e.serverCache)}function en(e,t,n,r){return Jt(e.eventCache,new Qt(t,n,r))}function tn(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function nn(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}var rn=function(){return Gt||(Gt=new Ke(x)),Gt},on=function(){function e(e,t){void 0===t&&(t=rn()),this.value=e,this.children=t}return e.fromObject=function(t){var n=new e(null);return j(t,function(e,t){n=n.set(new ve(e),t)}),n},e.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},e.prototype.findRootMostMatchingPathAndValue=function(e,t){if(null!=this.value&&t(this.value))return{path:me(),value:this.value};if(Te(e))return null;var n=be(e),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(we(e),t);return null!=i?{path:Oe(new ve(n),i.path),value:i.value}:null}return null},e.prototype.findRootMostValueAndPath=function(e){return this.findRootMostMatchingPathAndValue(e,function(){return!0})},e.prototype.subtree=function(t){if(Te(t))return this;var n=be(t),r=this.children.get(n);return null!==r?r.subtree(we(t)):new e(null)},e.prototype.set=function(t,n){if(Te(t))return new e(n,this.children);var r=be(t),i=(this.children.get(r)||new e(null)).set(we(t),n),o=this.children.insert(r,i);return new e(this.value,o)},e.prototype.remove=function(t){if(Te(t))return this.children.isEmpty()?new e(null):new e(null,this.children);var n=be(t),r=this.children.get(n);if(r){var i=r.remove(we(t)),o=void 0;return o=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&o.isEmpty()?new e(null):new e(this.value,o)}return this},e.prototype.get=function(e){if(Te(e))return this.value;var t=be(e),n=this.children.get(t);return n?n.get(we(e)):null},e.prototype.setTree=function(t,n){if(Te(t))return n;var r=be(t),i=(this.children.get(r)||new e(null)).setTree(we(t),n),o=void 0;return o=i.isEmpty()?this.children.remove(r):this.children.insert(r,i),new e(this.value,o)},e.prototype.fold=function(e){return this.fold_(me(),e)},e.prototype.fold_=function(e,t){var n={};return this.children.inorderTraversal(function(r,i){n[r]=i.fold_(Oe(e,r),t)}),t(e,this.value,n)},e.prototype.findOnPath=function(e,t){return this.findOnPath_(e,me(),t)},e.prototype.findOnPath_=function(e,t,n){var r=!!this.value&&n(t,this.value);if(r)return r;if(Te(e))return null;var i=be(e),o=this.children.get(i);return o?o.findOnPath_(we(e),Oe(t,i),n):null},e.prototype.foreachOnPath=function(e,t){return this.foreachOnPath_(e,me(),t)},e.prototype.foreachOnPath_=function(t,n,r){if(Te(t))return this;this.value&&r(n,this.value);var i=be(t),o=this.children.get(i);return o?o.foreachOnPath_(we(t),Oe(n,i),r):new e(null)},e.prototype.foreach=function(e){this.foreach_(me(),e)},e.prototype.foreach_=function(e,t){this.children.inorderTraversal(function(n,r){r.foreach_(Oe(e,n),t)}),this.value&&t(e,this.value)},e.prototype.foreachChild=function(e){this.children.inorderTraversal(function(t,n){n.value&&e(t,n.value)})},e}(),an=function(){function e(e){this.writeTree_=e}return e.empty=function(){return new e(new on(null))},e}();function sn(e,t,n){if(Te(t))return new an(new on(n));var r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){var i=r.path,o=r.value,a=ke(i,t);return o=o.updateChild(a,n),new an(e.writeTree_.set(i,o))}var s=new on(n),u=e.writeTree_.setTree(t,s);return new an(u)}function un(e,t,n){var r=e;return j(n,function(e,n){r=sn(r,Oe(t,e),n)}),r}function cn(e,t){if(Te(t))return an.empty();var n=e.writeTree_.setTree(t,new on(null));return new an(n)}function ln(e,t){return null!=hn(e,t)}function hn(e,t){var n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(ke(n.path,t)):null}function fn(e){var t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(it,function(e,n){t.push(new He(e,n))}):e.writeTree_.children.inorderTraversal(function(e,n){null!=n.value&&t.push(new He(e,n.value))}),t}function dn(e,t){if(Te(t))return e;var n=hn(e,t);return new an(null!=n?new on(n):e.writeTree_.subtree(t))}function pn(e){return e.writeTree_.isEmpty()}function gn(e,t){return function e(t,n,r){if(null!=n.value)return r.updateChild(t,n.value);var i=null;return n.children.inorderTraversal(function(n,a){".priority"===n?(Object(o.assert)(null!==a.value,"Priority writes must always be leaf nodes"),i=a.value):r=e(Oe(t,n),a,r)}),r.getChild(t).isEmpty()||null===i||(r=r.updateChild(Oe(t,".priority"),i)),r}(me(),e.writeTree_,t)}function yn(e,t){return An(t,e)}function vn(e,t){var n=e.allWrites.findIndex(function(e){return e.writeId===t});Object(o.assert)(n>=0,"removeWrite called with nonexistent writeId.");var r=e.allWrites[n];e.allWrites.splice(n,1);for(var i=r.visible,a=!1,s=e.allWrites.length-1;i&&s>=0;){var u=e.allWrites[s];u.visible&&(s>=n&&mn(u,r.path)?i=!1:Ne(r.path,u.path)&&(a=!0)),s--}if(i){if(a)return function(e){e.visibleWrites=_n(e.allWrites,bn,me()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0;r.snap?e.visibleWrites=cn(e.visibleWrites,r.path):j(r.children,function(t){e.visibleWrites=cn(e.visibleWrites,Oe(r.path,t))});return!0}return!1}function mn(e,t){if(e.snap)return Ne(e.path,t);for(var n in e.children)if(e.children.hasOwnProperty(n)&&Ne(Oe(e.path,n),t))return!0;return!1}function bn(e){return e.visible}function _n(e,t,n){for(var r=an.empty(),i=0;i<e.length;++i){var a=e[i];if(t(a)){var s=a.path,u=void 0;if(a.snap)Ne(n,s)?r=sn(r,u=ke(n,s),a.snap):Ne(s,n)&&(u=ke(s,n),r=sn(r,me(),a.snap.getChild(u)));else{if(!a.children)throw Object(o.assertionError)("WriteRecord should have .snap or .children");if(Ne(n,s))r=un(r,u=ke(n,s),a.children);else if(Ne(s,n))if(Te(u=ke(s,n)))r=un(r,me(),a.children);else{var c=Object(o.safeGet)(a.children,be(u));if(c){var l=c.getChild(we(u));r=sn(r,me(),l)}}}}}return r}function wn(e,t,n,r,i){if(r||i){var o=dn(e.visibleWrites,t);if(!i&&pn(o))return n;if(i||null!=n||ln(o,me())){return gn(_n(e.allWrites,function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(Ne(e.path,t)||Ne(t,e.path))},t),n||lt.EMPTY_NODE)}return null}var a=hn(e.visibleWrites,t);if(null!=a)return a;var s=dn(e.visibleWrites,t);return pn(s)?n:null!=n||ln(s,me())?gn(s,n||lt.EMPTY_NODE):null}function En(e,t,n,r){return wn(e.writeTree,e.treePath,t,n,r)}function Sn(e,t){return function(e,t,n){var r=lt.EMPTY_NODE,i=hn(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(it,function(e,t){r=r.updateImmediateChild(e,t)}),r;if(n){var o=dn(e.visibleWrites,t);return n.forEachChild(it,function(e,t){var n=gn(dn(o,new ve(e)),t);r=r.updateImmediateChild(e,n)}),fn(o).forEach(function(e){r=r.updateImmediateChild(e.name,e.node)}),r}return fn(dn(e.visibleWrites,t)).forEach(function(e){r=r.updateImmediateChild(e.name,e.node)}),r}(e.writeTree,e.treePath,t)}function Cn(e,t,n,r){return function(e,t,n,r,i){Object(o.assert)(r||i,"Either existingEventSnap or existingServerSnap must exist");var a=Oe(t,n);if(ln(e.visibleWrites,a))return null;var s=dn(e.visibleWrites,a);return pn(s)?i.getChild(n):gn(s,i.getChild(n))}(e.writeTree,e.treePath,t,n,r)}function On(e,t){return function(e,t){return hn(e.visibleWrites,t)}(e.writeTree,Oe(e.treePath,t))}function Tn(e,t,n,r,i,o){return function(e,t,n,r,i,o,a){var s,u=dn(e.visibleWrites,t),c=hn(u,me());if(null!=c)s=c;else{if(null==n)return[];s=gn(u,n)}if((s=s.withIndex(a)).isEmpty()||s.isLeafNode())return[];for(var l=[],h=a.getCompare(),f=o?s.getReverseIteratorFrom(r,a):s.getIteratorFrom(r,a),d=f.getNext();d&&l.length<i;)0!==h(d,r)&&l.push(d),d=f.getNext();return l}(e.writeTree,e.treePath,t,n,r,i,o)}function kn(e,t,n){return function(e,t,n,r){var i=Oe(t,n),o=hn(e.visibleWrites,i);return null!=o?o:r.isCompleteForChild(n)?gn(dn(e.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(e.writeTree,e.treePath,t,n)}function In(e,t){return An(Oe(e.treePath,t),e.writeTree)}function An(e,t){return{treePath:e,writeTree:t}}var Nn=function(){function e(){this.changeMap=new Map}return e.prototype.trackChildChange=function(e){var t=e.type,n=e.childName;Object(o.assert)("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),Object(o.assert)(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,St(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,Et(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,wt(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw Object(o.assertionError)("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,St(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)},e.prototype.getChanges=function(){return Array.from(this.changeMap.values())},e}(),Rn=new(function(){function e(){}return e.prototype.getCompleteChild=function(e){return null},e.prototype.getChildAfterChild=function(e,t,n){return null},e}()),Pn=function(){function e(e,t,n){void 0===n&&(n=null),this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}return e.prototype.getCompleteChild=function(e){var t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);var n=null!=this.optCompleteServerCache_?new Qt(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return kn(this.writes_,e,n)},e.prototype.getChildAfterChild=function(e,t,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:nn(this.viewCache_),i=Tn(this.writes_,r,t,1,n,e);return 0===i.length?null:i[0]},e}();function xn(e,t,n,r,i){var a,s,u=new Nn;if(n.type===Ut.OVERWRITE){var c=n;c.source.fromUser?a=Dn(e,t,c.path,c.snap,r,i,u):(Object(o.assert)(c.source.fromServer,"Unknown source."),s=c.source.tagged||t.serverCache.isFiltered()&&!Te(c.path),a=Ln(e,t,c.path,c.snap,r,i,s,u))}else if(n.type===Ut.MERGE){var l=n;l.source.fromUser?a=function(e,t,n,r,i,o,a){var s=t;return r.foreach(function(r,u){var c=Oe(n,r);jn(t,be(c))&&(s=Dn(e,s,c,u,i,o,a))}),r.foreach(function(r,u){var c=Oe(n,r);jn(t,be(c))||(s=Dn(e,s,c,u,i,o,a))}),s}(e,t,l.path,l.children,r,i,u):(Object(o.assert)(l.source.fromServer,"Unknown source."),s=l.source.tagged||t.serverCache.isFiltered(),a=Fn(e,t,l.path,l.children,r,i,s,u))}else if(n.type===Ut.ACK_USER_WRITE){var h=n;a=h.revert?function(e,t,n,r,i,a){var s;if(null!=On(r,n))return t;var u=new Pn(r,t,i),c=t.eventCache.getNode(),l=void 0;if(Te(n)||".priority"===be(n)){var h=void 0;if(t.serverCache.isFullyInitialized())h=En(r,nn(t));else{var f=t.serverCache.getNode();Object(o.assert)(f instanceof lt,"serverChildren would be complete if leaf node"),h=Sn(r,f)}h=h,l=e.filter.updateFullNode(c,h,a)}else{var d=be(n),p=kn(r,d,t.serverCache);null==p&&t.serverCache.isCompleteForChild(d)&&(p=c.getImmediateChild(d)),(l=null!=p?e.filter.updateChild(c,d,p,we(n),u,a):t.eventCache.getNode().hasChild(d)?e.filter.updateChild(c,d,lt.EMPTY_NODE,we(n),u,a):c).isEmpty()&&t.serverCache.isFullyInitialized()&&(s=En(r,nn(t))).isLeafNode()&&(l=e.filter.updateFullNode(l,s,a))}return s=t.serverCache.isFullyInitialized()||null!=On(r,me()),Zt(t,l,s,e.filter.filtersNodes())}(e,t,h.path,r,i,u):function(e,t,n,r,i,o,a){if(null!=On(i,n))return t;var s=t.serverCache.isFiltered(),u=t.serverCache;if(null!=r.value){if(Te(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return Ln(e,t,n,u.getNode().getChild(n),i,o,s,a);if(Te(n)){var c=new on(null);return u.getNode().forEachChild(qe,function(e,t){c=c.set(new ve(e),t)}),Fn(e,t,n,c,i,o,s,a)}return t}var l=new on(null);return r.foreach(function(e,t){var r=Oe(n,e);u.isCompleteForPath(r)&&(l=l.set(e,u.getNode().getChild(r)))}),Fn(e,t,n,l,i,o,s,a)}(e,t,h.path,h.affectedTree,r,i,u)}else{if(n.type!==Ut.LISTEN_COMPLETE)throw Object(o.assertionError)("Unknown operation type: "+n.type);a=function(e,t,n,r,i){var o=t.serverCache,a=en(t,o.getNode(),o.isFullyInitialized()||Te(n),o.isFiltered());return Mn(e,a,n,r,Rn,i)}(e,t,n.path,r,u)}var f=u.getChanges();return function(e,t,n){var r=t.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=tn(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(_t(tn(t)))}}(t,a,f),{viewCache:a,changes:f}}function Mn(e,t,n,r,i,a){var s=t.eventCache;if(null!=On(r,n))return t;var u=void 0,c=void 0;if(Te(n))if(Object(o.assert)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){var l=nn(t),h=Sn(r,l instanceof lt?l:lt.EMPTY_NODE);u=e.filter.updateFullNode(t.eventCache.getNode(),h,a)}else{var f=En(r,nn(t));u=e.filter.updateFullNode(t.eventCache.getNode(),f,a)}else{var d=be(n);if(".priority"===d){Object(o.assert)(1===_e(n),"Can't have a priority with additional path components");var p=s.getNode(),g=Cn(r,n,p,c=t.serverCache.getNode());u=null!=g?e.filter.updatePriority(p,g):s.getNode()}else{var y=we(n),v=void 0;if(s.isCompleteForChild(d)){c=t.serverCache.getNode();var m=Cn(r,n,s.getNode(),c);v=null!=m?s.getNode().getImmediateChild(d).updateChild(y,m):s.getNode().getImmediateChild(d)}else v=kn(r,d,t.serverCache);u=null!=v?e.filter.updateChild(s.getNode(),d,v,y,i,a):s.getNode()}}return Zt(t,u,s.isFullyInitialized()||Te(n),e.filter.filtersNodes())}function Ln(e,t,n,r,i,o,a,s){var u,c=t.serverCache,l=a?e.filter:e.filter.getIndexedFilter();if(Te(n))u=l.updateFullNode(c.getNode(),r,null);else if(l.filtersNodes()&&!c.isFiltered()){var h=c.getNode().updateChild(n,r);u=l.updateFullNode(c.getNode(),h,null)}else{var f=be(n);if(!c.isCompleteForPath(n)&&_e(n)>1)return t;var d=we(n),p=c.getNode().getImmediateChild(f).updateChild(d,r);u=".priority"===f?l.updatePriority(c.getNode(),p):l.updateChild(c.getNode(),f,p,d,Rn,null)}var g=en(t,u,c.isFullyInitialized()||Te(n),l.filtersNodes());return Mn(e,g,n,i,new Pn(i,g,o),s)}function Dn(e,t,n,r,i,o,a){var s,u,c=t.eventCache,l=new Pn(i,t,o);if(Te(n))u=e.filter.updateFullNode(t.eventCache.getNode(),r,a),s=Zt(t,u,!0,e.filter.filtersNodes());else{var h=be(n);if(".priority"===h)u=e.filter.updatePriority(t.eventCache.getNode(),r),s=Zt(t,u,c.isFullyInitialized(),c.isFiltered());else{var f=we(n),d=c.getNode().getImmediateChild(h),p=void 0;if(Te(f))p=r;else{var g=l.getCompleteChild(h);p=null!=g?".priority"===Ee(f)&&g.getChild(Ce(f)).isEmpty()?g:g.updateChild(f,r):lt.EMPTY_NODE}if(d.equals(p))s=t;else s=Zt(t,e.filter.updateChild(c.getNode(),h,p,f,l,a),c.isFullyInitialized(),e.filter.filtersNodes())}}return s}function jn(e,t){return e.eventCache.isCompleteForChild(t)}function Un(e,t,n){return n.foreach(function(e,n){t=t.updateChild(e,n)}),t}function Fn(e,t,n,r,i,o,a,s){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;var u,c=t;u=Te(n)?r:new on(null).setTree(n,r);var l=t.serverCache.getNode();return u.children.inorderTraversal(function(n,r){if(l.hasChild(n)){var u=Un(0,t.serverCache.getNode().getImmediateChild(n),r);c=Ln(e,c,new ve(n),u,i,o,a,s)}}),u.children.inorderTraversal(function(n,r){var u=!t.serverCache.isCompleteForChild(n)&&void 0===r.value;if(!l.hasChild(n)&&!u){var h=Un(0,t.serverCache.getNode().getImmediateChild(n),r);c=Ln(e,c,new ve(n),h,i,o,a,s)}}),c}var Hn,Bn=function(){function e(e,t){this.query_=e,this.eventRegistrations_=[];var n,r=this.query_._queryParams,i=new Ct(r.getIndex()),o=(n=r).loadsAllData()?new Ct(n.getIndex()):n.hasLimit()?new Tt(n):new Ot(n);this.processor_=function(e){return{filter:e}}(o);var a=t.serverCache,s=t.eventCache,u=i.updateFullNode(lt.EMPTY_NODE,a.getNode(),null),c=o.updateFullNode(lt.EMPTY_NODE,s.getNode(),null),l=new Qt(u,a.isFullyInitialized(),i.filtersNodes()),h=new Qt(c,s.isFullyInitialized(),o.filtersNodes());this.viewCache_=Jt(h,l),this.eventGenerator_=new $t(this.query_)}return Object.defineProperty(e.prototype,"query",{get:function(){return this.query_},enumerable:!1,configurable:!0}),e}();function Vn(e,t){var n=nn(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!Te(t)&&!n.getImmediateChild(be(t)).isEmpty())?n.getChild(t):null}function qn(e){return 0===e.eventRegistrations_.length}function Gn(e,t,n){var r=[];if(n){Object(o.assert)(null==t,"A cancel should cancel all event registrations.");var i=e.query._path;e.eventRegistrations_.forEach(function(e){var t=e.createCancelEvent(n,i);t&&r.push(t)})}if(t){for(var a=[],s=0;s<e.eventRegistrations_.length;++s){var u=e.eventRegistrations_[s];if(u.matches(t)){if(t.hasAnyCallback()){a=a.concat(e.eventRegistrations_.slice(s+1));break}}else a.push(u)}e.eventRegistrations_=a}else e.eventRegistrations_=[];return r}function zn(e,t,n,r){t.type===Ut.MERGE&&null!==t.source.queryId&&(Object(o.assert)(nn(e.viewCache_),"We should always have a full cache before handling merges"),Object(o.assert)(tn(e.viewCache_),"Missing event cache, even though we have a server cache"));var i,a,s=e.viewCache_,u=xn(e.processor_,s,t,n,r);return i=e.processor_,a=u.viewCache,Object(o.assert)(a.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),Object(o.assert)(a.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed"),Object(o.assert)(u.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=u.viewCache,Wn(e,u.changes,u.viewCache.eventCache.getNode(),null)}function Wn(e,t,n,r){var i=r?[r]:e.eventRegistrations_;return function(e,t,n,r){var i=[],o=[];return t.forEach(function(t){var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&o.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))}),Xt(e,i,"child_removed",t,r,n),Xt(e,i,"child_added",t,r,n),Xt(e,i,"child_moved",o,r,n),Xt(e,i,"child_changed",t,r,n),Xt(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,i)}var Kn,Yn=function(){return function(){this.views=new Map}}();function Qn(e,t,n,r){var i,s,u=t.source.queryId;if(null!==u){var c=e.views.get(u);return Object(o.assert)(null!=c,"SyncTree gave us an op for an invalid query."),zn(c,t,n,r)}var l=[];try{for(var h=Object(a.__values)(e.views.values()),f=h.next();!f.done;f=h.next()){c=f.value;l=l.concat(zn(c,t,n,r))}}catch(d){i={error:d}}finally{try{f&&!f.done&&(s=h.return)&&s.call(h)}finally{if(i)throw i.error}}return l}function $n(e,t,n,r,i){var o=t._queryIdentifier,a=e.views.get(o);if(!a){var s=En(n,i?r:null),u=!1;s?u=!0:r instanceof lt?(s=Sn(n,r),u=!1):(s=lt.EMPTY_NODE,u=!1);var c=Jt(new Qt(s,u,!1),new Qt(r,i,!1));return new Bn(t,c)}return a}function Xn(e,t,n,r,i,o){var a=$n(e,t,r,i,o);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,a),function(e,t){e.eventRegistrations_.push(t)}(a,n),function(e,t){var n=e.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(it,function(e,t){r.push(wt(e,t))}),n.isFullyInitialized()&&r.push(_t(n.getNode())),Wn(e,r,n.getNode(),t)}(a,n)}function Jn(e,t,n,r){var i,s,u=t._queryIdentifier,c=[],l=[],h=rr(e);if("default"===u)try{for(var f=Object(a.__values)(e.views.entries()),d=f.next();!d.done;d=f.next()){var p=Object(a.__read)(d.value,2),g=p[0],y=p[1];l=l.concat(Gn(y,n,r)),qn(y)&&(e.views.delete(g),y.query._queryParams.loadsAllData()||c.push(y.query))}}catch(v){i={error:v}}finally{try{d&&!d.done&&(s=f.return)&&s.call(f)}finally{if(i)throw i.error}}else(y=e.views.get(u))&&(l=l.concat(Gn(y,n,r)),qn(y)&&(e.views.delete(u),y.query._queryParams.loadsAllData()||c.push(y.query)));return h&&!rr(e)&&c.push(new(Object(o.assert)(Hn,"Reference.ts has not been loaded"),Hn)(t._repo,t._path)),{removed:c,events:l}}function Zn(e){var t,n,r=[];try{for(var i=Object(a.__values)(e.views.values()),o=i.next();!o.done;o=i.next()){var s=o.value;s.query._queryParams.loadsAllData()||r.push(s)}}catch(u){t={error:u}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}function er(e,t){var n,r,i=null;try{for(var o=Object(a.__values)(e.views.values()),s=o.next();!s.done;s=o.next()){var u=s.value;i=i||Vn(u,t)}}catch(c){n={error:c}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return i}function tr(e,t){if(t._queryParams.loadsAllData())return ir(e);var n=t._queryIdentifier;return e.views.get(n)}function nr(e,t){return null!=tr(e,t)}function rr(e){return null!=ir(e)}function ir(e){var t,n;try{for(var r=Object(a.__values)(e.views.values()),i=r.next();!i.done;i=r.next()){var o=i.value;if(o.query._queryParams.loadsAllData())return o}}catch(s){t={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return null}var or=1,ar=function(){return function(e){this.listenProvider_=e,this.syncPointTree_=new on(null),this.pendingWriteTree_={visibleWrites:an.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}();function sr(e,t,n,r,i){return function(e,t,n,r,i){Object(o.assert)(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=sn(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?gr(e,new Kt({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function ur(e,t,n,r){!function(e,t,n,r){Object(o.assert)(r>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:r,visible:!0}),e.visibleWrites=un(e.visibleWrites,t,n),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r);var i=on.fromObject(n);return gr(e,new Yt({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,i))}function cr(e,t,n){void 0===n&&(n=!1);var r=function(e,t){for(var n=0;n<e.allWrites.length;n++){var r=e.allWrites[n];if(r.writeId===t)return r}return null}(e.pendingWriteTree_,t);if(vn(e.pendingWriteTree_,t)){var i=new on(null);return null!=r.snap?i=i.set(me(),!0):j(r.children,function(e){i=i.set(new ve(e),!0)}),gr(e,new zt(r.path,i,n))}return[]}function lr(e,t,n){return gr(e,new Kt({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function hr(e,t,n,r){var i=t._path,o=e.syncPointTree_.get(i),a=[];if(o&&("default"===t._queryIdentifier||nr(o,t))){var s=Jn(o,t,n,r);0===o.views.size&&(e.syncPointTree_=e.syncPointTree_.remove(i));var u=s.removed;a=s.events;var c=-1!==u.findIndex(function(e){return e._queryParams.loadsAllData()}),l=e.syncPointTree_.findOnPath(i,function(e,t){return rr(t)});if(c&&!l){var h=e.syncPointTree_.subtree(i);if(!h.isEmpty())for(var f=function(e){return e.fold(function(e,t,n){if(t&&rr(t)){var r=ir(t);return[r]}var i=[];return t&&(i=Zn(t)),j(n,function(e,t){i=i.concat(t)}),i})}(h),d=0;d<f.length;++d){var p=f[d],g=p.query,y=yr(e,p);e.listenProvider_.startListening(Er(g),vr(e,g),y.hashFn,y.onComplete)}}if(!l&&u.length>0&&!r)if(c){e.listenProvider_.stopListening(Er(t),null)}else u.forEach(function(t){var n=e.queryToTagMap.get(mr(t));e.listenProvider_.stopListening(Er(t),n)});!function(e,t){for(var n=0;n<t.length;++n){var r=t[n];if(!r._queryParams.loadsAllData()){var i=mr(r),o=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(o)}}}(e,u)}return a}function fr(e,t,n){var r=t._path,i=null,a=!1;e.syncPointTree_.foreachOnPath(r,function(e,t){var n=ke(e,r);i=i||er(t,n),a=a||rr(t)});var s,u=e.syncPointTree_.get(r);(u?(a=a||rr(u),i=i||er(u,me())):(u=new Yn,e.syncPointTree_=e.syncPointTree_.set(r,u)),null!=i)?s=!0:(s=!1,i=lt.EMPTY_NODE,e.syncPointTree_.subtree(r).foreachChild(function(e,t){var n=er(t,me());n&&(i=i.updateImmediateChild(e,n))}));var c=nr(u,t);if(!c&&!t._queryParams.loadsAllData()){var l=mr(t);Object(o.assert)(!e.queryToTagMap.has(l),"View does not exist, but we have a tag");var h=or++;e.queryToTagMap.set(l,h),e.tagToQueryMap.set(h,l)}var f=Xn(u,t,n,yn(e.pendingWriteTree_,r),i,s);if(!c&&!a){var d=tr(u,t);f=f.concat(function(e,t,n){var r=t._path,i=vr(e,t),a=yr(e,n),s=e.listenProvider_.startListening(Er(t),i,a.hashFn,a.onComplete),u=e.syncPointTree_.subtree(r);if(i)Object(o.assert)(!rr(u.value),"If we're adding a query, it shouldn't be shadowed");else for(var c=u.fold(function(e,t,n){if(!Te(e)&&t&&rr(t))return[ir(t).query];var r=[];return t&&(r=r.concat(Zn(t).map(function(e){return e.query}))),j(n,function(e,t){r=r.concat(t)}),r}),l=0;l<c.length;++l){var h=c[l];e.listenProvider_.stopListening(Er(h),vr(e,h))}return s}(e,t,d))}return f}function dr(e,t,n){var r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,function(e,n){var r=er(n,ke(e,t));if(r)return r});return wn(r,t,i,n,!0)}function pr(e,t){var n=t._path,r=null;e.syncPointTree_.foreachOnPath(n,function(e,t){var i=ke(e,n);r=r||er(t,i)});var i=e.syncPointTree_.get(n);i?r=r||er(i,me()):(i=new Yn,e.syncPointTree_=e.syncPointTree_.set(n,i));var o=null!=r,a=o?new Qt(r,!0,!1):null;return function(e){return tn(e.viewCache_)}($n(i,t,yn(e.pendingWriteTree_,t._path),o?a.getNode():lt.EMPTY_NODE,o))}function gr(e,t){return function e(t,n,r,i){if(Te(t.path))return function e(t,n,r,i){var o=n.get(me());null==r&&null!=o&&(r=er(o,me()));var a=[];n.children.inorderTraversal(function(n,o){var s=r?r.getImmediateChild(n):null,u=In(i,n),c=t.operationForChild(n);c&&(a=a.concat(e(c,o,s,u)))});o&&(a=a.concat(Qn(o,t,i,r)));return a}(t,n,r,i);var o=n.get(me());null==r&&null!=o&&(r=er(o,me()));var a=[],s=be(t.path),u=t.operationForChild(s),c=n.children.get(s);if(c&&u){var l=r?r.getImmediateChild(s):null,h=In(i,s);a=a.concat(e(u,c,l,h))}return o&&(a=a.concat(Qn(o,t,i,r))),a}(t,e.syncPointTree_,null,yn(e.pendingWriteTree_,me()))}function yr(e,t){var n=t.query,r=vr(e,n);return{hashFn:function(){return(function(e){return e.viewCache_.serverCache.getNode()}(t)||lt.EMPTY_NODE).hash()},onComplete:function(t){if("ok"===t)return r?function(e,t,n){var r=br(e,n);if(r){var i=_r(r),o=i.path,a=i.queryId,s=ke(o,t);return wr(e,o,new Wt(qt(a),s))}return[]}(e,n._path,r):function(e,t){return gr(e,new Wt({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(e,n._path);var i=function(e,t){var n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");var r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}(t,n);return hr(e,n,null,i)}}}function vr(e,t){var n=mr(t);return e.queryToTagMap.get(n)}function mr(e){return e._path.toString()+"$"+e._queryIdentifier}function br(e,t){return e.tagToQueryMap.get(t)}function _r(e){var t=e.indexOf("$");return Object(o.assert)(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new ve(e.substr(0,t))}}function wr(e,t,n){var r=e.syncPointTree_.get(t);return Object(o.assert)(r,"Missing sync point for query tag that we're tracking"),Qn(r,n,yn(e.pendingWriteTree_,t),null)}function Er(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(Object(o.assert)(Kn,"Reference.ts has not been loaded"),Kn)(e._repo,e._path):e}var Sr=function(){function e(e){this.node_=e}return e.prototype.getImmediateChild=function(t){return new e(this.node_.getImmediateChild(t))},e.prototype.node=function(){return this.node_},e}(),Cr=function(){function e(e,t){this.syncTree_=e,this.path_=t}return e.prototype.getImmediateChild=function(t){var n=Oe(this.path_,t);return new e(this.syncTree_,n)},e.prototype.node=function(){return dr(this.syncTree_,this.path_)},e}(),Or=function(e){return(e=e||{}).timestamp=e.timestamp||(new Date).getTime(),e},Tr=function(e,t,n){return e&&"object"===typeof e?(Object(o.assert)(".sv"in e,"Unexpected leaf node or priority contents"),"string"===typeof e[".sv"]?kr(e[".sv"],t,n):"object"===typeof e[".sv"]?Ir(e[".sv"],t):void Object(o.assert)(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},kr=function(e,t,n){switch(e){case"timestamp":return n.timestamp;default:Object(o.assert)(!1,"Unexpected server value: "+e)}},Ir=function(e,t,n){e.hasOwnProperty("increment")||Object(o.assert)(!1,"Unexpected server value: "+JSON.stringify(e,null,2));var r=e.increment;"number"!==typeof r&&Object(o.assert)(!1,"Unexpected increment value: "+r);var i=t.node();if(Object(o.assert)(null!==i&&"undefined"!==typeof i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var a=i.getValue();return"number"!==typeof a?r:a+r},Ar=function(e,t,n,r){return Rr(t,new Cr(n,e),r)},Nr=function(e,t,n){return Rr(e,new Sr(t),n)};function Rr(e,t,n){var r,i=e.getPriority().val(),o=Tr(i,t.getImmediateChild(".priority"),n);if(e.isLeafNode()){var a=e,s=Tr(a.getValue(),t,n);return s!==a.getValue()||o!==a.getPriority().val()?new tt(s,dt(o)):e}var u=e;return r=u,o!==u.getPriority().val()&&(r=r.updatePriority(new tt(o))),u.forEachChild(it,function(e,i){var o=Rr(i,t.getImmediateChild(e),n);o!==i&&(r=r.updateImmediateChild(e,o))}),r}var Pr=function(){return function(e,t,n){void 0===e&&(e=""),void 0===t&&(t=null),void 0===n&&(n={children:{},childCount:0}),this.name=e,this.parent=t,this.node=n}}();function xr(e,t){for(var n=t instanceof ve?t:new ve(t),r=e,i=be(n);null!==i;){var a=Object(o.safeGet)(r.node.children,i)||{children:{},childCount:0};r=new Pr(i,r,a),i=be(n=we(n))}return r}function Mr(e){return e.node.value}function Lr(e,t){e.node.value=t,Fr(e)}function Dr(e){return e.node.childCount>0}function jr(e,t){j(e.node.children,function(n,r){t(new Pr(n,e,r))})}function Ur(e){return new ve(null===e.parent?e.name:Ur(e.parent)+"/"+e.name)}function Fr(e){null!==e.parent&&function(e,t,n){var r=function(e){return void 0===Mr(e)&&!Dr(e)}(n),i=Object(o.contains)(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,Fr(e)):r||i||(e.node.children[t]=n.node,e.node.childCount++,Fr(e))}(e.parent,e.name,e)}var Hr=/[\[\].#$\/\u0000-\u001F\u007F]/,Br=/[\[\].#$\u0000-\u001F\u007F]/,Vr=function(e){return"string"===typeof e&&0!==e.length&&!Hr.test(e)},qr=function(e){return"string"===typeof e&&0!==e.length&&!Br.test(e)},Gr=function(e){return null===e||"string"===typeof e||"number"===typeof e&&!A(e)||e&&"object"===typeof e&&Object(o.contains)(e,".sv")},zr=function(e,t,n,r){r&&void 0===t||Wr(Object(o.errorPrefix)(e,"value"),t,n)},Wr=function e(t,n,r){var i=r instanceof ve?new Re(r,t):r;if(void 0===n)throw new Error(t+"contains undefined "+xe(i));if("function"===typeof n)throw new Error(t+"contains a function "+xe(i)+" with contents = "+n.toString());if(A(n))throw new Error(t+"contains "+n.toString()+" "+xe(i));if("string"===typeof n&&n.length>10485760/3&&Object(o.stringLength)(n)>10485760)throw new Error(t+"contains a string greater than 10485760 utf8 bytes "+xe(i)+" ('"+n.substring(0,50)+"...')");if(n&&"object"===typeof n){var a=!1,s=!1;if(j(n,function(n,r){if(".value"===n)a=!0;else if(".priority"!==n&&".sv"!==n&&(s=!0,!Vr(n)))throw new Error(t+" contains an invalid key ("+n+") "+xe(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');var u,c;c=n,(u=i).parts_.length>0&&(u.byteLength_+=1),u.parts_.push(c),u.byteLength_+=Object(o.stringLength)(c),Pe(u),e(t,r,i),function(e){var t=e.parts_.pop();e.byteLength_-=Object(o.stringLength)(t),e.parts_.length>0&&(e.byteLength_-=1)}(i)}),a&&s)throw new Error(t+' contains ".value" child '+xe(i)+" in addition to actual children.")}},Kr=function(e,t,n,r){if(!r||void 0!==t){var i=Object(o.errorPrefix)(e,"values");if(!t||"object"!==typeof t||Array.isArray(t))throw new Error(i+" must be an object containing the children to replace.");var a=[];j(t,function(e,t){var r=new ve(e);if(Wr(i,t,Oe(n,r)),".priority"===Ee(r)&&!Gr(t))throw new Error(i+"contains an invalid value for '"+r.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");a.push(r)}),function(e,t){var n,r;for(n=0;n<t.length;n++)for(var i=Se(r=t[n]),o=0;o<i.length;o++)if(".priority"===i[o]&&o===i.length-1);else if(!Vr(i[o]))throw new Error(e+"contains an invalid key ("+i[o]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');t.sort(Ie);var a=null;for(n=0;n<t.length;n++){if(r=t[n],null!==a&&Ne(a,r))throw new Error(e+"contains a path "+a.toString()+" that is ancestor of another path "+r.toString());a=r}}(i,a)}},Yr=function(e,t,n){if(!n||void 0!==t){if(A(t))throw new Error(Object(o.errorPrefix)(e,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Gr(t))throw new Error(Object(o.errorPrefix)(e,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Qr=function(e,t,n,r){if((!r||void 0!==n)&&!Vr(n))throw new Error(Object(o.errorPrefix)(e,t)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},$r=function(e,t,n,r){if((!r||void 0!==n)&&!qr(n))throw new Error(Object(o.errorPrefix)(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Xr=function(e,t,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),$r(e,t,n,r)},Jr=function(e,t){if(".info"===be(t))throw new Error(e+" failed = Can't modify data under /.info/")},Zr=function(e,t){var n=t.path.toString();if("string"!==typeof t.repoInfo.host||0===t.repoInfo.host.length||!Vr(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),qr(e)}(n))throw new Error(Object(o.errorPrefix)(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},ei=function(){return function(){this.eventLists_=[],this.recursionDepth_=0}}();function ti(e,t){for(var n=null,r=0;r<t.length;r++){var i=t[r],o=i.getPath();null===n||Ae(o,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:o}),n.events.push(i)}n&&e.eventLists_.push(n)}function ni(e,t,n){ti(e,n),ii(e,function(e){return Ae(e,t)})}function ri(e,t,n){ti(e,n),ii(e,function(e){return Ne(e,t)||Ne(t,e)})}function ii(e,t){e.recursionDepth_++;for(var n=!0,r=0;r<e.eventLists_.length;r++){var i=e.eventLists_[r];if(i)t(i.path)?(oi(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}n&&(e.eventLists_=[]),e.recursionDepth_--}function oi(e){for(var t=0;t<e.events.length;t++){var n=e.events[t];if(null!==n){e.events[t]=null;var r=n.getEventRunner();w&&C("event: "+n.toString()),B(r)}}}var ai="repo_interrupt",si=25,ui=function(){function e(e,t,n,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=n,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new ei,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Lt(),this.transactionQueueTree_=new Pr,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return e.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},e}();function ci(e,t,n){if(e.stats_=ne(e.repoInfo_),e.forceRestClient_||V())e.server_=new xt(e.repoInfo_,function(t,n,r,i){fi(e,t,n,r,i)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(function(){return di(e,!0)},0);else{if("undefined"!==typeof n&&null!==n){if("object"!==typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Object(o.stringify)(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new Fe(e.repoInfo_,t,function(t,n,r,i){fi(e,t,n,r,i)},function(t){di(e,t)},function(t){!function(e,t){j(t,function(t,n){pi(e,t,n)})}(e,t)},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(function(t){e.server_.refreshAuthToken(t)}),e.appCheckProvider_.addTokenChangeListener(function(t){e.server_.refreshAppCheckToken(t.token)}),e.statsReporter_=function(e,t){var n=e.toString();return te[n]||(te[n]=t()),te[n]}(e.repoInfo_,function(){return new Vt(e.stats_,e.server_)}),e.infoData_=new Mt,e.infoSyncTree_=new ar({startListening:function(t,n,r,i){var o=[],a=e.infoData_.getNode(t._path);return a.isEmpty()||(o=lr(e.infoSyncTree_,t._path,a),setTimeout(function(){i("ok")},0)),o},stopListening:function(){}}),pi(e,"connected",!1),e.serverSyncTree_=new ar({startListening:function(t,n,r,i){return e.server_.listen(t,r,n,function(n,r){var o=i(n,r);ri(e.eventQueue_,t._path,o)}),[]},stopListening:function(t,n){e.server_.unlisten(t,n)}})}function li(e){var t=e.infoData_.getNode(new ve(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function hi(e){return Or({timestamp:li(e)})}function fi(e,t,n,r,i){e.dataUpdateCount++;var a=new ve(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;var s=[];if(i)if(r){var u=Object(o.map)(n,function(e){return dt(e)});s=function(e,t,n,r){var i=br(e,r);if(i){var o=_r(i),a=o.path,s=o.queryId,u=ke(a,t),c=on.fromObject(n);return wr(e,a,new Yt(qt(s),u,c))}return[]}(e.serverSyncTree_,a,u,i)}else{var c=dt(n);s=function(e,t,n,r){var i=br(e,r);if(null!=i){var o=_r(i),a=o.path,s=o.queryId,u=ke(a,t);return wr(e,a,new Kt(qt(s),u,n))}return[]}(e.serverSyncTree_,a,c,i)}else if(r){var l=Object(o.map)(n,function(e){return dt(e)});s=function(e,t,n){var r=on.fromObject(n);return gr(e,new Yt({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,a,l)}else{var h=dt(n);s=lr(e.serverSyncTree_,a,h)}var f=a;s.length>0&&(f=Oi(e,a)),ri(e.eventQueue_,f,s)}function di(e,t){pi(e,"connected",t),!1===t&&function(e){wi(e,"onDisconnectEvents");var t=hi(e),n=Lt();jt(e.onDisconnect_,me(),function(r,i){var o=Ar(r,i,e.serverSyncTree_,t);Dt(n,r,o)});var r=[];jt(n,me(),function(t,n){r=r.concat(lr(e.serverSyncTree_,t,n));var i=Ai(e,t);Oi(e,i)}),e.onDisconnect_=Lt(),ri(e.eventQueue_,me(),r)}(e)}function pi(e,t,n){var r=new ve("/.info/"+t),i=dt(n);e.infoData_.updateSnapshot(r,i);var o=lr(e.infoSyncTree_,r,i);ri(e.eventQueue_,r,o)}function gi(e){return e.nextWriteId_++}function yi(e,t,n,r,i){wi(e,"set",{path:t.toString(),value:n,priority:r});var o=hi(e),a=dt(n,r),s=dr(e.serverSyncTree_,t),u=Nr(a,s,o),c=gi(e),l=sr(e.serverSyncTree_,t,u,c,!0);ti(e.eventQueue_,l),e.server_.put(t.toString(),a.val(!0),function(n,r){var o="ok"===n;o||I("set at "+t+" failed: "+n);var a=cr(e.serverSyncTree_,c,!o);ri(e.eventQueue_,t,a),Ei(e,i,n,r)});var h=Ai(e,t);Oi(e,h),ri(e.eventQueue_,h,[])}function vi(e,t,n){e.server_.onDisconnectCancel(t.toString(),function(r,i){"ok"===r&&function e(t,n){if(Te(n))return t.value=null,t.children.clear(),!0;if(null!==t.value){if(t.value.isLeafNode())return!1;var r=t.value;return t.value=null,r.forEachChild(it,function(e,n){Dt(t,new ve(e),n)}),e(t,n)}if(t.children.size>0){var i=be(n);return n=we(n),t.children.has(i)&&e(t.children.get(i),n)&&t.children.delete(i),0===t.children.size}return!0}(e.onDisconnect_,t),Ei(e,n,r,i)})}function mi(e,t,n,r){var i=dt(n);e.server_.onDisconnectPut(t.toString(),i.val(!0),function(n,o){"ok"===n&&Dt(e.onDisconnect_,t,i),Ei(e,r,n,o)})}function bi(e,t,n){var r;r=".info"===be(t._path)?hr(e.infoSyncTree_,t,n):hr(e.serverSyncTree_,t,n),ni(e.eventQueue_,t._path,r)}function _i(e){e.persistentConnection_&&e.persistentConnection_.interrupt(ai)}function wi(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r="";e.persistentConnection_&&(r=e.persistentConnection_.id+":"),C.apply(void 0,Object(a.__spreadArray)([r],Object(a.__read)(t)))}function Ei(e,t,n,r){t&&B(function(){if("ok"===n)t(null);else{var e=(n||"error").toUpperCase(),i=e;r&&(i+=": "+r);var o=new Error(i);o.code=e,t(o)}})}function Si(e,t,n){return dr(e.serverSyncTree_,t,n)||lt.EMPTY_NODE}function Ci(e,t){if(void 0===t&&(t=e.transactionQueueTree_),t||Ii(e,t),Mr(t)){var n=ki(e,t);Object(o.assert)(n.length>0,"Sending zero length transaction queue"),n.every(function(e){return 0===e.status})&&function(e,t,n){for(var r=n.map(function(e){return e.currentWriteId}),i=Si(e,t,r),a=i,s=i.hash(),u=0;u<n.length;u++){var c=n[u];Object(o.assert)(0===c.status,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=1,c.retryCount++;var l=ke(t,c.path);a=a.updateChild(l,c.currentOutputSnapshotRaw)}var h=a.val(!0),f=t;e.server_.put(f.toString(),h,function(r){wi(e,"transaction put response",{path:f.toString(),status:r});var i=[];if("ok"===r){for(var o=[],a=function(t){n[t].status=2,i=i.concat(cr(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&o.push(function(){return n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved)}),n[t].unwatcher()},s=0;s<n.length;s++)a(s);Ii(e,xr(e.transactionQueueTree_,t)),Ci(e,e.transactionQueueTree_),ri(e.eventQueue_,t,i);for(var s=0;s<o.length;s++)B(o[s])}else{if("datastale"===r)for(var s=0;s<n.length;s++)3===n[s].status?n[s].status=4:n[s].status=0;else{I("transaction at "+f.toString()+" failed: "+r);for(var s=0;s<n.length;s++)n[s].status=4,n[s].abortReason=r}Oi(e,t)}},s)}(e,Ur(t),n)}else Dr(t)&&jr(t,function(t){Ci(e,t)})}function Oi(e,t){var n=Ti(e,t),r=Ur(n);return function(e,t,n){if(0===t.length)return;for(var r=[],i=[],a=t.filter(function(e){return 0===e.status}).map(function(e){return e.currentWriteId}),s=function(s){var u,c,l=t[s],h=ke(n,l.path),f=!1;if(Object(o.assert)(null!==h,"rerunTransactionsUnderNode_: relativePath should not be null."),4===l.status)f=!0,u=l.abortReason,i=i.concat(cr(e.serverSyncTree_,l.currentWriteId,!0));else if(0===l.status)if(l.retryCount>=si)f=!0,u="maxretry",i=i.concat(cr(e.serverSyncTree_,l.currentWriteId,!0));else{var d=Si(e,l.path,a);l.currentInputSnapshot=d;var p=t[s].update(d.val());if(void 0!==p){Wr("transaction failed: Data returned ",p,l.path);var g=dt(p),y="object"===typeof p&&null!=p&&Object(o.contains)(p,".priority");y||(g=g.updatePriority(d.getPriority()));var v=l.currentWriteId,m=hi(e),b=Nr(g,d,m);l.currentOutputSnapshotRaw=g,l.currentOutputSnapshotResolved=b,l.currentWriteId=gi(e),a.splice(a.indexOf(v),1),i=(i=i.concat(sr(e.serverSyncTree_,l.path,b,l.currentWriteId,l.applyLocally))).concat(cr(e.serverSyncTree_,v,!0))}else f=!0,u="nodata",i=i.concat(cr(e.serverSyncTree_,l.currentWriteId,!0))}ri(e.eventQueue_,n,i),i=[],f&&(t[s].status=2,c=t[s].unwatcher,setTimeout(c,Math.floor(0)),t[s].onComplete&&("nodata"===u?r.push(function(){return t[s].onComplete(null,!1,t[s].currentInputSnapshot)}):r.push(function(){return t[s].onComplete(new Error(u),!1,null)})))},u=0;u<t.length;u++)s(u);Ii(e,e.transactionQueueTree_);for(var u=0;u<r.length;u++)B(r[u]);Ci(e,e.transactionQueueTree_)}(e,ki(e,n),r),r}function Ti(e,t){var n,r=e.transactionQueueTree_;for(n=be(t);null!==n&&void 0===Mr(r);)r=xr(r,n),n=be(t=we(t));return r}function ki(e,t){var n=[];return function e(t,n,r){var i=Mr(n);if(i)for(var o=0;o<i.length;o++)r.push(i[o]);jr(n,function(n){e(t,n,r)})}(e,t,n),n.sort(function(e,t){return e.order-t.order}),n}function Ii(e,t){var n=Mr(t);if(n){for(var r=0,i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,Lr(t,n.length>0?n:void 0)}jr(t,function(t){Ii(e,t)})}function Ai(e,t){var n=Ur(Ti(e,t)),r=xr(e.transactionQueueTree_,t);return function(e,t,n){for(var r=n?e:e.parent;null!==r;){if(t(r))return!0;r=r.parent}}(r,function(t){Ni(e,t)}),Ni(e,r),function e(t,n,r,i){r&&!i&&n(t),jr(t,function(t){e(t,n,!0,i)}),r&&i&&n(t)}(r,function(t){Ni(e,t)}),n}function Ni(e,t){var n=Mr(t);if(n){for(var r=[],i=[],a=-1,s=0;s<n.length;s++)3===n[s].status||(1===n[s].status?(Object(o.assert)(a===s-1,"All SENT items should be at beginning of queue."),a=s,n[s].status=3,n[s].abortReason="set"):(Object(o.assert)(0===n[s].status,"Unexpected transaction status in abort"),n[s].unwatcher(),i=i.concat(cr(e.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&r.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));-1===a?Lr(t,void 0):n.length=a+1,ri(e.eventQueue_,Ur(t),i);for(s=0;s<r.length;s++)B(r[s])}}var Ri=function(e,t){var n=Pi(e),r=n.namespace;"firebase.com"===n.domain&&k(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||k("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&I("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");var i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new X(n.host,n.secure,r,t,i,"",r!==n.subdomain),path:new ve(n.pathString)}},Pi=function(e){var t="",n="",r="",i="",o="",s=!0,u="https",c=443;if("string"===typeof e){var l=e.indexOf("//");l>=0&&(u=e.substring(0,l-1),e=e.substring(l+2));var h=e.indexOf("/");-1===h&&(h=e.length);var f=e.indexOf("?");-1===f&&(f=e.length),t=e.substring(0,Math.min(h,f)),h<f&&(i=function(e){for(var t="",n=e.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(o){}t+="/"+i}return t}(e.substring(h,f)));var d=function(e){var t,n,r={};"?"===e.charAt(0)&&(e=e.substring(1));try{for(var i=Object(a.__values)(e.split("&")),o=i.next();!o.done;o=i.next()){var s=o.value;if(0!==s.length){var u=s.split("=");2===u.length?r[decodeURIComponent(u[0])]=decodeURIComponent(u[1]):I("Invalid query segment '"+s+"' in query '"+e+"'")}}}catch(c){t={error:c}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}(e.substring(Math.min(e.length,f)));(l=t.indexOf(":"))>=0?(s="https"===u||"wss"===u,c=parseInt(t.substring(l+1),10)):l=t.length;var p=t.slice(0,l);if("localhost"===p.toLowerCase())n="localhost";else if(p.split(".").length<=2)n=p;else{var g=t.indexOf(".");r=t.substring(0,g).toLowerCase(),n=t.substring(g+1),o=r}"ns"in d&&(o=d.ns)}return{host:t,port:c,domain:n,subdomain:r,secure:s,scheme:u,pathString:i,namespace:o}},xi=function(){function e(e,t,n,r){this.eventType=e,this.eventRegistration=t,this.snapshot=n,this.prevName=r}return e.prototype.getPath=function(){var e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path},e.prototype.getEventType=function(){return this.eventType},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+Object(o.stringify)(this.snapshot.exportVal())},e}(),Mi=function(){function e(e,t,n){this.eventRegistration=e,this.error=t,this.path=n}return e.prototype.getPath=function(){return this.path},e.prototype.getEventType=function(){return"cancel"},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.path.toString()+":cancel"},e}(),Li=function(){function e(e,t){this.snapshotCallback=e,this.cancelCallback=t}return e.prototype.onValue=function(e,t){this.snapshotCallback.call(null,e,t)},e.prototype.onCancel=function(e){return Object(o.assert)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)},Object.defineProperty(e.prototype,"hasCancelCallback",{get:function(){return!!this.cancelCallback},enumerable:!1,configurable:!0}),e.prototype.matches=function(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context},e}(),Di=function(){function e(e,t){this._repo=e,this._path=t}return e.prototype.cancel=function(){var e=new o.Deferred;return vi(this._repo,this._path,e.wrapCallback(function(){})),e.promise},e.prototype.remove=function(){Jr("OnDisconnect.remove",this._path);var e=new o.Deferred;return mi(this._repo,this._path,null,e.wrapCallback(function(){})),e.promise},e.prototype.set=function(e){Jr("OnDisconnect.set",this._path),zr("OnDisconnect.set",e,this._path,!1);var t=new o.Deferred;return mi(this._repo,this._path,e,t.wrapCallback(function(){})),t.promise},e.prototype.setWithPriority=function(e,t){Jr("OnDisconnect.setWithPriority",this._path),zr("OnDisconnect.setWithPriority",e,this._path,!1),Yr("OnDisconnect.setWithPriority",t,!1);var n=new o.Deferred;return function(e,t,n,r,i){var o=dt(n,r);e.server_.onDisconnectPut(t.toString(),o.val(!0),function(n,r){"ok"===n&&Dt(e.onDisconnect_,t,o),Ei(0,i,n,r)})}(this._repo,this._path,e,t,n.wrapCallback(function(){})),n.promise},e.prototype.update=function(e){Jr("OnDisconnect.update",this._path),Kr("OnDisconnect.update",e,this._path,!1);var t=new o.Deferred;return function(e,t,n,r){if(Object(o.isEmpty)(n))return C("onDisconnect().update() called with empty data.  Don't do anything."),void Ei(0,r,"ok",void 0);e.server_.onDisconnectMerge(t.toString(),n,function(i,o){"ok"===i&&j(n,function(n,r){var i=dt(r);Dt(e.onDisconnect_,Oe(t,n),i)}),Ei(0,r,i,o)})}(this._repo,this._path,e,t.wrapCallback(function(){})),t.promise},e}(),ji=function(){function e(e,t,n,r){this._repo=e,this._path=t,this._queryParams=n,this._orderByCalled=r}return Object.defineProperty(e.prototype,"key",{get:function(){return Te(this._path)?null:Ee(this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new Bi(this._repo,this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_queryIdentifier",{get:function(){var e=Pt(this._queryParams),t=L(e);return"{}"===t?"default":t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_queryObject",{get:function(){return Pt(this._queryParams)},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){if(!((t=Object(o.getModularInstance)(t))instanceof e))return!1;var n=this._repo===t._repo,r=Ae(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i},e.prototype.toJSON=function(){return this.toString()},e.prototype.toString=function(){return this._repo.toString()+function(e){for(var t="",n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)},e}();function Ui(e,t){if(!0===e._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function Fi(e){var t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===qe){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){if(e.getIndexStartName()!==N)throw new Error(r);if("string"!==typeof t)throw new Error(i)}if(e.hasEnd()){if(e.getIndexEndName()!==R)throw new Error(r);if("string"!==typeof n)throw new Error(i)}}else if(e.getIndex()===it){if(null!=t&&!Gr(t)||null!=n&&!Gr(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(Object(o.assert)(e.getIndex()instanceof pt||e.getIndex()===gt,"unknown index type."),null!=t&&"object"===typeof t||null!=n&&"object"===typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Hi(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var Bi=function(e){function t(t,n){return e.call(this,t,n,new kt,!1)||this}return Object(a.__extends)(t,e),Object.defineProperty(t.prototype,"parent",{get:function(){var e=Ce(this._path);return null===e?null:new t(this._repo,e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){for(var e=this;null!==e.parent;)e=e.parent;return e},enumerable:!1,configurable:!0}),t}(ji),Vi=function(){function e(e,t,n){this._node=e,this.ref=t,this._index=n}return Object.defineProperty(e.prototype,"priority",{get:function(){return this._node.getPriority().val()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"key",{get:function(){return this.ref.key},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._node.numChildren()},enumerable:!1,configurable:!0}),e.prototype.child=function(t){var n=new ve(t),r=zi(this.ref,t);return new e(this._node.getChild(n),r,it)},e.prototype.exists=function(){return!this._node.isEmpty()},e.prototype.exportVal=function(){return this._node.val(!0)},e.prototype.forEach=function(t){var n=this;return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,function(r,i){return t(new e(i,zi(n.ref,r),it))})},e.prototype.hasChild=function(e){var t=new ve(e);return!this._node.getChild(t).isEmpty()},e.prototype.hasChildren=function(){return!this._node.isLeafNode()&&!this._node.isEmpty()},e.prototype.toJSON=function(){return this.exportVal()},e.prototype.val=function(){return this._node.val()},e}();function qi(e,t){return(e=Object(o.getModularInstance)(e))._checkNotDeleted("ref"),void 0!==t?zi(e._root,t):e._root}function Gi(e,t){(e=Object(o.getModularInstance)(e))._checkNotDeleted("refFromURL");var n=Ri(t,e._repo.repoInfo_.nodeAdmin);Zr("refFromURL",n);var r=n.repoInfo;return e._repo.repoInfo_.isCustomHost()||r.host===e._repo.repoInfo_.host||k("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+e._repo.repoInfo_.host+")"),qi(e,n.path.toString())}function zi(e,t){return null===be((e=Object(o.getModularInstance)(e))._path)?Xr("child","path",t,!1):$r("child","path",t,!1),new Bi(e._repo,Oe(e._path,t))}function Wi(e,t){e=Object(o.getModularInstance)(e),Jr("set",e._path),zr("set",t,e._path,!1);var n=new o.Deferred;return yi(e._repo,e._path,t,null,n.wrapCallback(function(){})),n.promise}function Ki(e,t){Kr("update",t,e._path,!1);var n=new o.Deferred;return function(e,t,n,r){wi(e,"update",{path:t.toString(),value:n});var i=!0,o=hi(e),a={};if(j(n,function(n,r){i=!1,a[n]=Ar(Oe(t,n),dt(r),e.serverSyncTree_,o)}),i)C("update() called with empty data.  Don't do anything."),Ei(0,r,"ok",void 0);else{var s=gi(e),u=ur(e.serverSyncTree_,t,a,s);ti(e.eventQueue_,u),e.server_.merge(t.toString(),n,function(n,i){var o="ok"===n;o||I("update at "+t+" failed: "+n);var a=cr(e.serverSyncTree_,s,!o),u=a.length>0?Oi(e,t):t;ri(e.eventQueue_,u,a),Ei(0,r,n,i)}),j(n,function(n){var r=Ai(e,Oe(t,n));Oi(e,r)}),ri(e.eventQueue_,t,[])}}(e._repo,e._path,t,n.wrapCallback(function(){})),n.promise}function Yi(e){return function(e,t){var n=pr(e.serverSyncTree_,t);return null!=n?Promise.resolve(n):e.server_.get(t).then(function(n){var r=dt(n).withIndex(t._queryParams.getIndex()),i=lr(e.serverSyncTree_,t._path,r);return ni(e.eventQueue_,t._path,i),Promise.resolve(r)},function(n){return wi(e,"get for query "+Object(o.stringify)(t)+" failed: "+n),Promise.reject(new Error(n))})}((e=Object(o.getModularInstance)(e))._repo,e).then(function(t){return new Vi(t,new Bi(e._repo,e._path),e._queryParams.getIndex())})}var Qi=function(){function e(e){this.callbackContext=e}return e.prototype.respondsTo=function(e){return"value"===e},e.prototype.createEvent=function(e,t){var n=t._queryParams.getIndex();return new xi("value",this,new Vi(e.snapshotNode,new Bi(t._repo,t._path),n))},e.prototype.getEventRunner=function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,null)}},e.prototype.createCancelEvent=function(e,t){return this.callbackContext.hasCancelCallback?new Mi(this,e,t):null},e.prototype.matches=function(t){return t instanceof e&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))},e.prototype.hasAnyCallback=function(){return null!==this.callbackContext},e}(),$i=function(){function e(e,t){this.eventType=e,this.callbackContext=t}return e.prototype.respondsTo=function(e){var t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t},e.prototype.createCancelEvent=function(e,t){return this.callbackContext.hasCancelCallback?new Mi(this,e,t):null},e.prototype.createEvent=function(e,t){Object(o.assert)(null!=e.childName,"Child events should have a childName.");var n=zi(new Bi(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new xi(e.type,this,new Vi(e.snapshotNode,n,r),e.prevName)},e.prototype.getEventRunner=function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,e.prevName)}},e.prototype.matches=function(t){return t instanceof e&&(this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext)))},e.prototype.hasAnyCallback=function(){return!!this.callbackContext},e}();function Xi(e,t,n,r,i){var o;if("object"===typeof r&&(o=void 0,i=r),"function"===typeof r&&(o=r),i&&i.onlyOnce){var a=n,s=function(t,n){bi(e._repo,e,c),a(t,n)};s.userCallback=n.userCallback,s.context=n.context,n=s}var u=new Li(n,o||void 0),c="value"===t?new Qi(u):new $i(t,u);return function(e,t,n){var r;r=".info"===be(t._path)?fr(e.infoSyncTree_,t,n):fr(e.serverSyncTree_,t,n),ni(e.eventQueue_,t._path,r)}(e._repo,e,c),function(){return bi(e._repo,e,c)}}function Ji(e,t,n,r){return Xi(e,"value",t,n,r)}function Zi(e,t,n,r){return Xi(e,"child_added",t,n,r)}function eo(e,t,n,r){return Xi(e,"child_changed",t,n,r)}function to(e,t,n,r){return Xi(e,"child_moved",t,n,r)}function no(e,t,n,r){return Xi(e,"child_removed",t,n,r)}function ro(e,t,n){var r=null,i=n?new Li(n):null;"value"===t?r=new Qi(i):t&&(r=new $i(t,i)),bi(e._repo,e,r)}var io=function(){return function(){}}(),oo=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return Object(a.__extends)(t,e),t.prototype._apply=function(e){zr("endAt",this._value,e._path,!0);var t=At(e._queryParams,this._value,this._key);if(Hi(t),Fi(t),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new ji(e._repo,e._path,t,e._orderByCalled)},t}(io);var ao=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return Object(a.__extends)(t,e),t.prototype._apply=function(e){zr("endBefore",this._value,e._path,!1);var t=function(e,t,n){var r;return e.index_===qe?("string"===typeof t&&(t=bt(t)),r=At(e,t,n)):r=At(e,t,null==n?N:bt(n)),r.endBeforeSet_=!0,r}(e._queryParams,this._value,this._key);if(Hi(t),Fi(t),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new ji(e._repo,e._path,t,e._orderByCalled)},t}(io);var so=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return Object(a.__extends)(t,e),t.prototype._apply=function(e){zr("startAt",this._value,e._path,!0);var t=It(e._queryParams,this._value,this._key);if(Hi(t),Fi(t),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new ji(e._repo,e._path,t,e._orderByCalled)},t}(io);var uo=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return Object(a.__extends)(t,e),t.prototype._apply=function(e){zr("startAfter",this._value,e._path,!1);var t=function(e,t,n){var r;e.index_===qe?("string"===typeof t&&(t=mt(t)),r=It(e,t,n)):r=It(e,t,null==n?R:mt(n));return r.startAfterSet_=!0,r}(e._queryParams,this._value,this._key);if(Hi(t),Fi(t),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new ji(e._repo,e._path,t,e._orderByCalled)},t}(io);var co=function(e){function t(t){var n=e.call(this)||this;return n._limit=t,n}return Object(a.__extends)(t,e),t.prototype._apply=function(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new ji(e._repo,e._path,function(e,t){var n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="l",n}(e._queryParams,this._limit),e._orderByCalled)},t}(io);var lo=function(e){function t(t){var n=e.call(this)||this;return n._limit=t,n}return Object(a.__extends)(t,e),t.prototype._apply=function(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new ji(e._repo,e._path,function(e,t){var n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="r",n}(e._queryParams,this._limit),e._orderByCalled)},t}(io);var ho=function(e){function t(t){var n=e.call(this)||this;return n._path=t,n}return Object(a.__extends)(t,e),t.prototype._apply=function(e){Ui(e,"orderByChild");var t=new ve(this._path);if(Te(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");var n=new pt(t),r=Nt(e._queryParams,n);return Fi(r),new ji(e._repo,e._path,r,!0)},t}(io);var fo=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(a.__extends)(t,e),t.prototype._apply=function(e){Ui(e,"orderByKey");var t=Nt(e._queryParams,qe);return Fi(t),new ji(e._repo,e._path,t,!0)},t}(io);var po=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(a.__extends)(t,e),t.prototype._apply=function(e){Ui(e,"orderByPriority");var t=Nt(e._queryParams,it);return Fi(t),new ji(e._repo,e._path,t,!0)},t}(io);var go=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(a.__extends)(t,e),t.prototype._apply=function(e){Ui(e,"orderByValue");var t=Nt(e._queryParams,gt);return Fi(t),new ji(e._repo,e._path,t,!0)},t}(io);var yo=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return Object(a.__extends)(t,e),t.prototype._apply=function(e){if(zr("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new oo(this._value,this._key)._apply(new so(this._value,this._key)._apply(e))},t}(io);function vo(e){for(var t,n,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];var s=Object(o.getModularInstance)(e);try{for(var u=Object(a.__values)(r),c=u.next();!c.done;c=u.next()){s=c.value._apply(s)}}catch(l){t={error:l}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(t)throw t.error}}return s}!function(e){Object(o.assert)(!Hn,"__referenceConstructor has already been defined"),Hn=e}(Bi),function(e){Object(o.assert)(!Kn,"__referenceConstructor has already been defined"),Kn=e}(Bi);var mo="FIREBASE_DATABASE_EMULATOR_HOST",bo={},_o=!1;function wo(t,n,r,i,o){var a=i||t.options.databaseURL;void 0===a&&(t.options.projectId||k("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),C("Using default host for project ",t.options.projectId),a=t.options.projectId+"-default-rtdb.firebaseio.com");var s,u=Ri(a,o),c=u.repoInfo,l=void 0;"undefined"!==typeof e&&(l=Object({NODE_ENV:"production",PUBLIC_URL:""})[mo]),l?(s=!0,a="http://"+l+"?ns="+c.namespace,c=(u=Ri(a,o)).repoInfo):s=!u.repoInfo.secure;var h=o&&s?new W(W.OWNER):new z(t.name,t.options,n);Zr("Invalid Firebase Database URL",u),Te(u.path)||k("Database URL must point to the root of a Firebase Database (not including a child path).");var f=function(e,t,n,r){var i=bo[t.name];i||(i={},bo[t.name]=i);var o=i[e.toURLString()];o&&k("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return o=new ui(e,_o,n,r),i[e.toURLString()]=o,o}(c,t,h,new G(t.name,r));return new Eo(f,t)}var Eo=function(){function e(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}return Object.defineProperty(e.prototype,"_repo",{get:function(){return this._instanceStarted||(ci(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_root",{get:function(){return this._rootInternal||(this._rootInternal=new Bi(this._repo,me())),this._rootInternal},enumerable:!1,configurable:!0}),e.prototype._delete=function(){return null!==this._rootInternal&&(!function(e,t){var n=bo[t];n&&n[e.key]===e||k("Database "+t+"("+e.repoInfo_+") has already been deleted."),_i(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()},e.prototype._checkNotDeleted=function(e){null===this._rootInternal&&k("Cannot call "+e+" on a deleted database.")},e}();function So(e,t,n,r){void 0===r&&(r={}),(e=Object(o.getModularInstance)(e))._checkNotDeleted("useEmulator"),e._instanceStarted&&k("Cannot call useEmulator() after instance has already been initialized.");var i=e._repoInternal,a=void 0;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&k('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),a=new W(W.OWNER);else if(r.mockUserToken){var s="string"===typeof r.mockUserToken?r.mockUserToken:Object(o.createMockUserToken)(r.mockUserToken,e.app.options.projectId);a=new W(s)}!function(e,t,n,r){e.repoInfo_=new X(t+":"+n,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams),r&&(e.authTokenProvider_=r)}(i,t,n,a)}function Co(e){var t;(e=Object(o.getModularInstance)(e))._checkNotDeleted("goOnline"),(t=e._repo).persistentConnection_&&t.persistentConnection_.resume(ai)}var Oo={".sv":"timestamp"};var To=function(){function e(e,t){this.committed=e,this.snapshot=t}return e.prototype.toJSON=function(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}},e}();function ko(e,t,n){var r;if(e=Object(o.getModularInstance)(e),Jr("Reference.transaction",e._path),".length"===e.key||".keys"===e.key)throw"Reference.transaction failed: "+e.key+" is a read-only object.";var i=null===(r=null===n||void 0===n?void 0:n.applyLocally)||void 0===r||r,a=new o.Deferred,s=Ji(e,function(){});return function(e,t,n,r,i,a){wi(e,"transaction on "+t);var s={path:t,update:n,onComplete:r,status:null,order:m(),applyLocally:a,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},u=Si(e,t,void 0);s.currentInputSnapshot=u;var c=s.update(u.val());if(void 0===c)s.unwatcher(),s.currentOutputSnapshotRaw=null,s.currentOutputSnapshotResolved=null,s.onComplete&&s.onComplete(null,!1,s.currentInputSnapshot);else{Wr("transaction failed: Data returned ",c,s.path),s.status=0;var l=xr(e.transactionQueueTree_,t),h=Mr(l)||[];h.push(s),Lr(l,h);var f=void 0;"object"===typeof c&&null!==c&&Object(o.contains)(c,".priority")?(f=Object(o.safeGet)(c,".priority"),Object(o.assert)(Gr(f),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):f=(dr(e.serverSyncTree_,t)||lt.EMPTY_NODE).getPriority().val();var d=hi(e),p=dt(c,f),g=Nr(p,u,d);s.currentOutputSnapshotRaw=p,s.currentOutputSnapshotResolved=g,s.currentWriteId=gi(e);var y=sr(e.serverSyncTree_,t,g,s.currentWriteId,s.applyLocally);ri(e.eventQueue_,t,y),Ci(e,e.transactionQueueTree_)}}(e._repo,e._path,t,function(t,n,r){var i=null;t?a.reject(t):(i=new Vi(r,new Bi(e._repo,e._path),it),a.resolve(new To(n,i)))},s,i),a.promise}var Io=function(){function e(e){this._delegate=e}return e.prototype.cancel=function(e){Object(o.validateArgCount)("OnDisconnect.cancel",0,1,arguments.length),Object(o.validateCallback)("OnDisconnect.cancel","onComplete",e,!0);var t=this._delegate.cancel();return e&&t.then(function(){return e(null)},function(t){return e(t)}),t},e.prototype.remove=function(e){Object(o.validateArgCount)("OnDisconnect.remove",0,1,arguments.length),Object(o.validateCallback)("OnDisconnect.remove","onComplete",e,!0);var t=this._delegate.remove();return e&&t.then(function(){return e(null)},function(t){return e(t)}),t},e.prototype.set=function(e,t){Object(o.validateArgCount)("OnDisconnect.set",1,2,arguments.length),Object(o.validateCallback)("OnDisconnect.set","onComplete",t,!0);var n=this._delegate.set(e);return t&&n.then(function(){return t(null)},function(e){return t(e)}),n},e.prototype.setWithPriority=function(e,t,n){Object(o.validateArgCount)("OnDisconnect.setWithPriority",2,3,arguments.length),Object(o.validateCallback)("OnDisconnect.setWithPriority","onComplete",n,!0);var r=this._delegate.setWithPriority(e,t);return n&&r.then(function(){return n(null)},function(e){return n(e)}),r},e.prototype.update=function(e,t){if(Object(o.validateArgCount)("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,I("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Object(o.validateCallback)("OnDisconnect.update","onComplete",t,!0);var i=this._delegate.update(e);return t&&i.then(function(){return t(null)},function(e){return t(e)}),i},e}(),Ao=function(){function e(e,t){this.committed=e,this.snapshot=t}return e.prototype.toJSON=function(){return Object(o.validateArgCount)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},e}(),No=function(){function e(e,t){this._database=e,this._delegate=t}return e.prototype.val=function(){return Object(o.validateArgCount)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()},e.prototype.exportVal=function(){return Object(o.validateArgCount)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()},e.prototype.toJSON=function(){return Object(o.validateArgCount)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()},e.prototype.exists=function(){return Object(o.validateArgCount)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()},e.prototype.child=function(t){return Object(o.validateArgCount)("DataSnapshot.child",0,1,arguments.length),t=String(t),$r("DataSnapshot.child","path",t,!1),new e(this._database,this._delegate.child(t))},e.prototype.hasChild=function(e){return Object(o.validateArgCount)("DataSnapshot.hasChild",1,1,arguments.length),$r("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)},e.prototype.getPriority=function(){return Object(o.validateArgCount)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority},e.prototype.forEach=function(t){var n=this;return Object(o.validateArgCount)("DataSnapshot.forEach",1,1,arguments.length),Object(o.validateCallback)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(function(r){return t(new e(n._database,r))})},e.prototype.hasChildren=function(){return Object(o.validateArgCount)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()},Object.defineProperty(e.prototype,"key",{get:function(){return this._delegate.key},enumerable:!1,configurable:!0}),e.prototype.numChildren=function(){return Object(o.validateArgCount)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size},e.prototype.getRef=function(){return Object(o.validateArgCount)("DataSnapshot.ref",0,0,arguments.length),new Po(this._database,this._delegate.ref)},Object.defineProperty(e.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),e}(),Ro=function(){function e(e,t){this.database=e,this._delegate=t}return e.prototype.on=function(t,n,r,i){var a,s=this;Object(o.validateArgCount)("Query.on",2,4,arguments.length),Object(o.validateCallback)("Query.on","callback",n,!1);var u=e.getCancelAndContextArgs_("Query.on",r,i),c=function(e,t){n.call(u.context,new No(s.database,e),t)};c.userCallback=n,c.context=u.context;var l=null===(a=u.cancel)||void 0===a?void 0:a.bind(u.context);switch(t){case"value":return Ji(this._delegate,c,l),n;case"child_added":return Zi(this._delegate,c,l),n;case"child_removed":return no(this._delegate,c,l),n;case"child_changed":return eo(this._delegate,c,l),n;case"child_moved":return to(this._delegate,c,l),n;default:throw new Error(Object(o.errorPrefix)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},e.prototype.off=function(e,t,n){if(Object(o.validateArgCount)("Query.off",0,3,arguments.length),function(e,t,n){if(!n||void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(Object(o.errorPrefix)(e,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}("Query.off",e,!0),Object(o.validateCallback)("Query.off","callback",t,!0),Object(o.validateContextObject)("Query.off","context",n,!0),t){var r=function(){};r.userCallback=t,r.context=n,ro(this._delegate,e,r)}else ro(this._delegate,e)},e.prototype.get=function(){var e=this;return Yi(this._delegate).then(function(t){return new No(e.database,t)})},e.prototype.once=function(t,n,r,i){var a=this;Object(o.validateArgCount)("Query.once",1,4,arguments.length),Object(o.validateCallback)("Query.once","callback",n,!0);var s=e.getCancelAndContextArgs_("Query.once",r,i),u=new o.Deferred,c=function(e,t){var r=new No(a.database,e);n&&n.call(s.context,r,t),u.resolve(r)};c.userCallback=n,c.context=s.context;var l=function(e){s.cancel&&s.cancel.call(s.context,e),u.reject(e)};switch(t){case"value":Ji(this._delegate,c,l,{onlyOnce:!0});break;case"child_added":Zi(this._delegate,c,l,{onlyOnce:!0});break;case"child_removed":no(this._delegate,c,l,{onlyOnce:!0});break;case"child_changed":eo(this._delegate,c,l,{onlyOnce:!0});break;case"child_moved":to(this._delegate,c,l,{onlyOnce:!0});break;default:throw new Error(Object(o.errorPrefix)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return u.promise},e.prototype.limitToFirst=function(t){return Object(o.validateArgCount)("Query.limitToFirst",1,1,arguments.length),new e(this.database,vo(this._delegate,function(e){if("number"!==typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new co(e)}(t)))},e.prototype.limitToLast=function(t){return Object(o.validateArgCount)("Query.limitToLast",1,1,arguments.length),new e(this.database,vo(this._delegate,function(e){if("number"!==typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new lo(e)}(t)))},e.prototype.orderByChild=function(t){return Object(o.validateArgCount)("Query.orderByChild",1,1,arguments.length),new e(this.database,vo(this._delegate,function(e){if("$key"===e)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===e)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===e)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return $r("orderByChild","path",e,!1),new ho(e)}(t)))},e.prototype.orderByKey=function(){return Object(o.validateArgCount)("Query.orderByKey",0,0,arguments.length),new e(this.database,vo(this._delegate,new fo))},e.prototype.orderByPriority=function(){return Object(o.validateArgCount)("Query.orderByPriority",0,0,arguments.length),new e(this.database,vo(this._delegate,new po))},e.prototype.orderByValue=function(){return Object(o.validateArgCount)("Query.orderByValue",0,0,arguments.length),new e(this.database,vo(this._delegate,new go))},e.prototype.startAt=function(t,n){return void 0===t&&(t=null),Object(o.validateArgCount)("Query.startAt",0,2,arguments.length),new e(this.database,vo(this._delegate,function(e,t){return void 0===e&&(e=null),Qr("startAt","key",t,!0),new so(e,t)}(t,n)))},e.prototype.startAfter=function(t,n){return void 0===t&&(t=null),Object(o.validateArgCount)("Query.startAfter",0,2,arguments.length),new e(this.database,vo(this._delegate,function(e,t){return Qr("startAfter","key",t,!0),new uo(e,t)}(t,n)))},e.prototype.endAt=function(t,n){return void 0===t&&(t=null),Object(o.validateArgCount)("Query.endAt",0,2,arguments.length),new e(this.database,vo(this._delegate,function(e,t){return Qr("endAt","key",t,!0),new oo(e,t)}(t,n)))},e.prototype.endBefore=function(t,n){return void 0===t&&(t=null),Object(o.validateArgCount)("Query.endBefore",0,2,arguments.length),new e(this.database,vo(this._delegate,function(e,t){return Qr("endBefore","key",t,!0),new ao(e,t)}(t,n)))},e.prototype.equalTo=function(t,n){return Object(o.validateArgCount)("Query.equalTo",1,2,arguments.length),new e(this.database,vo(this._delegate,function(e,t){return Qr("equalTo","key",t,!0),new yo(e,t)}(t,n)))},e.prototype.toString=function(){return Object(o.validateArgCount)("Query.toString",0,0,arguments.length),this._delegate.toString()},e.prototype.toJSON=function(){return Object(o.validateArgCount)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()},e.prototype.isEqual=function(t){if(Object(o.validateArgCount)("Query.isEqual",1,1,arguments.length),!(t instanceof e)){throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.")}return this._delegate.isEqual(t._delegate)},e.getCancelAndContextArgs_=function(e,t,n){var r={cancel:void 0,context:void 0};if(t&&n)r.cancel=t,Object(o.validateCallback)(e,"cancel",r.cancel,!0),r.context=n,Object(o.validateContextObject)(e,"context",r.context,!0);else if(t)if("object"===typeof t&&null!==t)r.context=t;else{if("function"!==typeof t)throw new Error(Object(o.errorPrefix)(e,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=t}return r},Object.defineProperty(e.prototype,"ref",{get:function(){return new Po(this.database,new Bi(this._delegate._repo,this._delegate._path))},enumerable:!1,configurable:!0}),e}(),Po=function(e){function t(t,n){var r=e.call(this,t,new ji(n._repo,n._path,new kt,!1))||this;return r.database=t,r._delegate=n,r}return Object(a.__extends)(t,e),t.prototype.getKey=function(){return Object(o.validateArgCount)("Reference.key",0,0,arguments.length),this._delegate.key},t.prototype.child=function(e){return Object(o.validateArgCount)("Reference.child",1,1,arguments.length),"number"===typeof e&&(e=String(e)),new t(this.database,zi(this._delegate,e))},t.prototype.getParent=function(){Object(o.validateArgCount)("Reference.parent",0,0,arguments.length);var e=this._delegate.parent;return e?new t(this.database,e):null},t.prototype.getRoot=function(){return Object(o.validateArgCount)("Reference.root",0,0,arguments.length),new t(this.database,this._delegate.root)},t.prototype.set=function(e,t){Object(o.validateArgCount)("Reference.set",1,2,arguments.length),Object(o.validateCallback)("Reference.set","onComplete",t,!0);var n=Wi(this._delegate,e);return t&&n.then(function(){return t(null)},function(e){return t(e)}),n},t.prototype.update=function(e,t){if(Object(o.validateArgCount)("Reference.update",1,2,arguments.length),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,I("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Jr("Reference.update",this._delegate._path),Object(o.validateCallback)("Reference.update","onComplete",t,!0);var i=Ki(this._delegate,e);return t&&i.then(function(){return t(null)},function(e){return t(e)}),i},t.prototype.setWithPriority=function(e,t,n){Object(o.validateArgCount)("Reference.setWithPriority",2,3,arguments.length),Object(o.validateCallback)("Reference.setWithPriority","onComplete",n,!0);var r=function(e,t,n){if(Jr("setWithPriority",e._path),zr("setWithPriority",t,e._path,!1),Yr("setWithPriority",n,!1),".length"===e.key||".keys"===e.key)throw"setWithPriority failed: "+e.key+" is a read-only object.";var r=new o.Deferred;return yi(e._repo,e._path,t,n,r.wrapCallback(function(){})),r.promise}(this._delegate,e,t);return n&&r.then(function(){return n(null)},function(e){return n(e)}),r},t.prototype.remove=function(e){Object(o.validateArgCount)("Reference.remove",0,1,arguments.length),Object(o.validateCallback)("Reference.remove","onComplete",e,!0);var t,n=(t=this._delegate,Jr("remove",t._path),Wi(t,null));return e&&n.then(function(){return e(null)},function(t){return e(t)}),n},t.prototype.transaction=function(e,t,n){var r=this;Object(o.validateArgCount)("Reference.transaction",1,3,arguments.length),Object(o.validateCallback)("Reference.transaction","transactionUpdate",e,!1),Object(o.validateCallback)("Reference.transaction","onComplete",t,!0),function(e,t,n,r){if((!r||void 0!==n)&&"boolean"!==typeof n)throw new Error(Object(o.errorPrefix)(e,t)+"must be a boolean.")}("Reference.transaction","applyLocally",n,!0);var i=ko(this._delegate,e,{applyLocally:n}).then(function(e){return new Ao(e.committed,new No(r.database,e.snapshot))});return t&&i.then(function(e){return t(null,e.committed,e.snapshot)},function(e){return t(e,!1,null)}),i},t.prototype.setPriority=function(e,t){Object(o.validateArgCount)("Reference.setPriority",1,2,arguments.length),Object(o.validateCallback)("Reference.setPriority","onComplete",t,!0);var n=function(e,t){e=Object(o.getModularInstance)(e),Jr("setPriority",e._path),Yr("setPriority",t,!1);var n=new o.Deferred;return yi(e._repo,Oe(e._path,".priority"),t,null,n.wrapCallback(function(){})),n.promise}(this._delegate,e);return t&&n.then(function(){return t(null)},function(e){return t(e)}),n},t.prototype.push=function(e,n){var r=this;Object(o.validateArgCount)("Reference.push",0,2,arguments.length),Object(o.validateCallback)("Reference.push","onComplete",n,!0);var i=function(e,t){e=Object(o.getModularInstance)(e),Jr("push",e._path),zr("push",t,e._path,!0);var n,r=li(e._repo),i=vt(r),a=zi(e,i),s=zi(e,i);return n=null!=t?Wi(s,t).then(function(){return s}):Promise.resolve(s),a.then=n.then.bind(n),a.catch=n.then.bind(n,void 0),a}(this._delegate,e),a=i.then(function(e){return new t(r.database,e)});n&&a.then(function(){return n(null)},function(e){return n(e)});var s=new t(this.database,i);return s.then=a.then.bind(a),s.catch=a.catch.bind(a,void 0),s},t.prototype.onDisconnect=function(){return Jr("Reference.onDisconnect",this._delegate._path),new Io(new Di(this._delegate._repo,this._delegate._path))},Object.defineProperty(t.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),t}(Ro),xo=function(){function e(e,t){var n=this;this._delegate=e,this.app=t,this.INTERNAL={delete:function(){return n._delegate._delete()}}}return e.prototype.useEmulator=function(e,t,n){void 0===n&&(n={}),So(this._delegate,e,t,n)},e.prototype.ref=function(e){if(Object(o.validateArgCount)("database.ref",0,1,arguments.length),e instanceof Po){var t=Gi(this._delegate,e.toString());return new Po(this,t)}t=qi(this._delegate,e);return new Po(this,t)},e.prototype.refFromURL=function(e){Object(o.validateArgCount)("database.refFromURL",1,1,arguments.length);var t=Gi(this._delegate,e);return new Po(this,t)},e.prototype.goOffline=function(){return Object(o.validateArgCount)("database.goOffline",0,0,arguments.length),e=this._delegate,(e=Object(o.getModularInstance)(e))._checkNotDeleted("goOffline"),void _i(e._repo);var e},e.prototype.goOnline=function(){return Object(o.validateArgCount)("database.goOnline",0,0,arguments.length),Co(this._delegate)},e.ServerValue={TIMESTAMP:Oo,increment:function(e){return function(e){return{".sv":{increment:e}}}(e)}},e}();var Mo=Object.freeze({__proto__:null,forceLongPolling:function(){ce.forceDisallow(),ae.forceAllow()},forceWebSockets:function(){ae.forceDisallow()},isWebSocketsAvailable:function(){return ce.isAvailable()},setSecurityDebugCallback:function(e,t){e._delegate._repo.persistentConnection_.securityDebugCallback_=t},stats:function(e,t){!function(e,t){if(void 0===t&&(t=!1),"undefined"!==typeof console){var n;t?(e.statsListener_||(e.statsListener_=new Ft(e.stats_)),n=e.statsListener_.get()):n=e.stats_.get();var r=Object.keys(n).reduce(function(e,t){return Math.max(t.length,e)},0);j(n,function(e,t){for(var n=e,i=e.length;i<r+2;i++)n+=" ";console.log(n+t)})}}(e._delegate._repo,t)},statsIncrementCounter:function(e,t){!function(e,t){var n,r;e.stats_.incrementCounter(t),n=e.statsReporter_,r=t,n.statsToReport_[r]=!0}(e._delegate._repo,t)},dataUpdateCount:function(e){return e._delegate._repo.dataUpdateCount},interceptServerData:function(e,t){return function(e,t){e.interceptServerDataCallback_=t}(e._delegate._repo,t)},initStandalone:function(e){var t=e.app,n=e.url,r=e.version,o=e.customAuthImpl,a=e.namespace,s=e.nodeAdmin,u=void 0!==s&&s;h(r);var c=new i.Provider("auth-internal",new i.ComponentContainer("database-standalone"));return c.setComponent(new i.Component("auth-internal",function(){return o},"PRIVATE")),{instance:new xo(wo(t,c,void 0,n,u),t),namespace:a}}}),Lo=Fe;Fe.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},Fe.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};var Do=he,jo=X,Uo=Object.freeze({__proto__:null,DataConnection:Lo,RealTimeConnection:Do,hijackHash:function(e){var t=Fe.prototype.put;return Fe.prototype.put=function(n,r,i,o){void 0!==o&&(o=e()),t.call(this,n,r,i,o)},function(){Fe.prototype.put=t}},ConnectionTarget:jo,queryIdentifier:function(e){return e._delegate._queryIdentifier},forceRestClient:function(e){!function(e){_o=e}(e)}}),Fo=xo.ServerValue;!function(e){h(e.SDK_VERSION);var n=e.INTERNAL.registerComponent(new i.Component("database",function(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return new xo(wo(r,i,o,n),r)},"PUBLIC").setServiceProps({Reference:Po,Query:Ro,Database:xo,DataSnapshot:No,enableLogging:S,INTERNAL:Mo,ServerValue:Fo,TEST_ACCESS:Uo}).setMultipleInstances(!0));e.registerVersion(u,c),Object(o.isNodeSdk)()&&(t.exports=n)}(r.default)}).call(this,n(149),n(417)(e))},function(e,t,n){"use strict";var r=n(12),i=n(35),o=n(1),a=n(2),s=n(34);function u(e){return e&&"object"===typeof e&&"default"in e?e:{default:e}}var c,l=u(r),h=((c={})["already-activated"]="You are trying to activate AppCheck for FirebaseApp {$appName}, while it is already activated. AppCheck can only be activated once.",c["use-before-activation"]="AppCheck is being used before activate() is called for FirebaseApp {$appName}. Please make sure you call activate() before instantiating other Firebase services.",c["fetch-network-error"]="Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",c["fetch-parse-error"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",c["fetch-status-error"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",c["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",c["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",c["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",c["recaptcha-error"]="ReCAPTCHA error.",c),f=new a.ErrorFactory("appCheck","AppCheck",h),d=new Map,p={activated:!1,tokenObservers:[]},g={enabled:!1};function y(e){return d.get(e)||p}function v(e,t){d.set(e,t)}function m(){return g}var b="https://content-firebaseappcheck.googleapis.com/v1beta",_="exchangeRecaptchaToken",w="exchangeDebugToken",E={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4},S=function(){function e(e,t,n,r,i){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=n,this.lowerBound=r,this.upperBound=i,this.pending=null,this.nextErrorWaitInterval=r,r>i)throw new Error("Proactive refresh lower bound greater than upper bound!")}return e.prototype.start=function(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(function(){})},e.prototype.stop=function(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)},e.prototype.isRunning=function(){return!!this.pending},e.prototype.process=function(e){return o.__awaiter(this,void 0,void 0,function(){var t;return o.__generator(this,function(n){switch(n.label){case 0:this.stop(),n.label=1;case 1:return n.trys.push([1,6,,7]),this.pending=new a.Deferred,[4,(r=this.getNextRun(e),new Promise(function(e){setTimeout(e,r)}))];case 2:return n.sent(),this.pending.resolve(),[4,this.pending.promise];case 3:return n.sent(),this.pending=new a.Deferred,[4,this.operation()];case 4:return n.sent(),this.pending.resolve(),[4,this.pending.promise];case 5:return n.sent(),this.process(!0).catch(function(){}),[3,7];case 6:return t=n.sent(),this.retryPolicy(t)?this.process(!1).catch(function(){}):this.stop(),[3,7];case 7:return[2]}var r})})},e.prototype.getNextRun=function(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();var t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t},e}();function C(){return self.grecaptcha}function O(e){if(!y(e).activated)throw f.create("use-before-activation",{appName:e.name})}function T(e,t){var n=e.url,r=e.body;return o.__awaiter(this,void 0,void 0,function(){var e,i,a,s,u,c,l,h,d,p;return o.__generator(this,function(o){switch(o.label){case 0:e={"Content-Type":"application/json"},(i=t.getImmediate({optional:!0}))&&(e["X-Firebase-Client"]=i.getPlatformInfoString()),a={method:"POST",body:JSON.stringify(r),headers:e},o.label=1;case 1:return o.trys.push([1,3,,4]),[4,fetch(n,a)];case 2:return s=o.sent(),[3,4];case 3:throw u=o.sent(),f.create("fetch-network-error",{originalErrorMessage:u.message});case 4:if(200!==s.status)throw f.create("fetch-status-error",{httpStatus:s.status});o.label=5;case 5:return o.trys.push([5,7,,8]),[4,s.json()];case 6:return c=o.sent(),[3,8];case 7:throw l=o.sent(),f.create("fetch-parse-error",{originalErrorMessage:l.message});case 8:if(!(h=c.ttl.match(/^([\d.]+)(s)$/))||!h[2]||isNaN(Number(h[1])))throw f.create("fetch-parse-error",{originalErrorMessage:"ttl field (timeToLive) is not in standard Protobuf Duration format: "+c.ttl});return d=1e3*Number(h[1]),p=Date.now(),[2,{token:c.attestationToken,expireTimeMillis:p+d,issuedAtTimeMillis:p}]}})})}function k(e,t){var n=e.options,r=n.projectId,i=n.appId,o=n.apiKey;return{url:b+"/projects/"+r+"/apps/"+i+":"+_+"?key="+o,body:{recaptcha_token:t}}}function I(e,t){var n=e.options,r=n.projectId,i=n.appId,o=n.apiKey;return{url:b+"/projects/"+r+"/apps/"+i+":"+w+"?key="+o,body:{debug_token:t}}}var A="firebase-app-check-database",N=1,R="firebase-app-check-store",P="debug-token",x=null;function M(){return x||(x=new Promise(function(e,t){try{var n=indexedDB.open(A,N);n.onsuccess=function(t){e(t.target.result)},n.onerror=function(e){var n;t(f.create("storage-open",{originalErrorMessage:null===(n=e.target.error)||void 0===n?void 0:n.message}))},n.onupgradeneeded=function(e){var t=e.target.result;switch(e.oldVersion){case 0:t.createObjectStore(R,{keyPath:"compositeKey"})}}}catch(r){t(f.create("storage-open",{originalErrorMessage:r.message}))}}))}function L(e){return j(U(e))}function D(e,t){return o.__awaiter(this,void 0,void 0,function(){var n,r,i,a;return o.__generator(this,function(o){switch(o.label){case 0:return[4,M()];case 1:return n=o.sent(),r=n.transaction(R,"readwrite"),i=r.objectStore(R),a=i.put({compositeKey:e,value:t}),[2,new Promise(function(e,t){a.onsuccess=function(t){e()},r.onerror=function(e){var n;t(f.create("storage-set",{originalErrorMessage:null===(n=e.target.error)||void 0===n?void 0:n.message}))}})]}})})}function j(e){return o.__awaiter(this,void 0,void 0,function(){var t,n,r,i;return o.__generator(this,function(o){switch(o.label){case 0:return[4,M()];case 1:return t=o.sent(),n=t.transaction(R,"readonly"),r=n.objectStore(R),i=r.get(e),[2,new Promise(function(e,t){i.onsuccess=function(t){var n=t.target.result;e(n?n.value:void 0)},n.onerror=function(e){var n;t(f.create("storage-get",{originalErrorMessage:null===(n=e.target.error)||void 0===n?void 0:n.message}))}})]}})})}function U(e){return e.options.appId+"-"+e.name}var F=new s.Logger("@firebase/app-check");function H(e,t){return a.isIndexedDBAvailable()?function(e,t){return D(U(e),t)}(e,t).catch(function(e){F.warn("Failed to write token to indexeddb. Error: "+e)}):Promise.resolve()}function B(){return o.__awaiter(this,void 0,void 0,function(){var e,t;return o.__generator(this,function(n){switch(n.label){case 0:e=void 0,n.label=1;case 1:return n.trys.push([1,3,,4]),[4,j(P)];case 2:return e=n.sent(),[3,4];case 3:return n.sent(),[3,4];case 4:return e?[2,e]:(t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}),(r=t,D(P,r)).catch(function(e){return F.warn("Failed to persist debug token to indexeddb. Error: "+e)}),console.log("AppCheck debug token: "+t+". You will need to whitelist it in the Firebase console for it to work"),[2,t])}var r})})}function V(){return o.__awaiter(this,void 0,void 0,function(){var e;return o.__generator(this,function(t){if((e=m()).enabled&&e.token)return[2,e.token.promise];throw Error("\n            Can't get debug token in production mode.\n        ")})})}var q={error:"UNKNOWN_ERROR"};function G(e,t,n){return void 0===n&&(n=!1),o.__awaiter(this,void 0,void 0,function(){var r,i,s,u,c,l,h,f,d,p;return o.__generator(this,function(g){switch(g.label){case 0:return O(e),r=y(e),i=r.token,s=void 0,i?[3,2]:[4,r.cachedTokenPromise];case 1:(u=g.sent())&&Y(u)&&(i=u,v(e,o.__assign(o.__assign({},r),{token:i})),K(e,{token:i.token})),g.label=2;case 2:return!n&&i&&Y(i)?[2,{token:i.token}]:m().enabled?(l=T,h=I,f=[e],[4,V()]):[3,6];case 3:return[4,l.apply(void 0,[h.apply(void 0,f.concat([g.sent()])),t])];case 4:return c=g.sent(),[4,H(e,c)];case 5:return g.sent(),v(e,o.__assign(o.__assign({},r),{token:c})),[2,{token:c.token}];case 6:return g.trys.push([6,8,,9]),[4,r.provider.getToken()];case 7:return i=g.sent(),[3,9];case 8:return d=g.sent(),F.error(d),s=d,[3,9];case 9:return i?[3,10]:(p=function(e){return{token:(t=q,a.base64.encodeString(JSON.stringify(t),!1)),error:e};var t}(s),[3,12]);case 10:return p={token:i.token},v(e,o.__assign(o.__assign({},r),{token:i})),[4,H(e,i)];case 11:g.sent(),g.label=12;case 12:return K(e,p),[2,p]}})})}function z(e,t,n,r,i){var a=y(e),s={next:r,error:i,type:n},u=o.__assign(o.__assign({},a),{tokenObservers:o.__spreadArray(o.__spreadArray([],a.tokenObservers),[s])});if(!u.tokenRefresher){var c=function(e,t){var n=this;return new S(function(){return o.__awaiter(n,void 0,void 0,function(){var n;return o.__generator(this,function(r){switch(r.label){case 0:return y(e).token?[3,2]:[4,G(e,t)];case 1:return n=r.sent(),[3,4];case 2:return[4,G(e,t,!0)];case 3:n=r.sent(),r.label=4;case 4:if(n.error)throw n.error;return[2]}})})},function(){return!0},function(){var t=y(e);if(t.token){var n=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5,r=t.token.expireTimeMillis-3e5;return n=Math.min(n,r),Math.max(0,n-Date.now())}return 0},E.RETRIAL_MIN_WAIT,E.RETRIAL_MAX_WAIT)}(e,t);u.tokenRefresher=c}if(!u.tokenRefresher.isRunning()&&a.isTokenAutoRefreshEnabled&&u.tokenRefresher.start(),a.token&&Y(a.token)){var l=a.token;Promise.resolve().then(function(){return r({token:l.token})}).catch(function(){})}else null==a.token&&a.cachedTokenPromise.then(function(e){e&&Y(e)&&r({token:e.token})}).catch(function(){});v(e,u)}function W(e,t){var n=y(e),r=n.tokenObservers.filter(function(e){return e.next!==t});0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),v(e,o.__assign(o.__assign({},n),{tokenObservers:r}))}function K(e,t){for(var n=0,r=y(e).tokenObservers;n<r.length;n++){var i=r[n];try{"EXTERNAL"===i.type&&null!=t.error?i.error(t.error):i.next(t)}catch(o){}}}function Y(e){return e.expireTimeMillis-Date.now()>0}var Q="https://www.google.com/recaptcha/api.js";function $(e,t){var n=y(e),r=new a.Deferred;v(e,o.__assign(o.__assign({},n),{reCAPTCHAState:{initialized:r}}));var i="fire_app_check_"+e.name,s=document.createElement("div");s.id=i,s.style.display="none",document.body.appendChild(s);var u=C();return u?u.ready(function(){J(e,t,u,i),r.resolve(u)}):function(e){var t=document.createElement("script");t.src=""+Q,t.onload=e,document.head.appendChild(t)}(function(){var n=C();if(!n)throw new Error("no recaptcha");n.ready(function(){J(e,t,n,i),r.resolve(n)})}),r.promise}function X(e){return o.__awaiter(this,void 0,void 0,function(){var t;return o.__generator(this,function(n){switch(n.label){case 0:return O(e),[4,y(e).reCAPTCHAState.initialized.promise];case 1:return t=n.sent(),[2,new Promise(function(n,r){var i=y(e).reCAPTCHAState;t.ready(function(){n(t.execute(i.widgetId,{action:"fire_app_check"}))})})]}})})}function J(e,t,n,r){var i=n.render(r,{sitekey:t,size:"invisible"}),a=y(e);v(e,o.__assign(o.__assign({},a),{reCAPTCHAState:o.__assign(o.__assign({},a.reCAPTCHAState),{widgetId:i})}))}var Z=function(){function e(e){this._siteKey=e}return e.prototype.getToken=function(){return o.__awaiter(this,void 0,void 0,function(){var e;return o.__generator(this,function(t){switch(t.label){case 0:if(!this._app||!this._platformLoggerProvider)throw f.create("use-before-activation",{appName:""});t.label=1;case 1:return t.trys.push([1,3,,4]),[4,X(this._app)];case 2:return e=t.sent(),[3,4];case 3:throw t.sent(),f.create("recaptcha-error");case 4:return[2,T(k(this._app,e),this._platformLoggerProvider)]}})})},e.prototype.initialize=function(e,t){this._app=e,this._platformLoggerProvider=t,$(e,this._siteKey).catch(function(){})},e}(),ee=function(){function e(e){this._customProviderOptions=e}return e.prototype.getToken=function(){return o.__awaiter(this,void 0,void 0,function(){var e,t,n;return o.__generator(this,function(r){switch(r.label){case 0:if(!this._app)throw f.create("use-before-activation",{appName:""});return[4,this._customProviderOptions.getToken()];case 1:return e=r.sent(),t=a.issuedAtTime(e.token),n=null!==t&&t<Date.now()&&t>0?1e3*t:Date.now(),[2,o.__assign(o.__assign({},e),{issuedAtTimeMillis:n})]}})})},e.prototype.initialize=function(e){this._app=e},e}();function te(e,t,n,r){var i=y(e);if(i.activated)throw f.create("already-activated",{appName:e.name});var s=o.__assign(o.__assign({},i),{activated:!0});s.cachedTokenPromise=function(e){return o.__awaiter(this,void 0,void 0,function(){var t,n;return o.__generator(this,function(r){switch(r.label){case 0:if(!a.isIndexedDBAvailable())return[3,5];t=void 0,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,L(e)];case 2:return t=r.sent(),[3,4];case 3:return n=r.sent(),F.warn("Failed to read token from indexeddb. Error: "+n),[3,4];case 4:return[2,t];case 5:return[2,void 0]}})})}(e).then(function(t){return t&&Y(t)&&v(e,o.__assign(o.__assign({},y(e)),{token:t})),t}),s.provider="string"===typeof t?new Z(t):t instanceof Z||t instanceof ee?t:new ee({getToken:t.getToken}),s.isTokenAutoRefreshEnabled=void 0===r?e.automaticDataCollectionEnabled:r,v(e,s),s.provider.initialize(e,n)}function ne(e,t){return{app:e,activate:function(n,r){return te(e,n,t,r)},setTokenAutoRefreshEnabled:function(t){return function(e,t){var n=y(e);n.tokenRefresher&&(!0===t?n.tokenRefresher.start():n.tokenRefresher.stop()),v(e,o.__assign(o.__assign({},n),{isTokenAutoRefreshEnabled:t}))}(e,t)},getToken:function(n){return function(e,t,n){return o.__awaiter(this,void 0,void 0,function(){var r;return o.__generator(this,function(i){switch(i.label){case 0:return[4,G(e,t,n)];case 1:if((r=i.sent()).error)throw r.error;return[2,{token:r.token}]}})})}(e,t,n)},onTokenChanged:function(n,r,i){return function(e,t,n,r,i){var o=function(){},a=function(){};return o=null!=n.next?n.next.bind(n):n,null!=n.error?a=n.error.bind(n):r&&(a=r),z(e,t,"EXTERNAL",o,a),function(){return W(e,o)}}(e,t,n,r)},INTERNAL:{delete:function(){for(var t=0,n=y(e).tokenObservers;t<n.length;t++){var r=n[t];W(e,r.next)}return Promise.resolve()}}}}var re="@firebase/app-check",ie="0.3.2",oe="appCheck",ae="app-check-internal";!function(e){e.INTERNAL.registerComponent(new i.Component(oe,function(e){return ne(e.getProvider("app").getImmediate(),e.getProvider("platform-logger"))},"PUBLIC").setServiceProps({ReCaptchaV3Provider:Z,CustomProvider:ee}).setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(function(e,t,n){e.getProvider(ae).initialize()})),e.INTERNAL.registerComponent(new i.Component(ae,function(e){return function(e,t){return{getToken:function(n){return G(e,t,n)},addTokenListener:function(n){return z(e,t,"INTERNAL",n)},removeTokenListener:function(t){return W(e,t)}}}(e.getProvider("app").getImmediate(),e.getProvider("platform-logger"))},"PUBLIC").setInstantiationMode("EXPLICIT")),e.registerVersion(re,ie)}(l.default),function(){var e=a.getGlobal();if("string"===typeof e.FIREBASE_APPCHECK_DEBUG_TOKEN||!0===e.FIREBASE_APPCHECK_DEBUG_TOKEN){var t=m();t.enabled=!0;var n=new a.Deferred;t.token=n,"string"===typeof e.FIREBASE_APPCHECK_DEBUG_TOKEN?n.resolve(e.FIREBASE_APPCHECK_DEBUG_TOKEN):n.resolve(B())}}()},function(e,t,n){"use strict";t.byteLength=function(e){var t=c(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,r=c(e),a=r[0],s=r[1],u=new o(function(e,t,n){return 3*(t+n)/4-n}(0,a,s)),l=0,h=s>0?a-4:a;for(n=0;n<h;n+=4)t=i[e.charCodeAt(n)]<<18|i[e.charCodeAt(n+1)]<<12|i[e.charCodeAt(n+2)]<<6|i[e.charCodeAt(n+3)],u[l++]=t>>16&255,u[l++]=t>>8&255,u[l++]=255&t;2===s&&(t=i[e.charCodeAt(n)]<<2|i[e.charCodeAt(n+1)]>>4,u[l++]=255&t);1===s&&(t=i[e.charCodeAt(n)]<<10|i[e.charCodeAt(n+1)]<<4|i[e.charCodeAt(n+2)]>>2,u[l++]=t>>8&255,u[l++]=255&t);return u},t.fromByteArray=function(e){for(var t,n=e.length,i=n%3,o=[],a=0,s=n-i;a<s;a+=16383)o.push(l(e,a,a+16383>s?s:a+16383));1===i?(t=e[n-1],o.push(r[t>>2]+r[t<<4&63]+"==")):2===i&&(t=(e[n-2]<<8)+e[n-1],o.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"="));return o.join("")};for(var r=[],i=[],o="undefined"!==typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,u=a.length;s<u;++s)r[s]=a[s],i[a.charCodeAt(s)]=s;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function l(e,t,n){for(var i,o,a=[],s=t;s<n;s+=3)i=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(r[(o=i)>>18&63]+r[o>>12&63]+r[o>>6&63]+r[63&o]);return a.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,n,r,i){var o,a,s=8*i-r-1,u=(1<<s)-1,c=u>>1,l=-7,h=n?i-1:0,f=n?-1:1,d=e[t+h];for(h+=f,o=d&(1<<-l)-1,d>>=-l,l+=s;l>0;o=256*o+e[t+h],h+=f,l-=8);for(a=o&(1<<-l)-1,o>>=-l,l+=r;l>0;a=256*a+e[t+h],h+=f,l-=8);if(0===o)o=1-c;else{if(o===u)return a?NaN:1/0*(d?-1:1);a+=Math.pow(2,r),o-=c}return(d?-1:1)*a*Math.pow(2,o-r)},t.write=function(e,t,n,r,i,o){var a,s,u,c=8*o-i-1,l=(1<<c)-1,h=l>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:o-1,p=r?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=l):(a=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-a))<1&&(a--,u*=2),(t+=a+h>=1?f/u:f*Math.pow(2,1-h))*u>=2&&(a++,u/=2),a+h>=l?(s=0,a=l):a+h>=1?(s=(t*u-1)*Math.pow(2,i),a+=h):(s=t*Math.pow(2,h-1)*Math.pow(2,i),a=0));i>=8;e[n+d]=255&s,d+=p,s/=256,i-=8);for(a=a<<i|s,c+=i;c>0;e[n+d]=255&a,d+=p,a/=256,c-=8);e[n+d-p]|=128*g}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t,n){e.exports=n(821)},function(e,t,n){"use strict";var r=n(54),i=n(425),o=n(822),a=n(432);var s=function e(t){var n=new o(t),s=i(o.prototype.request,n);return r.extend(s,o.prototype,n),r.extend(s,n),s.create=function(n){return e(a(t,n))},s}(n(298));s.Axios=o,s.CanceledError=n(237),s.CancelToken=n(836),s.isCancel=n(431),s.VERSION=n(433).version,s.toFormData=n(428),s.AxiosError=n(161),s.Cancel=s.CanceledError,s.all=function(e){return Promise.all(e)},s.spread=n(837),s.isAxiosError=n(838),e.exports=s,e.exports.default=s},function(e,t,n){"use strict";var r=n(54),i=n(426),o=n(823),a=n(824),s=n(432),u=n(430),c=n(835),l=c.validators;function h(e){this.defaults=e,this.interceptors={request:new o,response:new o}}h.prototype.request=function(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},(t=s(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var n=t.transitional;void 0!==n&&c.assertOptions(n,{silentJSONParsing:l.transitional(l.boolean),forcedJSONParsing:l.transitional(l.boolean),clarifyTimeoutError:l.transitional(l.boolean)},!1);var r=[],i=!0;this.interceptors.request.forEach(function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(i=i&&e.synchronous,r.unshift(e.fulfilled,e.rejected))});var o,u=[];if(this.interceptors.response.forEach(function(e){u.push(e.fulfilled,e.rejected)}),!i){var h=[a,void 0];for(Array.prototype.unshift.apply(h,r),h=h.concat(u),o=Promise.resolve(t);h.length;)o=o.then(h.shift(),h.shift());return o}for(var f=t;r.length;){var d=r.shift(),p=r.shift();try{f=d(f)}catch(g){p(g);break}}try{o=a(f)}catch(g){return Promise.reject(g)}for(;u.length;)o=o.then(u.shift(),u.shift());return o},h.prototype.getUri=function(e){e=s(this.defaults,e);var t=u(e.baseURL,e.url);return i(t,e.params,e.paramsSerializer)},r.forEach(["delete","get","head","options"],function(e){h.prototype[e]=function(t,n){return this.request(s(n||{},{method:e,url:t,data:(n||{}).data}))}}),r.forEach(["post","put","patch"],function(e){function t(t){return function(n,r,i){return this.request(s(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}h.prototype[e]=t(),h.prototype[e+"Form"]=t(!0)}),e.exports=h},function(e,t,n){"use strict";var r=n(54);function i(){this.handlers=[]}i.prototype.use=function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},i.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},i.prototype.forEach=function(e){r.forEach(this.handlers,function(t){null!==t&&e(t)})},e.exports=i},function(e,t,n){"use strict";var r=n(54),i=n(825),o=n(431),a=n(298),s=n(237);function u(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new s}e.exports=function(e){return u(e),e.headers=e.headers||{},e.data=i.call(e,e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),r.forEach(["delete","get","head","post","put","patch","common"],function(t){delete e.headers[t]}),(e.adapter||a.adapter)(e).then(function(t){return u(e),t.data=i.call(e,t.data,t.headers,e.transformResponse),t},function(t){return o(t)||(u(e),t&&t.response&&(t.response.data=i.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)})}},function(e,t,n){"use strict";var r=n(54),i=n(298);e.exports=function(e,t,n){var o=this||i;return r.forEach(n,function(n){e=n.call(o,e,t)}),e}},function(e,t,n){"use strict";var r=n(54);e.exports=function(e,t){r.forEach(e,function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])})}},function(e,t,n){"use strict";var r=n(161);e.exports=function(e,t,n){var i=n.config.validateStatus;n.status&&i&&!i(n.status)?t(new r("Request failed with status code "+n.status,[r.ERR_BAD_REQUEST,r.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}},function(e,t,n){"use strict";var r=n(54);e.exports=r.isStandardBrowserEnv()?{write:function(e,t,n,i,o,a){var s=[];s.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),r.isString(i)&&s.push("path="+i),r.isString(o)&&s.push("domain="+o),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(e,t,n){"use strict";e.exports=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}},function(e,t,n){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},function(e,t,n){"use strict";var r=n(54),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,o,a={};return e?(r.forEach(e.split("\n"),function(e){if(o=e.indexOf(":"),t=r.trim(e.substr(0,o)).toLowerCase(),n=r.trim(e.substr(o+1)),t){if(a[t]&&i.indexOf(t)>=0)return;a[t]="set-cookie"===t?(a[t]?a[t]:[]).concat([n]):a[t]?a[t]+", "+n:n}}),a):a}},function(e,t,n){"use strict";var r=n(54);e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function i(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=i(window.location.href),function(t){var n=r.isString(t)?i(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},function(e,t,n){"use strict";e.exports=function(e){var t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}},function(e,t){e.exports=null},function(e,t,n){"use strict";var r=n(433).version,i=n(161),o={};["object","boolean","number","function","string","symbol"].forEach(function(e,t){o[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});var a={};o.transitional=function(e,t,n){function o(e,t){return"[Axios v"+r+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,r,s){if(!1===e)throw new i(o(r," has been removed"+(t?" in "+t:"")),i.ERR_DEPRECATED);return t&&!a[r]&&(a[r]=!0,console.warn(o(r," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,r,s)}},e.exports={assertOptions:function(e,t,n){if("object"!==typeof e)throw new i("options must be an object",i.ERR_BAD_OPTION_VALUE);for(var r=Object.keys(e),o=r.length;o-- >0;){var a=r[o],s=t[a];if(s){var u=e[a],c=void 0===u||s(u,a,e);if(!0!==c)throw new i("option "+a+" must be "+c,i.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new i("Unknown option "+a,i.ERR_BAD_OPTION)}},validators:o}},function(e,t,n){"use strict";var r=n(237);function i(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise(function(e){t=e});var n=this;this.promise.then(function(e){if(n._listeners){var t,r=n._listeners.length;for(t=0;t<r;t++)n._listeners[t](e);n._listeners=null}}),this.promise.then=function(e){var t,r=new Promise(function(e){n.subscribe(e),t=e}).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e(function(e){n.reason||(n.reason=new r(e),t(n.reason))})}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.prototype.subscribe=function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]},i.prototype.unsubscribe=function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}},i.source=function(){var e;return{token:new i(function(t){e=t}),cancel:e}},e.exports=i},function(e,t,n){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},function(e,t,n){"use strict";var r=n(54);e.exports=function(e){return r.isObject(e)&&!0===e.isAxiosError}},function(e,t){e.exports="object"==typeof self?self.FormData:window.FormData},function(e,t,n){"use strict";e.exports=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}},function(e,t,n){"use strict";var r="function"===typeof Symbol&&Symbol.for,i=r?Symbol.for("react.element"):60103,o=r?Symbol.for("react.portal"):60106,a=r?Symbol.for("react.fragment"):60107,s=r?Symbol.for("react.strict_mode"):60108,u=r?Symbol.for("react.profiler"):60114,c=r?Symbol.for("react.provider"):60109,l=r?Symbol.for("react.context"):60110,h=r?Symbol.for("react.async_mode"):60111,f=r?Symbol.for("react.concurrent_mode"):60111,d=r?Symbol.for("react.forward_ref"):60112,p=r?Symbol.for("react.suspense"):60113,g=r?Symbol.for("react.suspense_list"):60120,y=r?Symbol.for("react.memo"):60115,v=r?Symbol.for("react.lazy"):60116,m=r?Symbol.for("react.block"):60121,b=r?Symbol.for("react.fundamental"):60117,_=r?Symbol.for("react.responder"):60118,w=r?Symbol.for("react.scope"):60119;function E(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case h:case f:case a:case u:case s:case p:return e;default:switch(e=e&&e.$$typeof){case l:case d:case v:case y:case c:return e;default:return t}}case o:return t}}}function S(e){return E(e)===f}t.AsyncMode=h,t.ConcurrentMode=f,t.ContextConsumer=l,t.ContextProvider=c,t.Element=i,t.ForwardRef=d,t.Fragment=a,t.Lazy=v,t.Memo=y,t.Portal=o,t.Profiler=u,t.StrictMode=s,t.Suspense=p,t.isAsyncMode=function(e){return S(e)||E(e)===h},t.isConcurrentMode=S,t.isContextConsumer=function(e){return E(e)===l},t.isContextProvider=function(e){return E(e)===c},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===i},t.isForwardRef=function(e){return E(e)===d},t.isFragment=function(e){return E(e)===a},t.isLazy=function(e){return E(e)===v},t.isMemo=function(e){return E(e)===y},t.isPortal=function(e){return E(e)===o},t.isProfiler=function(e){return E(e)===u},t.isStrictMode=function(e){return E(e)===s},t.isSuspense=function(e){return E(e)===p},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===f||e===u||e===s||e===p||e===g||"object"===typeof e&&null!==e&&(e.$$typeof===v||e.$$typeof===y||e.$$typeof===c||e.$$typeof===l||e.$$typeof===d||e.$$typeof===b||e.$$typeof===_||e.$$typeof===w||e.$$typeof===m)},t.typeOf=E},function(e,t,n){"use strict";var r=n(72),i=n(434),o=n(843),a=n(440);function s(e){var t=new o(e),n=i(o.prototype.request,t);return r.extend(n,o.prototype,t),r.extend(n,t),n}var u=s(n(299));u.Axios=o,u.create=function(e){return s(a(u.defaults,e))},u.Cancel=n(441),u.CancelToken=n(857),u.isCancel=n(439),u.all=function(e){return Promise.all(e)},u.spread=n(858),u.isAxiosError=n(859),e.exports=u,e.exports.default=u},function(e,t,n){"use strict";var r=n(72),i=n(435),o=n(844),a=n(845),s=n(440),u=n(855),c=u.validators;function l(e){this.defaults=e,this.interceptors={request:new o,response:new o}}l.prototype.request=function(e){"string"===typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=s(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=e.transitional;void 0!==t&&u.assertOptions(t,{silentJSONParsing:c.transitional(c.boolean,"1.0.0"),forcedJSONParsing:c.transitional(c.boolean,"1.0.0"),clarifyTimeoutError:c.transitional(c.boolean,"1.0.0")},!1);var n=[],r=!0;this.interceptors.request.forEach(function(t){"function"===typeof t.runWhen&&!1===t.runWhen(e)||(r=r&&t.synchronous,n.unshift(t.fulfilled,t.rejected))});var i,o=[];if(this.interceptors.response.forEach(function(e){o.push(e.fulfilled,e.rejected)}),!r){var l=[a,void 0];for(Array.prototype.unshift.apply(l,n),l=l.concat(o),i=Promise.resolve(e);l.length;)i=i.then(l.shift(),l.shift());return i}for(var h=e;n.length;){var f=n.shift(),d=n.shift();try{h=f(h)}catch(p){d(p);break}}try{i=a(h)}catch(p){return Promise.reject(p)}for(;o.length;)i=i.then(o.shift(),o.shift());return i},l.prototype.getUri=function(e){return e=s(this.defaults,e),i(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],function(e){l.prototype[e]=function(t,n){return this.request(s(n||{},{method:e,url:t,data:(n||{}).data}))}}),r.forEach(["post","put","patch"],function(e){l.prototype[e]=function(t,n,r){return this.request(s(r||{},{method:e,url:t,data:n}))}}),e.exports=l},function(e,t,n){"use strict";var r=n(72);function i(){this.handlers=[]}i.prototype.use=function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},i.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},i.prototype.forEach=function(e){r.forEach(this.handlers,function(t){null!==t&&e(t)})},e.exports=i},function(e,t,n){"use strict";var r=n(72),i=n(846),o=n(439),a=n(299);function s(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return s(e),e.headers=e.headers||{},e.data=i.call(e,e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),r.forEach(["delete","get","head","post","put","patch","common"],function(t){delete e.headers[t]}),(e.adapter||a.adapter)(e).then(function(t){return s(e),t.data=i.call(e,t.data,t.headers,e.transformResponse),t},function(t){return o(t)||(s(e),t&&t.response&&(t.response.data=i.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)})}},function(e,t,n){"use strict";var r=n(72),i=n(299);e.exports=function(e,t,n){var o=this||i;return r.forEach(n,function(n){e=n.call(o,e,t)}),e}},function(e,t,n){"use strict";var r=n(72);e.exports=function(e,t){r.forEach(e,function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])})}},function(e,t,n){"use strict";var r=n(438);e.exports=function(e,t,n){var i=n.config.validateStatus;n.status&&i&&!i(n.status)?t(r("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}},function(e,t,n){"use strict";var r=n(72);e.exports=r.isStandardBrowserEnv()?{write:function(e,t,n,i,o,a){var s=[];s.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),r.isString(i)&&s.push("path="+i),r.isString(o)&&s.push("domain="+o),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(e,t,n){"use strict";var r=n(851),i=n(852);e.exports=function(e,t){return e&&!r(t)?i(e,t):t}},function(e,t,n){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},function(e,t,n){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},function(e,t,n){"use strict";var r=n(72),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,o,a={};return e?(r.forEach(e.split("\n"),function(e){if(o=e.indexOf(":"),t=r.trim(e.substr(0,o)).toLowerCase(),n=r.trim(e.substr(o+1)),t){if(a[t]&&i.indexOf(t)>=0)return;a[t]="set-cookie"===t?(a[t]?a[t]:[]).concat([n]):a[t]?a[t]+", "+n:n}}),a):a}},function(e,t,n){"use strict";var r=n(72);e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function i(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=i(window.location.href),function(t){var n=r.isString(t)?i(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},function(e,t,n){"use strict";var r=n(856),i={};["object","boolean","number","function","string","symbol"].forEach(function(e,t){i[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});var o={},a=r.version.split(".");function s(e,t){for(var n=t?t.split("."):a,r=e.split("."),i=0;i<3;i++){if(n[i]>r[i])return!0;if(n[i]<r[i])return!1}return!1}i.transitional=function(e,t,n){var i=t&&s(t);function a(e,t){return"[Axios v"+r.version+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,r,s){if(!1===e)throw new Error(a(r," has been removed in "+t));return i&&!o[r]&&(o[r]=!0,console.warn(a(r," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,r,s)}},e.exports={isOlderVersion:s,assertOptions:function(e,t,n){if("object"!==typeof e)throw new TypeError("options must be an object");for(var r=Object.keys(e),i=r.length;i-- >0;){var o=r[i],a=t[o];if(a){var s=e[o],u=void 0===s||a(s,o,e);if(!0!==u)throw new TypeError("option "+o+" must be "+u)}else if(!0!==n)throw Error("Unknown option "+o)}},validators:i}},function(e){e.exports={name:"axios",version:"0.21.4",description:"Promise based HTTP client for the browser and node.js",main:"index.js",scripts:{test:"grunt test",start:"node ./sandbox/server.js",build:"NODE_ENV=production grunt build",preversion:"npm test",version:"npm run build && grunt version && git add -A dist && git add CHANGELOG.md bower.json package.json",postversion:"git push && git push --tags",examples:"node ./examples/server.js",coveralls:"cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js",fix:"eslint --fix lib/**/*.js"},repository:{type:"git",url:"https://github.com/axios/axios.git"},keywords:["xhr","http","ajax","promise","node"],author:"Matt Zabriskie",license:"MIT",bugs:{url:"https://github.com/axios/axios/issues"},homepage:"https://axios-http.com",devDependencies:{coveralls:"^3.0.0","es6-promise":"^4.2.4",grunt:"^1.3.0","grunt-banner":"^0.6.0","grunt-cli":"^1.2.0","grunt-contrib-clean":"^1.1.0","grunt-contrib-watch":"^1.0.0","grunt-eslint":"^23.0.0","grunt-karma":"^4.0.0","grunt-mocha-test":"^0.13.3","grunt-ts":"^6.0.0-beta.19","grunt-webpack":"^4.0.2","istanbul-instrumenter-loader":"^1.0.0","jasmine-core":"^2.4.1",karma:"^6.3.2","karma-chrome-launcher":"^3.1.0","karma-firefox-launcher":"^2.1.0","karma-jasmine":"^1.1.1","karma-jasmine-ajax":"^0.1.13","karma-safari-launcher":"^1.0.0","karma-sauce-launcher":"^4.3.6","karma-sinon":"^1.0.5","karma-sourcemap-loader":"^0.3.8","karma-webpack":"^4.0.2","load-grunt-tasks":"^3.5.2",minimist:"^1.2.0",mocha:"^8.2.1",sinon:"^4.5.0","terser-webpack-plugin":"^4.2.3",typescript:"^4.0.5","url-search-params":"^0.10.0",webpack:"^4.44.2","webpack-dev-server":"^3.11.0"},browser:{"./lib/adapters/http.js":"./lib/adapters/xhr.js"},jsdelivr:"dist/axios.min.js",unpkg:"dist/axios.min.js",typings:"./index.d.ts",dependencies:{"follow-redirects":"^1.14.0"},bundlesize:[{path:"./dist/axios.min.js",threshold:"5kB"}]}},function(e,t,n){"use strict";var r=n(441);function i(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise(function(e){t=e});var n=this;e(function(e){n.reason||(n.reason=new r(e),t(n.reason))})}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.source=function(){var e;return{token:new i(function(t){e=t}),cancel:e}},e.exports=i},function(e,t,n){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},function(e,t,n){"use strict";e.exports=function(e){return"object"===typeof e&&!0===e.isAxiosError}},function(e,t,n){"use strict";n.r(t);n(422)},function(e,t,n){"use strict";n.r(t);n(423)},function(e,t,n){"use strict";var r,i=(r=n(0))&&"object"==typeof r&&"default"in r?r.default:r,o=n(30);function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function s(e,t){e.prototype=Object.create(t.prototype),function(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var i=n[r],o=Object.getOwnPropertyDescriptor(t,i);o&&o.configurable&&void 0===e[i]&&Object.defineProperty(e,i,o)}}(e.prototype.constructor=e,t)}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var c=function(e,t,n,r,i,o,a,s){if(!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,o,a,s],l=0;(u=new Error(t.replace(/%s/g,function(){return c[l++]}))).name="Invariant Violation"}throw u.framesToPop=1,u}};function l(e,t,n){if("selectionStart"in e&&"selectionEnd"in e)e.selectionStart=t,e.selectionEnd=n;else{var r=e.createTextRange();r.collapse(!0),r.moveStart("character",t),r.moveEnd("character",n-t),r.select()}}var h={9:"[0-9]",a:"[A-Za-z]","*":"[A-Za-z0-9]"},f="_";function d(e,t,n){var r="",i="",o=null,a=[];if(void 0===t&&(t=f),null==n&&(n=h),!e||"string"!=typeof e)return{maskChar:t,formatChars:n,mask:null,prefix:null,lastEditablePosition:null,permanents:[]};var s=!1;return e.split("").forEach(function(e){s=!s&&"\\"===e||(s||!n[e]?(a.push(r.length),r.length===a.length-1&&(i+=e)):o=r.length+1,r+=e,!1)}),{maskChar:t,formatChars:n,prefix:i,mask:r,lastEditablePosition:o,permanents:a}}function p(e,t){return-1!==e.permanents.indexOf(t)}function g(e,t,n){var r=e.mask,i=e.formatChars;if(!n)return!1;if(p(e,t))return r[t]===n;var o=i[r[t]];return new RegExp(o).test(n)}function y(e,t){return t.split("").every(function(t,n){return p(e,n)||!g(e,n,t)})}function v(e,t){var n=e.maskChar,r=e.prefix;if(!n){for(;t.length>r.length&&p(e,t.length-1);)t=t.slice(0,t.length-1);return t.length}for(var i=r.length,o=t.length;o>=r.length;o--){var a=t[o];if(!p(e,o)&&g(e,o,a)){i=o+1;break}}return i}function m(e,t){return v(e,t)===e.mask.length}function b(e,t){var n=e.maskChar,r=e.mask,i=e.prefix;if(!n){for((t=_(e,"",t,0)).length<i.length&&(t=i);t.length<r.length&&p(e,t.length);)t+=r[t.length];return t}if(t)return _(e,b(e,""),t,0);for(var o=0;o<r.length;o++)p(e,o)?t+=r[o]:t+=n;return t}function _(e,t,n,r){var i=e.mask,o=e.maskChar,a=e.prefix,s=n.split(""),u=m(e,t);return!o&&r>t.length&&(t+=i.slice(t.length,r)),s.every(function(n){for(;l=n,p(e,c=r)&&l!==i[c];){if(r>=t.length&&(t+=i[r]),s=n,o&&p(e,r)&&s===o)return!0;if(++r>=i.length)return!1}var s,c,l;return!g(e,r,n)&&n!==o||(r<t.length?t=o||u||r<a.length?t.slice(0,r)+n+t.slice(r+1):(t=t.slice(0,r)+n+t.slice(r),b(e,t)):o||(t+=n),++r<i.length)}),t}function w(e,t){for(var n=e.mask,r=t;r<n.length;++r)if(!p(e,r))return r;return null}function E(e){return e||0===e?e+"":""}function S(e,t,n,r,i){var o=e.mask,a=e.prefix,s=e.lastEditablePosition,u=t,c="",l=0,h=0,f=Math.min(i.start,n.start);return n.end>i.start?h=(l=function(e,t,n,r){var i=e.mask,o=e.maskChar,a=n.split(""),s=r;return a.every(function(t){for(;a=t,p(e,n=r)&&a!==i[n];)if(++r>=i.length)return!1;var n,a;return(g(e,r,t)||t===o)&&r++,r<i.length}),r-s}(e,0,c=u.slice(i.start,n.end),f))?i.length:0:u.length<r.length&&(h=r.length-u.length),u=r,h&&(1!==h||i.length||(f=i.start===n.start?w(e,n.start):function(e,t){for(var n=t;0<=n;--n)if(!p(e,n))return n;return null}(e,n.start)),u=function(e,t,n,r){var i=n+r,o=e.maskChar,a=e.mask,s=e.prefix,u=t.split("");if(o)return u.map(function(t,r){return r<n||i<=r?t:p(e,r)?a[r]:o}).join("");for(var c=i;c<u.length;c++)p(e,c)&&(u[c]="");return n=Math.max(s.length,n),u.splice(n,i-n),t=u.join(""),b(e,t)}(e,u,f,h)),u=_(e,u,c,f),(f+=l)>=o.length?f=o.length:f<a.length&&!l?f=a.length:f>=a.length&&f<s&&l&&(f=w(e,f)),c||(c=null),{value:u=b(e,u),enteredString:c,selection:{start:f,end:f}}}function C(e){return"function"==typeof e}function O(){return window.cancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame}function T(e){return(O()?window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame:function(){return setTimeout(e,1e3/60)})(e)}function k(e){(O()||clearTimeout)(e)}var I=function(e){function t(t){var n=e.call(this,t)||this;n.focused=!1,n.mounted=!1,n.previousSelection=null,n.selectionDeferId=null,n.saveSelectionLoopDeferId=null,n.saveSelectionLoop=function(){n.previousSelection=n.getSelection(),n.saveSelectionLoopDeferId=T(n.saveSelectionLoop)},n.runSaveSelectionLoop=function(){null===n.saveSelectionLoopDeferId&&n.saveSelectionLoop()},n.stopSaveSelectionLoop=function(){null!==n.saveSelectionLoopDeferId&&(k(n.saveSelectionLoopDeferId),n.saveSelectionLoopDeferId=null,n.previousSelection=null)},n.getInputDOMNode=function(){if(!n.mounted)return null;var e=o.findDOMNode(u(u(n))),t="undefined"!=typeof window&&e instanceof window.Element;if(e&&!t)return null;if("INPUT"!==e.nodeName&&(e=e.querySelector("input")),!e)throw new Error("react-input-mask: inputComponent doesn't contain input node");return e},n.getInputValue=function(){var e=n.getInputDOMNode();return e?e.value:null},n.setInputValue=function(e){var t=n.getInputDOMNode();t&&(n.value=e,t.value=e)},n.setCursorToEnd=function(){var e=v(n.maskOptions,n.value),t=w(n.maskOptions,e);null!==t&&n.setCursorPosition(t)},n.setSelection=function(e,t,r){void 0===r&&(r={});var i=n.getInputDOMNode(),o=n.isFocused();i&&o&&(r.deferred||l(i,e,t),null!==n.selectionDeferId&&k(n.selectionDeferId),n.selectionDeferId=T(function(){n.selectionDeferId=null,l(i,e,t)}),n.previousSelection={start:e,end:t,length:Math.abs(t-e)})},n.getSelection=function(){return function(e){var t=0,n=0;if("selectionStart"in e&&"selectionEnd"in e)t=e.selectionStart,n=e.selectionEnd;else{var r=document.selection.createRange();r.parentElement()===e&&(t=-r.moveStart("character",-e.value.length),n=-r.moveEnd("character",-e.value.length))}return{start:t,end:n,length:n-t}}(n.getInputDOMNode())},n.getCursorPosition=function(){return n.getSelection().start},n.setCursorPosition=function(e){n.setSelection(e,e)},n.isFocused=function(){return n.focused},n.getBeforeMaskedValueChangeConfig=function(){var e=n.maskOptions,t=e.mask,r=e.maskChar,i=e.permanents,o=e.formatChars;return{mask:t,maskChar:r,permanents:i,alwaysShowMask:!!n.props.alwaysShowMask,formatChars:o}},n.isInputAutofilled=function(e,t,r,i){var o=n.getInputDOMNode();try{if(o.matches(":-webkit-autofill"))return!0}catch(c){}return!n.focused||i.end<r.length&&t.end===e.length},n.onChange=function(e){var t=u(u(n)).beforePasteState,r=u(u(n)).previousSelection,i=n.props.beforeMaskedValueChange,o=n.getInputValue(),a=n.value,s=n.getSelection();n.isInputAutofilled(o,s,a,r)&&(a=b(n.maskOptions,""),r={start:0,end:0,length:0}),t&&(r=t.selection,a=t.value,s={start:r.start+o.length,end:r.start+o.length,length:0},o=a.slice(0,r.start)+o+a.slice(r.end),n.beforePasteState=null);var c=S(n.maskOptions,o,s,a,r),l=c.enteredString,h=c.selection,f=c.value;if(C(i)){var d=i({value:f,selection:h},{value:a,selection:r},l,n.getBeforeMaskedValueChangeConfig());f=d.value,h=d.selection}n.setInputValue(f),C(n.props.onChange)&&n.props.onChange(e),n.isWindowsPhoneBrowser?n.setSelection(h.start,h.end,{deferred:!0}):n.setSelection(h.start,h.end)},n.onFocus=function(e){var t=n.props.beforeMaskedValueChange,r=n.maskOptions,i=r.mask,o=r.prefix;if(n.focused=!0,n.mounted=!0,i){if(n.value)v(n.maskOptions,n.value)<n.maskOptions.mask.length&&n.setCursorToEnd();else{var a=b(n.maskOptions,o),s=b(n.maskOptions,a),u=v(n.maskOptions,s),c=w(n.maskOptions,u),l={start:c,end:c};if(C(t)){var h=t({value:s,selection:l},{value:n.value,selection:null},null,n.getBeforeMaskedValueChangeConfig());s=h.value,l=h.selection}var f=s!==n.getInputValue();f&&n.setInputValue(s),f&&C(n.props.onChange)&&n.props.onChange(e),n.setSelection(l.start,l.end)}n.runSaveSelectionLoop()}C(n.props.onFocus)&&n.props.onFocus(e)},n.onBlur=function(e){var t=n.props.beforeMaskedValueChange,r=n.maskOptions.mask;if(n.stopSaveSelectionLoop(),n.focused=!1,r&&!n.props.alwaysShowMask&&y(n.maskOptions,n.value)){var i="";C(t)&&(i=t({value:i,selection:null},{value:n.value,selection:n.previousSelection},null,n.getBeforeMaskedValueChangeConfig()).value);var o=i!==n.getInputValue();o&&n.setInputValue(i),o&&C(n.props.onChange)&&n.props.onChange(e)}C(n.props.onBlur)&&n.props.onBlur(e)},n.onMouseDown=function(e){if(!n.focused&&document.addEventListener){n.mouseDownX=e.clientX,n.mouseDownY=e.clientY,n.mouseDownTime=(new Date).getTime();document.addEventListener("mouseup",function e(t){if(document.removeEventListener("mouseup",e),n.focused){var r=Math.abs(t.clientX-n.mouseDownX),i=Math.abs(t.clientY-n.mouseDownY),o=Math.max(r,i),a=(new Date).getTime()-n.mouseDownTime;(o<=10&&a<=200||o<=5&&a<=300)&&n.setCursorToEnd()}})}C(n.props.onMouseDown)&&n.props.onMouseDown(e)},n.onPaste=function(e){C(n.props.onPaste)&&n.props.onPaste(e),e.defaultPrevented||(n.beforePasteState={value:n.getInputValue(),selection:n.getSelection()},n.setInputValue(""))},n.handleRef=function(e){null==n.props.children&&C(n.props.inputRef)&&n.props.inputRef(e)};var r=t.mask,i=t.maskChar,a=t.formatChars,s=t.alwaysShowMask,c=t.beforeMaskedValueChange,h=t.defaultValue,f=t.value;n.maskOptions=d(r,i,a),null==h&&(h=""),null==f&&(f=h);var p=E(f);if(n.maskOptions.mask&&(s||p)&&(p=b(n.maskOptions,p),C(c))){var g=t.value;null==t.value&&(g=h),p=c({value:p,selection:null},{value:g=E(g),selection:null},null,n.getBeforeMaskedValueChangeConfig()).value}return n.value=p,n}s(t,e);var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.getInputDOMNode()&&(this.isWindowsPhoneBrowser=function(){var e=new RegExp("windows","i"),t=new RegExp("phone","i"),n=navigator.userAgent;return e.test(n)&&t.test(n)}(),this.maskOptions.mask&&this.getInputValue()!==this.value&&this.setInputValue(this.value))},n.componentDidUpdate=function(){var e=this.previousSelection,t=this.props,n=t.beforeMaskedValueChange,r=t.alwaysShowMask,i=t.mask,o=t.maskChar,a=t.formatChars,s=this.maskOptions,u=r||this.isFocused(),c=null!=this.props.value,l=c?E(this.props.value):this.value,h=e?e.start:null;if(this.maskOptions=d(i,o,a),this.maskOptions.mask){!s.mask&&this.isFocused()&&this.runSaveSelectionLoop();var f=this.maskOptions.mask&&this.maskOptions.mask!==s.mask;if(s.mask||c||(l=this.getInputValue()),(f||this.maskOptions.mask&&(l||u))&&(l=b(this.maskOptions,l)),f){var p=v(this.maskOptions,l);(null===h||p<h)&&(h=m(this.maskOptions,l)?p:w(this.maskOptions,p))}!this.maskOptions.mask||!y(this.maskOptions,l)||u||c&&this.props.value||(l="");var g={start:h,end:h};if(C(n)){var _=n({value:l,selection:g},{value:this.value,selection:this.previousSelection},null,this.getBeforeMaskedValueChangeConfig());l=_.value,g=_.selection}this.value=l;var S=this.getInputValue()!==this.value;S?(this.setInputValue(this.value),this.forceUpdate()):f&&this.forceUpdate();var O=!1;null!=g.start&&null!=g.end&&(O=!e||e.start!==g.start||e.end!==g.end),(O||S)&&this.setSelection(g.start,g.end)}else s.mask&&(this.stopSaveSelectionLoop(),this.forceUpdate())},n.componentWillUnmount=function(){this.mounted=!1,null!==this.selectionDeferId&&k(this.selectionDeferId),this.stopSaveSelectionLoop()},n.render=function(){var e,t=this.props,n=(t.mask,t.alwaysShowMask,t.maskChar,t.formatChars,t.inputRef,t.beforeMaskedValueChange,t.children),r=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],0<=t.indexOf(n)||(i[n]=e[n]);return i}(t,["mask","alwaysShowMask","maskChar","formatChars","inputRef","beforeMaskedValueChange","children"]);if(n){C(n)||c(!1);var o=["onChange","onPaste","onMouseDown","onFocus","onBlur","value","disabled","readOnly"],s=a({},r);o.forEach(function(e){return delete s[e]}),e=n(s),o.filter(function(t){return null!=e.props[t]&&e.props[t]!==r[t]}).length&&c(!1)}else e=i.createElement("input",a({ref:this.handleRef},r));var u={onFocus:this.onFocus,onBlur:this.onBlur};return this.maskOptions.mask&&(r.disabled||r.readOnly||(u.onChange=this.onChange,u.onPaste=this.onPaste,u.onMouseDown=this.onMouseDown),null!=r.value&&(u.value=this.value)),e=i.cloneElement(e,u)},t}(i.Component);e.exports=I},function(e,t,n){"use strict";t.__esModule=!0;var r=o(n(864)),i=o(n(917));function o(e){return e&&e.__esModule?e:{default:e}}t.default=(0,r.default)(i.default,"//connect.facebook.net/en_US/sdk.js",{globalName:"FB"})},function(e,t,n){"use strict";t.__esModule=!0;var r=f(n(865)),i=f(n(872)),o=f(n(873)),a=f(n(450)),s=f(n(451)),u=f(n(457)),c=f(n(899));t.default=function(e,t,n){n=n||{};var f=e.displayName||e.name||"Component",g=function(h){function f(){(0,a.default)(this,f);var e=(0,s.default)(this,h.call(this));return e.state={},e}return(0,u.default)(f,h),f.prototype.asyncScriptLoaderGetScriptLoaderID=function(){return this.__scriptLoaderID||(this.__scriptLoaderID="async-script-loader-"+p++),this.__scriptLoaderID},f.prototype.getComponent=function(){return this.childComponent},f.prototype.componentDidMount=function(){var e=this,r=this.asyncScriptLoaderGetScriptLoaderID(),i=n,a=i.globalName,s=i.callbackName;if(a&&"undefined"!==typeof window[a]&&d.set(t,{loaded:!0,observers:new c.default}),d.has(t)){var u=d.get(t);return u&&(u.loaded||u.errored)?void this.asyncScriptLoaderHandleLoad(u):void u.observers.set(r,function(t){return e.asyncScriptLoaderHandleLoad(t)})}var l=new c.default;l.set(r,function(t){return e.asyncScriptLoaderHandleLoad(t)}),d.set(t,{loaded:!1,observers:l});var h=document.createElement("script");h.src=t,h.async=1;var p=function(e){if(d.has(t))for(var n=d.get(t),r=n.observers,i=r,a=Array.isArray(i),s=0,i=a?i:(0,o.default)(i);;){var u;if(a){if(s>=i.length)break;u=i[s++]}else{if((s=i.next()).done)break;u=s.value}var c=u,l=c[0],h=c[1];e(h)&&r.delete(l)}};s&&"undefined"!==typeof window&&(window[s]=f.asyncScriptLoaderTriggerOnScriptLoaded),h.onload=function(){var e=d.get(t);e&&(e.loaded=!0,p(function(t){return!s&&(t(e),!0)}))},h.onerror=function(e){var n=d.get(t);n&&(n.errored=!0,p(function(e){return e(n),!0}))},h.onreadystatechange=function(){"loaded"===e.readyState&&window.setTimeout(function(){var e=d.get(t);e&&!0!==e.loaded&&h.onload()},0)},document.body.appendChild(h)},f.prototype.asyncScriptLoaderHandleLoad=function(e){this.setState(e,this.props.asyncScriptOnLoad)},f.prototype.componentWillUnmount=function(){if(!0===n.removeOnUnmount)for(var e=document.getElementsByTagName("script"),r=0;r<e.length;r+=1)e[r].src.indexOf(t)>-1&&e[r].parentNode&&e[r].parentNode.removeChild(e[r]);var i=d.get(t);i&&(i.observers.delete(this.asyncScriptLoaderGetScriptLoaderID()),!0===n.removeOnUnmount&&d.delete(t))},f.prototype.render=function(){var t=this,o=n.globalName,a=this.props,s=(a.asyncScriptOnLoad,(0,i.default)(a,["asyncScriptOnLoad"]));return o&&"undefined"!==typeof window&&(s[o]="undefined"!==typeof window[o]?window[o]:void 0),l.default.createElement(e,(0,r.default)({ref:function(e){t.childComponent=e}},s))},f}(l.default.Component);if(g.displayName="AsyncScriptLoader("+f+")",g.propTypes={asyncScriptOnLoad:h.default.func},g.asyncScriptLoaderTriggerOnScriptLoaded=function(){var e=d.get(t);if(!e||!e.loaded)throw new Error("Script is not loaded.");var r=e.observers.values(),i=Array.isArray(r),a=0;for(r=i?r:(0,o.default)(r);;){var s;if(i){if(a>=r.length)break;s=r[a++]}else{if((a=r.next()).done)break;s=a.value}s(e)}delete window[n.callbackName]},n.exposeFuncs)for(var y=function(){if(m){if(b>=v.length)return"break";_=v[b++]}else{if((b=v.next()).done)return"break";_=b.value}var e=_;g.prototype[e]=function(){var t;return(t=this.getComponent())[e].apply(t,arguments)}},v=n.exposeFuncs,m=Array.isArray(v),b=0,v=m?v:(0,o.default)(v);;){var _,w=y();if("break"===w)break}return g};var l=f(n(0)),h=f(n(7));function f(e){return e&&e.__esModule?e:{default:e}}var d=new c.default,p=0},function(e,t,n){"use strict";t.__esModule=!0;var r,i=n(866),o=(r=i)&&r.__esModule?r:{default:r};t.default=o.default||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}},function(e,t,n){e.exports={default:n(867),__esModule:!0}},function(e,t,n){n(868),e.exports=n(86).Object.assign},function(e,t,n){var r=n(109);r(r.S+r.F,"Object",{assign:n(869)})},function(e,t,n){"use strict";var r=n(96),i=n(239),o=n(309),a=n(242),s=n(243),u=n(301),c=Object.assign;e.exports=!c||n(163)(function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach(function(e){t[e]=e}),7!=c({},e)[n]||Object.keys(c({},t)).join("")!=r})?function(e,t){for(var n=s(e),c=arguments.length,l=1,h=o.f,f=a.f;c>l;)for(var d,p=u(arguments[l++]),g=h?i(p).concat(h(p)):i(p),y=g.length,v=0;y>v;)d=g[v++],r&&!f.call(p,d)||(n[d]=p[d]);return n}:c},function(e,t,n){var r=n(164),i=n(304),o=n(871);e.exports=function(e){return function(t,n,a){var s,u=r(t),c=i(u.length),l=o(a,c);if(e&&n!=n){for(;c>l;)if((s=u[l++])!=s)return!0}else for(;c>l;l++)if((e||l in u)&&u[l]===n)return e||l||0;return!e&&-1}}},function(e,t,n){var r=n(305),i=Math.max,o=Math.min;e.exports=function(e,t){return(e=r(e))<0?i(e+t,0):o(e,t)}},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}},function(e,t,n){e.exports={default:n(874),__esModule:!0}},function(e,t,n){n(310),n(312),e.exports=n(882)},function(e,t,n){"use strict";var r=n(876),i=n(446),o=n(192),a=n(164);e.exports=n(311)(Array,"Array",function(e,t){this._t=a(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,i(1)):i(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])},"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},function(e,t){e.exports=function(){}},function(e,t,n){"use strict";var r=n(244),i=n(238),o=n(245),a={};n(117)(a,n(87)("iterator"),function(){return this}),e.exports=function(e,t,n){e.prototype=r(a,{next:i(1,n)}),o(e,t+" Iterator")}},function(e,t,n){var r=n(110),i=n(118),o=n(239);e.exports=n(96)?Object.defineProperties:function(e,t){i(e);for(var n,a=o(t),s=a.length,u=0;s>u;)r.f(e,n=a[u++],t[n]);return e}},function(e,t,n){var r=n(95).document;e.exports=r&&r.documentElement},function(e,t,n){var r=n(133),i=n(243),o=n(306)("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=i(e),r(e,o)?e[o]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},function(e,t,n){var r=n(305),i=n(303);e.exports=function(e){return function(t,n){var o,a,s=String(i(t)),u=r(n),c=s.length;return u<0||u>=c?e?"":void 0:(o=s.charCodeAt(u))<55296||o>56319||u+1===c||(a=s.charCodeAt(u+1))<56320||a>57343?e?s.charAt(u):o:e?s.slice(u,u+2):a-56320+(o-55296<<10)+65536}}},function(e,t,n){var r=n(118),i=n(448);e.exports=n(86).getIterator=function(e){var t=i(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return r(t.call(e))}},function(e,t,n){e.exports={default:n(884),__esModule:!0}},function(e,t,n){n(312),n(310),e.exports=n(313).f("iterator")},function(e,t,n){e.exports={default:n(886),__esModule:!0}},function(e,t,n){n(887),n(456),n(890),n(891),e.exports=n(86).Symbol},function(e,t,n){"use strict";var r=n(95),i=n(133),o=n(96),a=n(109),s=n(447),u=n(314).KEY,c=n(163),l=n(307),h=n(245),f=n(241),d=n(87),p=n(313),g=n(315),y=n(888),v=n(453),m=n(118),b=n(111),_=n(243),w=n(164),E=n(300),S=n(238),C=n(244),O=n(889),T=n(455),k=n(309),I=n(110),A=n(239),N=T.f,R=I.f,P=O.f,x=r.Symbol,M=r.JSON,L=M&&M.stringify,D=d("_hidden"),j=d("toPrimitive"),U={}.propertyIsEnumerable,F=l("symbol-registry"),H=l("symbols"),B=l("op-symbols"),V=Object.prototype,q="function"==typeof x&&!!k.f,G=r.QObject,z=!G||!G.prototype||!G.prototype.findChild,W=o&&c(function(){return 7!=C(R({},"a",{get:function(){return R(this,"a",{value:7}).a}})).a})?function(e,t,n){var r=N(V,t);r&&delete V[t],R(e,t,n),r&&e!==V&&R(V,t,r)}:R,K=function(e){var t=H[e]=C(x.prototype);return t._k=e,t},Y=q&&"symbol"==typeof x.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof x},Q=function(e,t,n){return e===V&&Q(B,t,n),m(e),t=E(t,!0),m(n),i(H,t)?(n.enumerable?(i(e,D)&&e[D][t]&&(e[D][t]=!1),n=C(n,{enumerable:S(0,!1)})):(i(e,D)||R(e,D,S(1,{})),e[D][t]=!0),W(e,t,n)):R(e,t,n)},$=function(e,t){m(e);for(var n,r=y(t=w(t)),i=0,o=r.length;o>i;)Q(e,n=r[i++],t[n]);return e},X=function(e){var t=U.call(this,e=E(e,!0));return!(this===V&&i(H,e)&&!i(B,e))&&(!(t||!i(this,e)||!i(H,e)||i(this,D)&&this[D][e])||t)},J=function(e,t){if(e=w(e),t=E(t,!0),e!==V||!i(H,t)||i(B,t)){var n=N(e,t);return!n||!i(H,t)||i(e,D)&&e[D][t]||(n.enumerable=!0),n}},Z=function(e){for(var t,n=P(w(e)),r=[],o=0;n.length>o;)i(H,t=n[o++])||t==D||t==u||r.push(t);return r},ee=function(e){for(var t,n=e===V,r=P(n?B:w(e)),o=[],a=0;r.length>a;)!i(H,t=r[a++])||n&&!i(V,t)||o.push(H[t]);return o};q||(s((x=function(){if(this instanceof x)throw TypeError("Symbol is not a constructor!");var e=f(arguments.length>0?arguments[0]:void 0);return o&&z&&W(V,e,{configurable:!0,set:function t(n){this===V&&t.call(B,n),i(this,D)&&i(this[D],e)&&(this[D][e]=!1),W(this,e,S(1,n))}}),K(e)}).prototype,"toString",function(){return this._k}),T.f=J,I.f=Q,n(454).f=O.f=Z,n(242).f=X,k.f=ee,o&&!n(240)&&s(V,"propertyIsEnumerable",X,!0),p.f=function(e){return K(d(e))}),a(a.G+a.W+a.F*!q,{Symbol:x});for(var te="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ne=0;te.length>ne;)d(te[ne++]);for(var re=A(d.store),ie=0;re.length>ie;)g(re[ie++]);a(a.S+a.F*!q,"Symbol",{for:function(e){return i(F,e+="")?F[e]:F[e]=x(e)},keyFor:function(e){if(!Y(e))throw TypeError(e+" is not a symbol!");for(var t in F)if(F[t]===e)return t},useSetter:function(){z=!0},useSimple:function(){z=!1}}),a(a.S+a.F*!q,"Object",{create:function(e,t){return void 0===t?C(e):$(C(e),t)},defineProperty:Q,defineProperties:$,getOwnPropertyDescriptor:J,getOwnPropertyNames:Z,getOwnPropertySymbols:ee});var oe=c(function(){k.f(1)});a(a.S+a.F*oe,"Object",{getOwnPropertySymbols:function(e){return k.f(_(e))}}),M&&a(a.S+a.F*(!q||c(function(){var e=x();return"[null]"!=L([e])||"{}"!=L({a:e})||"{}"!=L(Object(e))})),"JSON",{stringify:function(e){for(var t,n,r=[e],i=1;arguments.length>i;)r.push(arguments[i++]);if(n=t=r[1],(b(t)||void 0!==e)&&!Y(e))return v(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!Y(t))return t}),r[1]=t,L.apply(M,r)}}),x.prototype[j]||n(117)(x.prototype,j,x.prototype.valueOf),h(x,"Symbol"),h(Math,"Math",!0),h(r.JSON,"JSON",!0)},function(e,t,n){var r=n(239),i=n(309),o=n(242);e.exports=function(e){var t=r(e),n=i.f;if(n)for(var a,s=n(e),u=o.f,c=0;s.length>c;)u.call(e,a=s[c++])&&t.push(a);return t}},function(e,t,n){var r=n(164),i=n(454).f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return a&&"[object Window]"==o.call(e)?function(e){try{return i(e)}catch(t){return a.slice()}}(e):i(r(e))}},function(e,t,n){n(315)("asyncIterator")},function(e,t,n){n(315)("observable")},function(e,t,n){e.exports={default:n(893),__esModule:!0}},function(e,t,n){n(894),e.exports=n(86).Object.setPrototypeOf},function(e,t,n){var r=n(109);r(r.S,"Object",{setPrototypeOf:n(895).set})},function(e,t,n){var r=n(111),i=n(118),o=function(e,t){if(i(e),!r(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,r){try{(r=n(162)(Function.call,n(455).f(Object.prototype,"__proto__").set,2))(e,[]),t=!(e instanceof Array)}catch(i){t=!0}return function(e,n){return o(e,n),t?e.__proto__=n:r(e,n),e}}({},!1):void 0),check:o}},function(e,t,n){e.exports={default:n(897),__esModule:!0}},function(e,t,n){n(898);var r=n(86).Object;e.exports=function(e,t){return r.create(e,t)}},function(e,t,n){var r=n(109);r(r.S,"Object",{create:n(244)})},function(e,t,n){e.exports={default:n(900),__esModule:!0}},function(e,t,n){n(456),n(312),n(310),n(901),n(910),n(913),n(915),e.exports=n(86).Map},function(e,t,n){"use strict";var r=n(902),i=n(460);e.exports=n(906)("Map",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{get:function(e){var t=r.getEntry(i(this,"Map"),e);return t&&t.v},set:function(e,t){return r.def(i(this,"Map"),0===e?0:e,t)}},r,!0)},function(e,t,n){"use strict";var r=n(110).f,i=n(244),o=n(458),a=n(162),s=n(459),u=n(246),c=n(311),l=n(446),h=n(905),f=n(96),d=n(314).fastKey,p=n(460),g=f?"_s":"size",y=function(e,t){var n,r=d(t);if("F"!==r)return e._i[r];for(n=e._f;n;n=n.n)if(n.k==t)return n};e.exports={getConstructor:function(e,t,n,c){var l=e(function(e,r){s(e,l,t,"_i"),e._t=t,e._i=i(null),e._f=void 0,e._l=void 0,e[g]=0,void 0!=r&&u(r,n,e[c],e)});return o(l.prototype,{clear:function(){for(var e=p(this,t),n=e._i,r=e._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete n[r.i];e._f=e._l=void 0,e[g]=0},delete:function(e){var n=p(this,t),r=y(n,e);if(r){var i=r.n,o=r.p;delete n._i[r.i],r.r=!0,o&&(o.n=i),i&&(i.p=o),n._f==r&&(n._f=i),n._l==r&&(n._l=o),n[g]--}return!!r},forEach:function(e){p(this,t);for(var n,r=a(e,arguments.length>1?arguments[1]:void 0,3);n=n?n.n:this._f;)for(r(n.v,n.k,this);n&&n.r;)n=n.p},has:function(e){return!!y(p(this,t),e)}}),f&&r(l.prototype,"size",{get:function(){return p(this,t)[g]}}),l},def:function(e,t,n){var r,i,o=y(e,t);return o?o.v=n:(e._l=o={i:i=d(t,!0),k:t,v:n,p:r=e._l,n:void 0,r:!1},e._f||(e._f=o),r&&(r.n=o),e[g]++,"F"!==i&&(e._i[i]=o)),e},getEntry:y,setStrong:function(e,t,n){c(e,t,function(e,n){this._t=p(e,t),this._k=n,this._l=void 0},function(){for(var e=this._k,t=this._l;t&&t.r;)t=t.p;return this._t&&(this._l=t=t?t.n:this._t._f)?l(0,"keys"==e?t.k:"values"==e?t.v:[t.k,t.v]):(this._t=void 0,l(1))},n?"entries":"values",!n,!0),h(t)}}},function(e,t,n){var r=n(118);e.exports=function(e,t,n,i){try{return i?t(r(n)[0],n[1]):t(n)}catch(a){var o=e.return;throw void 0!==o&&r(o.call(e)),a}}},function(e,t,n){var r=n(192),i=n(87)("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||o[i]===e)}},function(e,t,n){"use strict";var r=n(95),i=n(86),o=n(110),a=n(96),s=n(87)("species");e.exports=function(e){var t="function"==typeof i[e]?i[e]:r[e];a&&t&&!t[s]&&o.f(t,s,{configurable:!0,get:function(){return this}})}},function(e,t,n){"use strict";var r=n(95),i=n(109),o=n(314),a=n(163),s=n(117),u=n(458),c=n(246),l=n(459),h=n(111),f=n(245),d=n(110).f,p=n(907)(0),g=n(96);e.exports=function(e,t,n,y,v,m){var b=r[e],_=b,w=v?"set":"add",E=_&&_.prototype,S={};return g&&"function"==typeof _&&(m||E.forEach&&!a(function(){(new _).entries().next()}))?(_=t(function(t,n){l(t,_,e,"_c"),t._c=new b,void 0!=n&&c(n,v,t[w],t)}),p("add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON".split(","),function(e){var t="add"==e||"set"==e;e in E&&(!m||"clear"!=e)&&s(_.prototype,e,function(n,r){if(l(this,_,e),!t&&m&&!h(n))return"get"==e&&void 0;var i=this._c[e](0===n?0:n,r);return t?this:i})}),m||d(_.prototype,"size",{get:function(){return this._c.size}})):(_=y.getConstructor(t,e,v,w),u(_.prototype,n),o.NEED=!0),f(_,e),S[e]=_,i(i.G+i.W+i.F,S),m||y.setStrong(_,e,v),_}},function(e,t,n){var r=n(162),i=n(301),o=n(243),a=n(304),s=n(908);e.exports=function(e,t){var n=1==e,u=2==e,c=3==e,l=4==e,h=6==e,f=5==e||h,d=t||s;return function(t,s,p){for(var g,y,v=o(t),m=i(v),b=r(s,p,3),_=a(m.length),w=0,E=n?d(t,_):u?d(t,0):void 0;_>w;w++)if((f||w in m)&&(y=b(g=m[w],w,v),e))if(n)E[w]=y;else if(y)switch(e){case 3:return!0;case 5:return g;case 6:return w;case 2:E.push(g)}else if(l)return!1;return h?-1:c||l?l:E}}},function(e,t,n){var r=n(909);e.exports=function(e,t){return new(r(e))(t)}},function(e,t,n){var r=n(111),i=n(453),o=n(87)("species");e.exports=function(e){var t;return i(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!i(t.prototype)||(t=void 0),r(t)&&null===(t=t[o])&&(t=void 0)),void 0===t?Array:t}},function(e,t,n){var r=n(109);r(r.P+r.R,"Map",{toJSON:n(911)("Map")})},function(e,t,n){var r=n(449),i=n(912);e.exports=function(e){return function(){if(r(this)!=e)throw TypeError(e+"#toJSON isn't generic");return i(this)}}},function(e,t,n){var r=n(246);e.exports=function(e,t){var n=[];return r(e,!1,n.push,n,t),n}},function(e,t,n){n(914)("Map")},function(e,t,n){"use strict";var r=n(109);e.exports=function(e){r(r.S,e,{of:function(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];return new this(t)}})}},function(e,t,n){n(916)("Map")},function(e,t,n){"use strict";var r=n(109),i=n(442),o=n(162),a=n(246);e.exports=function(e){r(r.S,e,{from:function(e){var t,n,r,s,u=arguments[1];return i(this),(t=void 0!==u)&&i(u),void 0==e?new this:(n=[],t?(r=0,s=o(u,arguments[2],2),a(e,!1,function(e){n.push(s(e,r++))})):a(e,!1,n.push,n),new this(n))}})}},function(e,t,n){"use strict";t.__esModule=!0;var r=c(n(450)),i=c(n(451)),o=c(n(457)),a=n(0),s=c(a),u=c(n(7));function c(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){return(0,r.default)(this,t),(0,i.default)(this,e.apply(this,arguments))}return(0,o.default)(t,e),t.prototype.initFacebookSDK=function(){var e=this.props,t=e.FB,n=e.appId,r=e.version;t&&t.init({appId:n,version:r,xfbml:!0})},t.prototype.componentDidMount=function(){this.initFacebookSDK()},t.prototype.componentDidUpdate=function(){this.initFacebookSDK()},t.prototype.render=function(){var e=this.props,t=e.type,n=e.appId,r=e.passthroughParams,i=e.color,o=e.size,a={__html:"<div class="+("send-to"===t?"fb-send-to-messenger":"fb-messengermessageus")+" messenger_app_id="+n+" page_id="+e.pageId+" data-ref="+r+" color="+i+" size="+o+"></div>"};return s.default.createElement("div",{dangerouslySetInnerHTML:a})},t}(a.Component);l.propTypes={appId:u.default.string.isRequired,pageId:u.default.string.isRequired,version:u.default.string,FB:u.default.object,passthroughParams:function(e,t){if(t in e){if("string"!==typeof e[t])return new Error("Invalid prop "+t+": must be a string.");if(e[t].length>250)return new Error("Invalid prop "+t+": must be smaller than 250 characters.")}},type:u.default.oneOf(["send-to","message-us"]),color:u.default.oneOf(["blue","white"]),size:u.default.oneOf(["standard","large","xlarge"])},l.defaultProps={color:"blue",size:"standard",type:"send-to",version:"v2.6"},t.default=l},,function(e,t,n){"use strict";var r=n(3),i=n(5),o=n(0),a=(n(7),n(30)),s=n(165),u=n(262),c=n(28),l=n(45),h=n(73),f=n(59);function d(e,t){var n=function(e,t){var n,r=t.getBoundingClientRect();if(t.fakeTransform)n=t.fakeTransform;else{var i=window.getComputedStyle(t);n=i.getPropertyValue("-webkit-transform")||i.getPropertyValue("transform")}var o=0,a=0;if(n&&"none"!==n&&"string"===typeof n){var s=n.split("(")[1].split(")")[0].split(",");o=parseInt(s[4],10),a=parseInt(s[5],10)}return"left"===e?"translateX(".concat(window.innerWidth,"px) translateX(-").concat(r.left-o,"px)"):"right"===e?"translateX(-".concat(r.left+r.width-o,"px)"):"up"===e?"translateY(".concat(window.innerHeight,"px) translateY(-").concat(r.top-a,"px)"):"translateY(-".concat(r.top+r.height-a,"px)")}(e,t);n&&(t.style.webkitTransform=n,t.style.transform=n)}var p={enter:h.b.enteringScreen,exit:h.b.leavingScreen},g=o.forwardRef(function(e,t){var n=e.children,h=e.direction,g=void 0===h?"down":h,y=e.in,v=e.onEnter,m=e.onEntering,b=e.onExit,_=e.onExited,w=e.style,E=e.timeout,S=void 0===E?p:E,C=Object(i.a)(e,["children","direction","in","onEnter","onEntering","onExit","onExited","style","timeout"]),O=Object(l.a)(),T=o.useRef(null),k=o.useCallback(function(e){T.current=a.findDOMNode(e)},[]),I=Object(c.a)(n.ref,k),A=Object(c.a)(I,t),N=o.useCallback(function(){T.current&&d(g,T.current)},[g]);return o.useEffect(function(){if(!y&&"down"!==g&&"right"!==g){var e=Object(s.a)(function(){T.current&&d(g,T.current)});return window.addEventListener("resize",e),function(){e.clear(),window.removeEventListener("resize",e)}}},[g,y]),o.useEffect(function(){y||N()},[y,N]),o.createElement(u.a,Object(r.a)({onEnter:function(e,t){var n=T.current;d(g,n),Object(f.b)(n),v&&v(n,t)},onEntering:function(e,t){var n=T.current,i=Object(f.a)({timeout:S,style:w},{mode:"enter"});n.style.webkitTransition=O.transitions.create("-webkit-transform",Object(r.a)({},i,{easing:O.transitions.easing.easeOut})),n.style.transition=O.transitions.create("transform",Object(r.a)({},i,{easing:O.transitions.easing.easeOut})),n.style.webkitTransform="none",n.style.transform="none",m&&m(n,t)},onExit:function(){var e=T.current,t=Object(f.a)({timeout:S,style:w},{mode:"exit"});e.style.webkitTransition=O.transitions.create("-webkit-transform",Object(r.a)({},t,{easing:O.transitions.easing.sharp})),e.style.transition=O.transitions.create("transform",Object(r.a)({},t,{easing:O.transitions.easing.sharp})),d(g,e),b&&b(e)},onExited:function(){var e=T.current;e.style.webkitTransition="",e.style.transition="",_&&_(e)},appear:!0,in:y,timeout:S},C),function(e,t){return o.cloneElement(n,Object(r.a)({ref:A,style:Object(r.a)({visibility:"exited"!==e||y?void 0:"hidden"},w,{},n.props.style)},t))})});t.a=g},function(e,t,n){"use strict";var r=n(3),i=n(5),o=n(0),a=(n(7),n(6)),s=n(8),u=n(921),c=o.forwardRef(function(e,t){var n=e.children,s=e.classes,c=e.className,l=e.invisible,h=void 0!==l&&l,f=e.open,d=e.transitionDuration,p=Object(i.a)(e,["children","classes","className","invisible","open","transitionDuration"]);return o.createElement(u.a,Object(r.a)({in:f,timeout:d},p),o.createElement("div",{className:Object(a.a)(s.root,c,h&&s.invisible),"aria-hidden":!0,ref:t},n))});t.a=Object(s.a)({root:{zIndex:-1,position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},invisible:{backgroundColor:"transparent"}},{name:"MuiBackdrop"})(c)},function(e,t,n){"use strict";var r=n(3),i=n(5),o=n(0),a=(n(7),n(262)),s=n(73),u=n(45),c=n(59),l=n(28),h={entering:{opacity:1},entered:{opacity:1}},f={enter:s.b.enteringScreen,exit:s.b.leavingScreen},d=o.forwardRef(function(e,t){var n=e.children,s=e.in,d=e.onEnter,p=e.onExit,g=e.style,y=e.timeout,v=void 0===y?f:y,m=Object(i.a)(e,["children","in","onEnter","onExit","style","timeout"]),b=Object(u.a)(),_=Object(l.a)(n.ref,t);return o.createElement(a.a,Object(r.a)({appear:!0,in:s,onEnter:function(e,t){Object(c.b)(e);var n=Object(c.a)({style:g,timeout:v},{mode:"enter"});e.style.webkitTransition=b.transitions.create("opacity",n),e.style.transition=b.transitions.create("opacity",n),d&&d(e,t)},onExit:function(e){var t=Object(c.a)({style:g,timeout:v},{mode:"exit"});e.style.webkitTransition=b.transitions.create("opacity",t),e.style.transition=b.transitions.create("opacity",t),p&&p(e)},timeout:v},m),function(e,t){return o.cloneElement(n,Object(r.a)({style:Object(r.a)({opacity:0,visibility:"exited"!==e||s?void 0:"hidden"},h[e],{},g,{},n.props.style),ref:_},t))})});t.a=d},function(e,t,n){"use strict";var r=n(3),i=n(5),o=n(0),a=(n(7),n(6)),s=n(8),u=n(263),c=n(170),l=n(28),h=n(119),f=n(30),d="undefined"===typeof window?o.useEffect:o.useLayoutEffect,p=o.forwardRef(function(e,t){var n=e.alignItems,s=void 0===n?"center":n,p=e.autoFocus,g=void 0!==p&&p,y=e.button,v=void 0!==y&&y,m=e.children,b=e.classes,_=e.className,w=e.component,E=e.ContainerComponent,S=void 0===E?"li":E,C=e.ContainerProps,O=(C=void 0===C?{}:C).className,T=Object(i.a)(C,["className"]),k=e.dense,I=void 0!==k&&k,A=e.disabled,N=void 0!==A&&A,R=e.disableGutters,P=void 0!==R&&R,x=e.divider,M=void 0!==x&&x,L=e.focusVisibleClassName,D=e.selected,j=void 0!==D&&D,U=Object(i.a)(e,["alignItems","autoFocus","button","children","classes","className","component","ContainerComponent","ContainerProps","dense","disabled","disableGutters","divider","focusVisibleClassName","selected"]),F=o.useContext(h.a),H={dense:I||F.dense||!1,alignItems:s},B=o.useRef(null);d(function(){g&&B.current&&B.current.focus()},[g]);var V=o.Children.toArray(m),q=V.length&&Object(c.a)(V[V.length-1],["ListItemSecondaryAction"]),G=o.useCallback(function(e){B.current=f.findDOMNode(e)},[]),z=Object(l.a)(G,t),W=Object(r.a)({className:Object(a.a)(b.root,_,H.dense&&b.dense,!P&&b.gutters,M&&b.divider,N&&b.disabled,v&&b.button,"center"!==s&&b.alignItemsFlexStart,q&&b.secondaryAction,j&&b.selected),disabled:N},U),K=w||"li";return v&&(W.component=w||"div",W.focusVisibleClassName=Object(a.a)(b.focusVisible,L),K=u.a),q?(K=W.component||w?K:"div","li"===S&&("li"===K?K="div":"li"===W.component&&(W.component="div")),o.createElement(h.a.Provider,{value:H},o.createElement(S,Object(r.a)({className:Object(a.a)(b.container,O),ref:z},T),o.createElement(K,W,V),V.pop()))):o.createElement(h.a.Provider,{value:H},o.createElement(K,Object(r.a)({ref:z},W),V))});t.a=Object(s.a)(function(e){return{root:{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left",paddingTop:8,paddingBottom:8,"&$focusVisible":{backgroundColor:e.palette.action.selected},"&$selected, &$selected:hover":{backgroundColor:e.palette.action.selected},"&$disabled":{opacity:.5}},container:{position:"relative"},focusVisible:{},dense:{paddingTop:4,paddingBottom:4},alignItemsFlexStart:{alignItems:"flex-start"},disabled:{},divider:{borderBottom:"1px solid ".concat(e.palette.divider),backgroundClip:"padding-box"},gutters:{paddingLeft:16,paddingRight:16},button:{transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:e.palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}},secondaryAction:{paddingRight:48},selected:{}}},{name:"MuiListItem"})(p)},function(e,t,n){"use strict";var r=n(3),i=n(5),o=n(0),a=(n(7),n(262)),s=n(45),u=n(59),c=n(28);function l(e){return"scale(".concat(e,", ").concat(Math.pow(e,2),")")}var h={entering:{opacity:1,transform:l(1)},entered:{opacity:1,transform:"none"}},f=o.forwardRef(function(e,t){var n=e.children,f=e.in,d=e.onEnter,p=e.onExit,g=e.style,y=e.timeout,v=void 0===y?"auto":y,m=Object(i.a)(e,["children","in","onEnter","onExit","style","timeout"]),b=o.useRef(),_=o.useRef(),w=Object(c.a)(n.ref,t),E=Object(s.a)();return o.useEffect(function(){return function(){clearTimeout(b.current)}},[]),o.createElement(a.a,Object(r.a)({appear:!0,in:f,onEnter:function(e,t){Object(u.b)(e);var n,r=Object(u.a)({style:g,timeout:v},{mode:"enter"}),i=r.duration,o=r.delay;"auto"===v?(n=E.transitions.getAutoHeightDuration(e.clientHeight),_.current=n):n=i,e.style.transition=[E.transitions.create("opacity",{duration:n,delay:o}),E.transitions.create("transform",{duration:.666*n,delay:o})].join(","),d&&d(e,t)},onExit:function(e){var t,n=Object(u.a)({style:g,timeout:v},{mode:"exit"}),r=n.duration,i=n.delay;"auto"===v?(t=E.transitions.getAutoHeightDuration(e.clientHeight),_.current=t):t=r,e.style.transition=[E.transitions.create("opacity",{duration:t,delay:i}),E.transitions.create("transform",{duration:.666*t,delay:i||.333*t})].join(","),e.style.opacity="0",e.style.transform=l(.75),p&&p(e)},addEndListener:function(e,t){"auto"===v&&(b.current=setTimeout(t,_.current||0))},timeout:"auto"===v?null:v},m),function(e,t){return o.cloneElement(n,Object(r.a)({style:Object(r.a)({opacity:0,transform:l(.75),visibility:"exited"!==e||f?void 0:"hidden"},h[e],{},g,{},n.props.style),ref:w},t))})});f.muiSupportAuto=!0,t.a=f},function(e,t,n){"use strict";var r=n(3),i=n(5),o=n(0),a=(n(7),n(6)),s=n(481),u=n(8),c=o.forwardRef(function(e,t){var n=e.disableUnderline,u=e.classes,c=e.fullWidth,l=void 0!==c&&c,h=e.inputComponent,f=void 0===h?"input":h,d=e.multiline,p=void 0!==d&&d,g=e.type,y=void 0===g?"text":g,v=Object(i.a)(e,["disableUnderline","classes","fullWidth","inputComponent","multiline","type"]);return o.createElement(s.a,Object(r.a)({classes:Object(r.a)({},u,{root:Object(a.a)(u.root,!n&&u.underline),underline:null}),fullWidth:l,inputComponent:f,multiline:p,ref:t,type:y},v))});c.muiName="Input",t.a=Object(u.a)(function(e){var t="light"===e.palette.type,n=t?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",r=t?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.09)";return{root:{position:"relative",backgroundColor:r,borderTopLeftRadius:e.shape.borderRadius,borderTopRightRadius:e.shape.borderRadius,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),"&:hover":{backgroundColor:t?"rgba(0, 0, 0, 0.13)":"rgba(255, 255, 255, 0.13)","@media (hover: none)":{backgroundColor:r}},"&$focused":{backgroundColor:t?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.09)"},"&$disabled":{backgroundColor:t?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)"}},colorSecondary:{"&$underline:after":{borderBottomColor:e.palette.secondary.main}},underline:{"&:after":{borderBottom:"2px solid ".concat(e.palette.primary.main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},"&$focused:after":{transform:"scaleX(1)"},"&$error:after":{borderBottomColor:e.palette.error.main,transform:"scaleX(1)"},"&:before":{borderBottom:"1px solid ".concat(n),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},"&:hover:before":{borderBottom:"1px solid ".concat(e.palette.text.primary)},"&$disabled:before":{borderBottomStyle:"dotted"}},focused:{},disabled:{},adornedStart:{paddingLeft:12},adornedEnd:{paddingRight:12},error:{},marginDense:{},multiline:{padding:"27px 12px 10px","&$marginDense":{paddingTop:23,paddingBottom:6}},input:{padding:"27px 12px 10px","&:-webkit-autofill":{WebkitBoxShadow:"dark"===e.palette.type?"0 0 0 100px #266798 inset":null,WebkitTextFillColor:"dark"===e.palette.type?"#fff":null,borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},inputMarginDense:{paddingTop:23,paddingBottom:6},inputHiddenLabel:{paddingTop:18,paddingBottom:19,"&$inputMarginDense":{paddingTop:10,paddingBottom:11}},inputMultiline:{padding:0},inputAdornedStart:{paddingLeft:0},inputAdornedEnd:{paddingRight:0}}},{name:"MuiFilledInput"})(c)},function(e,t,n){"use strict";var r=n(3),i=n(5),o=n(0),a=(n(7),n(6)),s=n(136),u=n(8),c=n(13),l=n(170),h=n(135),f=o.forwardRef(function(e,t){var n=e.children,u=e.classes,f=e.className,d=e.color,p=void 0===d?"primary":d,g=e.component,y=void 0===g?"div":g,v=e.disabled,m=void 0!==v&&v,b=e.error,_=void 0!==b&&b,w=e.fullWidth,E=void 0!==w&&w,S=e.focused,C=e.hiddenLabel,O=void 0!==C&&C,T=e.margin,k=void 0===T?"none":T,I=e.required,A=void 0!==I&&I,N=e.size,R=e.variant,P=void 0===R?"standard":R,x=Object(i.a)(e,["children","classes","className","color","component","disabled","error","fullWidth","focused","hiddenLabel","margin","required","size","variant"]),M=o.useState(function(){var e=!1;return n&&o.Children.forEach(n,function(t){if(Object(l.a)(t,["Input","Select"])){var n=Object(l.a)(t,["Select"])?t.props.input:t;n&&Object(s.a)(n.props)&&(e=!0)}}),e}),L=M[0],D=M[1],j=o.useState(function(){var e=!1;return n&&o.Children.forEach(n,function(t){Object(l.a)(t,["Input","Select"])&&Object(s.b)(t.props,!0)&&(e=!0)}),e}),U=j[0],F=j[1],H=o.useState(!1),B=H[0],V=H[1],q=void 0!==S?S:B;m&&q&&V(!1);var G=o.useCallback(function(){F(!0)},[]),z={adornedStart:L,setAdornedStart:D,color:p,disabled:m,error:_,filled:U,focused:q,fullWidth:E,hiddenLabel:O,margin:("small"===N?"dense":void 0)||k,onBlur:function(){V(!1)},onEmpty:o.useCallback(function(){F(!1)},[]),onFilled:G,onFocus:function(){V(!0)},registerEffect:void 0,required:A,variant:P};return o.createElement(h.a.Provider,{value:z},o.createElement(y,Object(r.a)({className:Object(a.a)(u.root,f,"none"!==k&&u["margin".concat(Object(c.a)(k))],E&&u.fullWidth),ref:t},x),n))});t.a=Object(u.a)({root:{display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},marginNormal:{marginTop:16,marginBottom:8},marginDense:{marginTop:8,marginBottom:4},fullWidth:{width:"100%"}},{name:"MuiFormControl"})(f)},function(e,t,n){"use strict";var r=n(3),i=n(5),o=n(0),a=(n(7),n(6)),s=n(81),u=n(74),c=n(8),l=n(927),h=o.forwardRef(function(e,t){var n=e.classes,c=e.className,h=e.disableAnimation,f=void 0!==h&&h,d=(e.margin,e.shrink),p=(e.variant,Object(i.a)(e,["classes","className","disableAnimation","margin","shrink","variant"])),g=Object(u.a)(),y=d;"undefined"===typeof y&&g&&(y=g.filled||g.focused||g.adornedStart);var v=Object(s.a)({props:e,muiFormControl:g,states:["margin","variant"]});return o.createElement(l.a,Object(r.a)({"data-shrink":y,className:Object(a.a)(n.root,c,g&&n.formControl,!f&&n.animated,y&&n.shrink,"dense"===v.margin&&n.marginDense,{filled:n.filled,outlined:n.outlined}[v.variant]),classes:{focused:n.focused,disabled:n.disabled,error:n.error,required:n.required,asterisk:n.asterisk},ref:t},p))});t.a=Object(c.a)(function(e){return{root:{display:"block",transformOrigin:"top left"},focused:{},disabled:{},error:{},required:{},asterisk:{},formControl:{position:"absolute",left:0,top:0,transform:"translate(0, 24px) scale(1)"},marginDense:{transform:"translate(0, 21px) scale(1)"},shrink:{transform:"translate(0, 1.5px) scale(0.75)",transformOrigin:"top left"},animated:{transition:e.transitions.create(["color","transform"],{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut})},filled:{zIndex:1,pointerEvents:"none",transform:"translate(12px, 20px) scale(1)","&$marginDense":{transform:"translate(12px, 17px) scale(1)"},"&$shrink":{transform:"translate(12px, 10px) scale(0.75)","&$marginDense":{transform:"translate(12px, 7px) scale(0.75)"}}},outlined:{zIndex:1,pointerEvents:"none",transform:"translate(14px, 20px) scale(1)","&$marginDense":{transform:"translate(14px, 12px) scale(1)"},"&$shrink":{transform:"translate(14px, -6px) scale(0.75)"}}}},{name:"MuiInputLabel"})(h)},function(e,t,n){"use strict";var r=n(5),i=n(3),o=n(0),a=(n(7),n(6)),s=n(81),u=n(74),c=n(13),l=n(8),h=o.forwardRef(function(e,t){var n=e.children,l=e.classes,h=e.className,f=(e.color,e.component),d=void 0===f?"label":f,p=(e.disabled,e.error,e.filled,e.focused,e.required,Object(r.a)(e,["children","classes","className","color","component","disabled","error","filled","focused","required"])),g=Object(u.a)(),y=Object(s.a)({props:e,muiFormControl:g,states:["color","required","focused","disabled","error","filled"]});return o.createElement(d,Object(i.a)({className:Object(a.a)(l.root,l["color".concat(Object(c.a)(y.color||"primary"))],h,y.disabled&&l.disabled,y.error&&l.error,y.filled&&l.filled,y.focused&&l.focused,y.required&&l.required),ref:t},p),n,y.required&&o.createElement("span",{className:Object(a.a)(l.asterisk,y.error&&l.error)},"\u2009","*"))});t.a=Object(l.a)(function(e){return{root:Object(i.a)({color:e.palette.text.secondary},e.typography.body1,{lineHeight:1,padding:0,"&$focused":{color:e.palette.primary.main},"&$disabled":{color:e.palette.text.disabled},"&$error":{color:e.palette.error.main}}),colorSecondary:{"&$focused":{color:e.palette.secondary.main}},focused:{},disabled:{},error:{},filled:{},required:{},asterisk:{"&$error":{color:e.palette.error.main}}}},{name:"MuiFormLabel"})(h)},function(e,t,n){"use strict";var r=n(5),i=n(3),o=n(0),a=(n(7),n(6)),s=n(81),u=n(74),c=n(8),l=o.forwardRef(function(e,t){var n=e.children,c=e.classes,l=e.className,h=e.component,f=void 0===h?"p":h,d=(e.disabled,e.error,e.filled,e.focused,e.margin,e.required,e.variant,Object(r.a)(e,["children","classes","className","component","disabled","error","filled","focused","margin","required","variant"])),p=Object(u.a)(),g=Object(s.a)({props:e,muiFormControl:p,states:["variant","margin","disabled","error","filled","focused","required"]});return o.createElement(f,Object(i.a)({className:Object(a.a)(c.root,("filled"===g.variant||"outlined"===g.variant)&&c.contained,l,g.disabled&&c.disabled,g.error&&c.error,g.filled&&c.filled,g.focused&&c.focused,g.required&&c.required,"dense"===g.margin&&c.marginDense),ref:t},d)," "===n?o.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}}):n)});t.a=Object(c.a)(function(e){return{root:Object(i.a)({color:e.palette.text.secondary},e.typography.caption,{textAlign:"left",marginTop:3,margin:0,"&$disabled":{color:e.palette.text.disabled},"&$error":{color:e.palette.error.main}}),error:{},disabled:{},marginDense:{marginTop:4},contained:{marginLeft:14,marginRight:14},focused:{},filled:{},required:{}}},{name:"MuiFormHelperText"})(l)},function(e,t,n){"use strict";var r=n(3),i=n(5),o=n(0),a=(n(7),n(955)),s=n(60),u=n(147),c=n(134),l=(n(264),n(6)),h=n(13),f=n(473),d=n(136),p=n(28),g=n(203);function y(e,t){return"object"===Object(c.a)(t)&&null!==t?e===t:String(e)===String(t)}var v=o.forwardRef(function(e,t){var n=e["aria-label"],a=e.autoFocus,c=e.autoWidth,v=e.children,m=e.classes,b=e.className,_=e.defaultValue,w=e.disabled,E=e.displayEmpty,S=e.IconComponent,C=e.inputRef,O=e.labelId,T=e.MenuProps,k=void 0===T?{}:T,I=e.multiple,A=e.name,N=e.onBlur,R=e.onChange,P=e.onClose,x=e.onFocus,M=e.onOpen,L=e.open,D=e.readOnly,j=e.renderValue,U=(e.required,e.SelectDisplayProps),F=void 0===U?{}:U,H=e.tabIndex,B=(e.type,e.value),V=e.variant,q=void 0===V?"standard":V,G=Object(i.a)(e,["aria-label","autoFocus","autoWidth","children","classes","className","defaultValue","disabled","displayEmpty","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","required","SelectDisplayProps","tabIndex","type","value","variant"]),z=Object(g.a)({controlled:B,default:_,name:"SelectInput"}),W=Object(u.a)(z,2),K=W[0],Y=W[1],Q=o.useRef(null),$=o.useState(null),X=$[0],J=$[1],Z=o.useRef(null!=L).current,ee=o.useState(),te=ee[0],ne=ee[1],re=o.useState(!1),ie=re[0],oe=re[1],ae=Object(p.a)(t,C);o.useImperativeHandle(ae,function(){return{focus:function(){X.focus()},node:Q.current,value:K}},[X,K]),o.useEffect(function(){a&&X&&X.focus()},[a,X]);var se,ue,ce=function(e,t){e?M&&M(t):P&&P(t),Z||(ne(c?null:X.clientWidth),oe(e))},le=function(e){return function(t){var n;if(I||ce(!1,t),I){n=Array.isArray(K)?Object(s.a)(K):[];var r=K.indexOf(e.props.value);-1===r?n.push(e.props.value):n.splice(r,1)}else n=e.props.value;K!==n&&(Y(n),R&&(t.persist(),Object.defineProperty(t,"target",{writable:!0,value:{value:n,name:A}}),R(t,e)))}},he=null!==X&&(Z?L:ie);delete G["aria-invalid"];var fe=[],de=!1;(Object(d.b)({value:K})||E)&&(j?se=j(K):de=!0);var pe=o.Children.map(v,function(e){if(!o.isValidElement(e))return null;var t;if(I){if(!Array.isArray(K))throw new Error("Material-UI: the `value` prop must be an array when using the `Select` component with `multiple`.");(t=K.some(function(t){return y(t,e.props.value)}))&&de&&fe.push(e.props.children)}else(t=y(K,e.props.value))&&de&&(ue=e.props.children);return t&&!0,o.cloneElement(e,{"aria-selected":t?"true":void 0,onClick:le(e),onKeyUp:function(t){" "===t.key&&t.preventDefault();var n=e.props.onKeyUp;"function"===typeof n&&n(t)},role:"option",selected:t,value:void 0,"data-value":e.props.value})});de&&(se=I?fe.join(", "):ue);var ge,ye=te;!c&&Z&&X&&(ye=X.clientWidth),ge="undefined"!==typeof H?H:w?null:0;var ve=F.id||(A?"mui-component-select-".concat(A):void 0);return o.createElement(o.Fragment,null,o.createElement("div",Object(r.a)({className:Object(l.a)(m.root,m.select,m.selectMenu,m[q],b,w&&m.disabled),ref:J,tabIndex:ge,role:"button","aria-disabled":w?"true":void 0,"aria-expanded":he?"true":void 0,"aria-haspopup":"listbox","aria-label":n,"aria-labelledby":[O,ve].filter(Boolean).join(" ")||void 0,onKeyDown:function(e){D||-1!==[" ","ArrowUp","ArrowDown","Enter"].indexOf(e.key)&&(e.preventDefault(),ce(!0,e))},onMouseDown:w||D?null:function(e){0===e.button&&(e.preventDefault(),X.focus(),ce(!0,e))},onBlur:function(e){!he&&N&&(e.persist(),Object.defineProperty(e,"target",{writable:!0,value:{value:K,name:A}}),N(e))},onFocus:x},F,{id:ve}),function(e){return null==e||"string"===typeof e&&!e.trim()}(se)?o.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}}):se),o.createElement("input",Object(r.a)({value:Array.isArray(K)?K.join(","):K,name:A,ref:Q,type:"hidden",autoFocus:a},G)),o.createElement(S,{className:Object(l.a)(m.icon,m["icon".concat(Object(h.a)(q))],he&&m.iconOpen,w&&m.disabled)}),o.createElement(f.a,Object(r.a)({id:"menu-".concat(A||""),anchorEl:X,open:he,onClose:function(e){ce(!1,e)}},k,{MenuListProps:Object(r.a)({"aria-labelledby":O,role:"listbox",disableListWrap:!0},k.MenuListProps),PaperProps:Object(r.a)({},k.PaperProps,{style:Object(r.a)({minWidth:ye},null!=k.PaperProps?k.PaperProps.style:null)})}),pe))}),m=n(81),b=n(74),_=n(8),w=n(76),E=Object(w.a)(o.createElement("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),S=n(500),C=o.forwardRef(function(e,t){var n=e.classes,a=e.className,s=e.disabled,u=e.IconComponent,c=e.inputRef,f=e.variant,d=void 0===f?"standard":f,p=Object(i.a)(e,["classes","className","disabled","IconComponent","inputRef","variant"]);return o.createElement(o.Fragment,null,o.createElement("select",Object(r.a)({className:Object(l.a)(n.root,n.select,n[d],a,s&&n.disabled),disabled:s,ref:c||t},p)),e.multiple?null:o.createElement(u,{className:Object(l.a)(n.icon,n["icon".concat(Object(h.a)(d))],s&&n.disabled)}))}),O=function(e){return{root:{},select:{"-moz-appearance":"none","-webkit-appearance":"none",userSelect:"none",borderRadius:0,minWidth:16,cursor:"pointer","&:focus":{backgroundColor:"light"===e.palette.type?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)",borderRadius:0},"&::-ms-expand":{display:"none"},"&$disabled":{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:e.palette.background.paper},"&&":{paddingRight:24}},filled:{"&&":{paddingRight:32}},outlined:{borderRadius:e.shape.borderRadius,"&&":{paddingRight:32}},selectMenu:{height:"auto",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"},disabled:{},icon:{position:"absolute",right:0,top:"calc(50% - 12px)",pointerEvents:"none",color:e.palette.action.active,"&$disabled":{color:e.palette.action.disabled}},iconOpen:{transform:"rotate(180deg)"},iconFilled:{right:7},iconOutlined:{right:7}}},T=o.createElement(S.a,null),k=o.forwardRef(function(e,t){var n=e.children,a=e.classes,s=e.IconComponent,u=void 0===s?E:s,c=e.input,l=void 0===c?T:c,h=e.inputProps,f=(e.variant,Object(i.a)(e,["children","classes","IconComponent","input","inputProps","variant"])),d=Object(b.a)(),p=Object(m.a)({props:e,muiFormControl:d,states:["variant"]});return o.cloneElement(l,Object(r.a)({inputComponent:C,inputProps:Object(r.a)({children:n,classes:a,IconComponent:u,variant:p.variant,type:void 0},h,{},l?l.props.inputProps:{}),ref:t},f))});k.muiName="Select";Object(_.a)(O,{name:"MuiNativeSelect"})(k);var I=n(924),A=n(930),N=O,R=o.createElement(S.a,null),P=o.createElement(I.a,null),x=o.forwardRef(function e(t,n){var s=t.autoWidth,u=void 0!==s&&s,c=t.children,l=t.classes,h=t.displayEmpty,f=void 0!==h&&h,d=t.IconComponent,p=void 0===d?E:d,g=t.id,y=t.input,_=t.inputProps,w=t.label,S=t.labelId,O=t.labelWidth,T=void 0===O?0:O,k=t.MenuProps,I=t.multiple,N=void 0!==I&&I,x=t.native,M=void 0!==x&&x,L=t.onClose,D=t.onOpen,j=t.open,U=t.renderValue,F=t.SelectDisplayProps,H=t.variant,B=void 0===H?"standard":H,V=Object(i.a)(t,["autoWidth","children","classes","displayEmpty","IconComponent","id","input","inputProps","label","labelId","labelWidth","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"]),q=M?C:v,G=Object(b.a)(),z=Object(m.a)({props:t,muiFormControl:G,states:["variant"]}).variant||B,W=y||{standard:R,outlined:o.createElement(A.a,{label:w,labelWidth:T}),filled:P}[z];return o.cloneElement(W,Object(r.a)({inputComponent:q,inputProps:Object(r.a)({children:c,IconComponent:p,variant:z,type:void 0,multiple:N},M?{id:g}:{autoWidth:u,displayEmpty:f,labelId:S,MenuProps:k,onClose:L,onOpen:D,open:j,renderValue:U,SelectDisplayProps:Object(r.a)({id:g},F)},{},_,{classes:_?Object(a.a)({baseClasses:l,newClasses:_.classes,Component:e}):l},y?y.props.inputProps:{}),ref:n},V))});x.muiName="Select";t.a=Object(_.a)(N,{name:"MuiSelect"})(x)},function(e,t,n){"use strict";var r=n(3),i=n(5),o=n(0),a=(n(7),n(6)),s=n(481),u=n(52),c=n(8),l=n(45),h=n(13),f=o.forwardRef(function(e,t){e.children;var n=e.classes,s=e.className,c=e.label,f=e.labelWidth,d=e.notched,p=e.style,g=Object(i.a)(e,["children","classes","className","label","labelWidth","notched","style"]),y="rtl"===Object(l.a)().direction?"right":"left";if(void 0!==c)return o.createElement("fieldset",Object(r.a)({"aria-hidden":!0,className:Object(a.a)(n.root,s),ref:t,style:p},g),o.createElement("legend",{className:Object(a.a)(n.legendLabelled,d&&n.legendNotched)},c?o.createElement("span",null,c):o.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}})));var v=f>0?.75*f+8:.01;return o.createElement("fieldset",Object(r.a)({"aria-hidden":!0,style:Object(r.a)(Object(u.a)({},"padding".concat(Object(h.a)(y)),8),p),className:Object(a.a)(n.root,s),ref:t},g),o.createElement("legend",{className:n.legend,style:{width:d?v:.01}},o.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}})))}),d=Object(c.a)(function(e){return{root:{position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:0,paddingLeft:8,pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1},legend:{textAlign:"left",padding:0,lineHeight:"11px",transition:e.transitions.create("width",{duration:150,easing:e.transitions.easing.easeOut})},legendLabelled:{display:"block",width:"auto",textAlign:"left",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:e.transitions.create("max-width",{duration:50,easing:e.transitions.easing.easeOut}),"& > span":{paddingLeft:5,paddingRight:5,display:"inline-block"}},legendNotched:{maxWidth:1e3,transition:e.transitions.create("max-width",{duration:100,easing:e.transitions.easing.easeOut,delay:50})}}},{name:"PrivateNotchedOutline"})(f),p=o.forwardRef(function(e,t){var n=e.classes,u=e.fullWidth,c=void 0!==u&&u,l=e.inputComponent,h=void 0===l?"input":l,f=e.label,p=e.labelWidth,g=void 0===p?0:p,y=e.multiline,v=void 0!==y&&y,m=e.notched,b=e.type,_=void 0===b?"text":b,w=Object(i.a)(e,["classes","fullWidth","inputComponent","label","labelWidth","multiline","notched","type"]);return o.createElement(s.a,Object(r.a)({renderSuffix:function(e){return o.createElement(d,{className:n.notchedOutline,label:f,labelWidth:g,notched:"undefined"!==typeof m?m:Boolean(e.startAdornment||e.filled||e.focused)})},classes:Object(r.a)({},n,{root:Object(a.a)(n.root,n.underline),notchedOutline:null}),fullWidth:c,inputComponent:h,multiline:v,ref:t,type:_},w))});p.muiName="Input";t.a=Object(c.a)(function(e){var t="light"===e.palette.type?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{root:{position:"relative",borderRadius:e.shape.borderRadius,"&:hover $notchedOutline":{borderColor:e.palette.text.primary},"@media (hover: none)":{"&:hover $notchedOutline":{borderColor:t}},"&$focused $notchedOutline":{borderColor:e.palette.primary.main,borderWidth:2},"&$error $notchedOutline":{borderColor:e.palette.error.main},"&$disabled $notchedOutline":{borderColor:e.palette.action.disabled}},colorSecondary:{"&$focused $notchedOutline":{borderColor:e.palette.secondary.main}},focused:{},disabled:{},adornedStart:{paddingLeft:14},adornedEnd:{paddingRight:14},error:{},marginDense:{},multiline:{padding:"18.5px 14px","&$marginDense":{paddingTop:10.5,paddingBottom:10.5}},notchedOutline:{borderColor:t},input:{padding:"18.5px 14px","&:-webkit-autofill":{WebkitBoxShadow:"dark"===e.palette.type?"0 0 0 100px #266798 inset":null,WebkitTextFillColor:"dark"===e.palette.type?"#fff":null,borderRadius:"inherit"}},inputMarginDense:{paddingTop:10.5,paddingBottom:10.5},inputMultiline:{padding:0},inputAdornedStart:{paddingLeft:0},inputAdornedEnd:{paddingRight:0}}},{name:"MuiOutlinedInput"})(p)},,function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return s});var r=n(0),i=(n(7),Object(r.createContext)(null)),o=function(e){var t=e.utils,n=e.children,o=e.locale,a=e.libInstance,s=Object(r.useMemo)(function(){return new t({locale:o,instance:a})},[t,a,o]);return Object(r.createElement)(i.Provider,{value:s,children:n})},a=function(e){if(!e)throw new Error("Can not find utils in context. You either a) forgot to wrap your component tree in MuiPickersUtilsProvider; or b) mixed named and direct file imports.  Recommendation: use named imports from the module index.")};function s(){var e=Object(r.useContext)(i);return a(e),e}},,,,,,,,function(e,t,n){"use strict";n.d(t,"c",function(){return d}),n.d(t,"a",function(){return g}),n.d(t,"b",function(){return y});var r,i=n(3),o=n(5),a=n(0),s=n.n(a),u=(n(7),n(497)),c=n(194),l=n(461),h=Object(c.b)(Object(l.a)()),f=Object(u.a)(),d=new Map,p={disableGeneration:!1,generateClassName:f,jss:h,sheetsCache:null,sheetsManager:d,sheetsRegistry:null},g=s.a.createContext(p);function y(e){var t=e.children,n=e.injectFirst,a=void 0!==n&&n,u=e.disableGeneration,h=void 0!==u&&u,f=Object(o.a)(e,["children","injectFirst","disableGeneration"]),d=s.a.useContext(g),p=Object(i.a)({},d,{disableGeneration:h},f);if(!p.jss.options.insertionPoint&&a&&"undefined"!==typeof window){if(!r){var y=document.head;r=document.createComment("mui-inject-first"),y.insertBefore(r,y.firstChild)}p.jss=Object(c.b)({plugins:Object(l.a)().plugins,insertionPoint:r})}return s.a.createElement(g.Provider,{value:p},t)}},function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"g",function(){return s}),n.d(t,"f",function(){return u}),n.d(t,"b",function(){return c}),n.d(t,"d",function(){return l}),n.d(t,"c",function(){return h}),n.d(t,"e",function(){return f});var r=n(11),i=n(56);function o(e){return"number"!==typeof e?e:"".concat(e,"px solid")}var a=Object(r.a)({prop:"border",themeKey:"borders",transform:o}),s=Object(r.a)({prop:"borderTop",themeKey:"borders",transform:o}),u=Object(r.a)({prop:"borderRight",themeKey:"borders",transform:o}),c=Object(r.a)({prop:"borderBottom",themeKey:"borders",transform:o}),l=Object(r.a)({prop:"borderLeft",themeKey:"borders",transform:o}),h=Object(r.a)({prop:"borderColor",themeKey:"palette"}),f=Object(r.a)({prop:"borderRadius",themeKey:"shape"}),d=Object(i.a)(a,s,u,c,l,h,f);t.h=d},function(e,t,n){"use strict";n.d(t,"f",function(){return o}),n.d(t,"g",function(){return a}),n.d(t,"j",function(){return s}),n.d(t,"k",function(){return u}),n.d(t,"b",function(){return c}),n.d(t,"a",function(){return l}),n.d(t,"n",function(){return h}),n.d(t,"e",function(){return f}),n.d(t,"h",function(){return d}),n.d(t,"i",function(){return p}),n.d(t,"c",function(){return g}),n.d(t,"l",function(){return y}),n.d(t,"m",function(){return v});var r=n(11),i=n(56),o=Object(r.a)({prop:"flexBasis"}),a=Object(r.a)({prop:"flexDirection"}),s=Object(r.a)({prop:"flexWrap"}),u=Object(r.a)({prop:"justifyContent"}),c=Object(r.a)({prop:"alignItems"}),l=Object(r.a)({prop:"alignContent"}),h=Object(r.a)({prop:"order"}),f=Object(r.a)({prop:"flex"}),d=Object(r.a)({prop:"flexGrow"}),p=Object(r.a)({prop:"flexShrink"}),g=Object(r.a)({prop:"alignSelf"}),y=Object(r.a)({prop:"justifyItems"}),v=Object(r.a)({prop:"justifySelf"}),m=Object(i.a)(o,a,s,u,c,l,h,f,d,p,g,y,v);t.d=m},function(e,t,n){"use strict";n.d(t,"h",function(){return o}),n.d(t,"g",function(){return a}),n.d(t,"j",function(){return s}),n.d(t,"f",function(){return u}),n.d(t,"i",function(){return c}),n.d(t,"d",function(){return l}),n.d(t,"c",function(){return h}),n.d(t,"e",function(){return f}),n.d(t,"l",function(){return d}),n.d(t,"m",function(){return p}),n.d(t,"k",function(){return g}),n.d(t,"b",function(){return y});var r=n(11),i=n(56),o=Object(r.a)({prop:"gridGap"}),a=Object(r.a)({prop:"gridColumnGap"}),s=Object(r.a)({prop:"gridRowGap"}),u=Object(r.a)({prop:"gridColumn"}),c=Object(r.a)({prop:"gridRow"}),l=Object(r.a)({prop:"gridAutoFlow"}),h=Object(r.a)({prop:"gridAutoColumns"}),f=Object(r.a)({prop:"gridAutoRows"}),d=Object(r.a)({prop:"gridTemplateColumns"}),p=Object(r.a)({prop:"gridTemplateRows"}),g=Object(r.a)({prop:"gridTemplateAreas"}),y=Object(r.a)({prop:"gridArea"}),v=Object(i.a)(o,a,s,u,c,l,h,f,d,p,g,y);t.a=v},function(e,t,n){"use strict";n.d(t,"d",function(){return o}),n.d(t,"g",function(){return a}),n.d(t,"f",function(){return s}),n.d(t,"e",function(){return u}),n.d(t,"a",function(){return c}),n.d(t,"c",function(){return l});var r=n(11),i=n(56),o=Object(r.a)({prop:"position"}),a=Object(r.a)({prop:"zIndex",themeKey:"zIndex"}),s=Object(r.a)({prop:"top"}),u=Object(r.a)({prop:"right"}),c=Object(r.a)({prop:"bottom"}),l=Object(r.a)({prop:"left"});t.b=Object(i.a)(o,a,s,u,c,l)},function(e,t,n){"use strict";n.d(t,"b",function(){return o}),n.d(t,"a",function(){return a});var r=n(11),i=n(56),o=Object(r.a)({prop:"color",themeKey:"palette"}),a=Object(r.a)({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette"}),s=Object(i.a)(o,a);t.c=s},function(e,t,n){"use strict";n.d(t,"j",function(){return a}),n.d(t,"e",function(){return s}),n.d(t,"g",function(){return u}),n.d(t,"c",function(){return c}),n.d(t,"d",function(){return l}),n.d(t,"f",function(){return h}),n.d(t,"i",function(){return f}),n.d(t,"h",function(){return d}),n.d(t,"a",function(){return p});var r=n(11),i=n(56);function o(e){return e<=1?"".concat(100*e,"%"):e}var a=Object(r.a)({prop:"width",transform:o}),s=Object(r.a)({prop:"maxWidth",transform:o}),u=Object(r.a)({prop:"minWidth",transform:o}),c=Object(r.a)({prop:"height",transform:o}),l=Object(r.a)({prop:"maxHeight",transform:o}),h=Object(r.a)({prop:"minHeight",transform:o}),f=Object(r.a)({prop:"size",cssProperty:"width",transform:o}),d=Object(r.a)({prop:"size",cssProperty:"height",transform:o}),p=Object(r.a)({prop:"boxSizing"}),g=Object(i.a)(a,s,u,c,l,h,p);t.b=g},function(e,t,n){"use strict";n.d(t,"b",function(){return o}),n.d(t,"c",function(){return a}),n.d(t,"d",function(){return s}),n.d(t,"e",function(){return u}),n.d(t,"f",function(){return c}),n.d(t,"g",function(){return l}),n.d(t,"h",function(){return h});var r=n(11),i=n(56),o=Object(r.a)({prop:"fontFamily",themeKey:"typography"}),a=Object(r.a)({prop:"fontSize",themeKey:"typography"}),s=Object(r.a)({prop:"fontStyle",themeKey:"typography"}),u=Object(r.a)({prop:"fontWeight",themeKey:"typography"}),c=Object(r.a)({prop:"letterSpacing"}),l=Object(r.a)({prop:"lineHeight"}),h=Object(r.a)({prop:"textAlign"}),f=Object(i.a)(o,a,s,u,c,l,h);t.a=f},function(e,t,n){"use strict";var r=n(147),i=n(235),o=n(122);n.d(t,"a",function(){return h});var a={m:"margin",p:"padding"},s={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},u={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},c=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}(function(e){if(e.length>2){if(!u[e])return[e];e=u[e]}var t=e.split(""),n=Object(r.a)(t,2),i=n[0],o=n[1],c=a[i],l=s[o]||"";return Array.isArray(l)?l.map(function(e){return c+e}):[c+l]}),l=["m","mt","mr","mb","ml","mx","my","p","pt","pr","pb","pl","px","py","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY"];function h(e){var t=e.spacing||8;return"number"===typeof t?function(e){return t*e}:Array.isArray(t)?function(e){return t[e]}:"function"===typeof t?t:function(){}}function f(e,t){return function(n){return e.reduce(function(e,r){return e[r]=function(e,t){if("string"===typeof t)return t;var n=e(Math.abs(t));return t>=0?n:"number"===typeof n?-n:"-".concat(n)}(t,n),e},{})}}function d(e){var t=h(e.theme);return Object.keys(e).map(function(n){if(-1===l.indexOf(n))return null;var r=f(c(n),t),o=e[n];return Object(i.b)(e,o,r)}).reduce(o.a,{})}d.propTypes={},d.filterProps=l;t.b=d},,,,,,,function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(3);function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.baseClasses,n=e.newClasses;e.Component;if(!n)return t;var i=Object(r.a)({},t);return Object.keys(n).forEach(function(e){n[e]&&(i[e]="".concat(t[e]," ").concat(n[e]))}),i}},function(e,t,n){"use strict";var r=n(60),i=n(3),o=(n(7),n(122));t.a=function(e){var t=function(t){var n=e(t);return t.css?Object(i.a)({},Object(o.a)(n,e(Object(i.a)({theme:t.theme},t.css))),{},function(e,t){var n={};return Object.keys(e).forEach(function(r){-1===t.indexOf(r)&&(n[r]=e[r])}),n}(t.css,[e.filterProps])):n};return t.propTypes={},t.filterProps=["css"].concat(Object(r.a)(e.filterProps)),t}},function(e,t,n){"use strict";var r=n(11),i=n(56),o=Object(r.a)({prop:"displayPrint",cssProperty:!1,transform:function(e){return{"@media print":{display:e}}}}),a=Object(r.a)({prop:"display"}),s=Object(r.a)({prop:"overflow"}),u=Object(r.a)({prop:"textOverflow"}),c=Object(r.a)({prop:"visibility"}),l=Object(r.a)({prop:"whiteSpace"});t.a=Object(i.a)(o,a,s,u,c,l)},function(e,t,n){"use strict";var r=n(11),i=Object(r.a)({prop:"boxShadow",themeKey:"shadows"});t.a=i},function(e,t,n){"use strict";n.d(t,"a",function(){return h});var r=n(3),i=n(5),o=n(0),a=n.n(o),s=n(6),u=(n(7),n(64)),c=n.n(u),l=n(462);function h(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=n.name,u=Object(i.a)(n,["name"]);var h,f=o,d="function"===typeof t?function(e){return{root:function(n){return t(Object(r.a)({theme:e},n))}}}:{root:t},p=Object(l.a)(d,Object(r.a)({Component:e,name:o||e.displayName,classNamePrefix:f},u));t.filterProps&&(h=t.filterProps,delete t.filterProps),t.propTypes&&(t.propTypes,delete t.propTypes);var g=a.a.forwardRef(function(t,n){var o=t.children,u=t.className,c=t.clone,l=t.component,f=Object(i.a)(t,["children","className","clone","component"]),d=p(t),g=Object(s.a)(d.root,u),y=f;if(h&&(y=function(e,t){var n={};return Object.keys(e).forEach(function(r){-1===t.indexOf(r)&&(n[r]=e[r])}),n}(y,h)),c)return a.a.cloneElement(o,Object(r.a)({className:Object(s.a)(o.props.className,g)},y));if("function"===typeof o)return o(Object(r.a)({className:g},y));var v=l||e;return a.a.createElement(v,Object(r.a)({ref:n,className:g},y),o)});return c()(g,e),g}}},function(e,t,n){"use strict";var r=n(3),i=n(0),o=n.n(i),a=(n(7),n(251)),s=n(317),u=n(252);t.a=function(e){var t=e.children,n=e.theme,i=Object(s.a)(),c=o.a.useMemo(function(){var e=null===i?n:function(e,t){return"function"===typeof t?t(e):Object(r.a)({},e,{},t)}(i,n);return null!=e&&(e[u.a]=null!==i),e},[n,i]);return o.a.createElement(a.a.Provider,{value:c},t)}},,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";t.a={50:"#e0f2f1",100:"#b2dfdb",200:"#80cbc4",300:"#4db6ac",400:"#26a69a",500:"#009688",600:"#00897b",700:"#00796b",800:"#00695c",900:"#004d40",A100:"#a7ffeb",A200:"#64ffda",A400:"#1de9b6",A700:"#00bfa5"}},function(e,t,n){"use strict";var r=n(0),i=n.n(r),o=n(7),a=n.n(o);function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function u(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var c=function(e){var t=e.color,n=e.size,r=u(e,["color","size"]);return i.a.createElement("svg",s({xmlns:"http://www.w3.org/2000/svg",width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:t,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},r),i.a.createElement("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),i.a.createElement("circle",{cx:"9",cy:"7",r:"4"}),i.a.createElement("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),i.a.createElement("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"}))};c.propTypes={color:a.a.string,size:a.a.oneOfType([a.a.string,a.a.number])},c.defaultProps={color:"currentColor",size:"24"},t.a=c},function(e,t,n){"use strict";var r=n(3),i=n(5),o=n(0),a=(n(7),n(6)),s=n(478),u=n(920),c=n(8),l=n(919),h=n(196),f=n(13),d=n(73),p=n(45),g={left:"right",right:"left",top:"down",bottom:"up"};var y={enter:d.b.enteringScreen,exit:d.b.leavingScreen},v=o.forwardRef(function(e,t){var n=e.anchor,c=void 0===n?"left":n,d=e.BackdropProps,v=e.children,m=e.classes,b=e.className,_=e.elevation,w=void 0===_?16:_,E=e.ModalProps,S=(E=void 0===E?{}:E).BackdropProps,C=Object(i.a)(E,["BackdropProps"]),O=e.onClose,T=e.open,k=void 0!==T&&T,I=e.PaperProps,A=void 0===I?{}:I,N=e.SlideProps,R=e.transitionDuration,P=void 0===R?y:R,x=e.variant,M=void 0===x?"temporary":x,L=Object(i.a)(e,["anchor","BackdropProps","children","classes","className","elevation","ModalProps","onClose","open","PaperProps","SlideProps","transitionDuration","variant"]),D=Object(p.a)(),j=o.useRef(!1);o.useEffect(function(){j.current=!0},[]);var U=function(e,t){return"rtl"===e.direction&&function(e){return-1!==["left","right"].indexOf(e)}(t)?g[t]:t}(D,c),F=o.createElement(h.a,Object(r.a)({elevation:"temporary"===M?w:0,square:!0},A,{className:Object(a.a)(m.paper,m["paperAnchor".concat(Object(f.a)(U))],A.className,"temporary"!==M&&m["paperAnchorDocked".concat(Object(f.a)(U))])}),v);if("permanent"===M)return o.createElement("div",Object(r.a)({className:Object(a.a)(m.root,m.docked,b),ref:t},L),F);var H=o.createElement(l.a,Object(r.a)({in:k,direction:g[U],timeout:P,appear:j.current},N),F);return"persistent"===M?o.createElement("div",Object(r.a)({className:Object(a.a)(m.root,m.docked,b),ref:t},L),H):o.createElement(s.a,Object(r.a)({BackdropProps:Object(r.a)({},d,{},S,{transitionDuration:P}),BackdropComponent:u.a,className:Object(a.a)(m.root,m.modal,b),open:k,onClose:O,ref:t},L,C),H)});t.a=Object(c.a)(function(e){return{root:{},docked:{flex:"0 0 auto"},paper:{overflowY:"auto",display:"flex",flexDirection:"column",height:"100%",flex:"1 0 auto",zIndex:e.zIndex.drawer,WebkitOverflowScrolling:"touch",position:"fixed",top:0,outline:0},paperAnchorLeft:{left:0,right:"auto"},paperAnchorRight:{left:"auto",right:0},paperAnchorTop:{top:0,left:0,bottom:"auto",right:0,height:"auto",maxHeight:"100%"},paperAnchorBottom:{top:"auto",left:0,bottom:0,right:0,height:"auto",maxHeight:"100%"},paperAnchorDockedLeft:{borderRight:"1px solid ".concat(e.palette.divider)},paperAnchorDockedTop:{borderBottom:"1px solid ".concat(e.palette.divider)},paperAnchorDockedRight:{borderLeft:"1px solid ".concat(e.palette.divider)},paperAnchorDockedBottom:{borderTop:"1px solid ".concat(e.palette.divider)},modal:{}}},{name:"MuiDrawer",flip:!1})(v)},function(e,t,n){"use strict";var r=n(0),i=n(30),o=(n(7),n(120)),a=n(28);var s="undefined"!==typeof window?r.useLayoutEffect:r.useEffect,u=r.forwardRef(function(e,t){var n=e.children,u=e.container,c=e.disablePortal,l=void 0!==c&&c,h=e.onRendered,f=r.useState(null),d=f[0],p=f[1],g=Object(a.a)(r.isValidElement(n)?n.ref:null,t);return s(function(){l||p(function(e){return e="function"===typeof e?e():e,i.findDOMNode(e)}(u)||document.body)},[u,l]),s(function(){if(d&&!l)return Object(o.a)(t,d),function(){Object(o.a)(t,null)}},[t,d,l]),s(function(){h&&(d||l)&&h()},[h,d,l]),l?r.isValidElement(n)?r.cloneElement(n,{ref:g}):n:d?i.createPortal(n,d):d});t.a=u},function(e,t,n){"use strict";var r=n(3),i=n(5),o=n(0),a=(n(7),n(6)),s=n(8),u=n(119),c=o.forwardRef(function(e,t){var n=e.children,s=e.classes,c=e.className,l=e.component,h=void 0===l?"ul":l,f=e.dense,d=void 0!==f&&f,p=e.disablePadding,g=void 0!==p&&p,y=e.subheader,v=Object(i.a)(e,["children","classes","className","component","dense","disablePadding","subheader"]),m=o.useMemo(function(){return{dense:d}},[d]);return o.createElement(u.a.Provider,{value:m},o.createElement(h,Object(r.a)({className:Object(a.a)(s.root,c,d&&s.dense,!g&&s.padding,y&&s.subheader),ref:t},v),y,n))});t.a=Object(s.a)({root:{listStyle:"none",margin:0,padding:0,position:"relative"},padding:{paddingTop:8,paddingBottom:8},dense:{},subheader:{paddingTop:0}},{name:"MuiList"})(c)},function(e,t,n){"use strict";var r=n(0),i=n.n(r),o=n(7),a=n.n(o);function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function u(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var c=function(e){var t=e.color,n=e.size,r=u(e,["color","size"]);return i.a.createElement("svg",s({xmlns:"http://www.w3.org/2000/svg",width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:t,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},r),i.a.createElement("polygon",{points:"12 2 2 7 12 12 22 7 12 2"}),i.a.createElement("polyline",{points:"2 17 12 22 22 17"}),i.a.createElement("polyline",{points:"2 12 12 17 22 12"}))};c.propTypes={color:a.a.string,size:a.a.oneOfType([a.a.string,a.a.number])},c.defaultProps={color:"currentColor",size:"24"},t.a=c},function(e,t,n){"use strict";var r=n(3),i=n(5),o=n(0),a=(n(7),n(6)),s=n(8),u=n(112),c=n(119),l=o.forwardRef(function(e,t){var n=e.children,s=e.classes,l=e.className,h=e.disableTypography,f=void 0!==h&&h,d=e.inset,p=void 0!==d&&d,g=e.primary,y=e.primaryTypographyProps,v=e.secondary,m=e.secondaryTypographyProps,b=Object(i.a)(e,["children","classes","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"]),_=o.useContext(c.a).dense,w=null!=g?g:n;null==w||w.type===u.a||f||(w=o.createElement(u.a,Object(r.a)({variant:_?"body2":"body1",className:s.primary,component:"span",display:"block"},y),w));var E=v;return null==E||E.type===u.a||f||(E=o.createElement(u.a,Object(r.a)({variant:"body2",className:s.secondary,color:"textSecondary",display:"block"},m),E)),o.createElement("div",Object(r.a)({className:Object(a.a)(s.root,l,_&&s.dense,p&&s.inset,w&&E&&s.multiline),ref:t},b),w,E)});t.a=Object(s.a)({root:{flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},multiline:{marginTop:6,marginBottom:6},dense:{},inset:{paddingLeft:56},primary:{},secondary:{}},{name:"MuiListItemText"})(l)},function(e,t,n){"use strict";var r=n(0),i=n.n(r),o=n(139);t.a=Object(o.a)(i.a.createElement("path",{d:"M12 8l-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14z"}),"ExpandLess")},function(e,t,n){"use strict";var r=n(0),i=n.n(r),o=n(139);t.a=Object(o.a)(i.a.createElement("path",{d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore")},function(e,t,n){"use strict";var r=n(3),i=n(5),o=n(0),a=(n(7),n(6)),s=n(8),u=n(13),c=o.forwardRef(function(e,t){var n=e.anchorOrigin,s=void 0===n?{vertical:"top",horizontal:"right"}:n,c=e.badgeContent,l=e.children,h=e.classes,f=e.className,d=e.color,p=void 0===d?"default":d,g=e.component,y=void 0===g?"span":g,v=e.invisible,m=e.max,b=void 0===m?99:m,_=e.overlap,w=void 0===_?"rectangle":_,E=e.showZero,S=void 0!==E&&E,C=e.variant,O=void 0===C?"standard":C,T=Object(i.a)(e,["anchorOrigin","badgeContent","children","classes","className","color","component","invisible","max","overlap","showZero","variant"]),k=v;null==v&&(0===c&&!S||null==c&&"dot"!==O)&&(k=!0);var I="";return"dot"!==O&&(I=c>b?"".concat(b,"+"):c),o.createElement(y,Object(r.a)({className:Object(a.a)(h.root,f),ref:t},T),l,o.createElement("span",{className:Object(a.a)(h.badge,h["".concat(s.horizontal).concat(Object(u.a)(s.vertical),"}")],h["anchorOrigin".concat(Object(u.a)(s.vertical)).concat(Object(u.a)(s.horizontal)).concat(Object(u.a)(w))],"default"!==p&&h["color".concat(Object(u.a)(p))],k&&h.invisible,"dot"===O&&h.dot)},I))});t.a=Object(s.a)(function(e){return{root:{position:"relative",display:"inline-flex",verticalAlign:"middle",flexShrink:0},badge:{display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",alignContent:"center",alignItems:"center",position:"absolute",boxSizing:"border-box",fontFamily:e.typography.fontFamily,fontWeight:e.typography.fontWeightMedium,fontSize:e.typography.pxToRem(12),minWidth:20,lineHeight:1,padding:"0 6px",height:20,borderRadius:10,zIndex:1,transition:e.transitions.create("transform",{easing:e.transitions.easing.easeInOut,duration:e.transitions.duration.enteringScreen})},colorPrimary:{backgroundColor:e.palette.primary.main,color:e.palette.primary.contrastText},colorSecondary:{backgroundColor:e.palette.secondary.main,color:e.palette.secondary.contrastText},colorError:{backgroundColor:e.palette.error.main,color:e.palette.error.contrastText},dot:{borderRadius:4,height:8,minWidth:8,padding:0},anchorOriginTopRightRectangle:{top:0,right:0,transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%","&$invisible":{transform:"scale(0) translate(50%, -50%)"}},anchorOriginBottomRightRectangle:{bottom:0,right:0,transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%","&$invisible":{transform:"scale(0) translate(50%, 50%)"}},anchorOriginTopLeftRectangle:{top:0,left:0,transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%","&$invisible":{transform:"scale(0) translate(-50%, -50%)"}},anchorOriginBottomLeftRectangle:{bottom:0,left:0,transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%","&$invisible":{transform:"scale(0) translate(-50%, 50%)"}},anchorOriginTopRightCircle:{top:"14%",right:"14%",transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%","&$invisible":{transform:"scale(0) translate(50%, -50%)"}},anchorOriginBottomRightCircle:{bottom:"14%",right:"14%",transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%","&$invisible":{transform:"scale(0) translate(50%, 50%)"}},anchorOriginTopLeftCircle:{top:"14%",left:"14%",transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%","&$invisible":{transform:"scale(0) translate(-50%, -50%)"}},anchorOriginBottomLeftCircle:{bottom:"14%",left:"14%",transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%","&$invisible":{transform:"scale(0) translate(-50%, 50%)"}},invisible:{transition:e.transitions.create("transform",{easing:e.transitions.easing.easeInOut,duration:e.transitions.duration.leavingScreen})}}},{name:"MuiBadge"})(c)},function(e,t,n){"use strict";var r=n(3),i=n(5),o=n(0),a=n(6),s=(n(7),n(262)),u=n(8),c=n(73),l=n(59),h=n(45),f=o.forwardRef(function(e,t){var n=e.children,u=e.classes,f=e.className,d=e.collapsedHeight,p=void 0===d?"0px":d,g=e.component,y=void 0===g?"div":g,v=e.in,m=e.onEnter,b=e.onEntered,_=e.onEntering,w=e.onExit,E=e.onExiting,S=e.style,C=e.timeout,O=void 0===C?c.b.standard:C,T=Object(i.a)(e,["children","classes","className","collapsedHeight","component","in","onEnter","onEntered","onEntering","onExit","onExiting","style","timeout"]),k=Object(h.a)(),I=o.useRef(),A=o.useRef(null),N=o.useRef(),R="number"===typeof p?"".concat(p,"px"):p;o.useEffect(function(){return function(){clearTimeout(I.current)}},[]);return o.createElement(s.a,Object(r.a)({in:v,onEnter:function(e,t){e.style.height=R,m&&m(e,t)},onEntered:function(e,t){e.style.height="auto",b&&b(e,t)},onEntering:function(e,t){var n=A.current?A.current.clientHeight:0,r=Object(l.a)({style:S,timeout:O},{mode:"enter"}).duration;if("auto"===O){var i=k.transitions.getAutoHeightDuration(n);e.style.transitionDuration="".concat(i,"ms"),N.current=i}else e.style.transitionDuration="string"===typeof r?r:"".concat(r,"ms");e.style.height="".concat(n,"px"),_&&_(e,t)},onExit:function(e){var t=A.current?A.current.clientHeight:0;e.style.height="".concat(t,"px"),w&&w(e)},onExiting:function(e){var t=A.current?A.current.clientHeight:0,n=Object(l.a)({style:S,timeout:O},{mode:"exit"}).duration;if("auto"===O){var r=k.transitions.getAutoHeightDuration(t);e.style.transitionDuration="".concat(r,"ms"),N.current=r}else e.style.transitionDuration="string"===typeof n?n:"".concat(n,"ms");e.style.height=R,E&&E(e)},addEndListener:function(e,t){"auto"===O&&(I.current=setTimeout(t,N.current||0))},timeout:"auto"===O?null:O},T),function(e,i){return o.createElement(y,Object(r.a)({className:Object(a.a)(u.container,f,{entered:u.entered,exited:!v&&"0px"===R&&u.hidden}[e]),style:Object(r.a)({minHeight:R},S),ref:t},i),o.createElement("div",{className:u.wrapper,ref:A},o.createElement("div",{className:u.wrapperInner},n)))})});f.muiSupportAuto=!0,t.a=Object(u.a)(function(e){return{container:{height:0,overflow:"hidden",transition:e.transitions.create("height")},entered:{height:"auto",overflow:"visible"},hidden:{visibility:"hidden"},wrapper:{display:"flex"},wrapperInner:{width:"100%"}}},{name:"MuiCollapse"})(f)},function(e,t,n){"use strict";var r=n(3),i=n(5),o=n(0),a=(n(7),n(6)),s=n(8),u=n(13),c=n(196),l=o.forwardRef(function(e,t){var n=e.classes,s=e.className,l=e.color,h=void 0===l?"primary":l,f=e.position,d=void 0===f?"fixed":f,p=Object(i.a)(e,["classes","className","color","position"]);return o.createElement(c.a,Object(r.a)({square:!0,component:"header",elevation:4,className:Object(a.a)(n.root,n["position".concat(Object(u.a)(d))],n["color".concat(Object(u.a)(h))],s,"fixed"===d&&"mui-fixed"),ref:t},p))});t.a=Object(s.a)(function(e){var t="light"===e.palette.type?e.palette.grey[100]:e.palette.grey[900];return{root:{display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",zIndex:e.zIndex.appBar,flexShrink:0},positionFixed:{position:"fixed",top:0,left:"auto",right:0,"@media print":{position:"absolute"}},positionAbsolute:{position:"absolute",top:0,left:"auto",right:0},positionSticky:{position:"sticky",top:0,left:"auto",right:0},positionStatic:{position:"static",transform:"translateZ(0)"},positionRelative:{position:"relative"},colorDefault:{backgroundColor:t,color:e.palette.getContrastText(t)},colorPrimary:{backgroundColor:e.palette.primary.main,color:e.palette.primary.contrastText},colorSecondary:{backgroundColor:e.palette.secondary.main,color:e.palette.secondary.contrastText},colorInherit:{color:"inherit"},colorTransparent:{backgroundColor:"transparent",color:"inherit"}}},{name:"MuiAppBar"})(l)},function(e,t,n){"use strict";var r=n(3),i=n(5),o=n(0),a=(n(7),n(30)),s=n(165),u=n(6),c=n(63),l=n(193),h=n(171),f=n(8),d=n(478),p=n(923),g=n(196);function y(e,t){var n=0;return"number"===typeof t?n=t:"center"===t?n=e.height/2:"bottom"===t&&(n=e.height),n}function v(e,t){var n=0;return"number"===typeof t?n=t:"center"===t?n=e.width/2:"right"===t&&(n=e.width),n}function m(e){return[e.horizontal,e.vertical].map(function(e){return"number"===typeof e?"".concat(e,"px"):e}).join(" ")}function b(e){return"function"===typeof e?e():e}var _=o.forwardRef(function(e,t){var n=e.action,f=e.anchorEl,_=e.anchorOrigin,w=void 0===_?{vertical:"top",horizontal:"left"}:_,E=e.anchorPosition,S=e.anchorReference,C=void 0===S?"anchorEl":S,O=e.children,T=e.classes,k=e.className,I=e.container,A=e.elevation,N=void 0===A?8:A,R=e.getContentAnchorEl,P=e.marginThreshold,x=void 0===P?16:P,M=e.onEnter,L=e.onEntered,D=e.onEntering,j=e.onExit,U=e.onExited,F=e.onExiting,H=e.open,B=e.PaperProps,V=void 0===B?{}:B,q=e.transformOrigin,G=void 0===q?{vertical:"top",horizontal:"left"}:q,z=e.TransitionComponent,W=void 0===z?p.a:z,K=e.transitionDuration,Y=void 0===K?"auto":K,Q=e.TransitionProps,$=void 0===Q?{}:Q,X=Object(i.a)(e,["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","classes","className","container","elevation","getContentAnchorEl","marginThreshold","onEnter","onEntered","onEntering","onExit","onExited","onExiting","open","PaperProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps"]),J=o.useRef(),Z=o.useCallback(function(e){if("anchorPosition"===C)return E;var t=b(f),n=(t instanceof Object(l.a)(t).Element?t:Object(c.a)(J.current).body).getBoundingClientRect(),r=0===e?w.vertical:"center";return{top:n.top+y(n,r),left:n.left+v(n,w.horizontal)}},[f,w.horizontal,w.vertical,E,C]),ee=o.useCallback(function(e){var t=0;if(R&&"anchorEl"===C){var n=R(e);if(n&&e.contains(n)){var r=function(e,t){for(var n=t,r=0;n&&n!==e;)r+=(n=n.parentElement).scrollTop;return r}(e,n);t=n.offsetTop+n.clientHeight/2-r||0}0}return t},[w.vertical,C,R]),te=o.useCallback(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return{vertical:y(e,G.vertical)+t,horizontal:v(e,G.horizontal)}},[G.horizontal,G.vertical]),ne=o.useCallback(function(e){var t=ee(e),n={width:e.offsetWidth,height:e.offsetHeight},r=te(n,t);if("none"===C)return{top:null,left:null,transformOrigin:m(r)};var i=Z(t),o=i.top-r.vertical,a=i.left-r.horizontal,s=o+n.height,u=a+n.width,c=Object(l.a)(b(f)),h=c.innerHeight-x,d=c.innerWidth-x;if(o<x){var p=o-x;o-=p,r.vertical+=p}else if(s>h){var g=s-h;o-=g,r.vertical+=g}if(a<x){var y=a-x;a-=y,r.horizontal+=y}else if(u>d){var v=u-d;a-=v,r.horizontal+=v}return{top:"".concat(Math.round(o),"px"),left:"".concat(Math.round(a),"px"),transformOrigin:m(r)}},[f,C,Z,ee,te,x]),re=o.useCallback(function(){var e=J.current;if(e){var t=ne(e);null!==t.top&&(e.style.top=t.top),null!==t.left&&(e.style.left=t.left),e.style.transformOrigin=t.transformOrigin}},[ne]),ie=o.useCallback(function(e){J.current=a.findDOMNode(e)},[]);o.useEffect(function(){H&&re()}),o.useImperativeHandle(n,function(){return H?{updatePosition:function(){re()}}:null},[H,re]),o.useEffect(function(){if(H){var e=Object(s.a)(function(){re()});return window.addEventListener("resize",e),function(){e.clear(),window.removeEventListener("resize",e)}}},[H,re]);var oe=Y;"auto"!==Y||W.muiSupportAuto||(oe=void 0);var ae=I||(f?Object(c.a)(b(f)).body:void 0);return o.createElement(d.a,Object(r.a)({container:ae,open:H,ref:t,BackdropProps:{invisible:!0},className:Object(u.a)(T.root,k)},X),o.createElement(W,Object(r.a)({appear:!0,in:H,onEnter:M,onEntered:L,onExit:j,onExited:U,onExiting:F,timeout:oe},$,{onEntering:Object(h.a)(function(e,t){D&&D(e,t),re()},$.onEntering)}),o.createElement(g.a,Object(r.a)({elevation:N,ref:ie},V,{className:Object(u.a)(T.paper,V.className)}),O)))});t.a=Object(f.a)({root:{},paper:{position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}},{name:"MuiPopover"})(_)},function(e,t,n){"use strict";var r=n(5),i=n(52),o=n(3),a=n(0),s=(n(7),n(6)),u=n(8),c=n(922),l=a.forwardRef(function(e,t){var n,i=e.classes,u=e.className,l=e.component,h=void 0===l?"li":l,f=e.disableGutters,d=void 0!==f&&f,p=e.ListItemClasses,g=e.role,y=void 0===g?"menuitem":g,v=e.selected,m=e.tabIndex,b=Object(r.a)(e,["classes","className","component","disableGutters","ListItemClasses","role","selected","tabIndex"]);return e.disabled||(n=void 0!==m?m:-1),a.createElement(c.a,Object(o.a)({button:!0,role:y,tabIndex:n,component:h,selected:v,disableGutters:d,classes:Object(o.a)({dense:i.dense},p),className:Object(s.a)(i.root,u,v&&i.selected,!d&&i.gutters),ref:t},b))});t.a=Object(u.a)(function(e){return{root:Object(o.a)({},e.typography.body1,Object(i.a)({minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",width:"auto",overflow:"hidden",whiteSpace:"nowrap"},e.breakpoints.up("sm"),{minHeight:"auto"})),gutters:{},selected:{},dense:Object(o.a)({},e.typography.body2,{minHeight:"auto"})}},{name:"MuiMenuItem"})(l)},function(e,t,n){"use strict";var r=n(0),i=n.n(r),o=n(7),a=n.n(o);function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function u(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var c=function(e){var t=e.color,n=e.size,r=u(e,["color","size"]);return i.a.createElement("svg",s({xmlns:"http://www.w3.org/2000/svg",width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:t,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},r),i.a.createElement("path",{d:"M18.36 6.64a9 9 0 1 1-12.73 0"}),i.a.createElement("line",{x1:"12",y1:"2",x2:"12",y2:"12"}))};c.propTypes={color:a.a.string,size:a.a.oneOfType([a.a.string,a.a.number])},c.defaultProps={color:"currentColor",size:"24"},t.a=c},function(e,t,n){"use strict";var r=n(3),i=n(5),o=n(52),a=n(0),s=(n(7),n(6)),u=n(8),c=a.forwardRef(function(e,t){var n=e.classes,o=e.className,u=e.component,c=void 0===u?"div":u,l=e.disableGutters,h=void 0!==l&&l,f=e.variant,d=void 0===f?"regular":f,p=Object(i.a)(e,["classes","className","component","disableGutters","variant"]);return a.createElement(c,Object(r.a)({className:Object(s.a)(n.root,n[d],o,!h&&n.gutters),ref:t},p))});t.a=Object(u.a)(function(e){return{root:{position:"relative",display:"flex",alignItems:"center"},gutters:Object(o.a)({paddingLeft:e.spacing(2),paddingRight:e.spacing(2)},e.breakpoints.up("sm"),{paddingLeft:e.spacing(3),paddingRight:e.spacing(3)}),regular:e.mixins.toolbar,dense:{minHeight:48}}},{name:"MuiToolbar"})(c)},function(e,t,n){"use strict";var r=n(0),i=n.n(r),o=n(139);t.a=Object(o.a)(i.a.createElement("path",{d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"}),"Menu")},function(e,t,n){"use strict";var r=n(5),i=n(3),o=n(0),a=(n(7),n(6)),s=n(8),u=n(263),c=n(13),l=o.forwardRef(function(e,t){var n=e.children,s=e.classes,l=e.className,h=e.color,f=void 0===h?"default":h,d=e.component,p=void 0===d?"button":d,g=e.disabled,y=void 0!==g&&g,v=e.disableFocusRipple,m=void 0!==v&&v,b=e.focusVisibleClassName,_=e.size,w=void 0===_?"large":_,E=e.variant,S=void 0===E?"round":E,C=Object(r.a)(e,["children","classes","className","color","component","disabled","disableFocusRipple","focusVisibleClassName","size","variant"]);return o.createElement(u.a,Object(i.a)({className:Object(a.a)(s.root,l,"round"!==S&&s.extended,"large"!==w&&s["size".concat(Object(c.a)(w))],y&&s.disabled,{primary:s.primary,secondary:s.secondary,inherit:s.colorInherit}[f]),component:p,disabled:y,focusRipple:!m,focusVisibleClassName:Object(a.a)(s.focusVisible,b),ref:t},C),o.createElement("span",{className:s.label},n))});t.a=Object(s.a)(function(e){return{root:Object(i.a)({},e.typography.button,{boxSizing:"border-box",minHeight:36,transition:e.transitions.create(["background-color","box-shadow","border"],{duration:e.transitions.duration.short}),borderRadius:"50%",padding:0,minWidth:0,width:56,height:56,boxShadow:e.shadows[6],"&:active":{boxShadow:e.shadows[12]},color:e.palette.getContrastText(e.palette.grey[300]),backgroundColor:e.palette.grey[300],"&:hover":{backgroundColor:e.palette.grey.A100,"@media (hover: none)":{backgroundColor:e.palette.grey[300]},"&$disabled":{backgroundColor:e.palette.action.disabledBackground},textDecoration:"none"},"&$focusVisible":{boxShadow:e.shadows[6]},"&$disabled":{color:e.palette.action.disabled,boxShadow:e.shadows[0],backgroundColor:e.palette.action.disabledBackground}}),label:{width:"100%",display:"inherit",alignItems:"inherit",justifyContent:"inherit"},primary:{color:e.palette.primary.contrastText,backgroundColor:e.palette.primary.main,"&:hover":{backgroundColor:e.palette.primary.dark,"@media (hover: none)":{backgroundColor:e.palette.primary.main}}},secondary:{color:e.palette.secondary.contrastText,backgroundColor:e.palette.secondary.main,"&:hover":{backgroundColor:e.palette.secondary.dark,"@media (hover: none)":{backgroundColor:e.palette.secondary.main}}},extended:{borderRadius:24,padding:"0 16px",width:"auto",minHeight:"auto",minWidth:48,height:48,"&$sizeSmall":{width:"auto",padding:"0 8px",borderRadius:17,minWidth:34,height:34},"&$sizeMedium":{width:"auto",padding:"0 16px",borderRadius:20,minWidth:40,height:40}},focusVisible:{},disabled:{},colorInherit:{color:"inherit"},sizeSmall:{width:40,height:40},sizeMedium:{width:48,height:48}}},{name:"MuiFab"})(l)},function(e,t,n){"use strict";var r=n(3),i=n(5),o=n(0),a=n(7),s=n.n(a),u=n(999),c=n(45);function l(e){var t=e.children,n=e.only,r=e.width,i=Object(c.a)(),o=!0;if(n)if(Array.isArray(n))for(var a=0;a<n.length;a+=1){if(r===n[a]){o=!1;break}}else n&&r===n&&(o=!1);if(o)for(var s=0;s<i.breakpoints.keys.length;s+=1){var l=i.breakpoints.keys[s],h=e["".concat(l,"Up")],f=e["".concat(l,"Down")];if(h&&Object(u.c)(l,r)||f&&Object(u.b)(l,r)){o=!1;break}}return o?t:null}l.propTypes={children:s.a.node,className:s.a.string,implementation:s.a.oneOf(["js","css"]),initialWidth:s.a.oneOf(["xs","sm","md","lg","xl"]),lgDown:s.a.bool,lgUp:s.a.bool,mdDown:s.a.bool,mdUp:s.a.bool,only:s.a.oneOfType([s.a.oneOf(["xs","sm","md","lg","xl"]),s.a.arrayOf(s.a.oneOf(["xs","sm","md","lg","xl"]))]),smDown:s.a.bool,smUp:s.a.bool,width:s.a.string.isRequired,xlDown:s.a.bool,xlUp:s.a.bool,xsDown:s.a.bool,xsUp:s.a.bool};var h=Object(u.a)()(l),f=n(52),d=n(13),p=n(8);var g=Object(p.a)(function(e){var t={display:"none"};return e.breakpoints.keys.reduce(function(n,r){return n["only".concat(Object(d.a)(r))]=Object(f.a)({},e.breakpoints.only(r),t),n["".concat(r,"Up")]=Object(f.a)({},e.breakpoints.up(r),t),n["".concat(r,"Down")]=Object(f.a)({},e.breakpoints.down(r),t),n},{})},{name:"PrivateHiddenCss"})(function(e){var t=e.children,n=e.classes,r=e.className,a=e.only,s=(Object(i.a)(e,["children","classes","className","only"]),Object(c.a)()),u=[];r&&u.push(r);for(var l=0;l<s.breakpoints.keys.length;l+=1){var h=s.breakpoints.keys[l],f=e["".concat(h,"Up")],p=e["".concat(h,"Down")];f&&u.push(n["".concat(h,"Up")]),p&&u.push(n["".concat(h,"Down")])}return a&&(Array.isArray(a)?a:[a]).forEach(function(e){u.push(n["only".concat(Object(d.a)(e))])}),o.createElement("div",{className:u.join(" ")},t)});t.a=function(e){var t=e.implementation,n=void 0===t?"js":t,a=e.lgDown,s=void 0!==a&&a,u=e.lgUp,c=void 0!==u&&u,l=e.mdDown,f=void 0!==l&&l,d=e.mdUp,p=void 0!==d&&d,y=e.smDown,v=void 0!==y&&y,m=e.smUp,b=void 0!==m&&m,_=e.xlDown,w=void 0!==_&&_,E=e.xlUp,S=void 0!==E&&E,C=e.xsDown,O=void 0!==C&&C,T=e.xsUp,k=void 0!==T&&T,I=Object(i.a)(e,["implementation","lgDown","lgUp","mdDown","mdUp","smDown","smUp","xlDown","xlUp","xsDown","xsUp"]);return"js"===n?o.createElement(h,Object(r.a)({lgDown:s,lgUp:c,mdDown:f,mdUp:p,smDown:v,smUp:b,xlDown:w,xlUp:S,xsDown:O,xsUp:k},I)):o.createElement(g,Object(r.a)({lgDown:s,lgUp:c,mdDown:f,mdUp:p,smDown:v,smUp:b,xlDown:w,xlUp:S,xsDown:O,xsUp:k},I))}},function(e,t,n){"use strict";var r=n(31),i=n(3),o=n(47),a=n(25),s=(n(7),n(0)),u=n.n(s),c=n(169);function l(e,t){var n=Object.create(null);return e&&s.Children.map(e,function(e){return e}).forEach(function(e){n[e.key]=function(e){return t&&Object(s.isValidElement)(e)?t(e):e}(e)}),n}function h(e,t,n){return null!=n[t]?n[t]:e.props[t]}function f(e,t,n){var r=l(e.children),i=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,i=Object.create(null),o=[];for(var a in e)a in t?o.length&&(i[a]=o,o=[]):o.push(a);var s={};for(var u in t){if(i[u])for(r=0;r<i[u].length;r++){var c=i[u][r];s[i[u][r]]=n(c)}s[u]=n(u)}for(r=0;r<o.length;r++)s[o[r]]=n(o[r]);return s}(t,r);return Object.keys(i).forEach(function(o){var a=i[o];if(Object(s.isValidElement)(a)){var u=o in t,c=o in r,l=t[o],f=Object(s.isValidElement)(l)&&!l.props.in;!c||u&&!f?c||!u||f?c&&u&&Object(s.isValidElement)(l)&&(i[o]=Object(s.cloneElement)(a,{onExited:n.bind(null,a),in:l.props.in,exit:h(a,"exit",e),enter:h(a,"enter",e)})):i[o]=Object(s.cloneElement)(a,{in:!1}):i[o]=Object(s.cloneElement)(a,{onExited:n.bind(null,a),in:!0,exit:h(a,"exit",e),enter:h(a,"enter",e)})}}),i}var d=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},p=function(e){function t(t,n){var r,i=(r=e.call(this,t,n)||this).handleExited.bind(Object(o.a)(r));return r.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},r}Object(a.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(e,t){var n,r,i=t.children,o=t.handleExited;return{children:t.firstRender?(n=e,r=o,l(n.children,function(e){return Object(s.cloneElement)(e,{onExited:r.bind(null,e),in:!0,appear:h(e,"appear",n),enter:h(e,"enter",n),exit:h(e,"exit",n)})})):f(e,i,o),firstRender:!1}},n.handleExited=function(e,t){var n=l(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState(function(t){var n=Object(i.a)({},t.children);return delete n[e.key],{children:n}}))},n.render=function(){var e=this.props,t=e.component,n=e.childFactory,i=Object(r.a)(e,["component","childFactory"]),o=this.state.contextValue,a=d(this.state.children).map(n);return delete i.appear,delete i.enter,delete i.exit,null===t?u.a.createElement(c.a.Provider,{value:o},a):u.a.createElement(c.a.Provider,{value:o},u.a.createElement(t,i,a))},t}(u.a.Component);p.propTypes={},p.defaultProps={component:"div",childFactory:function(e){return e}};t.a=p},function(e,t,n){"use strict";var r=n(3),i=n(5),o=n(0),a=(n(7),n(6)),s=n(8),u=n(76),c=Object(u.a)(o.createElement("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");var l=o.forwardRef(function(e,t){var n=e.alt,s=e.children,u=e.classes,l=e.className,h=e.component,f=void 0===h?"div":h,d=e.imgProps,p=e.sizes,g=e.src,y=e.srcSet,v=e.variant,m=void 0===v?"circle":v,b=Object(i.a)(e,["alt","children","classes","className","component","imgProps","sizes","src","srcSet","variant"]),_=null,w=function(e){var t=e.src,n=e.srcSet,r=o.useState(!1),i=r[0],a=r[1];return o.useEffect(function(){if(t||n){a(!1);var e=!0,r=new Image;return r.src=t,r.srcSet=n,r.onload=function(){e&&a("loaded")},r.onerror=function(){e&&a("error")},function(){e=!1}}},[t,n]),i}({src:g,srcSet:y}),E=g||y,S=E&&"error"!==w;return _=S?o.createElement("img",Object(r.a)({alt:n,src:g,srcSet:y,sizes:p,className:u.img},d)):null!=s?s:E&&n?n[0]:o.createElement(c,{className:u.fallback}),o.createElement(f,Object(r.a)({className:Object(a.a)(u.root,u.system,u[m],l,!S&&u.colorDefault),ref:t},b),_)});t.a=Object(s.a)(function(e){return{root:{position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none"},colorDefault:{color:e.palette.background.default,backgroundColor:"light"===e.palette.type?e.palette.grey[400]:e.palette.grey[600]},circle:{},rounded:{borderRadius:e.shape.borderRadius},square:{borderRadius:0},img:{width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4},fallback:{width:"75%",height:"75%"}}},{name:"MuiAvatar"})(l)},function(e,t,n){"use strict";var r=n(60),i=n(3),o=n(5),a=n(0),s=(n(7),n(498)),u=n(64),c=n.n(u),l=n(45),h=n(88),f=n(317);n.d(t,"c",function(){return d}),n.d(t,"b",function(){return p});var d=function(e,t){return!(arguments.length>2&&void 0!==arguments[2])||arguments[2]?h.b.indexOf(e)<=h.b.indexOf(t):h.b.indexOf(e)<h.b.indexOf(t)},p=function(e,t){return!(arguments.length>2&&void 0!==arguments[2])||arguments[2]?h.b.indexOf(t)<=h.b.indexOf(e):h.b.indexOf(t)<h.b.indexOf(e)},g="undefined"===typeof window?a.useEffect:a.useLayoutEffect;t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t){var n=e.withTheme,u=void 0!==n&&n,h=e.noSSR,d=void 0!==h&&h,p=e.initialWidth;function y(e){var n=Object(l.a)(),c=e.theme||n,h=Object(s.a)({theme:c,name:"MuiWithWidth",props:Object(i.a)({},e)}),y=h.initialWidth,v=h.width,m=Object(o.a)(h,["initialWidth","width"]),b=a.useState(!1),_=b[0],w=b[1];g(function(){w(!0)},[]);var E=Object(r.a)(c.breakpoints.keys).reverse().reduce(function(e,t){var n=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object(f.a)(),r=Object(s.a)({theme:n,name:"MuiUseMediaQuery",props:{}}),o="function"===typeof e?e(n):e;o=o.replace(/^@media( ?)/m,"");var u="undefined"!==typeof window&&"undefined"!==typeof window.matchMedia,c=Object(i.a)({},r,{},t),l=c.defaultMatches,h=void 0!==l&&l,d=c.matchMedia,p=void 0===d?u?window.matchMedia:null:d,g=c.noSsr,y=void 0!==g&&g,v=c.ssrMatchMedia,m=void 0===v?null:v,b=a.useState(function(){return y&&u?p(o).matches:m?m(o).matches:h}),_=b[0],w=b[1];return a.useEffect(function(){var e=!0;if(u){var t=p(o),n=function(){e&&w(t.matches)};return n(),t.addListener(n),function(){e=!1,t.removeListener(n)}}},[o,p,u]),_}(c.breakpoints.up(t));return!e&&n?t:e},null),S=Object(i.a)({width:v||(_||d?E:void 0)||y||p},u?{theme:c}:{},{},m);return void 0===S.width?null:a.createElement(t,S)}return c()(y,t),y}}},function(e,t,n){"use strict";var r=n(3),i=n(5),o=n(0),a=(n(7),n(6)),s=n(76),u=Object(s.a)(o.createElement("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel"),c=n(8),l=n(20),h=n(28),f=n(13),d=n(263);function p(e){return"Backspace"===e.key||"Delete"===e.key}var g=o.forwardRef(function(e,t){var n=e.avatar,s=e.classes,c=e.className,l=e.clickable,g=e.color,y=void 0===g?"default":g,v=e.component,m=e.deleteIcon,b=e.disabled,_=void 0!==b&&b,w=e.icon,E=e.label,S=e.onClick,C=e.onDelete,O=e.onKeyDown,T=e.onKeyUp,k=e.size,I=void 0===k?"medium":k,A=e.variant,N=void 0===A?"default":A,R=Object(i.a)(e,["avatar","classes","className","clickable","color","component","deleteIcon","disabled","icon","label","onClick","onDelete","onKeyDown","onKeyUp","size","variant"]),P=o.useRef(null),x=Object(h.a)(P,t),M=function(e){e.stopPropagation(),C&&C(e)},L=!(!1===l||!S)||l,D="small"===I,j=v||(L?d.a:"div"),U=j===d.a?{component:"div"}:{},F=null;if(C){var H=Object(a.a)("default"!==y&&("default"===N?s["deleteIconColor".concat(Object(f.a)(y))]:s["deleteIconOutlinedColor".concat(Object(f.a)(y))]),D&&s.deleteIconSmall);F=m&&o.isValidElement(m)?o.cloneElement(m,{className:Object(a.a)(m.props.className,s.deleteIcon,H),onClick:M}):o.createElement(u,{className:Object(a.a)(s.deleteIcon,H),onClick:M})}var B=null;n&&o.isValidElement(n)&&(B=o.cloneElement(n,{className:Object(a.a)(s.avatar,n.props.className,D&&s.avatarSmall,"default"!==y&&s["avatarColor".concat(Object(f.a)(y))])}));var V=null;return w&&o.isValidElement(w)&&(V=o.cloneElement(w,{className:Object(a.a)(s.icon,w.props.className,D&&s.iconSmall,"default"!==y&&s["iconColor".concat(Object(f.a)(y))])})),o.createElement(j,Object(r.a)({role:L||C?"button":void 0,className:Object(a.a)(s.root,c,"default"!==y&&[s["color".concat(Object(f.a)(y))],L&&s["clickableColor".concat(Object(f.a)(y))],C&&s["deletableColor".concat(Object(f.a)(y))]],"default"!==N&&[s.outlined,{primary:s.outlinedPrimary,secondary:s.outlinedSecondary}[y]],_&&s.disabled,D&&s.sizeSmall,L&&s.clickable,C&&s.deletable),"aria-disabled":!!_||void 0,tabIndex:L||C?0:void 0,onClick:S,onKeyDown:function(e){e.currentTarget===e.target&&p(e)&&e.preventDefault(),O&&O(e)},onKeyUp:function(e){e.currentTarget===e.target&&(C&&p(e)?C(e):"Escape"===e.key&&P.current&&P.current.blur()),T&&T(e)},ref:x},U,R),B||V,o.createElement("span",{className:Object(a.a)(s.label,D&&s.labelSmall)},E),F)});t.a=Object(c.a)(function(e){var t="light"===e.palette.type?e.palette.grey[300]:e.palette.grey[700],n=Object(l.c)(e.palette.text.primary,.26);return{root:{fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,color:e.palette.getContrastText(t),backgroundColor:t,borderRadius:16,whiteSpace:"nowrap",transition:e.transitions.create(["background-color","box-shadow"]),cursor:"default",outline:0,textDecoration:"none",border:"none",padding:0,verticalAlign:"middle",boxSizing:"border-box","&$disabled":{opacity:.5,pointerEvents:"none"},"& $avatar":{marginLeft:5,marginRight:-6,width:24,height:24,color:"light"===e.palette.type?e.palette.grey[700]:e.palette.grey[300],fontSize:e.typography.pxToRem(12)},"& $avatarColorPrimary":{color:e.palette.primary.contrastText,backgroundColor:e.palette.primary.dark},"& $avatarColorSecondary":{color:e.palette.secondary.contrastText,backgroundColor:e.palette.secondary.dark},"& $avatarSmall":{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:e.typography.pxToRem(10)}},sizeSmall:{height:24},colorPrimary:{backgroundColor:e.palette.primary.main,color:e.palette.primary.contrastText},colorSecondary:{backgroundColor:e.palette.secondary.main,color:e.palette.secondary.contrastText},disabled:{},clickable:{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover, &:focus":{backgroundColor:Object(l.b)(t,.08)},"&:active":{boxShadow:e.shadows[1]}},clickableColorPrimary:{"&:hover, &:focus":{backgroundColor:Object(l.b)(e.palette.primary.main,.08)}},clickableColorSecondary:{"&:hover, &:focus":{backgroundColor:Object(l.b)(e.palette.secondary.main,.08)}},deletable:{"&:focus":{backgroundColor:Object(l.b)(t,.08)}},deletableColorPrimary:{"&:focus":{backgroundColor:Object(l.b)(e.palette.primary.main,.2)}},deletableColorSecondary:{"&:focus":{backgroundColor:Object(l.b)(e.palette.secondary.main,.2)}},outlined:{backgroundColor:"transparent",border:"1px solid ".concat("light"===e.palette.type?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"),"$clickable&:hover, $clickable&:focus, $deletable&:focus":{backgroundColor:Object(l.c)(e.palette.text.primary,e.palette.action.hoverOpacity)},"& $avatar":{marginLeft:4},"& $avatarSmall":{marginLeft:2},"& $icon":{marginLeft:4},"& $iconSmall":{marginLeft:2},"& $deleteIcon":{marginRight:5},"& $deleteIconSmall":{marginRight:3}},outlinedPrimary:{color:e.palette.primary.main,border:"1px solid ".concat(e.palette.primary.main),"$clickable&:hover, $clickable&:focus, $deletable&:focus":{backgroundColor:Object(l.c)(e.palette.primary.main,e.palette.action.hoverOpacity)}},outlinedSecondary:{color:e.palette.secondary.main,border:"1px solid ".concat(e.palette.secondary.main),"$clickable&:hover, $clickable&:focus, $deletable&:focus":{backgroundColor:Object(l.c)(e.palette.secondary.main,e.palette.action.hoverOpacity)}},avatar:{},avatarSmall:{},avatarColorPrimary:{},avatarColorSecondary:{},icon:{color:"light"===e.palette.type?e.palette.grey[700]:e.palette.grey[300],marginLeft:5,marginRight:-6},iconSmall:{width:18,height:18,marginLeft:4,marginRight:-4},iconColorPrimary:{color:"inherit"},iconColorSecondary:{color:"inherit"},label:{overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap"},labelSmall:{paddingLeft:8,paddingRight:8},deleteIcon:{WebkitTapHighlightColor:"transparent",color:n,height:22,width:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:Object(l.c)(n,.4)}},deleteIconSmall:{height:16,width:16,marginRight:4,marginLeft:-4},deleteIconColorPrimary:{color:Object(l.c)(e.palette.primary.contrastText,.7),"&:hover, &:active":{color:e.palette.primary.contrastText}},deleteIconColorSecondary:{color:Object(l.c)(e.palette.secondary.contrastText,.7),"&:hover, &:active":{color:e.palette.secondary.contrastText}},deleteIconOutlinedColorPrimary:{color:Object(l.c)(e.palette.primary.main,.7),"&:hover, &:active":{color:e.palette.primary.main}},deleteIconOutlinedColorSecondary:{color:Object(l.c)(e.palette.secondary.main,.7),"&:hover, &:active":{color:e.palette.secondary.main}}}},{name:"MuiChip"})(g)}]]);
//# sourceMappingURL=14.a4f39522.chunk.js.map