(window.webpackJsonp=window.webpackJsonp||[]).push([[81],{2688:function(e,t,a){"use strict";a.r(t);var n=a(100),o=a(89),i=a(142),r=a(145),l=a(144),c=a(143),m=a(146),s=a(42),g=a(0),p=a.n(g),d=a(1032),h=a(8),u=a(15),f=a(948),x=a(475),b=a(1065),E=a(479),v=a(1139),S=a(1119),w=a(477),T=a(925),k=a(1002),W=a(480),A=a(112),z=a(196),C=a(65),F=a(1087),R=a(124),j=a.n(R),y=a(126),O=a.n(y),D=u.c.div(f.b),I=Object(u.c)(k.a)(f.b),B=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(r.a)(this,Object(l.a)(t).call(this))).handleChange=function(t){e.state.selectedRel=parseInt(t.target.value),e.setState({selectedRel:parseInt(t.target.value)})},e.handleChange=e.handleChange.bind(Object(s.a)(Object(s.a)(e))),e.state={data:[],tspots:0,dataRelations:[],selectedRel:0,isTrue:!1},e}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){try{this.setState({data:this.props.location.state.groupData})}catch(t){document.location.href="/"}var e=this.props.location.state.groupData.total_spots-this.props.location.state.groupData.free_spots;this.setState({tspots:e}),localStorage.setItem("xspots",e),localStorage.setItem("ratx",this.props.location.state.groupData.rating),_(this.props.location.state.groupData.id,this)}}]),Object(c.a)(t,[{key:"render",value:function(){var e=this;return p.a.createElement("div",null,p.a.createElement(j.a,{title:"Ingresa al grupo"}),p.a.createElement(C.a,{container:!0,spacing:1},p.a.createElement(C.a,{alignItems:"center",item:!0,xl:6,lg:6,md:6,sm:6,xs:12},p.a.createElement(H,{data:this.state.data,relations:this.state.dataRelations,ins:this})),p.a.createElement(C.a,{item:!0,xl:6,lg:6,md:6,sm:6,xs:12},p.a.createElement(N,{data:this.state.data,ins:this.state})),p.a.createElement(C.a,{container:!0,spacing:3},p.a.createElement(C.a,{item:!0,xs:12,md:12,lg:12,xl:12},p.a.createElement(x.a,{backgroundColor:"#172449",fullWidth:!0,variant:"contained",color:"primary",onClick:function(){return P(e.state.data,e)}},"SOLICITAR ACCESO")),p.a.createElement(C.a,{item:!0,xs:6,md:6,lg:6,xl:6}))))}}]),t}(p.a.Component),L=Object(d.a)(function(e){var t,a,n;return{root:{flexGrow:1},paper:{height:210,maxHeight:210,minHeight:210,marginBottom:"6%",borderTopLeftRadius:5,borderTopRightRadius:5},control:{padding:e.spacing(2)},header:{background:"#DFDFDF",borderTopLeftRadius:4,borderTopRightRadius:4,color:"#000",overflow:"visible",height:"51px",paddingLeft:"8px",paddingTop:"15px"},avatar:(t={marginTop:"0px",width:"30px",height:"30px",marginLeft:"1.9px"},Object(o.a)(t,"marginTop","1.5px"),Object(o.a)(t,"marginBlockEnd","5px"),Object(o.a)(t,"background","#15244C"),t),rootCard:{overflow:"visible"},contentCard:{marginTop:"0px",marginLeft:"-10px"},avatarHalo:{marginTop:"0px",width:"40px",height:"40px",background:"#FFFFFF"},avatarVerify:{width:"15px",height:"15px",marginTop:"-15px",marginLeft:"23px",overflow:"visible"},titleName:{lineHeight:"1.00",marginTop:"1px"},ratingAdjust:{marginLeft:"-3px",verticalAlign:"bottom"},cardContent:{marginTop:"0px"},footerStyles:(a={background:"#15244C",borderBottomLeftRadius:5,borderBottomRightRadius:5,color:"#EEF4CE",paddingLeft:"8px",overflow:"visible",paddingTop:"2px",paddingBottom:"0px"},Object(o.a)(a,"paddingLeft","10px"),Object(o.a)(a,"paddingRight","8px"),a),guarantedStyle:{width:"20px",height:"20px"},footerText:{color:"#EEF4CE"},footerAdjustCenter:{alignItems:"end",alignContent:"end",width:"100%"},footerAdjustRight:{textAlign:"end",alignItems:"end",alignContent:"end",width:"50%",verticalAlign:"bottom"},paperDialog:{position:"absolute",width:400,backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)},appBar:{position:"relative"},title:{marginLeft:e.spacing(2),flex:1},avatarHaloDialog:{marginTop:"0px",width:"55px",height:"55px",background:"#FFFFFF",display:"block",marginLeft:"auto",marginRight:"auto",textAlign:"center"},avatarVerifyDialog:{width:"15px",height:"15px",marginTop:"-15px",marginLeft:"37px",overflow:"visible"},avatarDialog:(n={marginTop:"0px",width:"45px",height:"45px",marginLeft:"2px",marginBlockEnd:"5px",background:"#15244C"},Object(o.a)(n,e.breakpoints.down("xs"),{marginTop:"2.5px"}),Object(o.a)(n,e.breakpoints.down("sm"),{marginTop:"1.5px"}),Object(o.a)(n,e.breakpoints.down("md"),{marginTop:"1.5px"}),Object(o.a)(n,e.breakpoints.down("lg"),{marginTop:"1.5px"}),Object(o.a)(n,e.breakpoints.down("xl"),{marginTop:"1.5px"}),n),droot:{flexGrow:1,overflow:"hidden",padding:e.spacing(0,3)},dpaper:{maxWidth:400,margin:"".concat(e.spacing(1),"px auto"),padding:e.spacing(2)},ckroot:{padding:e.spacing(0,3)},ckpaper:{padding:e.spacing(2)},titleUser:{textAlign:"center"},centeredDiv:{display:"block",marginLeft:"auto",marginRight:"auto",textAlign:"center"}}}),_=(Object(h.a)({iconFilled:{color:"#172449"},iconHover:{color:"#172449"}})(F.a),function(e,t){var a=localStorage.getItem("token_sec");O.a.post("http://localhost:5000/getRelType",{group_id:e},{headers:{Authorization:"Bearer "+a,Accept:"application/json","Content-Type":"application/json"}}).then(function(e){var a=[];e.data.data.forEach(function(e){var t={id:e.id,rel_name:e.rel_name};console.log(t),a.push(t)}),t.setState({dataRelations:a})}).catch(function(e){console.log(e)})}),P=function(e,t){var a=t.state.selectedRel,n=t.state.isTrue;a>0&&n?t.props.history.push({pathname:"/pay",state:{groupData:e}}):alert("Para continuar es necesario seleccionar las opciones, intenta nuevamente")};function H(e){var t=e.data,a=e.ins,o=e.relations,i=p.a.useState(0),r=Object(n.a)(i,2),l=r[0],c=r[1],m=L();localStorage.getItem("ratx");return p.a.createElement("div",{className:m.ckroot},p.a.createElement(z.a,{id:"OP",className:m.ckpaper,elevation:3},p.a.createElement(W.a,{fontSize:"h2.fontSize",textAlign:"left",fontWeight:"fontWeightBold",m:1},"Confirma tu solicitud"),p.a.createElement(I,null),p.a.createElement(D,{mt:5}),p.a.createElement(W.a,{textAlign:"left",fontSize:"button.fontSize",fontWeight:"fontWeightBold",color:"#172449",gutterBottom:!0},"Selecciona tu relaci\xf3n con ",t.user_name," (Administrador del grupo)"),p.a.createElement(D,{mb:5}),p.a.createElement(T.a,{fullWidth:!0,component:"fieldset"},p.a.createElement(S.a,{"aria-label":"gender",name:"gender1",value:l,onChange:function(e){c(parseInt(e.target.value)),a.setState({selectedRel:parseInt(e.target.value)}),localStorage.setItem("pcat",parseInt(e.target.value))}},o.map(function(e){return p.a.createElement(C.a,{container:!0,spacing:3},p.a.createElement(C.a,{item:!0,xs:6,md:6,lg:6,xl:6},p.a.createElement(A.a,{variant:"body2",gutterBottom:!0,display:"block"},e.rel_name)),p.a.createElement(C.a,{item:!0,xs:6,md:6,lg:6,xl:6},p.a.createElement(W.a,{textAlign:"right"},p.a.createElement(w.a,{value:e.id,control:p.a.createElement(v.a,null),label:e.service_name}))))}))),p.a.createElement(I,null),p.a.createElement(D,{mt:5}),p.a.createElement(C.a,{container:!0,spacing:3},p.a.createElement(C.a,{item:!0,xs:6,md:6,lg:6,xl:10},p.a.createElement(A.a,{variant:"caption",gutterBottom:!0,display:"block"},"Confirmo que entiendo que KIP no est\xe1 asociado o afiliado a ",t.service_name," y que he le\xeddo, entendido y he aceptado cumplir con los t\xe9rminos y condiciones de uso para compartir ",t.service_name,".")),p.a.createElement(C.a,{item:!0,xs:6,md:6,lg:6,xl:2},p.a.createElement(W.a,{textAlign:"right",marginRight:4},p.a.createElement(E.a,{mr:10,inputProps:{"aria-label":"primary checkbox"},onChange:function(e){a.setState({isTrue:e.target.checked})}}))))))}function N(e){var t=e.data,a=(e.ins,L()),n=(localStorage.getItem("xspots"),new Date),o=new Date;o.setDate(o.getDate()+30);var i=new Intl.DateTimeFormat("en",{year:"numeric"}).format(n),r=new Intl.DateTimeFormat("en",{month:"short"}).format(n),l=new Intl.DateTimeFormat("en",{day:"2-digit"}).format(n),c=new Intl.DateTimeFormat("en",{year:"numeric"}).format(o),m=new Intl.DateTimeFormat("en",{month:"short"}).format(o),s=new Intl.DateTimeFormat("en",{day:"2-digit"}).format(o),g="".concat(l,"-").concat(r,"-").concat(i),d="".concat(s,"-").concat(m,"-").concat(c),h=t.commission/100;h=h.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,");var u=t.service_price/100;return u=u.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),p.a.createElement("div",{className:a.ckroot},p.a.createElement(z.a,{id:"OP",className:a.ckpaper,elevation:3},p.a.createElement(C.a,{container:!0,spacing:3},p.a.createElement(C.a,{item:!0,xs:6,md:6,lg:6,xl:6},p.a.createElement(W.a,{textAlign:"left",fontSize:"h3.fontSize",fontWeight:"fontWeightBold",m:1,color:"#172449"},t.service_name),p.a.createElement(W.a,{textAlign:"left",fontSize:"button.fontSize",fontWeight:"fontWeightLight",m:1},t.service_desc))),p.a.createElement(W.a,{textAlign:"left",fontSize:"button.fontSize",fontWeight:"fontWeightLight",m:1,color:"#172449"},"C\xf3digo de grupo (",t.cluster_code,")"),p.a.createElement(D,{mb:5}),p.a.createElement(I,null),p.a.createElement(D,{mb:5}),p.a.createElement(C.a,{container:!0,spacing:3},p.a.createElement(C.a,{item:!0,xs:6,md:6,lg:6,xl:6},p.a.createElement(W.a,{textAlign:"left",fontSize:"button.fontSize",fontWeight:"fontWeightRegular",m:1},"Per\xedodo de acceso al servicio")),p.a.createElement(C.a,{item:!0,xs:6,md:6,lg:6,xl:6},p.a.createElement(W.a,{textAlign:"right",fontSize:"button.fontSize",fontWeight:"fontWeightBold",color:"#172449",m:1},p.a.createElement(A.a,{variant:"button",component:"span"},"del ",g," al ",d)))),p.a.createElement(C.a,{container:!0,spacing:3},p.a.createElement(C.a,{item:!0,xs:6,md:6,lg:6,xl:6},p.a.createElement(W.a,{textAlign:"left",fontSize:"button.fontSize",fontWeight:"fontWeightRegular",m:1},"Contribuci\xf3n de gastos")),p.a.createElement(C.a,{item:!0,xs:6,md:6,lg:6,xl:6},p.a.createElement(W.a,{textAlign:"right",fontSize:"button.fontSize",fontWeight:"fontWeightBold",color:"#172449",m:1},p.a.createElement(A.a,{variant:"button",component:"span"},"$ ",u)))),p.a.createElement(C.a,{container:!0,spacing:3},p.a.createElement(C.a,{item:!0,xs:6,md:6,lg:6,xl:6},p.a.createElement(W.a,{textAlign:"left",fontSize:"button.fontSize",fontWeight:"fontWeightRegular",m:1},"Gastos administrativos")),p.a.createElement(C.a,{item:!0,xs:6,md:6,lg:6,xl:6},p.a.createElement(W.a,{textAlign:"right",fontSize:"button.fontSize",fontWeight:"fontWeightBold",color:"#172449",m:1},p.a.createElement(A.a,{variant:"button",component:"span"},"$ ",h)))),p.a.createElement(D,{mb:2}),p.a.createElement(I,null),p.a.createElement(D,{mb:3}),p.a.createElement(C.a,{container:!0,spacing:3},p.a.createElement(C.a,{item:!0,xs:6,md:6,lg:6,xl:6},p.a.createElement(W.a,{textAlign:"left",fontSize:"h2.fontSize",fontWeight:"fontWeightRegular",m:1},"Total")),p.a.createElement(C.a,{item:!0,xs:6,md:6,lg:6,xl:6},p.a.createElement(W.a,{textAlign:"right",fontSize:"h2.fontSize",fontWeight:"fontWeightBold",color:"#172449",m:1},"$",(parseFloat(t.service_price)+parseFloat(t.commission))/100))),p.a.createElement(D,{mb:5}),p.a.createElement(b.a,{fullWidth:!0,severity:"info",variant:"outlined"},"Puedes solicitar un reembolso total hasta 25 d\xedas despu\xe9s de realizar el pago."),p.a.createElement(D,{mb:2}),p.a.createElement(D,{mb:4})))}t.default=B}}]);
//# sourceMappingURL=81.a1c7c6ea.chunk.js.map