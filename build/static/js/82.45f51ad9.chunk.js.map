{"version":3,"sources":["pages/pages/mygroupDetail.js"],"names":["Spacer","styled","div","spacing","Divider","MuiDivider","parseJwt","token","base64","split","replace","jsonPayload","decodeURIComponent","atob","map","c","charCodeAt","toString","slice","join","JSON","parse","getChat","_callee2","t","tk","xsd","_regeneratorRuntime","wrap","_context2","prev","next","localStorage","getItem","axios","post","headers","Authorization","Accept","Content-Type","then","response","setState","chatState","data","catch","error","console","log","stop","JoinToGroup","_this","Object","_Users_lmendoza_Downloads_asdas_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_1__","this","_Users_lmendoza_Downloads_asdas_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__","_Users_lmendoza_Downloads_asdas_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__","call","state","tspots","interval","setInterval","_this2","time","Date","now","id_usuario","sub","props","location","groupData","err","ox","xspots","total_spots","free_spots","setItem","rating","clearInterval","react__WEBPACK_IMPORTED_MODULE_7___default","a","createElement","react_helmet__WEBPACK_IMPORTED_MODULE_24___default","title","_material_ui_core_Grid__WEBPACK_IMPORTED_MODULE_22__","container","alignItems","item","xl","lg","md","sm","xs","_material_ui_core__WEBPACK_IMPORTED_MODULE_19__","padding","variant","gutterBottom","display","group_name","mb","GroupDataDetails","ins","ChatView","uid","React","Component","useStyles","makeStyles","theme","_avatar","_footerStyles","_avatarDialog","root","flexGrow","paper","height","maxHeight","minHeight","marginBottom","borderTopLeftRadius","borderTopRightRadius","control","header","background","color","overflow","paddingLeft","paddingTop","avatar","marginTop","width","marginLeft","_Users_lmendoza_Downloads_asdas_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__","rootCard","contentCard","avatarHalo","avatarVerify","titleName","lineHeight","ratingAdjust","verticalAlign","cardContent","footerStyles","borderBottomLeftRadius","borderBottomRightRadius","paddingBottom","guarantedStyle","footerText","footerAdjustCenter","alignContent","footerAdjustRight","textAlign","paperDialog","position","backgroundColor","palette","border","boxShadow","shadows","appBar","flex","avatarHaloDialog","marginRight","avatarVerifyDialog","avatarDialog","marginBlockEnd","breakpoints","down","droot","dpaper","maxWidth","margin","concat","ckroot","ckpaper","titleUser","centeredDiv","paperChat","flexDirection","paper2Chat","containerChat","messagesBody","overflowY","StyledRatings","withStyles","iconFilled","iconHover","Rating","handleJoinNow","ns","history","push","pathname","_ref2","classes","xpo","className","_material_ui_core_Paper__WEBPACK_IMPORTED_MODULE_21__","id","elevation","_material_ui_core__WEBPACK_IMPORTED_MODULE_20__","fontSize","fontWeight","m","service_name","service_desc","defaultValue","precision","max","readOnly","icon","_material_ui_icons_FiberManualRecord__WEBPACK_IMPORTED_MODULE_17___default","component","_material_ui_core_Button__WEBPACK_IMPORTED_MODULE_13__","fullWidth","onClick","_ref3","zDepth","mt","tile","_chat_Message__WEBPACK_IMPORTED_MODULE_15__","message","timestamp","d","photoURL","displayName","avatarDisp","u","p","n","_chat_TextInput__WEBPACK_IMPORTED_MODULE_16__","room"],"mappings":"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","file":"static/js/82.45f51ad9.chunk.js","sourcesContent":["import React from \"react\";\nimport { makeStyles, useTheme, withStyles } from \"@material-ui/core/styles\";\nimport styled from \"styled-components\";\nimport { spacing } from \"@material-ui/system\";\n// import Box from \"@material-ui/core/Box\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport Button from \"@material-ui/core/Button\";\nimport axios from \"axios\";\nimport List from \"@material-ui/core/List\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport { MessageLeft, MessageRight, KIPMessage } from \"./chat/Message\";\nimport { TextInput } from \"./chat/TextInput\";\n\nimport DotsIcon from \"@material-ui/icons/FiberManualRecord\";\nimport Alert from \"@material-ui/lab/Alert\";\n\nimport {\n  Avatar as MuiAvatar,\n  Box,\n  Breadcrumbs as MuiBreadcrumbs,\n  Button as MuiButton,\n  Card as MuiCard,\n  CardContent,\n  Chip as MuiChip,\n  Divider as MuiDivider,\n  Grid as MuiGrid,\n  LinearProgress as MuiLinearProgress,\n  Link,\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableRow,\n  Typography,\n} from \"@material-ui/core\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Rating from \"@material-ui/lab/Rating\";\nimport Helmet from \"react-helmet\";\nimport { margin } from \"polished\";\nconst Spacer = styled.div(spacing);\nconst Divider = styled(MuiDivider)(spacing);\n\nfunction parseJwt (token) {\n  var base64Url = token.split('.')[1];\n  var base64 = base64Url.replace(/-/g, '+').replace(/_/g, '/');\n  var jsonPayload = decodeURIComponent(atob(base64).split('').map(function(c) {\n      return '%' + ('00' + c.charCodeAt(0).toString(16)).slice(-2);\n  }).join(''));\n\n  return JSON.parse(jsonPayload);\n};\n\nasync function getChat(t) {\n  var tk = localStorage.getItem(\"token_sec\");\n  var xsd = t;\n  \n  // console.log(uxs.sub);\n  axios\n    .post(\n      \"http://localhost:5000/chat/1\",\n      {\n        c: 205,\n      },\n      {\n        headers: {\n          Authorization: \"Bearer \" + tk,\n          Accept: \"application/json\",\n          \"Content-Type\": \"application/json\",\n        },\n      }\n    )\n    .then(function (response) {\n      xsd.setState({ chatState: response.data }, () => {\n        // console.log(\"--->\",xsd.state.chatState);\n      });\n    })\n    .catch(function (error) {\n      console.log(error);\n    });\n}\n\nclass JoinToGroup extends React.Component {\n  async componentDidMount() {        \n    this.interval = setInterval(() => this.setState({ time: Date.now() }), 1000);\n    var tk = localStorage.getItem(\"token_sec\");    \n    var id_usuario = parseJwt(tk);\n    this.setState({ id_usuario: id_usuario.sub }, () => {      \n    });\n\n    console.log(\"INICIO\");\n    //  await getChat(this);\n    await getChat(this).catch(() => {\n      console.log(\"CATCHHHH\");\n    });\n    console.log(\"FIN\");\n    try {\n      this.setState({ data: this.props.location.state.groupData });\n    } catch (err) {\n      var ox = localStorage.getItem(\"cg\");\n      this.setState({ data: JSON.parse(ox) });\n    }\n    var xspots = this.state.total_spots - this.state.free_spots;\n    this.setState({ tspots: xspots });\n    localStorage.setItem(\"xspots\", xspots);\n    localStorage.setItem(\"ratx\", this.state.rating);\n  }\n  componentWillUnmount() {\n    clearInterval(this.interval);\n  }\n  constructor() {\n    super();\n    this.state = {\n      data: [],\n      tspots: 0,\n      chatState: [],\n      token:\"\",\n    };\n  }\n\n  render() {\n    return (\n      <div>\n        <Helmet title=\"Detalles de mi grupo\" />\n\n        <Grid container spacing={1}>\n          <Grid\n            alignItems=\"center\"\n            item\n            xl={12}\n            lg={12}\n            md={12}\n            sm={12}\n            xs={12}\n          >\n            <Typography padding={10} variant=\"h3\" gutterBottom display=\"inline\">\n              Detalles de mi grupo | {this.state.data.group_name}\n            </Typography>\n            <hr />\n            <Spacer mb={5} />\n          </Grid>\n          <Grid alignItems=\"center\" item xl={6} lg={4} md={12} sm={6} xs={12}>\n            <GroupDataDetails data={this.state.data} ins={this.props} />\n          </Grid>\n\n          <Grid item xl={6} lg={8} md={12} sm={12} xs={12}>\n            <ChatView data={this.state.chatState} uid={this.state.id_usuario} />\n          </Grid>\n        </Grid>\n        <Spacer mb={5} />\n      </div>\n    );\n  }\n}\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    flexGrow: 1,\n  },\n  paper: {\n    height: 210,\n    maxHeight: 210,\n    minHeight: 210,\n    // width: 205,\n    marginBottom: \"6%\",\n    borderTopLeftRadius: 5,\n    borderTopRightRadius: 5,\n  },\n  control: {\n    padding: theme.spacing(2),\n  },\n  header: {\n    background: \"#DFDFDF\",\n    borderTopLeftRadius: 4,\n    borderTopRightRadius: 4,\n    color: \"#000\",\n    overflow: \"visible\",\n    height: \"51px\",\n    paddingLeft: \"8px\",\n    paddingTop: \"15px\",\n  },\n\n  avatar: {\n    marginTop: \"0px\",\n    width: \"30px\",\n    height: \"30px\",\n    marginLeft: \"1.9px\",\n    marginTop: \"1.5px\",\n    marginBlockEnd: \"5px\",\n    background: \"#15244C\",\n  },\n  rootCard: {\n    overflow: \"visible\",\n  },\n  contentCard: {\n    marginTop: \"0px\",\n    marginLeft: \"-10px\",\n    // lineHeight:'0.05'\n  },\n  avatarHalo: {\n    marginTop: \"0px\",\n    width: \"40px\",\n    height: \"40px\",\n    background: \"#FFFFFF\",\n  },\n  avatarVerify: {\n    width: \"15px\",\n    height: \"15px\",\n    marginTop: \"-15px\",\n    marginLeft: \"23px\",\n    overflow: \"visible\",\n  },\n  titleName: {\n    lineHeight: \"1.00\",\n    marginTop: \"1px\",\n  },\n  ratingAdjust: {\n    marginLeft: \"-3px\",\n    verticalAlign: \"bottom\",\n  },\n  cardContent: {\n    marginTop: \"0px\",\n    // height:\"50px\"\n  },\n  footerStyles: {\n    background: \"#15244C\",\n    borderBottomLeftRadius: 5,\n    borderBottomRightRadius: 5,\n    color: \"#EEF4CE\",\n    paddingLeft: \"8px\",\n    // paddingTop: \"10px\",\n    // textAlign: \"center\",\n    overflow: \"visible\",\n    paddingTop: \"2px\",\n    paddingBottom: \"0px\",\n    paddingLeft: \"10px\",\n    paddingRight: \"8px\",\n  },\n  guarantedStyle: {\n    width: \"20px\",\n    height: \"20px\",\n  },\n  footerText: {\n    color: \"#EEF4CE\",\n  },\n  footerAdjustCenter: {\n    // textAlign: \"end\",\n    alignItems: \"end\",\n    alignContent: \"end\",\n    width: \"100%\",\n  },\n  footerAdjustRight: {\n    textAlign: \"end\",\n    alignItems: \"end\",\n    alignContent: \"end\",\n    width: \"50%\",\n    verticalAlign: \"bottom\",\n  },\n  paperDialog: {\n    position: \"absolute\",\n    width: 400,\n    backgroundColor: theme.palette.background.paper,\n    border: \"2px solid #000\",\n    boxShadow: theme.shadows[5],\n    padding: theme.spacing(2, 4, 3),\n  },\n  appBar: {\n    position: \"relative\",\n  },\n  title: {\n    marginLeft: theme.spacing(2),\n    flex: 1,\n  },\n\n  avatarHaloDialog: {\n    // marginLeft: \"40%\", mendoza\n    marginTop: \"0px\",\n    marginBottom: \"20px\",\n    width: \"55px\",\n    height: \"55px\",\n    background: \"#FFFFFF\",\n    display: \"block\",\n    marginLeft: \"auto\",\n    marginRight: \"auto\",\n    textAlign: \"center\",\n  },\n\n  avatarVerifyDialog: {\n    width: \"15px\",\n    height: \"15px\",\n    marginTop: \"-15px\",\n    marginLeft: \"37px\",\n    overflow: \"visible\",\n  },\n  avatarDialog: {\n    marginTop: \"0px\",\n    width: \"60px\",\n    height: \"60px\",\n    marginLeft: \"2px\",\n    // marginTop: \"1.5px\",\n    marginBlockEnd: \"5px\",\n    background: \"#fff\",\n    [theme.breakpoints.down(\"xs\")]: {\n      marginTop: \"2.5px\",\n    },\n    [theme.breakpoints.down(\"sm\")]: {\n      marginTop: \"1.5px\",\n    },\n    [theme.breakpoints.down(\"md\")]: {\n      marginTop: \"1.5px\",\n    },\n    [theme.breakpoints.down(\"lg\")]: {\n      marginTop: \"1.5px\",\n    },\n\n    [theme.breakpoints.down(\"xl\")]: {\n      marginTop: \"1.5px\",\n    },\n  },\n\n  droot: {\n    flexGrow: 1,\n    overflow: \"hidden\",\n    padding: theme.spacing(0, 3),\n  },\n  dpaper: {\n    maxWidth: 400,\n    margin: `${theme.spacing(1)}px auto`,\n    padding: theme.spacing(2),\n  },\n\n  ckroot: {\n    padding: theme.spacing(0, 3),\n  },\n  ckpaper: {\n    padding: theme.spacing(2),\n  },\n  titleUser: {\n    textAlign: \"center\",\n  },\n  centeredDiv: {\n    display: \"block\",\n    marginLeft: \"auto\",\n    marginRight: \"auto\",\n    textAlign: \"center\",\n  },\n\n  //chat styles start\n  paperChat: {\n    // width: \"80vw\",\n    height: \"50vh\",\n    // maxWidth: \"500px\",\n    // maxHeight: \"700px\",\n    display: \"flex\",\n    alignItems: \"center\",\n    flexDirection: \"column\",\n    position: \"relative\",\n  },\n  paper2Chat: {\n    width: \"80vw\",\n    maxWidth: \"500px\",\n    display: \"flex\",\n    alignItems: \"center\",\n    flexDirection: \"column\",\n    position: \"relative\",\n  },\n  containerChat: {\n    // width: \"100%\",\n    // height: \"100vh\",\n    // display: \"flex\",\n    // alignItems: \"left\",\n    // justifyContent: \"left\"\n  },\n  messagesBody: {\n    width: \"calc( 100% - 20px )\",\n    margin: 10,\n    overflowY: \"scroll\",\n    height: \"calc( 100% - 80px )\",\n  },\n  //chat styles end\n}));\n\nconst StyledRatings = withStyles({\n  iconFilled: {\n    color: \"#172449\",\n  },\n  iconHover: {\n    color: \"#172449\",\n  },\n})(Rating);\n\nconst handleJoinNow = (t, ns) => {\n  console.log(ns);\n  console.log(t);\n  ns.history.push({\n    pathname: \"/join\",\n    state: { groupData: t },\n  });\n};\n\nfunction UserProfile({ data, ins }) {\n  const classes = useStyles();\n  var xra = localStorage.getItem(\"ratx\");\n  return (\n    <div className={classes.ckroot}>\n      <Paper id=\"OP\" className={classes.ckpaper} elevation={3}>\n        <Box textAlign=\"center\" fontWeight=\"fontWeightRegular\" m={1}>\n          Administrador del grupo\n        </Box>\n        <div className={classes.centeredDiv}>\n          <Box\n            className={classes.avatarHaloDialog}\n            border={0}\n            borderRadius=\"50%\"\n            borderColor=\"primary.main\"\n          >\n            <Avatar\n              variant=\"rounded\"\n              style={{\n                border: \"1.0px double #001e3c\",\n                boxShadow: \"3px 3px #172449\",\n              }}\n              src={data.pic_url}\n              aria-label=\"recipe\"\n              className={classes.avatarDialog}\n            >\n              {data.user_name}\n            </Avatar>\n            {data.verified && (\n              <Avatar className={classes.avatarVerifyDialog}>\n                <img src=\"https://firebasestorage.googleapis.com/v0/b/KIP-c38e0.appspot.com/o/iccheck15.svg?alt=media&token=851e4b83-fdc3-4bdc-aa03-363cb1b7910d\" />\n              </Avatar>\n            )}\n          </Box>\n        </div>\n        <Box\n          textAlign=\"center\"\n          fontSize=\"button.fontSize\"\n          fontWeight=\"fontWeightBold\"\n          m={1}\n        >\n          {data.user_name}\n\n          <Box textAlign=\"center\" fontWeight=\"fontWeightRegular\" m={1}></Box>\n          <Rating\n            className={classes.ratingAdjust}\n            size=\"small\"\n            readOnly\n            name=\"simple-controlled\"\n            value={xra}\n          />\n        </Box>\n        {/* <Divider /> */}\n        <Spacer mb={5} />\n\n        <Box\n          textAlign=\"center\"\n          fontSize=\"caption.fontSize\"\n          fontWeight=\"fontWeightRegular\"\n          color=\"#172449\"\n          m={1}\n        >\n          {data.group_name} ({data.cluster_code})\n        </Box>\n        <Spacer mb={5} />\n        <Grid container spacing={3}>\n          <Grid item xs={6} md={6} lg={6} xl={6}>\n            <Typography variant=\"body2\" gutterBottom display=\"block\">\n              Correo electrónico\n            </Typography>\n          </Grid>\n          <Grid item xs={6} md={6} lg={6} xl={6}>\n            {data.email_verified == 1 ? (\n              <Typography\n                variant=\"body2\"\n                align=\"right\"\n                gutterBottom\n                display=\"block\"\n              >\n                <img\n                  className={classes.guarantedStyle}\n                  src=\"https://firebasestorage.googleapis.com/v0/b/KIP-c38e0.appspot.com/o/ic_guaranted_25.svg?alt=media&token=409e0e07-a0f7-46e2-8a19-4f97e9888eec\"\n                />\n              </Typography>\n            ) : (\n              <Typography\n                variant=\"body2\"\n                align=\"right\"\n                gutterBottom\n                display=\"block\"\n              >\n                <img\n                  className={classes.guarantedStyle}\n                  src=\"https://firebasestorage.googleapis.com/v0/b/KIP-c38e0.appspot.com/o/ic_guaranted_25_state_0.svg?alt=media&token=acd8e31a-1a34-42d9-98c2-f2144db57ff6\"\n                />\n              </Typography>\n            )}\n          </Grid>\n\n          <Grid item xs={6} md={6} lg={6} xl={6}>\n            <Typography variant=\"body2\" gutterBottom display=\"block\">\n              Número telefónico\n            </Typography>\n          </Grid>\n          <Grid item xs={6} md={6} lg={6} xl={6}>\n            {data.phone_verified == 1 ? (\n              <Typography\n                variant=\"body2\"\n                align=\"right\"\n                gutterBottom\n                display=\"block\"\n              >\n                <img\n                  className={classes.guarantedStyle}\n                  src=\"https://firebasestorage.googleapis.com/v0/b/KIP-c38e0.appspot.com/o/ic_guaranted_25.svg?alt=media&token=409e0e07-a0f7-46e2-8a19-4f97e9888eec\"\n                />\n              </Typography>\n            ) : (\n              <Typography\n                variant=\"body2\"\n                align=\"right\"\n                gutterBottom\n                display=\"block\"\n              >\n                <img\n                  className={classes.guarantedStyle}\n                  src=\"https://firebasestorage.googleapis.com/v0/b/KIP-c38e0.appspot.com/o/ic_guaranted_25_state_0.svg?alt=media&token=acd8e31a-1a34-42d9-98c2-f2144db57ff6\"\n                />\n              </Typography>\n            )}\n          </Grid>\n\n          <Grid item xs={6} md={6} lg={6} xl={6}>\n            <Typography variant=\"body2\" gutterBottom display=\"block\">\n              Doc. Identidad\n            </Typography>\n          </Grid>\n          <Grid item xs={6} md={6} lg={6} xl={6}>\n            {data.id_verified == 1 ? (\n              <Typography\n                variant=\"body2\"\n                align=\"right\"\n                gutterBottom\n                display=\"block\"\n              >\n                <img\n                  className={classes.guarantedStyle}\n                  src=\"https://firebasestorage.googleapis.com/v0/b/KIP-c38e0.appspot.com/o/ic_guaranted_25.svg?alt=media&token=409e0e07-a0f7-46e2-8a19-4f97e9888eec\"\n                />\n              </Typography>\n            ) : (\n              <Typography\n                variant=\"body2\"\n                align=\"right\"\n                gutterBottom\n                display=\"block\"\n              >\n                <img\n                  className={classes.guarantedStyle}\n                  src=\"https://firebasestorage.googleapis.com/v0/b/KIP-c38e0.appspot.com/o/ic_guaranted_25_state_0.svg?alt=media&token=acd8e31a-1a34-42d9-98c2-f2144db57ff6\"\n                />\n              </Typography>\n            )}\n          </Grid>\n        </Grid>\n        <Divider />\n        <Spacer mb={2} />\n        {/* <Divider /> */}\n        <Spacer mb={2} />\n\n        <Grid container spacing={3}>\n          <Grid item xs={6} md={6} lg={6} xl={6}>\n            <Typography variant=\"body2\" gutterBottom display=\"block\">\n              Últ. conexión a KIP\n            </Typography>\n          </Grid>\n          <Grid item xs={6} md={6} lg={6} xl={6}>\n            <Typography\n              variant=\"body2\"\n              align=\"right\"\n              gutterBottom\n              display=\"block\"\n            >\n              {data.user_last_seen}\n            </Typography>\n          </Grid>\n\n          <Grid item xs={6} md={6} lg={6} xl={6}>\n            <Typography variant=\"body2\" gutterBottom display=\"block\">\n              Grupos activos\n            </Typography>\n          </Grid>\n          <Grid item xs={6} md={6} lg={6} xl={6}>\n            <Typography\n              variant=\"body2\"\n              align=\"right\"\n              gutterBottom\n              display=\"block\"\n            >\n              {data.active_groups}\n            </Typography>\n          </Grid>\n        </Grid>\n      </Paper>\n    </div>\n  );\n}\n//https://stripe.com/docs/stripe-js/react\nfunction GroupDataDetails({ data, ins }) {\n  const classes = useStyles();\n  var xpo = localStorage.getItem(\"xspots\");\n  return (\n    <div className={classes.ckroot}>\n      <Paper id=\"OP\" className={classes.ckpaper} elevation={3}>\n        <Grid container spacing={3}>\n          <Grid item xs={6} md={6} lg={6} xl={6}>\n            <Box\n              textAlign=\"left\"\n              fontSize=\"h3.fontSize\"\n              fontWeight=\"fontWeightBold\"\n              m={1}\n              color=\"#172449\"\n            >\n              {data.service_name}\n            </Box>\n            <Box\n              textAlign=\"left\"\n              fontSize=\"button.fontSize\"\n              fontWeight=\"fontWeightLight\"\n              m={1}\n            >\n              {data.service_desc}\n            </Box>\n          </Grid>\n\n          <Grid item xs={6} md={6} lg={6} xl={6}>\n            <Box\n              textAlign=\"right\"\n              fontSize=\"button.fontSize\"\n              fontWeight=\"fontWeightLight\"\n              m={1}\n            >\n              <StyledRatings\n                className={classes.ratingAdjust}\n                defaultValue={xpo}\n                precision={0.5}\n                max={data.total_spots}\n                readOnly\n                icon={<DotsIcon fontSize=\"inherit\" />}\n              />\n              <Spacer mb={2} />\n              <Typography variant=\"h6\" color=\"textSecondary\" component=\"span\">\n                ({data.free_spots} libres de {data.total_spots} disponibles)\n              </Typography>\n            </Box>\n          </Grid>\n        </Grid>\n\n        <Spacer mb={5} />\n\n        <Divider />\n        <Grid container spacing={3}>\n          <Grid item xs={6} md={6} lg={6} xl={6}>\n            <Box\n              textAlign=\"left\"\n              fontSize=\"button.fontSize\"\n              fontWeight=\"fontWeightBold\"\n              m={1}\n            >\n              Nombre\n            </Box>\n          </Grid>\n          <Grid item xs={6} md={6} lg={6} xl={6}>\n            <Box\n              textAlign=\"right\"\n              fontSize=\"button.fontSize\"\n              fontWeight=\"fontWeightBold\"\n              color=\"#000\"\n              m={1}\n            >\n              <Typography variant=\"button\" component=\"span\">\n                Estado\n              </Typography>\n            </Box>\n          </Grid>\n        </Grid>\n\n        <Divider />\n\n        <Spacer mb={3} />\n\n        <Spacer mb={2} />\n        <Grid container spacing={3}>\n          {/* <Grid item xs={4} md={6} lg={6} xl={6}>\n            chat\n            </Grid> */}\n          <Grid item xs={12} md={6} lg={6} xl={6}>\n            <Button\n              backgroundColor=\"#172449\"\n              fullWidth\n              variant=\"outlined\"\n              color=\"primary\"\n              onClick={() => handleJoinNow(data, ins)}\n            >\n              ACTUALIZAR CREDENCIALES\n            </Button>\n          </Grid>\n          <Grid item xs={12} md={6} lg={6} xl={6}>\n            <Button\n              backgroundColor=\"#172449\"\n              color=\"secondary\"\n              fullWidth\n              variant=\"outlined\"\n              onClick={() => handleJoinNow(data, ins)}\n            >\n              CONFIGURACIONES\n            </Button>\n          </Grid>\n        </Grid>\n\n        <Spacer mb={4} />\n      </Paper>\n    </div>\n  );\n}\n\nfunction ChatView({ data,uid }) {\n  const classes = useStyles();  \n  return (\n    <div className={classes.containerChat}>\n      <Paper className={classes.paperChat} zDepth={2}>\n        <br />\n        <Typography mt={10} variant=\"h5\" gutterBottom display=\"inline\">\n          Chat del grupo\n        </Typography>\n\n        <Paper id=\"style-1\" className={classes.messagesBody}>\n          {data.map((tile) => {\n            if (tile.a == true) {\n              return (\n                <KIPMessage\n                  message={tile.m}\n                  timestamp={tile.d}\n                  photoURL=\"\"\n                  displayName=\"KIP\"\n                  avatarDisp={true}\n                />\n              );\n            }\n            else{\n            if (tile.u == uid) {\n              return (\n                <MessageRight\n                  message={tile.m}\n                  timestamp={tile.d}\n                  photoURL=\"\"\n                  displayName=\"KIP\"\n                  avatarDisp={true}\n                />\n              );\n            }\n            else if(tile.u != uid){\n              return(<MessageLeft\n            message={tile.m}\n            timestamp={tile.d}\n            photoURL={tile.p}\n            displayName={tile.n}\n            avatarDisp={true}\n          />);\n            }\n          }            \n          })}\n          \n        </Paper>\n        <TextInput id={uid} room={40} />\n      </Paper>\n    </div>\n  );\n}\n\nexport default JoinToGroup;\n"],"sourceRoot":""}