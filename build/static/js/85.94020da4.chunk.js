(window.webpackJsonp=window.webpackJsonp||[]).push([[85],{2690:function(e,t,a){"use strict";a.r(t);var n,i=a(89),o=a(142),r=a(145),l=a(144),c=a(143),s=a(146),m=a(16),d=a(0),g=a.n(d),p=a(1032),f=a(8),u=a(15),h=a(948),x=a(998),b=(a(1140),a(475)),E=(a(1013),a(1065),a(332)),v=a.n(E),w=a(57),k=a(499),S=a(138),j=a(1002),A=a(112),y=a(480),O=a(196),_=a(65),z=a(1087),W=a(124),C=a.n(W),R=a(126),T=a.n(R),D=a(1041),B=(Object(u.c)(k.a)(h.b),u.c.div(h.b)),F=Object(u.c)(S.a)(h.b),L=Object(u.c)(F)(n||(n=Object(m.a)(["\n  //   width: ;\n"]))),N=Object(u.c)(j.a)(h.b),I=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(r.a)(this,Object(l.a)(t).call(this))).state={data:[],tspots:0,nam_:"",last_nam_:"",ntel_:"",correo_:"",foto_:"",pic_url:"",rating:0,dataRelations:[]},e}return Object(s.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=localStorage.getItem("token_sec");T.a.get("http://localhost:5000/myprofile",{headers:{Authorization:"Bearer "+t}}).then(function(t){var a=t.data.data[0];console.log("getting"),console.log(t.data.data[0]),e.setState({data:a}),e.setState({names:a.names}),e.setState({last_names:a.last_names}),e.setState({nt:a.nt}),e.setState({pic_url:a.pic_url}),e.setState({rating:a.rt})});var a=this;T.a.get("http://localhost:5000/mycards",{headers:{Authorization:"Bearer "+t}}).then(function(e){var t=[];e.data.data.forEach(function(e){var a={id:e.id,rel_name:e.brand+"-"+e.lastfor};t.push(a)}),a.setState({dataRelations:t}),console.log(a.state.dataRelations)}).catch(function(e){console.log(e)})}}]),Object(c.a)(t,[{key:"render",value:function(){return g.a.createElement("div",null,g.a.createElement(C.a,{title:"Datos personales"}),g.a.createElement(_.a,{container:!0,spacing:1},g.a.createElement(_.a,{alignItems:"center",item:!0,xl:12,lg:12,md:12,sm:12,xs:12},g.a.createElement(A.a,{padding:10,variant:"h3",gutterBottom:!0,display:"inline"},"Datos personales"),g.a.createElement(N,null),g.a.createElement(B,{mb:5})),g.a.createElement(_.a,{alignItems:"center",item:!0,xl:6,lg:6,md:6,sm:6,xs:12},g.a.createElement(M,{data:this.state.data,ins:this}))),g.a.createElement(B,{mb:5}),g.a.createElement(_.a,{container:!0,spacing:1},g.a.createElement(_.a,{alignItems:"center",item:!0,xl:12,lg:12,md:12,sm:12,xs:12},g.a.createElement(A.a,{padding:10,variant:"h3",gutterBottom:!0,display:"inline"},"Mis tarjetas"),g.a.createElement(N,null),g.a.createElement(B,{mb:5})),g.a.createElement(_.a,{alignItems:"center",item:!0,xl:6,lg:6,md:6,sm:6,xs:12},g.a.createElement(H,{data:this.state.dataRelations,ins:this}))))}}]),t}(g.a.Component),P=Object(p.a)(function(e){var t,a,n;return{root:{flexGrow:1},paper:{height:210,maxHeight:210,minHeight:210,marginBottom:"6%",borderTopLeftRadius:5,borderTopRightRadius:5},control:{padding:e.spacing(2)},header:{background:"#DFDFDF",borderTopLeftRadius:4,borderTopRightRadius:4,color:"#000",overflow:"visible",height:"51px",paddingLeft:"8px",paddingTop:"15px"},avatar:(t={marginTop:"0px",width:"30px",height:"30px",marginLeft:"1.9px"},Object(i.a)(t,"marginTop","1.5px"),Object(i.a)(t,"marginBlockEnd","5px"),Object(i.a)(t,"background","#15244C"),t),rootCard:{overflow:"visible"},contentCard:{marginTop:"0px",marginLeft:"-10px"},avatarHalo:{marginTop:"0px",width:"40px",height:"40px",background:"#FFFFFF"},avatarVerify:{width:"15px",height:"15px",marginTop:"-15px",marginLeft:"23px",overflow:"visible"},titleName:{lineHeight:"1.00",marginTop:"1px"},ratingAdjust:{marginLeft:"-3px",verticalAlign:"bottom"},cardContent:{marginTop:"0px"},footerStyles:(a={background:"#15244C",borderBottomLeftRadius:5,borderBottomRightRadius:5,color:"#EEF4CE",paddingLeft:"8px",overflow:"visible",paddingTop:"2px",paddingBottom:"0px"},Object(i.a)(a,"paddingLeft","10px"),Object(i.a)(a,"paddingRight","8px"),a),guarantedStyle:{width:"20px",height:"20px"},footerText:{color:"#EEF4CE"},footerAdjustCenter:{alignItems:"end",alignContent:"end",width:"100%"},footerAdjustRight:{textAlign:"end",alignItems:"end",alignContent:"end",width:"50%",verticalAlign:"bottom"},paperDialog:{position:"absolute",width:400,backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)},appBar:{position:"relative"},title:{marginLeft:e.spacing(2),flex:1},avatarHaloDialog:{marginTop:"0px",marginBottom:"20px",width:"55px",height:"55px",background:"#FFFFFF",display:"block",marginLeft:"auto",marginRight:"auto",textAlign:"center"},avatarVerifyDialog:{width:"15px",height:"15px",marginTop:"-15px",marginLeft:"37px",overflow:"visible"},avatarDialog:(n={width:"100%",height:"100%",marginLeft:"2px",marginTop:"1.5px",marginBlockEnd:"5px",background:"#fff"},Object(i.a)(n,e.breakpoints.down("xs"),{marginTop:"2.5px"}),Object(i.a)(n,e.breakpoints.down("sm"),{marginTop:"1.5px"}),Object(i.a)(n,e.breakpoints.down("md"),{marginTop:"1.5px"}),Object(i.a)(n,e.breakpoints.down("lg"),{marginTop:"1.5px"}),Object(i.a)(n,e.breakpoints.down("xl"),{marginTop:"1.5px"}),n),droot:{flexGrow:1,overflow:"hidden",padding:e.spacing(0,3)},dpaper:{maxWidth:400,margin:"".concat(e.spacing(1),"px auto"),padding:e.spacing(2)},ckroot:{padding:e.spacing(0,3)},ckpaper:{padding:e.spacing(2)},titleUser:{textAlign:"center"},centeredDiv:{display:"block",marginLeft:"auto",marginRight:"auto",textAlign:"center"},inputChoseFile:{width:"0.1px",height:"0.1px",opacity:"0",overflow:"hidden",position:"absolute",zIndex:"-1"}}});Object(f.a)({iconFilled:{color:"#172449"},iconHover:{color:"#172449"}})(z.a);function H(e){var t=e.data,a=(e.ins,P());return g.a.createElement("div",{className:a.ckroot},g.a.createElement(O.a,{id:"OP",className:a.ckpaper,elevation:3},g.a.createElement(B,{mb:5}),g.a.createElement(_.a,{container:!0,spacing:3},t.map(function(e){return g.a.createElement(_.a,{container:!0,spacing:3},g.a.createElement(_.a,{item:!0,xs:8,md:8,lg:8,xl:8},g.a.createElement(y.a,{textAlign:"left",flexDirection:"column",fontSize:"body2.fontSize",fontWeight:"fontWeightBold",m:1,color:"#172449"},e.rel_name)),g.a.createElement(_.a,{item:!0,xs:4,md:4,lg:4,xl:4},g.a.createElement(y.a,{textAlign:"right",fontSize:"body2.fontSize",fontWeight:"fontWeightBold",m:1,color:"#172449",fullWidth:!0},g.a.createElement(b.a,{fullWidth:!0,variant:"outlined",color:"primary"},g.a.createElement(D.a,null),"Eliminar"))))}))))}function M(e){var t=e.data,a=e.ins,n=P(),o=g.a.useRef(),r=function(e){return function(t){console.log("sssasd"),a.setState(Object(i.a)({},e,t.target.value))}},l=function(e,t){var a=localStorage.getItem("token_sec");T.a.post("http://localhost:5000/updateProfile",{n:e,v:t},{headers:{Authorization:"Bearer "+a,Accept:"application/json","Content-Type":"application/json"}}).then(function(e){}).catch(function(e){console.log(e)})};return g.a.createElement("div",{className:n.ckroot},g.a.createElement(O.a,{id:"OP",className:n.ckpaper,elevation:3},g.a.createElement("div",{className:n.centeredDiv},g.a.createElement(y.a,{className:n.avatarHaloDialog,border:0,borderRadius:"50%",borderColor:"primary.main"},g.a.createElement(x.a,{onClick:function(e){o.current.click()},variant:"rounded",style:{border:"1.0px double #001e3c",boxShadow:"3px 3px #172449",cursor:"pointer"},src:a.state.pic_url,"aria-label":"recipe",className:n.avatarDialog},t.user_name),t.verified&&g.a.createElement(x.a,{className:n.avatarVerifyDialog},g.a.createElement("img",{src:"https://firebasestorage.googleapis.com/v0/b/KIP-c38e0.appspot.com/o/iccheck15.svg?alt=media&token=851e4b83-fdc3-4bdc-aa03-363cb1b7910d"})))),g.a.createElement("input",{ref:o,className:n.inputChoseFile,type:"file",name:"images",id:"imgid",onChange:function(e){console.log(e.target.files);var t=function(){for(var e="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=t.length,n=0;n<10;n++)e+=t.charAt(Math.floor(Math.random()*a));return e}();w.b.ref("/profilePictures/".concat(t)).put(e.target.files[0]).on("state_changed",function(e){},function(e){},function(){w.b.ref("profilePictures").child(t).getDownloadURL().then(function(e){a.setState({foto:e}),a.setState({pic_url:e})})})},multiple:!0}),g.a.createElement(y.a,{textAlign:"center",fontSize:"button.fontSize",color:"#515A5A",m:2},g.a.createElement(y.a,{textAlign:"center",fontWeight:"fontWeightRegular",m:1}),g.a.createElement(z.a,{className:n.ratingAdjust,readOnly:!0,name:"simple-controlled",value:a.state.rating})),g.a.createElement(B,{mb:5}),g.a.createElement(y.a,{textAlign:"center",fontSize:"caption.fontSize",fontWeight:"fontWeightRegular",color:"#172449",m:1}),g.a.createElement(B,{mb:5}),g.a.createElement(_.a,{container:!0,spacing:3},g.a.createElement(_.a,{item:!0,xs:6,md:6,lg:6,xl:6},g.a.createElement(y.a,{textAlign:"left",flexDirection:"column",fontSize:"body2.fontSize",fontWeight:"fontWeightBold",m:1,color:"#172449"},"Nombres")),g.a.createElement(_.a,{item:!0,xs:6,md:6,lg:6,xl:6},g.a.createElement(y.a,{textAlign:"right",fontSize:"body2.fontSize",fontWeight:"fontWeightBold",m:1,color:"#172449"},g.a.createElement(L,{fullWidth:!0,id:"outlined-name",size:"small",inputProps:{maxLength:35},required:!0,value:a.state.names,onChange:r("names"),variant:"outlined"}))),g.a.createElement(_.a,{item:!0,xs:6,md:6,lg:6,xl:6},g.a.createElement(y.a,{textAlign:"left",flexDirection:"column",fontSize:"body2.fontSize",fontWeight:"fontWeightBold",m:1,color:"#172449"},"Apellidos")),g.a.createElement(_.a,{item:!0,xs:6,md:6,lg:6,xl:6},g.a.createElement(y.a,{textAlign:"right",fontSize:"body2.fontSize",fontWeight:"fontWeightBold",m:1,color:"#172449"},g.a.createElement(L,{fullWidth:!0,id:"outlined-name",size:"small",inputProps:{maxLength:35},required:!0,value:a.state.last_names,onChange:r("last_names"),variant:"outlined"}))),g.a.createElement(_.a,{item:!0,xs:6,md:6,lg:6,xl:6},g.a.createElement(y.a,{textAlign:"left",flexDirection:"column",fontSize:"body2.fontSize",fontWeight:"fontWeightBold",m:1,color:"#172449"},"N\xfamero telef\xf3nico")),g.a.createElement(_.a,{item:!0,xs:6,md:6,lg:6,xl:6},g.a.createElement(v.a,{mask:"+503 9999999999",disabled:!1,maskChar:" ",value:a.state.nt,onChange:r("nt")},function(){return g.a.createElement(L,{size:"small",required:!0,fullWidth:!0,variant:"outlined"})}))),g.a.createElement(_.a,{item:!0,xs:12,md:12,lg:12,xl:12},g.a.createElement(B,{mb:5}),g.a.createElement(b.a,{backgroundColor:"#172449",fullWidth:!0,variant:"outlined",color:"primary",onClick:function(){l("names",a.state.names),l("last_names",a.state.last_names),l("phone_number",a.state.nt),l("pic_url",a.state.pic_url),localStorage.setItem("pcx",a.state.pic_url),window.location.reload()}},"GUARDAR"))))}t.default=I}}]);
//# sourceMappingURL=85.94020da4.chunk.js.map